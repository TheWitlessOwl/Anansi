(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const o of u)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(u){const o={};return u.integrity&&(o.integrity=u.integrity),u.referrerPolicy&&(o.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?o.credentials="include":u.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(u){if(u.ep)return;u.ep=!0;const o=i(u);fetch(u.href,o)}})();function Ec(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jd={exports:{}},_u={};var AE;function T3(){if(AE)return _u;AE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,u,o){var c=null;if(o!==void 0&&(c=""+o),u.key!==void 0&&(c=""+u.key),"key"in u){o={};for(var h in u)h!=="key"&&(o[h]=u[h])}else o=u;return u=o.ref,{$$typeof:e,type:r,key:c,ref:u!==void 0?u:null,props:o}}return _u.Fragment=t,_u.jsx=i,_u.jsxs=i,_u}var vE;function b3(){return vE||(vE=1,Jd.exports=T3()),Jd.exports}var E=b3(),eh={exports:{}},Me={};var xE;function S3(){if(xE)return Me;xE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function S(L){return L===null||typeof L!="object"?null:(L=b&&L[b]||L["@@iterator"],typeof L=="function"?L:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,J={};function G(L,W,v){this.props=L,this.context=W,this.refs=J,this.updater=v||B}G.prototype.isReactComponent={},G.prototype.setState=function(L,W){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,W,"setState")},G.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function Ee(){}Ee.prototype=G.prototype;function j(L,W,v){this.props=L,this.context=W,this.refs=J,this.updater=v||B}var Te=j.prototype=new Ee;Te.constructor=j,X(Te,G.prototype),Te.isPureReactComponent=!0;var Ae=Array.isArray;function V(){}var fe={H:null,A:null,T:null,S:null},Se=Object.prototype.hasOwnProperty;function ve(L,W,v){var pe=v.ref;return{$$typeof:e,type:L,key:W,ref:pe!==void 0?pe:null,props:v}}function xe(L,W){return ve(L.type,W,L.props)}function _e(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function q(L){var W={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(v){return W[v]})}var Le=/\/+/g;function ue(L,W){return typeof L=="object"&&L!==null&&L.key!=null?q(""+L.key):W.toString(36)}function ie(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(V,V):(L.status="pending",L.then(function(W){L.status==="pending"&&(L.status="fulfilled",L.value=W)},function(W){L.status==="pending"&&(L.status="rejected",L.reason=W)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function P(L,W,v,pe,R){var x=typeof L;(x==="undefined"||x==="boolean")&&(L=null);var U=!1;if(L===null)U=!0;else switch(x){case"bigint":case"string":case"number":U=!0;break;case"object":switch(L.$$typeof){case e:case t:U=!0;break;case _:return U=L._init,P(U(L._payload),W,v,pe,R)}}if(U)return R=R(L),U=pe===""?"."+ue(L,0):pe,Ae(R)?(v="",U!=null&&(v=U.replace(Le,"$&/")+"/"),P(R,W,v,"",function(qe){return qe})):R!=null&&(_e(R)&&(R=xe(R,v+(R.key==null||L&&L.key===R.key?"":(""+R.key).replace(Le,"$&/")+"/")+U)),W.push(R)),1;U=0;var te=pe===""?".":pe+":";if(Ae(L))for(var he=0;he<L.length;he++)pe=L[he],x=te+ue(pe,he),U+=P(pe,W,v,x,R);else if(he=S(L),typeof he=="function")for(L=he.call(L),he=0;!(pe=L.next()).done;)pe=pe.value,x=te+ue(pe,he++),U+=P(pe,W,v,x,R);else if(x==="object"){if(typeof L.then=="function")return P(ie(L),W,v,pe,R);throw W=String(L),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return U}function ee(L,W,v){if(L==null)return L;var pe=[],R=0;return P(L,pe,"","",function(x){return W.call(v,x,R++)}),pe}function ye(L){if(L._status===-1){var W=L._result;W=W(),W.then(function(v){(L._status===0||L._status===-1)&&(L._status=1,L._result=v)},function(v){(L._status===0||L._status===-1)&&(L._status=2,L._result=v)}),L._status===-1&&(L._status=0,L._result=W)}if(L._status===1)return L._result.default;throw L._result}var Oe=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},O={map:ee,forEach:function(L,W,v){ee(L,function(){W.apply(this,arguments)},v)},count:function(L){var W=0;return ee(L,function(){W++}),W},toArray:function(L){return ee(L,function(W){return W})||[]},only:function(L){if(!_e(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Me.Activity=T,Me.Children=O,Me.Component=G,Me.Fragment=i,Me.Profiler=u,Me.PureComponent=j,Me.StrictMode=r,Me.Suspense=p,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,Me.__COMPILER_RUNTIME={__proto__:null,c:function(L){return fe.H.useMemoCache(L)}},Me.cache=function(L){return function(){return L.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(L,W,v){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var pe=X({},L.props),R=L.key;if(W!=null)for(x in W.key!==void 0&&(R=""+W.key),W)!Se.call(W,x)||x==="key"||x==="__self"||x==="__source"||x==="ref"&&W.ref===void 0||(pe[x]=W[x]);var x=arguments.length-2;if(x===1)pe.children=v;else if(1<x){for(var U=Array(x),te=0;te<x;te++)U[te]=arguments[te+2];pe.children=U}return ve(L.type,R,pe)},Me.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Me.createElement=function(L,W,v){var pe,R={},x=null;if(W!=null)for(pe in W.key!==void 0&&(x=""+W.key),W)Se.call(W,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(R[pe]=W[pe]);var U=arguments.length-2;if(U===1)R.children=v;else if(1<U){for(var te=Array(U),he=0;he<U;he++)te[he]=arguments[he+2];R.children=te}if(L&&L.defaultProps)for(pe in U=L.defaultProps,U)R[pe]===void 0&&(R[pe]=U[pe]);return ve(L,x,R)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(L){return{$$typeof:h,render:L}},Me.isValidElement=_e,Me.lazy=function(L){return{$$typeof:_,_payload:{_status:-1,_result:L},_init:ye}},Me.memo=function(L,W){return{$$typeof:g,type:L,compare:W===void 0?null:W}},Me.startTransition=function(L){var W=fe.T,v={};fe.T=v;try{var pe=L(),R=fe.S;R!==null&&R(v,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(V,Oe)}catch(x){Oe(x)}finally{W!==null&&v.types!==null&&(W.types=v.types),fe.T=W}},Me.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},Me.use=function(L){return fe.H.use(L)},Me.useActionState=function(L,W,v){return fe.H.useActionState(L,W,v)},Me.useCallback=function(L,W){return fe.H.useCallback(L,W)},Me.useContext=function(L){return fe.H.useContext(L)},Me.useDebugValue=function(){},Me.useDeferredValue=function(L,W){return fe.H.useDeferredValue(L,W)},Me.useEffect=function(L,W){return fe.H.useEffect(L,W)},Me.useEffectEvent=function(L){return fe.H.useEffectEvent(L)},Me.useId=function(){return fe.H.useId()},Me.useImperativeHandle=function(L,W,v){return fe.H.useImperativeHandle(L,W,v)},Me.useInsertionEffect=function(L,W){return fe.H.useInsertionEffect(L,W)},Me.useLayoutEffect=function(L,W){return fe.H.useLayoutEffect(L,W)},Me.useMemo=function(L,W){return fe.H.useMemo(L,W)},Me.useOptimistic=function(L,W){return fe.H.useOptimistic(L,W)},Me.useReducer=function(L,W,v){return fe.H.useReducer(L,W,v)},Me.useRef=function(L){return fe.H.useRef(L)},Me.useState=function(L){return fe.H.useState(L)},Me.useSyncExternalStore=function(L,W,v){return fe.H.useSyncExternalStore(L,W,v)},Me.useTransition=function(){return fe.H.useTransition()},Me.version="19.2.0",Me}var NE;function _0(){return NE||(NE=1,eh.exports=S3()),eh.exports}var re=_0();const C3=Ec(re);var th={exports:{}},yu={},nh={exports:{}},ih={};var RE;function A3(){return RE||(RE=1,(function(e){function t(P,ee){var ye=P.length;P.push(ee);e:for(;0<ye;){var Oe=ye-1>>>1,O=P[Oe];if(0<u(O,ee))P[Oe]=ee,P[ye]=O,ye=Oe;else break e}}function i(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var ee=P[0],ye=P.pop();if(ye!==ee){P[0]=ye;e:for(var Oe=0,O=P.length,L=O>>>1;Oe<L;){var W=2*(Oe+1)-1,v=P[W],pe=W+1,R=P[pe];if(0>u(v,ye))pe<O&&0>u(R,v)?(P[Oe]=R,P[pe]=ye,Oe=pe):(P[Oe]=v,P[W]=ye,Oe=W);else if(pe<O&&0>u(R,ye))P[Oe]=R,P[pe]=ye,Oe=pe;else break e}}return ee}function u(P,ee){var ye=P.sortIndex-ee.sortIndex;return ye!==0?ye:P.id-ee.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();e.unstable_now=function(){return c.now()-h}}var p=[],g=[],_=1,T=null,b=3,S=!1,B=!1,X=!1,J=!1,G=typeof setTimeout=="function"?setTimeout:null,Ee=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function Te(P){for(var ee=i(g);ee!==null;){if(ee.callback===null)r(g);else if(ee.startTime<=P)r(g),ee.sortIndex=ee.expirationTime,t(p,ee);else break;ee=i(g)}}function Ae(P){if(X=!1,Te(P),!B)if(i(p)!==null)B=!0,V||(V=!0,q());else{var ee=i(g);ee!==null&&ie(Ae,ee.startTime-P)}}var V=!1,fe=-1,Se=5,ve=-1;function xe(){return J?!0:!(e.unstable_now()-ve<Se)}function _e(){if(J=!1,V){var P=e.unstable_now();ve=P;var ee=!0;try{e:{B=!1,X&&(X=!1,Ee(fe),fe=-1),S=!0;var ye=b;try{t:{for(Te(P),T=i(p);T!==null&&!(T.expirationTime>P&&xe());){var Oe=T.callback;if(typeof Oe=="function"){T.callback=null,b=T.priorityLevel;var O=Oe(T.expirationTime<=P);if(P=e.unstable_now(),typeof O=="function"){T.callback=O,Te(P),ee=!0;break t}T===i(p)&&r(p),Te(P)}else r(p);T=i(p)}if(T!==null)ee=!0;else{var L=i(g);L!==null&&ie(Ae,L.startTime-P),ee=!1}}break e}finally{T=null,b=ye,S=!1}ee=void 0}}finally{ee?q():V=!1}}}var q;if(typeof j=="function")q=function(){j(_e)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,ue=Le.port2;Le.port1.onmessage=_e,q=function(){ue.postMessage(null)}}else q=function(){G(_e,0)};function ie(P,ee){fe=G(function(){P(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Se=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(P){switch(b){case 1:case 2:case 3:var ee=3;break;default:ee=b}var ye=b;b=ee;try{return P()}finally{b=ye}},e.unstable_requestPaint=function(){J=!0},e.unstable_runWithPriority=function(P,ee){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var ye=b;b=P;try{return ee()}finally{b=ye}},e.unstable_scheduleCallback=function(P,ee,ye){var Oe=e.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Oe+ye:Oe):ye=Oe,P){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ye+O,P={id:_++,callback:ee,priorityLevel:P,startTime:ye,expirationTime:O,sortIndex:-1},ye>Oe?(P.sortIndex=ye,t(g,P),i(p)===null&&P===i(g)&&(X?(Ee(fe),fe=-1):X=!0,ie(Ae,ye-Oe))):(P.sortIndex=O,t(p,P),B||S||(B=!0,V||(V=!0,q()))),P},e.unstable_shouldYield=xe,e.unstable_wrapCallback=function(P){var ee=b;return function(){var ye=b;b=ee;try{return P.apply(this,arguments)}finally{b=ye}}}})(ih)),ih}var OE;function v3(){return OE||(OE=1,nh.exports=A3()),nh.exports}var ah={exports:{}},sn={};var DE;function x3(){if(DE)return sn;DE=1;var e=_0();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function o(p,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:T==null?null:""+T,children:p,containerInfo:g,implementation:_}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(p,g,null,_)},sn.flushSync=function(p){var g=c.T,_=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=_,r.d.f()}},sn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},sn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},sn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,T=h(_,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:S}):_==="script"&&r.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},sn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=h(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},sn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=h(_,g.crossOrigin);r.d.L(p,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},sn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=h(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},sn.requestFormReset=function(p){r.d.r(p)},sn.unstable_batchedUpdates=function(p,g){return p(g)},sn.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},sn.version="19.2.0",sn}var IE;function N3(){if(IE)return ah.exports;IE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ah.exports=x3(),ah.exports}var LE;function R3(){if(LE)return yu;LE=1;var e=v3(),t=_0(),i=N3();function r(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var a=n,s=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(s=a.return),n=a.return;while(n)}return a.tag===3?s:null}function c(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function h(n){if(n.tag===31){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function p(n){if(o(n)!==n)throw Error(r(188))}function g(n){var a=n.alternate;if(!a){if(a=o(n),a===null)throw Error(r(188));return a!==n?null:n}for(var s=n,l=a;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return p(f),n;if(d===l)return p(f),a;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=f,l=d;else{for(var y=!1,C=f.child;C;){if(C===s){y=!0,s=f,l=d;break}if(C===l){y=!0,l=f,s=d;break}C=C.sibling}if(!y){for(C=d.child;C;){if(C===s){y=!0,s=d,l=f;break}if(C===l){y=!0,l=d,s=f;break}C=C.sibling}if(!y)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?n:a}function _(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=_(n),a!==null)return a;n=n.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),Ee=Symbol.for("react.consumer"),j=Symbol.for("react.context"),Te=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),ve=Symbol.for("react.activity"),xe=Symbol.for("react.memo_cache_sentinel"),_e=Symbol.iterator;function q(n){return n===null||typeof n!="object"?null:(n=_e&&n[_e]||n["@@iterator"],typeof n=="function"?n:null)}var Le=Symbol.for("react.client.reference");function ue(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Le?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case X:return"Fragment";case G:return"Profiler";case J:return"StrictMode";case Ae:return"Suspense";case V:return"SuspenseList";case ve:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case B:return"Portal";case j:return n.displayName||"Context";case Ee:return(n._context.displayName||"Context")+".Consumer";case Te:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case fe:return a=n.displayName||null,a!==null?a:ue(n.type)||"Memo";case Se:a=n._payload,n=n._init;try{return ue(n(a))}catch{}}return null}var ie=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Oe=[],O=-1;function L(n){return{current:n}}function W(n){0>O||(n.current=Oe[O],Oe[O]=null,O--)}function v(n,a){O++,Oe[O]=n.current,n.current=a}var pe=L(null),R=L(null),x=L(null),U=L(null);function te(n,a){switch(v(x,a),v(R,n),v(pe,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?X1(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=X1(a),n=Q1(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}W(pe),v(pe,n)}function he(){W(pe),W(R),W(x)}function qe(n){n.memoizedState!==null&&v(U,n);var a=pe.current,s=Q1(a,n.type);a!==s&&(v(R,n),v(pe,s))}function Ue(n){R.current===n&&(W(pe),W(R)),U.current===n&&(W(U),mu._currentValue=ye)}var Ct,Vi;function Zn(n){if(Ct===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Ct=a&&a[1]||"",Vi=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ct+n+Vi}var Gi=!1;function _i(n,a){if(!n||Gi)return"";Gi=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(a){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Q){var Y=Q}Reflect.construct(n,[],ae)}else{try{ae.call()}catch(Q){Y=Q}n.call(ae.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(ae=n())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],C=d[1];if(y&&C){var I=y.split(`
`),z=C.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===z.length)for(l=I.length-1,f=z.length-1;1<=l&&0<=f&&I[l]!==z[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==z[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==z[f]){var $=`
`+I[l].replace(" at new "," at ");return n.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",n.displayName)),$}while(1<=l&&0<=f);break}}}finally{Gi=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?Zn(s):""}function cr(n,a){switch(n.tag){case 26:case 27:case 5:return Zn(n.type);case 16:return Zn("Lazy");case 13:return n.child!==a&&a!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return _i(n.type,!1);case 11:return _i(n.type.render,!1);case 1:return _i(n.type,!0);case 31:return Zn("Activity");default:return""}}function fr(n){try{var a="",s=null;do a+=cr(n,s),s=n,n=n.return;while(n);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var yi=Object.prototype.hasOwnProperty,w=e.unstable_scheduleCallback,ge=e.unstable_cancelCallback,Re=e.unstable_shouldYield,it=e.unstable_requestPaint,ht=e.unstable_now,mt=e.unstable_getCurrentPriorityLevel,Z=e.unstable_ImmediatePriority,me=e.unstable_UserBlockingPriority,Ie=e.unstable_NormalPriority,Ve=e.unstable_LowPriority,at=e.unstable_IdlePriority,Nn=e.log,Ti=e.unstable_setDisableYieldValue,cn=null,zt=null;function hn(n){if(typeof Nn=="function"&&Ti(n),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(cn,n)}catch{}}var ft=Math.clz32?Math.clz32:sC,Xi=Math.log,Jn=Math.LN2;function sC(n){return n>>>=0,n===0?32:31-(Xi(n)/Jn|0)|0}var _l=256,yl=262144,Tl=4194304;function La(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function bl(n,a,s){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,y=n.pingedLanes;n=n.warmLanes;var C=l&134217727;return C!==0?(l=C&~d,l!==0?f=La(l):(y&=C,y!==0?f=La(y):s||(s=C&~n,s!==0&&(f=La(s))))):(C=l&~d,C!==0?f=La(C):y!==0?f=La(y):s||(s=l&~n,s!==0&&(f=La(s)))),f===0?0:a!==0&&a!==f&&(a&d)===0&&(d=f&-f,s=a&-a,d>=s||d===32&&(s&4194048)!==0)?a:f}function Ns(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function uC(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rm(){var n=Tl;return Tl<<=1,(Tl&62914560)===0&&(Tl=4194304),n}function Fc(n){for(var a=[],s=0;31>s;s++)a.push(n);return a}function Rs(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function lC(n,a,s,l,f,d){var y=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var C=n.entanglements,I=n.expirationTimes,z=n.hiddenUpdates;for(s=y&~s;0<s;){var $=31-ft(s),ae=1<<$;C[$]=0,I[$]=-1;var Y=z[$];if(Y!==null)for(z[$]=null,$=0;$<Y.length;$++){var Q=Y[$];Q!==null&&(Q.lane&=-536870913)}s&=~ae}l!==0&&Om(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(y&~a))}function Om(n,a,s){n.pendingLanes|=a,n.suspendedLanes&=~a;var l=31-ft(a);n.entangledLanes|=a,n.entanglements[l]=n.entanglements[l]|1073741824|s&261930}function Dm(n,a){var s=n.entangledLanes|=a;for(n=n.entanglements;s;){var l=31-ft(s),f=1<<l;f&a|n[l]&a&&(n[l]|=a),s&=~f}}function Im(n,a){var s=a&-a;return s=(s&42)!==0?1:zc(s),(s&(n.suspendedLanes|a))!==0?0:s}function zc(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function jc(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Lm(){var n=ee.p;return n!==0?n:(n=window.event,n===void 0?32:EE(n.type))}function km(n,a){var s=ee.p;try{return ee.p=n,a()}finally{ee.p=s}}var Qi=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Qi,mn="__reactProps$"+Qi,dr="__reactContainer$"+Qi,Yc="__reactEvents$"+Qi,oC="__reactListeners$"+Qi,cC="__reactHandles$"+Qi,wm="__reactResources$"+Qi,Os="__reactMarker$"+Qi;function qc(n){delete n[Zt],delete n[mn],delete n[Yc],delete n[oC],delete n[cC]}function hr(n){var a=n[Zt];if(a)return a;for(var s=n.parentNode;s;){if(a=s[dr]||s[Zt]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(n=tE(n);n!==null;){if(s=n[Zt])return s;n=tE(n)}return a}n=s,s=n.parentNode}return null}function mr(n){if(n=n[Zt]||n[dr]){var a=n.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return n}return null}function Ds(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(r(33))}function pr(n){var a=n[wm];return a||(a=n[wm]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function qt(n){n[Os]=!0}var Mm=new Set,Bm={};function ka(n,a){gr(n,a),gr(n+"Capture",a)}function gr(n,a){for(Bm[n]=a,n=0;n<a.length;n++)Mm.add(a[n])}var fC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pm={},Um={};function dC(n){return yi.call(Um,n)?!0:yi.call(Pm,n)?!1:fC.test(n)?Um[n]=!0:(Pm[n]=!0,!1)}function Sl(n,a,s){if(dC(a))if(s===null)n.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var l=a.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+s)}}function Cl(n,a,s){if(s===null)n.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+s)}}function bi(n,a,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(a,s,""+l)}}function Un(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Hm(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function hC(n,a,s){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,a);if(!n.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return f.call(this)},set:function(y){s=""+y,d.call(this,y)}}),Object.defineProperty(n,a,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Vc(n){if(!n._valueTracker){var a=Hm(n)?"checked":"value";n._valueTracker=hC(n,a,""+n[a])}}function Fm(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var s=a.getValue(),l="";return n&&(l=Hm(n)?n.checked?"true":"false":n.value),n=l,n!==s?(a.setValue(n),!0):!1}function Al(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var mC=/[\n"\\]/g;function Hn(n){return n.replace(mC,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Gc(n,a,s,l,f,d,y,C){n.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?n.type=y:n.removeAttribute("type"),a!=null?y==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+Un(a)):n.value!==""+Un(a)&&(n.value=""+Un(a)):y!=="submit"&&y!=="reset"||n.removeAttribute("value"),a!=null?Xc(n,y,Un(a)):s!=null?Xc(n,y,Un(s)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+Un(C):n.removeAttribute("name")}function zm(n,a,s,l,f,d,y,C){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),a!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||a!=null)){Vc(n);return}s=s!=null?""+Un(s):"",a=a!=null?""+Un(a):s,C||a===n.value||(n.value=a),n.defaultValue=a}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=C?n.checked:!!l,n.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.name=y),Vc(n)}function Xc(n,a,s){a==="number"&&Al(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function Er(n,a,s,l){if(n=n.options,a){a={};for(var f=0;f<s.length;f++)a["$"+s[f]]=!0;for(s=0;s<n.length;s++)f=a.hasOwnProperty("$"+n[s].value),n[s].selected!==f&&(n[s].selected=f),f&&l&&(n[s].defaultSelected=!0)}else{for(s=""+Un(s),a=null,f=0;f<n.length;f++){if(n[f].value===s){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}a!==null||n[f].disabled||(a=n[f])}a!==null&&(a.selected=!0)}}function jm(n,a,s){if(a!=null&&(a=""+Un(a),a!==n.value&&(n.value=a),s==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=s!=null?""+Un(s):""}function Ym(n,a,s,l){if(a==null){if(l!=null){if(s!=null)throw Error(r(92));if(ie(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),a=s}s=Un(a),n.defaultValue=s,l=n.textContent,l===s&&l!==""&&l!==null&&(n.value=l),Vc(n)}function _r(n,a){if(a){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=a;return}}n.textContent=a}var pC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qm(n,a,s){var l=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":l?n.setProperty(a,s):typeof s!="number"||s===0||pC.has(a)?a==="float"?n.cssFloat=s:n[a]=(""+s).trim():n[a]=s+"px"}function Vm(n,a,s){if(a!=null&&typeof a!="object")throw Error(r(62));if(n=n.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||a!=null&&a.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in a)l=a[f],a.hasOwnProperty(f)&&s[f]!==l&&qm(n,f,l)}else for(var d in a)a.hasOwnProperty(d)&&qm(n,d,a[d])}function Qc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),EC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vl(n){return EC.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Si(){}var Kc=null;function Wc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var yr=null,Tr=null;function Gm(n){var a=mr(n);if(a&&(n=a.stateNode)){var s=n[mn]||null;e:switch(n=a.stateNode,a.type){case"input":if(Gc(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Hn(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var l=s[a];if(l!==n&&l.form===n.form){var f=l[mn]||null;if(!f)throw Error(r(90));Gc(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<s.length;a++)l=s[a],l.form===n.form&&Fm(l)}break e;case"textarea":jm(n,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&Er(n,!!s.multiple,a,!1)}}}var $c=!1;function Xm(n,a,s){if($c)return n(a,s);$c=!0;try{var l=n(a);return l}finally{if($c=!1,(yr!==null||Tr!==null)&&(ho(),yr&&(a=yr,n=Tr,Tr=yr=null,Gm(a),n)))for(a=0;a<n.length;a++)Gm(n[a])}}function Is(n,a){var s=n.stateNode;if(s===null)return null;var l=s[mn]||null;if(l===null)return null;s=l[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(r(231,a,typeof s));return s}var Ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zc=!1;if(Ci)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){Zc=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{Zc=!1}var Ki=null,Jc=null,xl=null;function Qm(){if(xl)return xl;var n,a=Jc,s=a.length,l,f="value"in Ki?Ki.value:Ki.textContent,d=f.length;for(n=0;n<s&&a[n]===f[n];n++);var y=s-n;for(l=1;l<=y&&a[s-l]===f[d-l];l++);return xl=f.slice(n,1<l?1-l:void 0)}function Nl(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function Rl(){return!0}function Km(){return!1}function pn(n){function a(s,l,f,d,y){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(s=n[C],this[C]=s?s(d):d[C]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Rl:Km,this.isPropagationStopped=Km,this}return T(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Rl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Rl)},persist:function(){},isPersistent:Rl}),a}var wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=pn(wa),ks=T({},wa,{view:0,detail:0}),_C=pn(ks),ef,tf,ws,Dl=T({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:af,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ws&&(ws&&n.type==="mousemove"?(ef=n.screenX-ws.screenX,tf=n.screenY-ws.screenY):tf=ef=0,ws=n),ef)},movementY:function(n){return"movementY"in n?n.movementY:tf}}),Wm=pn(Dl),yC=T({},Dl,{dataTransfer:0}),TC=pn(yC),bC=T({},ks,{relatedTarget:0}),nf=pn(bC),SC=T({},wa,{animationName:0,elapsedTime:0,pseudoElement:0}),CC=pn(SC),AC=T({},wa,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),vC=pn(AC),xC=T({},wa,{data:0}),$m=pn(xC),NC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DC(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=OC[n])?!!a[n]:!1}function af(){return DC}var IC=T({},ks,{key:function(n){if(n.key){var a=NC[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=Nl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?RC[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:af,charCode:function(n){return n.type==="keypress"?Nl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Nl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),LC=pn(IC),kC=T({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zm=pn(kC),wC=T({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:af}),MC=pn(wC),BC=T({},wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),PC=pn(BC),UC=T({},Dl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),HC=pn(UC),FC=T({},wa,{newState:0,oldState:0}),zC=pn(FC),jC=[9,13,27,32],rf=Ci&&"CompositionEvent"in window,Ms=null;Ci&&"documentMode"in document&&(Ms=document.documentMode);var YC=Ci&&"TextEvent"in window&&!Ms,Jm=Ci&&(!rf||Ms&&8<Ms&&11>=Ms),ep=" ",tp=!1;function np(n,a){switch(n){case"keyup":return jC.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ip(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var br=!1;function qC(n,a){switch(n){case"compositionend":return ip(a);case"keypress":return a.which!==32?null:(tp=!0,ep);case"textInput":return n=a.data,n===ep&&tp?null:n;default:return null}}function VC(n,a){if(br)return n==="compositionend"||!rf&&np(n,a)?(n=Qm(),xl=Jc=Ki=null,br=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Jm&&a.locale!=="ko"?null:a.data;default:return null}}var GC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ap(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!GC[n.type]:a==="textarea"}function rp(n,a,s,l){yr?Tr?Tr.push(l):Tr=[l]:yr=l,a=To(a,"onChange"),0<a.length&&(s=new Ol("onChange","change",null,s,l),n.push({event:s,listeners:a}))}var Bs=null,Ps=null;function XC(n){z1(n,0)}function Il(n){var a=Ds(n);if(Fm(a))return n}function sp(n,a){if(n==="change")return a}var up=!1;if(Ci){var sf;if(Ci){var uf="oninput"in document;if(!uf){var lp=document.createElement("div");lp.setAttribute("oninput","return;"),uf=typeof lp.oninput=="function"}sf=uf}else sf=!1;up=sf&&(!document.documentMode||9<document.documentMode)}function op(){Bs&&(Bs.detachEvent("onpropertychange",cp),Ps=Bs=null)}function cp(n){if(n.propertyName==="value"&&Il(Ps)){var a=[];rp(a,Ps,n,Wc(n)),Xm(XC,a)}}function QC(n,a,s){n==="focusin"?(op(),Bs=a,Ps=s,Bs.attachEvent("onpropertychange",cp)):n==="focusout"&&op()}function KC(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Il(Ps)}function WC(n,a){if(n==="click")return Il(a)}function $C(n,a){if(n==="input"||n==="change")return Il(a)}function ZC(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var Rn=typeof Object.is=="function"?Object.is:ZC;function Us(n,a){if(Rn(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var s=Object.keys(n),l=Object.keys(a);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!yi.call(a,f)||!Rn(n[f],a[f]))return!1}return!0}function fp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function dp(n,a){var s=fp(n);n=0;for(var l;s;){if(s.nodeType===3){if(l=n+s.textContent.length,n<=a&&l>=a)return{node:s,offset:a-n};n=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=fp(s)}}function hp(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?hp(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function mp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=Al(n.document);a instanceof n.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)n=a.contentWindow;else break;a=Al(n.document)}return a}function lf(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var JC=Ci&&"documentMode"in document&&11>=document.documentMode,Sr=null,of=null,Hs=null,cf=!1;function pp(n,a,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;cf||Sr==null||Sr!==Al(l)||(l=Sr,"selectionStart"in l&&lf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Hs&&Us(Hs,l)||(Hs=l,l=To(of,"onSelect"),0<l.length&&(a=new Ol("onSelect","select",null,a,s),n.push({event:a,listeners:l}),a.target=Sr)))}function Ma(n,a){var s={};return s[n.toLowerCase()]=a.toLowerCase(),s["Webkit"+n]="webkit"+a,s["Moz"+n]="moz"+a,s}var Cr={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},ff={},gp={};Ci&&(gp=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);function Ba(n){if(ff[n])return ff[n];if(!Cr[n])return n;var a=Cr[n],s;for(s in a)if(a.hasOwnProperty(s)&&s in gp)return ff[n]=a[s];return n}var Ep=Ba("animationend"),_p=Ba("animationiteration"),yp=Ba("animationstart"),eA=Ba("transitionrun"),tA=Ba("transitionstart"),nA=Ba("transitioncancel"),Tp=Ba("transitionend"),bp=new Map,df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");df.push("scrollEnd");function ei(n,a){bp.set(n,a),ka(a,[n])}var Ll=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Fn=[],Ar=0,hf=0;function kl(){for(var n=Ar,a=hf=Ar=0;a<n;){var s=Fn[a];Fn[a++]=null;var l=Fn[a];Fn[a++]=null;var f=Fn[a];Fn[a++]=null;var d=Fn[a];if(Fn[a++]=null,l!==null&&f!==null){var y=l.pending;y===null?f.next=f:(f.next=y.next,y.next=f),l.pending=f}d!==0&&Sp(s,f,d)}}function wl(n,a,s,l){Fn[Ar++]=n,Fn[Ar++]=a,Fn[Ar++]=s,Fn[Ar++]=l,hf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function mf(n,a,s,l){return wl(n,a,s,l),Ml(n)}function Pa(n,a){return wl(n,null,null,a),Ml(n)}function Sp(n,a,s){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s);for(var f=!1,d=n.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&a!==null&&(f=31-ft(s),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[a]:l.push(a),a.lane=s|536870912),d):null}function Ml(n){if(50<uu)throw uu=0,Cd=null,Error(r(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var vr={};function iA(n,a,s,l){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(n,a,s,l){return new iA(n,a,s,l)}function pf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ai(n,a){var s=n.alternate;return s===null?(s=On(n.tag,a,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=a,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,a=n.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function Cp(n,a){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,a=s.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function Bl(n,a,s,l,f,d){var y=0;if(l=n,typeof n=="function")pf(n)&&(y=1);else if(typeof n=="string")y=l3(n,s,pe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case ve:return n=On(31,s,a,f),n.elementType=ve,n.lanes=d,n;case X:return Ua(s.children,f,d,a);case J:y=8,f|=24;break;case G:return n=On(12,s,a,f|2),n.elementType=G,n.lanes=d,n;case Ae:return n=On(13,s,a,f),n.elementType=Ae,n.lanes=d,n;case V:return n=On(19,s,a,f),n.elementType=V,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case j:y=10;break e;case Ee:y=9;break e;case Te:y=11;break e;case fe:y=14;break e;case Se:y=16,l=null;break e}y=29,s=Error(r(130,n===null?"null":typeof n,"")),l=null}return a=On(y,s,a,f),a.elementType=n,a.type=l,a.lanes=d,a}function Ua(n,a,s,l){return n=On(7,n,l,a),n.lanes=s,n}function gf(n,a,s){return n=On(6,n,null,a),n.lanes=s,n}function Ap(n){var a=On(18,null,null,0);return a.stateNode=n,a}function Ef(n,a,s){return a=On(4,n.children!==null?n.children:[],n.key,a),a.lanes=s,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var vp=new WeakMap;function zn(n,a){if(typeof n=="object"&&n!==null){var s=vp.get(n);return s!==void 0?s:(a={value:n,source:a,stack:fr(a)},vp.set(n,a),a)}return{value:n,source:a,stack:fr(a)}}var xr=[],Nr=0,Pl=null,Fs=0,jn=[],Yn=0,Wi=null,li=1,oi="";function vi(n,a){xr[Nr++]=Fs,xr[Nr++]=Pl,Pl=n,Fs=a}function xp(n,a,s){jn[Yn++]=li,jn[Yn++]=oi,jn[Yn++]=Wi,Wi=n;var l=li;n=oi;var f=32-ft(l)-1;l&=~(1<<f),s+=1;var d=32-ft(a)+f;if(30<d){var y=f-f%5;d=(l&(1<<y)-1).toString(32),l>>=y,f-=y,li=1<<32-ft(a)+f|s<<f|l,oi=d+n}else li=1<<d|s<<f|l,oi=n}function _f(n){n.return!==null&&(vi(n,1),xp(n,1,0))}function yf(n){for(;n===Pl;)Pl=xr[--Nr],xr[Nr]=null,Fs=xr[--Nr],xr[Nr]=null;for(;n===Wi;)Wi=jn[--Yn],jn[Yn]=null,oi=jn[--Yn],jn[Yn]=null,li=jn[--Yn],jn[Yn]=null}function Np(n,a){jn[Yn++]=li,jn[Yn++]=oi,jn[Yn++]=Wi,li=a.id,oi=a.overflow,Wi=n}var Jt=null,bt=null,$e=!1,$i=null,qn=!1,Tf=Error(r(519));function Zi(n){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zs(zn(a,n)),Tf}function Rp(n){var a=n.stateNode,s=n.type,l=n.memoizedProps;switch(a[Zt]=n,a[mn]=l,s){case"dialog":Xe("cancel",a),Xe("close",a);break;case"iframe":case"object":case"embed":Xe("load",a);break;case"video":case"audio":for(s=0;s<ou.length;s++)Xe(ou[s],a);break;case"source":Xe("error",a);break;case"img":case"image":case"link":Xe("error",a),Xe("load",a);break;case"details":Xe("toggle",a);break;case"input":Xe("invalid",a),zm(a,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Xe("invalid",a);break;case"textarea":Xe("invalid",a),Ym(a,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||l.suppressHydrationWarning===!0||V1(a.textContent,s)?(l.popover!=null&&(Xe("beforetoggle",a),Xe("toggle",a)),l.onScroll!=null&&Xe("scroll",a),l.onScrollEnd!=null&&Xe("scrollend",a),l.onClick!=null&&(a.onclick=Si),a=!0):a=!1,a||Zi(n,!0)}function Op(n){for(Jt=n.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Jt=Jt.return}}function Rr(n){if(n!==Jt)return!1;if(!$e)return Op(n),$e=!0,!1;var a=n.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Ud(n.type,n.memoizedProps)),s=!s),s&&bt&&Zi(n),Op(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));bt=eE(n)}else if(a===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));bt=eE(n)}else a===27?(a=bt,da(n.type)?(n=Yd,Yd=null,bt=n):bt=a):bt=Jt?Gn(n.stateNode.nextSibling):null;return!0}function Ha(){bt=Jt=null,$e=!1}function bf(){var n=$i;return n!==null&&(yn===null?yn=n:yn.push.apply(yn,n),$i=null),n}function zs(n){$i===null?$i=[n]:$i.push(n)}var Sf=L(null),Fa=null,xi=null;function Ji(n,a,s){v(Sf,a._currentValue),a._currentValue=s}function Ni(n){n._currentValue=Sf.current,W(Sf)}function Cf(n,a,s){for(;n!==null;){var l=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,l!==null&&(l.childLanes|=a)):l!==null&&(l.childLanes&a)!==a&&(l.childLanes|=a),n===s)break;n=n.return}}function Af(n,a,s,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var y=f.child;d=d.firstContext;e:for(;d!==null;){var C=d;d=f;for(var I=0;I<a.length;I++)if(C.context===a[I]){d.lanes|=s,C=d.alternate,C!==null&&(C.lanes|=s),Cf(d.return,s,n),l||(y=null);break e}d=C.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(r(341));y.lanes|=s,d=y.alternate,d!==null&&(d.lanes|=s),Cf(y,s,n),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===n){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function Or(n,a,s,l){n=null;for(var f=a,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var C=f.type;Rn(f.pendingProps.value,y.value)||(n!==null?n.push(C):n=[C])}}else if(f===U.current){if(y=f.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(mu):n=[mu])}f=f.return}n!==null&&Af(a,n,s,l),a.flags|=262144}function Ul(n){for(n=n.firstContext;n!==null;){if(!Rn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function za(n){Fa=n,xi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function en(n){return Dp(Fa,n)}function Hl(n,a){return Fa===null&&za(n),Dp(n,a)}function Dp(n,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},xi===null){if(n===null)throw Error(r(308));xi=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else xi=xi.next=a;return s}var aA=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(s,l){n.push(l)}};this.abort=function(){a.aborted=!0,n.forEach(function(s){return s()})}},rA=e.unstable_scheduleCallback,sA=e.unstable_NormalPriority,wt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new aA,data:new Map,refCount:0}}function js(n){n.refCount--,n.refCount===0&&rA(sA,function(){n.controller.abort()})}var Ys=null,xf=0,Dr=0,Ir=null;function uA(n,a){if(Ys===null){var s=Ys=[];xf=0,Dr=Od(),Ir={status:"pending",value:void 0,then:function(l){s.push(l)}}}return xf++,a.then(Ip,Ip),a}function Ip(){if(--xf===0&&Ys!==null){Ir!==null&&(Ir.status="fulfilled");var n=Ys;Ys=null,Dr=0,Ir=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function lA(n,a){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return n.then(function(){l.status="fulfilled",l.value=a;for(var f=0;f<s.length;f++)(0,s[f])(a)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var Lp=P.S;P.S=function(n,a){p1=ht(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&uA(n,a),Lp!==null&&Lp(n,a)};var ja=L(null);function Nf(){var n=ja.current;return n!==null?n:dt.pooledCache}function Fl(n,a){a===null?v(ja,ja.current):v(ja,a.pool)}function kp(){var n=Nf();return n===null?null:{parent:wt._currentValue,pool:n}}var Lr=Error(r(460)),Rf=Error(r(474)),zl=Error(r(542)),jl={then:function(){}};function wp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Mp(n,a,s){switch(s=n[s],s===void 0?n.push(a):s!==a&&(a.then(Si,Si),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Pp(n),n;default:if(typeof a.status=="string")a.then(Si,Si);else{if(n=dt,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=a,n.status="pending",n.then(function(l){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=l}},function(l){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=l}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Pp(n),n}throw qa=a,Lr}}function Ya(n){try{var a=n._init;return a(n._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(qa=s,Lr):s}}var qa=null;function Bp(){if(qa===null)throw Error(r(459));var n=qa;return qa=null,n}function Pp(n){if(n===Lr||n===zl)throw Error(r(483))}var kr=null,qs=0;function Yl(n){var a=qs;return qs+=1,kr===null&&(kr=[]),Mp(kr,n,a)}function Vs(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function ql(n,a){throw a.$$typeof===b?Error(r(525)):(n=Object.prototype.toString.call(a),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function Up(n){function a(M,k){if(n){var F=M.deletions;F===null?(M.deletions=[k],M.flags|=16):F.push(k)}}function s(M,k){if(!n)return null;for(;k!==null;)a(M,k),k=k.sibling;return null}function l(M){for(var k=new Map;M!==null;)M.key!==null?k.set(M.key,M):k.set(M.index,M),M=M.sibling;return k}function f(M,k){return M=Ai(M,k),M.index=0,M.sibling=null,M}function d(M,k,F){return M.index=F,n?(F=M.alternate,F!==null?(F=F.index,F<k?(M.flags|=67108866,k):F):(M.flags|=67108866,k)):(M.flags|=1048576,k)}function y(M){return n&&M.alternate===null&&(M.flags|=67108866),M}function C(M,k,F,ne){return k===null||k.tag!==6?(k=gf(F,M.mode,ne),k.return=M,k):(k=f(k,F),k.return=M,k)}function I(M,k,F,ne){var Ne=F.type;return Ne===X?$(M,k,F.props.children,ne,F.key):k!==null&&(k.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===Se&&Ya(Ne)===k.type)?(k=f(k,F.props),Vs(k,F),k.return=M,k):(k=Bl(F.type,F.key,F.props,null,M.mode,ne),Vs(k,F),k.return=M,k)}function z(M,k,F,ne){return k===null||k.tag!==4||k.stateNode.containerInfo!==F.containerInfo||k.stateNode.implementation!==F.implementation?(k=Ef(F,M.mode,ne),k.return=M,k):(k=f(k,F.children||[]),k.return=M,k)}function $(M,k,F,ne,Ne){return k===null||k.tag!==7?(k=Ua(F,M.mode,ne,Ne),k.return=M,k):(k=f(k,F),k.return=M,k)}function ae(M,k,F){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=gf(""+k,M.mode,F),k.return=M,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case S:return F=Bl(k.type,k.key,k.props,null,M.mode,F),Vs(F,k),F.return=M,F;case B:return k=Ef(k,M.mode,F),k.return=M,k;case Se:return k=Ya(k),ae(M,k,F)}if(ie(k)||q(k))return k=Ua(k,M.mode,F,null),k.return=M,k;if(typeof k.then=="function")return ae(M,Yl(k),F);if(k.$$typeof===j)return ae(M,Hl(M,k),F);ql(M,k)}return null}function Y(M,k,F,ne){var Ne=k!==null?k.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Ne!==null?null:C(M,k,""+F,ne);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case S:return F.key===Ne?I(M,k,F,ne):null;case B:return F.key===Ne?z(M,k,F,ne):null;case Se:return F=Ya(F),Y(M,k,F,ne)}if(ie(F)||q(F))return Ne!==null?null:$(M,k,F,ne,null);if(typeof F.then=="function")return Y(M,k,Yl(F),ne);if(F.$$typeof===j)return Y(M,k,Hl(M,F),ne);ql(M,F)}return null}function Q(M,k,F,ne,Ne){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return M=M.get(F)||null,C(k,M,""+ne,Ne);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case S:return M=M.get(ne.key===null?F:ne.key)||null,I(k,M,ne,Ne);case B:return M=M.get(ne.key===null?F:ne.key)||null,z(k,M,ne,Ne);case Se:return ne=Ya(ne),Q(M,k,F,ne,Ne)}if(ie(ne)||q(ne))return M=M.get(F)||null,$(k,M,ne,Ne,null);if(typeof ne.then=="function")return Q(M,k,F,Yl(ne),Ne);if(ne.$$typeof===j)return Q(M,k,F,Hl(k,ne),Ne);ql(k,ne)}return null}function be(M,k,F,ne){for(var Ne=null,Ze=null,Ce=k,He=k=0,We=null;Ce!==null&&He<F.length;He++){Ce.index>He?(We=Ce,Ce=null):We=Ce.sibling;var Je=Y(M,Ce,F[He],ne);if(Je===null){Ce===null&&(Ce=We);break}n&&Ce&&Je.alternate===null&&a(M,Ce),k=d(Je,k,He),Ze===null?Ne=Je:Ze.sibling=Je,Ze=Je,Ce=We}if(He===F.length)return s(M,Ce),$e&&vi(M,He),Ne;if(Ce===null){for(;He<F.length;He++)Ce=ae(M,F[He],ne),Ce!==null&&(k=d(Ce,k,He),Ze===null?Ne=Ce:Ze.sibling=Ce,Ze=Ce);return $e&&vi(M,He),Ne}for(Ce=l(Ce);He<F.length;He++)We=Q(Ce,M,He,F[He],ne),We!==null&&(n&&We.alternate!==null&&Ce.delete(We.key===null?He:We.key),k=d(We,k,He),Ze===null?Ne=We:Ze.sibling=We,Ze=We);return n&&Ce.forEach(function(Ea){return a(M,Ea)}),$e&&vi(M,He),Ne}function De(M,k,F,ne){if(F==null)throw Error(r(151));for(var Ne=null,Ze=null,Ce=k,He=k=0,We=null,Je=F.next();Ce!==null&&!Je.done;He++,Je=F.next()){Ce.index>He?(We=Ce,Ce=null):We=Ce.sibling;var Ea=Y(M,Ce,Je.value,ne);if(Ea===null){Ce===null&&(Ce=We);break}n&&Ce&&Ea.alternate===null&&a(M,Ce),k=d(Ea,k,He),Ze===null?Ne=Ea:Ze.sibling=Ea,Ze=Ea,Ce=We}if(Je.done)return s(M,Ce),$e&&vi(M,He),Ne;if(Ce===null){for(;!Je.done;He++,Je=F.next())Je=ae(M,Je.value,ne),Je!==null&&(k=d(Je,k,He),Ze===null?Ne=Je:Ze.sibling=Je,Ze=Je);return $e&&vi(M,He),Ne}for(Ce=l(Ce);!Je.done;He++,Je=F.next())Je=Q(Ce,M,He,Je.value,ne),Je!==null&&(n&&Je.alternate!==null&&Ce.delete(Je.key===null?He:Je.key),k=d(Je,k,He),Ze===null?Ne=Je:Ze.sibling=Je,Ze=Je);return n&&Ce.forEach(function(y3){return a(M,y3)}),$e&&vi(M,He),Ne}function ot(M,k,F,ne){if(typeof F=="object"&&F!==null&&F.type===X&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case S:e:{for(var Ne=F.key;k!==null;){if(k.key===Ne){if(Ne=F.type,Ne===X){if(k.tag===7){s(M,k.sibling),ne=f(k,F.props.children),ne.return=M,M=ne;break e}}else if(k.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===Se&&Ya(Ne)===k.type){s(M,k.sibling),ne=f(k,F.props),Vs(ne,F),ne.return=M,M=ne;break e}s(M,k);break}else a(M,k);k=k.sibling}F.type===X?(ne=Ua(F.props.children,M.mode,ne,F.key),ne.return=M,M=ne):(ne=Bl(F.type,F.key,F.props,null,M.mode,ne),Vs(ne,F),ne.return=M,M=ne)}return y(M);case B:e:{for(Ne=F.key;k!==null;){if(k.key===Ne)if(k.tag===4&&k.stateNode.containerInfo===F.containerInfo&&k.stateNode.implementation===F.implementation){s(M,k.sibling),ne=f(k,F.children||[]),ne.return=M,M=ne;break e}else{s(M,k);break}else a(M,k);k=k.sibling}ne=Ef(F,M.mode,ne),ne.return=M,M=ne}return y(M);case Se:return F=Ya(F),ot(M,k,F,ne)}if(ie(F))return be(M,k,F,ne);if(q(F)){if(Ne=q(F),typeof Ne!="function")throw Error(r(150));return F=Ne.call(F),De(M,k,F,ne)}if(typeof F.then=="function")return ot(M,k,Yl(F),ne);if(F.$$typeof===j)return ot(M,k,Hl(M,F),ne);ql(M,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,k!==null&&k.tag===6?(s(M,k.sibling),ne=f(k,F),ne.return=M,M=ne):(s(M,k),ne=gf(F,M.mode,ne),ne.return=M,M=ne),y(M)):s(M,k)}return function(M,k,F,ne){try{qs=0;var Ne=ot(M,k,F,ne);return kr=null,Ne}catch(Ce){if(Ce===Lr||Ce===zl)throw Ce;var Ze=On(29,Ce,null,M.mode);return Ze.lanes=ne,Ze.return=M,Ze}finally{}}}var Va=Up(!0),Hp=Up(!1),ea=!1;function Of(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Df(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ta(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function na(n,a,s){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var f=l.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),l.pending=a,a=Ml(n),Sp(n,null,s),a}return wl(n,l,a,s),Ml(n)}function Gs(n,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var l=a.lanes;l&=n.pendingLanes,s|=l,a.lanes=s,Dm(n,s)}}function If(n,a){var s=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=y:d=d.next=y,s=s.next}while(s!==null);d===null?f=d=a:d=d.next=a}else f=d=a;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=a:n.next=a,s.lastBaseUpdate=a}var Lf=!1;function Xs(){if(Lf){var n=Ir;if(n!==null)throw n}}function Qs(n,a,s,l){Lf=!1;var f=n.updateQueue;ea=!1;var d=f.firstBaseUpdate,y=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var I=C,z=I.next;I.next=null,y===null?d=z:y.next=z,y=I;var $=n.alternate;$!==null&&($=$.updateQueue,C=$.lastBaseUpdate,C!==y&&(C===null?$.firstBaseUpdate=z:C.next=z,$.lastBaseUpdate=I))}if(d!==null){var ae=f.baseState;y=0,$=z=I=null,C=d;do{var Y=C.lane&-536870913,Q=Y!==C.lane;if(Q?(Ke&Y)===Y:(l&Y)===Y){Y!==0&&Y===Dr&&(Lf=!0),$!==null&&($=$.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var be=n,De=C;Y=a;var ot=s;switch(De.tag){case 1:if(be=De.payload,typeof be=="function"){ae=be.call(ot,ae,Y);break e}ae=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=De.payload,Y=typeof be=="function"?be.call(ot,ae,Y):be,Y==null)break e;ae=T({},ae,Y);break e;case 2:ea=!0}}Y=C.callback,Y!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:C.tag,payload:C.payload,callback:C.callback,next:null},$===null?(z=$=Q,I=ae):$=$.next=Q,y|=Y;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;Q=C,C=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);$===null&&(I=ae),f.baseState=I,f.firstBaseUpdate=z,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),ua|=y,n.lanes=y,n.memoizedState=ae}}function Fp(n,a){if(typeof n!="function")throw Error(r(191,n));n.call(a)}function zp(n,a){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)Fp(s[n],a)}var wr=L(null),Vl=L(0);function jp(n,a){n=Bi,v(Vl,n),v(wr,a),Bi=n|a.baseLanes}function kf(){v(Vl,Bi),v(wr,wr.current)}function wf(){Bi=Vl.current,W(wr),W(Vl)}var Dn=L(null),Vn=null;function ia(n){var a=n.alternate;v(Dt,Dt.current&1),v(Dn,n),Vn===null&&(a===null||wr.current!==null||a.memoizedState!==null)&&(Vn=n)}function Mf(n){v(Dt,Dt.current),v(Dn,n),Vn===null&&(Vn=n)}function Yp(n){n.tag===22?(v(Dt,Dt.current),v(Dn,n),Vn===null&&(Vn=n)):aa()}function aa(){v(Dt,Dt.current),v(Dn,Dn.current)}function In(n){W(Dn),Vn===n&&(Vn=null),W(Dt)}var Dt=L(0);function Gl(n){for(var a=n;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||zd(s)||jd(s)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ri=0,Be=null,ut=null,Mt=null,Xl=!1,Mr=!1,Ga=!1,Ql=0,Ks=0,Br=null,oA=0;function xt(){throw Error(r(321))}function Bf(n,a){if(a===null)return!1;for(var s=0;s<a.length&&s<n.length;s++)if(!Rn(n[s],a[s]))return!1;return!0}function Pf(n,a,s,l,f,d){return Ri=d,Be=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,P.H=n===null||n.memoizedState===null?xg:Zf,Ga=!1,d=s(l,f),Ga=!1,Mr&&(d=Vp(a,s,l,f)),qp(n),d}function qp(n){P.H=Zs;var a=ut!==null&&ut.next!==null;if(Ri=0,Mt=ut=Be=null,Xl=!1,Ks=0,Br=null,a)throw Error(r(300));n===null||Bt||(n=n.dependencies,n!==null&&Ul(n)&&(Bt=!0))}function Vp(n,a,s,l){Be=n;var f=0;do{if(Mr&&(Br=null),Ks=0,Mr=!1,25<=f)throw Error(r(301));if(f+=1,Mt=ut=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}P.H=Ng,d=a(s,l)}while(Mr);return d}function cA(){var n=P.H,a=n.useState()[0];return a=typeof a.then=="function"?Ws(a):a,n=n.useState()[0],(ut!==null?ut.memoizedState:null)!==n&&(Be.flags|=1024),a}function Uf(){var n=Ql!==0;return Ql=0,n}function Hf(n,a,s){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~s}function Ff(n){if(Xl){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Xl=!1}Ri=0,Mt=ut=Be=null,Mr=!1,Ks=Ql=0,Br=null}function fn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Be.memoizedState=Mt=n:Mt=Mt.next=n,Mt}function It(){if(ut===null){var n=Be.alternate;n=n!==null?n.memoizedState:null}else n=ut.next;var a=Mt===null?Be.memoizedState:Mt.next;if(a!==null)Mt=a,ut=n;else{if(n===null)throw Be.alternate===null?Error(r(467)):Error(r(310));ut=n,n={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Mt===null?Be.memoizedState=Mt=n:Mt=Mt.next=n}return Mt}function Kl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ws(n){var a=Ks;return Ks+=1,Br===null&&(Br=[]),n=Mp(Br,n,a),a=Be,(Mt===null?a.memoizedState:Mt.next)===null&&(a=a.alternate,P.H=a===null||a.memoizedState===null?xg:Zf),n}function Wl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ws(n);if(n.$$typeof===j)return en(n)}throw Error(r(438,String(n)))}function zf(n){var a=null,s=Be.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var l=Be.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(a={data:l.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=Kl(),Be.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(n),l=0;l<n;l++)s[l]=xe;return a.index++,s}function Oi(n,a){return typeof a=="function"?a(n):a}function $l(n){var a=It();return jf(a,ut,n)}function jf(n,a,s){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var y=f.next;f.next=d.next,d.next=y}a.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{a=f.next;var C=y=null,I=null,z=a,$=!1;do{var ae=z.lane&-536870913;if(ae!==z.lane?(Ke&ae)===ae:(Ri&ae)===ae){var Y=z.revertLane;if(Y===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),ae===Dr&&($=!0);else if((Ri&Y)===Y){z=z.next,Y===Dr&&($=!0);continue}else ae={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(C=I=ae,y=d):I=I.next=ae,Be.lanes|=Y,ua|=Y;ae=z.action,Ga&&s(d,ae),d=z.hasEagerState?z.eagerState:s(d,ae)}else Y={lane:ae,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(C=I=Y,y=d):I=I.next=Y,Be.lanes|=ae,ua|=ae;z=z.next}while(z!==null&&z!==a);if(I===null?y=d:I.next=C,!Rn(d,n.memoizedState)&&(Bt=!0,$&&(s=Ir,s!==null)))throw s;n.memoizedState=d,n.baseState=y,n.baseQueue=I,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Yf(n){var a=It(),s=a.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=n;var l=s.dispatch,f=s.pending,d=a.memoizedState;if(f!==null){s.pending=null;var y=f=f.next;do d=n(d,y.action),y=y.next;while(y!==f);Rn(d,a.memoizedState)||(Bt=!0),a.memoizedState=d,a.baseQueue===null&&(a.baseState=d),s.lastRenderedState=d}return[d,l]}function Gp(n,a,s){var l=Be,f=It(),d=$e;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=a();var y=!Rn((ut||f).memoizedState,s);if(y&&(f.memoizedState=s,Bt=!0),f=f.queue,Gf(Kp.bind(null,l,f,n),[n]),f.getSnapshot!==a||y||Mt!==null&&Mt.memoizedState.tag&1){if(l.flags|=2048,Pr(9,{destroy:void 0},Qp.bind(null,l,f,s,a),null),dt===null)throw Error(r(349));d||(Ri&127)!==0||Xp(l,a,s)}return s}function Xp(n,a,s){n.flags|=16384,n={getSnapshot:a,value:s},a=Be.updateQueue,a===null?(a=Kl(),Be.updateQueue=a,a.stores=[n]):(s=a.stores,s===null?a.stores=[n]:s.push(n))}function Qp(n,a,s,l){a.value=s,a.getSnapshot=l,Wp(a)&&$p(n)}function Kp(n,a,s){return s(function(){Wp(a)&&$p(n)})}function Wp(n){var a=n.getSnapshot;n=n.value;try{var s=a();return!Rn(n,s)}catch{return!0}}function $p(n){var a=Pa(n,2);a!==null&&Tn(a,n,2)}function qf(n){var a=fn();if(typeof n=="function"){var s=n;if(n=s(),Ga){hn(!0);try{s()}finally{hn(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:n},a}function Zp(n,a,s,l){return n.baseState=s,jf(n,ut,typeof l=="function"?l:Oi)}function fA(n,a,s,l,f){if(eo(n))throw Error(r(485));if(n=a.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};P.T!==null?s(!0):d.isTransition=!1,l(d),s=a.pending,s===null?(d.next=a.pending=d,Jp(a,d)):(d.next=s.next,a.pending=s.next=d)}}function Jp(n,a){var s=a.action,l=a.payload,f=n.state;if(a.isTransition){var d=P.T,y={};P.T=y;try{var C=s(f,l),I=P.S;I!==null&&I(y,C),eg(n,a,C)}catch(z){Vf(n,a,z)}finally{d!==null&&y.types!==null&&(d.types=y.types),P.T=d}}else try{d=s(f,l),eg(n,a,d)}catch(z){Vf(n,a,z)}}function eg(n,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){tg(n,a,l)},function(l){return Vf(n,a,l)}):tg(n,a,s)}function tg(n,a,s){a.status="fulfilled",a.value=s,ng(a),n.state=s,a=n.pending,a!==null&&(s=a.next,s===a?n.pending=null:(s=s.next,a.next=s,Jp(n,s)))}function Vf(n,a,s){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do a.status="rejected",a.reason=s,ng(a),a=a.next;while(a!==l)}n.action=null}function ng(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function ig(n,a){return a}function ag(n,a){if($e){var s=dt.formState;if(s!==null){e:{var l=Be;if($e){if(bt){t:{for(var f=bt,d=qn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Gn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){bt=Gn(f.nextSibling),l=f.data==="F!";break e}}Zi(l)}l=!1}l&&(a=s[0])}}return s=fn(),s.memoizedState=s.baseState=a,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ig,lastRenderedState:a},s.queue=l,s=Cg.bind(null,Be,l),l.dispatch=s,l=qf(!1),d=$f.bind(null,Be,!1,l.queue),l=fn(),f={state:a,dispatch:null,action:n,pending:null},l.queue=f,s=fA.bind(null,Be,f,d,s),f.dispatch=s,l.memoizedState=n,[a,s,!1]}function rg(n){var a=It();return sg(a,ut,n)}function sg(n,a,s){if(a=jf(n,a,ig)[0],n=$l(Oi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var l=Ws(a)}catch(y){throw y===Lr?zl:y}else l=a;a=It();var f=a.queue,d=f.dispatch;return s!==a.memoizedState&&(Be.flags|=2048,Pr(9,{destroy:void 0},dA.bind(null,f,s),null)),[l,d,n]}function dA(n,a){n.action=a}function ug(n){var a=It(),s=ut;if(s!==null)return sg(a,s,n);It(),a=a.memoizedState,s=It();var l=s.queue.dispatch;return s.memoizedState=n,[a,l,!1]}function Pr(n,a,s,l){return n={tag:n,create:s,deps:l,inst:a,next:null},a=Be.updateQueue,a===null&&(a=Kl(),Be.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=n.next=n:(l=s.next,s.next=n,n.next=l,a.lastEffect=n),n}function lg(){return It().memoizedState}function Zl(n,a,s,l){var f=fn();Be.flags|=n,f.memoizedState=Pr(1|a,{destroy:void 0},s,l===void 0?null:l)}function Jl(n,a,s,l){var f=It();l=l===void 0?null:l;var d=f.memoizedState.inst;ut!==null&&l!==null&&Bf(l,ut.memoizedState.deps)?f.memoizedState=Pr(a,d,s,l):(Be.flags|=n,f.memoizedState=Pr(1|a,d,s,l))}function og(n,a){Zl(8390656,8,n,a)}function Gf(n,a){Jl(2048,8,n,a)}function hA(n){Be.flags|=4;var a=Be.updateQueue;if(a===null)a=Kl(),Be.updateQueue=a,a.events=[n];else{var s=a.events;s===null?a.events=[n]:s.push(n)}}function cg(n){var a=It().memoizedState;return hA({ref:a,nextImpl:n}),function(){if((et&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function fg(n,a){return Jl(4,2,n,a)}function dg(n,a){return Jl(4,4,n,a)}function hg(n,a){if(typeof a=="function"){n=n();var s=a(n);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function mg(n,a,s){s=s!=null?s.concat([n]):null,Jl(4,4,hg.bind(null,a,n),s)}function Xf(){}function pg(n,a){var s=It();a=a===void 0?null:a;var l=s.memoizedState;return a!==null&&Bf(a,l[1])?l[0]:(s.memoizedState=[n,a],n)}function gg(n,a){var s=It();a=a===void 0?null:a;var l=s.memoizedState;if(a!==null&&Bf(a,l[1]))return l[0];if(l=n(),Ga){hn(!0);try{n()}finally{hn(!1)}}return s.memoizedState=[l,a],l}function Qf(n,a,s){return s===void 0||(Ri&1073741824)!==0&&(Ke&261930)===0?n.memoizedState=a:(n.memoizedState=s,n=E1(),Be.lanes|=n,ua|=n,s)}function Eg(n,a,s,l){return Rn(s,a)?s:wr.current!==null?(n=Qf(n,s,l),Rn(n,a)||(Bt=!0),n):(Ri&42)===0||(Ri&1073741824)!==0&&(Ke&261930)===0?(Bt=!0,n.memoizedState=s):(n=E1(),Be.lanes|=n,ua|=n,a)}function _g(n,a,s,l,f){var d=ee.p;ee.p=d!==0&&8>d?d:8;var y=P.T,C={};P.T=C,$f(n,!1,a,s);try{var I=f(),z=P.S;if(z!==null&&z(C,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var $=lA(I,l);$s(n,a,$,wn(n))}else $s(n,a,l,wn(n))}catch(ae){$s(n,a,{then:function(){},status:"rejected",reason:ae},wn())}finally{ee.p=d,y!==null&&C.types!==null&&(y.types=C.types),P.T=y}}function mA(){}function Kf(n,a,s,l){if(n.tag!==5)throw Error(r(476));var f=yg(n).queue;_g(n,f,a,ye,s===null?mA:function(){return Tg(n),s(l)})}function yg(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:ye},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:s},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function Tg(n){var a=yg(n);a.next===null&&(a=n.alternate.memoizedState),$s(n,a.next.queue,{},wn())}function Wf(){return en(mu)}function bg(){return It().memoizedState}function Sg(){return It().memoizedState}function pA(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var s=wn();n=ta(s);var l=na(a,n,s);l!==null&&(Tn(l,a,s),Gs(l,a,s)),a={cache:vf()},n.payload=a;return}a=a.return}}function gA(n,a,s){var l=wn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},eo(n)?Ag(a,s):(s=mf(n,a,s,l),s!==null&&(Tn(s,n,l),vg(s,a,l)))}function Cg(n,a,s){var l=wn();$s(n,a,s,l)}function $s(n,a,s,l){var f={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(eo(n))Ag(a,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=a.lastRenderedReducer,d!==null))try{var y=a.lastRenderedState,C=d(y,s);if(f.hasEagerState=!0,f.eagerState=C,Rn(C,y))return wl(n,a,f,0),dt===null&&kl(),!1}catch{}finally{}if(s=mf(n,a,f,l),s!==null)return Tn(s,n,l),vg(s,a,l),!0}return!1}function $f(n,a,s,l){if(l={lane:2,revertLane:Od(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},eo(n)){if(a)throw Error(r(479))}else a=mf(n,s,l,2),a!==null&&Tn(a,n,2)}function eo(n){var a=n.alternate;return n===Be||a!==null&&a===Be}function Ag(n,a){Mr=Xl=!0;var s=n.pending;s===null?a.next=a:(a.next=s.next,s.next=a),n.pending=a}function vg(n,a,s){if((s&4194048)!==0){var l=a.lanes;l&=n.pendingLanes,s|=l,a.lanes=s,Dm(n,s)}}var Zs={readContext:en,use:Wl,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};Zs.useEffectEvent=xt;var xg={readContext:en,use:Wl,useCallback:function(n,a){return fn().memoizedState=[n,a===void 0?null:a],n},useContext:en,useEffect:og,useImperativeHandle:function(n,a,s){s=s!=null?s.concat([n]):null,Zl(4194308,4,hg.bind(null,a,n),s)},useLayoutEffect:function(n,a){return Zl(4194308,4,n,a)},useInsertionEffect:function(n,a){Zl(4,2,n,a)},useMemo:function(n,a){var s=fn();a=a===void 0?null:a;var l=n();if(Ga){hn(!0);try{n()}finally{hn(!1)}}return s.memoizedState=[l,a],l},useReducer:function(n,a,s){var l=fn();if(s!==void 0){var f=s(a);if(Ga){hn(!0);try{s(a)}finally{hn(!1)}}}else f=a;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=gA.bind(null,Be,n),[l.memoizedState,n]},useRef:function(n){var a=fn();return n={current:n},a.memoizedState=n},useState:function(n){n=qf(n);var a=n.queue,s=Cg.bind(null,Be,a);return a.dispatch=s,[n.memoizedState,s]},useDebugValue:Xf,useDeferredValue:function(n,a){var s=fn();return Qf(s,n,a)},useTransition:function(){var n=qf(!1);return n=_g.bind(null,Be,n.queue,!0,!1),fn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,s){var l=Be,f=fn();if($e){if(s===void 0)throw Error(r(407));s=s()}else{if(s=a(),dt===null)throw Error(r(349));(Ke&127)!==0||Xp(l,a,s)}f.memoizedState=s;var d={value:s,getSnapshot:a};return f.queue=d,og(Kp.bind(null,l,d,n),[n]),l.flags|=2048,Pr(9,{destroy:void 0},Qp.bind(null,l,d,s,a),null),s},useId:function(){var n=fn(),a=dt.identifierPrefix;if($e){var s=oi,l=li;s=(l&~(1<<32-ft(l)-1)).toString(32)+s,a="_"+a+"R_"+s,s=Ql++,0<s&&(a+="H"+s.toString(32)),a+="_"}else s=oA++,a="_"+a+"r_"+s.toString(32)+"_";return n.memoizedState=a},useHostTransitionStatus:Wf,useFormState:ag,useActionState:ag,useOptimistic:function(n){var a=fn();a.memoizedState=a.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=$f.bind(null,Be,!0,s),s.dispatch=a,[n,a]},useMemoCache:zf,useCacheRefresh:function(){return fn().memoizedState=pA.bind(null,Be)},useEffectEvent:function(n){var a=fn(),s={impl:n};return a.memoizedState=s,function(){if((et&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Zf={readContext:en,use:Wl,useCallback:pg,useContext:en,useEffect:Gf,useImperativeHandle:mg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:gg,useReducer:$l,useRef:lg,useState:function(){return $l(Oi)},useDebugValue:Xf,useDeferredValue:function(n,a){var s=It();return Eg(s,ut.memoizedState,n,a)},useTransition:function(){var n=$l(Oi)[0],a=It().memoizedState;return[typeof n=="boolean"?n:Ws(n),a]},useSyncExternalStore:Gp,useId:bg,useHostTransitionStatus:Wf,useFormState:rg,useActionState:rg,useOptimistic:function(n,a){var s=It();return Zp(s,ut,n,a)},useMemoCache:zf,useCacheRefresh:Sg};Zf.useEffectEvent=cg;var Ng={readContext:en,use:Wl,useCallback:pg,useContext:en,useEffect:Gf,useImperativeHandle:mg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:gg,useReducer:Yf,useRef:lg,useState:function(){return Yf(Oi)},useDebugValue:Xf,useDeferredValue:function(n,a){var s=It();return ut===null?Qf(s,n,a):Eg(s,ut.memoizedState,n,a)},useTransition:function(){var n=Yf(Oi)[0],a=It().memoizedState;return[typeof n=="boolean"?n:Ws(n),a]},useSyncExternalStore:Gp,useId:bg,useHostTransitionStatus:Wf,useFormState:ug,useActionState:ug,useOptimistic:function(n,a){var s=It();return ut!==null?Zp(s,ut,n,a):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:zf,useCacheRefresh:Sg};Ng.useEffectEvent=cg;function Jf(n,a,s,l){a=n.memoizedState,s=s(l,a),s=s==null?a:T({},a,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var ed={enqueueSetState:function(n,a,s){n=n._reactInternals;var l=wn(),f=ta(l);f.payload=a,s!=null&&(f.callback=s),a=na(n,f,l),a!==null&&(Tn(a,n,l),Gs(a,n,l))},enqueueReplaceState:function(n,a,s){n=n._reactInternals;var l=wn(),f=ta(l);f.tag=1,f.payload=a,s!=null&&(f.callback=s),a=na(n,f,l),a!==null&&(Tn(a,n,l),Gs(a,n,l))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var s=wn(),l=ta(s);l.tag=2,a!=null&&(l.callback=a),a=na(n,l,s),a!==null&&(Tn(a,n,s),Gs(a,n,s))}};function Rg(n,a,s,l,f,d,y){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,y):a.prototype&&a.prototype.isPureReactComponent?!Us(s,l)||!Us(f,d):!0}function Og(n,a,s,l){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,l),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,l),a.state!==n&&ed.enqueueReplaceState(a,a.state,null)}function Xa(n,a){var s=a;if("ref"in a){s={};for(var l in a)l!=="ref"&&(s[l]=a[l])}if(n=n.defaultProps){s===a&&(s=T({},s));for(var f in n)s[f]===void 0&&(s[f]=n[f])}return s}function Dg(n){Ll(n)}function Ig(n){console.error(n)}function Lg(n){Ll(n)}function to(n,a){try{var s=n.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(l){setTimeout(function(){throw l})}}function kg(n,a,s){try{var l=n.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function td(n,a,s){return s=ta(s),s.tag=3,s.payload={element:null},s.callback=function(){to(n,a)},s}function wg(n){return n=ta(n),n.tag=3,n}function Mg(n,a,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){kg(a,s,l)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(n.callback=function(){kg(a,s,l),typeof f!="function"&&(la===null?la=new Set([this]):la.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function EA(n,a,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(a=s.alternate,a!==null&&Or(a,s,f,!0),s=Dn.current,s!==null){switch(s.tag){case 31:case 13:return Vn===null?mo():s.alternate===null&&Nt===0&&(Nt=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===jl?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([l]):a.add(l),xd(n,l,f)),!1;case 22:return s.flags|=65536,l===jl?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([l]):s.add(l)),xd(n,l,f)),!1}throw Error(r(435,s.tag))}return xd(n,l,f),mo(),!1}if($e)return a=Dn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,l!==Tf&&(n=Error(r(422),{cause:l}),zs(zn(n,s)))):(l!==Tf&&(a=Error(r(423),{cause:l}),zs(zn(a,s))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=zn(l,s),f=td(n.stateNode,l,f),If(n,f),Nt!==4&&(Nt=2)),!1;var d=Error(r(520),{cause:l});if(d=zn(d,s),su===null?su=[d]:su.push(d),Nt!==4&&(Nt=2),a===null)return!0;l=zn(l,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,n=f&-f,s.lanes|=n,n=td(s.stateNode,l,n),If(s,n),!1;case 1:if(a=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(la===null||!la.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=wg(f),Mg(f,n,s,l),If(s,f),!1}s=s.return}while(s!==null);return!1}var nd=Error(r(461)),Bt=!1;function tn(n,a,s,l){a.child=n===null?Hp(a,null,s,l):Va(a,n.child,s,l)}function Bg(n,a,s,l,f){s=s.render;var d=a.ref;if("ref"in l){var y={};for(var C in l)C!=="ref"&&(y[C]=l[C])}else y=l;return za(a),l=Pf(n,a,s,y,d,f),C=Uf(),n!==null&&!Bt?(Hf(n,a,f),Di(n,a,f)):($e&&C&&_f(a),a.flags|=1,tn(n,a,l,f),a.child)}function Pg(n,a,s,l,f){if(n===null){var d=s.type;return typeof d=="function"&&!pf(d)&&d.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=d,Ug(n,a,d,l,f)):(n=Bl(s.type,null,l,a,a.mode,f),n.ref=a.ref,n.return=a,a.child=n)}if(d=n.child,!cd(n,f)){var y=d.memoizedProps;if(s=s.compare,s=s!==null?s:Us,s(y,l)&&n.ref===a.ref)return Di(n,a,f)}return a.flags|=1,n=Ai(d,l),n.ref=a.ref,n.return=a,a.child=n}function Ug(n,a,s,l,f){if(n!==null){var d=n.memoizedProps;if(Us(d,l)&&n.ref===a.ref)if(Bt=!1,a.pendingProps=l=d,cd(n,f))(n.flags&131072)!==0&&(Bt=!0);else return a.lanes=n.lanes,Di(n,a,f)}return id(n,a,s,l,f)}function Hg(n,a,s,l){var f=l.children,d=n!==null?n.memoizedState:null;if(n===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((a.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,n!==null){for(l=a.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,a.child=null;return Fg(n,a,d,s,l)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&Fl(a,d!==null?d.cachePool:null),d!==null?jp(a,d):kf(),Yp(a);else return l=a.lanes=536870912,Fg(n,a,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(Fl(a,d.cachePool),jp(a,d),aa(),a.memoizedState=null):(n!==null&&Fl(a,null),kf(),aa());return tn(n,a,f,s),a.child}function Js(n,a){return n!==null&&n.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Fg(n,a,s,l,f){var d=Nf();return d=d===null?null:{parent:wt._currentValue,pool:d},a.memoizedState={baseLanes:s,cachePool:d},n!==null&&Fl(a,null),kf(),Yp(a),n!==null&&Or(n,a,l,!0),a.childLanes=f,null}function no(n,a){return a=ao({mode:a.mode,children:a.children},n.mode),a.ref=n.ref,n.child=a,a.return=n,a}function zg(n,a,s){return Va(a,n.child,null,s),n=no(a,a.pendingProps),n.flags|=2,In(a),a.memoizedState=null,n}function _A(n,a,s){var l=a.pendingProps,f=(a.flags&128)!==0;if(a.flags&=-129,n===null){if($e){if(l.mode==="hidden")return n=no(a,l),a.lanes=536870912,Js(null,n);if(Mf(a),(n=bt)?(n=J1(n,qn),n=n!==null&&n.data==="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:Wi!==null?{id:li,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},s=Ap(n),s.return=a,a.child=s,Jt=a,bt=null)):n=null,n===null)throw Zi(a);return a.lanes=536870912,null}return no(a,l)}var d=n.memoizedState;if(d!==null){var y=d.dehydrated;if(Mf(a),f)if(a.flags&256)a.flags&=-257,a=zg(n,a,s);else if(a.memoizedState!==null)a.child=n.child,a.flags|=128,a=null;else throw Error(r(558));else if(Bt||Or(n,a,s,!1),f=(s&n.childLanes)!==0,Bt||f){if(l=dt,l!==null&&(y=Im(l,s),y!==0&&y!==d.retryLane))throw d.retryLane=y,Pa(n,y),Tn(l,n,y),nd;mo(),a=zg(n,a,s)}else n=d.treeContext,bt=Gn(y.nextSibling),Jt=a,$e=!0,$i=null,qn=!1,n!==null&&Np(a,n),a=no(a,l),a.flags|=4096;return a}return n=Ai(n.child,{mode:l.mode,children:l.children}),n.ref=a.ref,a.child=n,n.return=a,n}function io(n,a){var s=a.ref;if(s===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(n===null||n.ref!==s)&&(a.flags|=4194816)}}function id(n,a,s,l,f){return za(a),s=Pf(n,a,s,l,void 0,f),l=Uf(),n!==null&&!Bt?(Hf(n,a,f),Di(n,a,f)):($e&&l&&_f(a),a.flags|=1,tn(n,a,s,f),a.child)}function jg(n,a,s,l,f,d){return za(a),a.updateQueue=null,s=Vp(a,l,s,f),qp(n),l=Uf(),n!==null&&!Bt?(Hf(n,a,d),Di(n,a,d)):($e&&l&&_f(a),a.flags|=1,tn(n,a,s,d),a.child)}function Yg(n,a,s,l,f){if(za(a),a.stateNode===null){var d=vr,y=s.contextType;typeof y=="object"&&y!==null&&(d=en(y)),d=new s(l,d),a.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ed,a.stateNode=d,d._reactInternals=a,d=a.stateNode,d.props=l,d.state=a.memoizedState,d.refs={},Of(a),y=s.contextType,d.context=typeof y=="object"&&y!==null?en(y):vr,d.state=a.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Jf(a,s,y,l),d.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&ed.enqueueReplaceState(d,d.state,null),Qs(a,l,d,f),Xs(),d.state=a.memoizedState),typeof d.componentDidMount=="function"&&(a.flags|=4194308),l=!0}else if(n===null){d=a.stateNode;var C=a.memoizedProps,I=Xa(s,C);d.props=I;var z=d.context,$=s.contextType;y=vr,typeof $=="object"&&$!==null&&(y=en($));var ae=s.getDerivedStateFromProps;$=typeof ae=="function"||typeof d.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(C||z!==y)&&Og(a,d,l,y),ea=!1;var Y=a.memoizedState;d.state=Y,Qs(a,l,d,f),Xs(),z=a.memoizedState,C||Y!==z||ea?(typeof ae=="function"&&(Jf(a,s,ae,l),z=a.memoizedState),(I=ea||Rg(a,s,I,l,Y,z,y))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(a.flags|=4194308)):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=l,a.memoizedState=z),d.props=l,d.state=z,d.context=y,l=I):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),l=!1)}else{d=a.stateNode,Df(n,a),y=a.memoizedProps,$=Xa(s,y),d.props=$,ae=a.pendingProps,Y=d.context,z=s.contextType,I=vr,typeof z=="object"&&z!==null&&(I=en(z)),C=s.getDerivedStateFromProps,(z=typeof C=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==ae||Y!==I)&&Og(a,d,l,I),ea=!1,Y=a.memoizedState,d.state=Y,Qs(a,l,d,f),Xs();var Q=a.memoizedState;y!==ae||Y!==Q||ea||n!==null&&n.dependencies!==null&&Ul(n.dependencies)?(typeof C=="function"&&(Jf(a,s,C,l),Q=a.memoizedState),($=ea||Rg(a,s,$,l,Y,Q,I)||n!==null&&n.dependencies!==null&&Ul(n.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,I)),typeof d.componentDidUpdate=="function"&&(a.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===n.memoizedProps&&Y===n.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&Y===n.memoizedState||(a.flags|=1024),a.memoizedProps=l,a.memoizedState=Q),d.props=l,d.state=Q,d.context=I,l=$):(typeof d.componentDidUpdate!="function"||y===n.memoizedProps&&Y===n.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&Y===n.memoizedState||(a.flags|=1024),l=!1)}return d=l,io(n,a),l=(a.flags&128)!==0,d||l?(d=a.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),a.flags|=1,n!==null&&l?(a.child=Va(a,n.child,null,f),a.child=Va(a,null,s,f)):tn(n,a,s,f),a.memoizedState=d.state,n=a.child):n=Di(n,a,f),n}function qg(n,a,s,l){return Ha(),a.flags|=256,tn(n,a,s,l),a.child}var ad={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rd(n){return{baseLanes:n,cachePool:kp()}}function sd(n,a,s){return n=n!==null?n.childLanes&~s:0,a&&(n|=kn),n}function Vg(n,a,s){var l=a.pendingProps,f=!1,d=(a.flags&128)!==0,y;if((y=d)||(y=n!==null&&n.memoizedState===null?!1:(Dt.current&2)!==0),y&&(f=!0,a.flags&=-129),y=(a.flags&32)!==0,a.flags&=-33,n===null){if($e){if(f?ia(a):aa(),(n=bt)?(n=J1(n,qn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:Wi!==null?{id:li,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},s=Ap(n),s.return=a,a.child=s,Jt=a,bt=null)):n=null,n===null)throw Zi(a);return jd(n)?a.lanes=32:a.lanes=536870912,null}var C=l.children;return l=l.fallback,f?(aa(),f=a.mode,C=ao({mode:"hidden",children:C},f),l=Ua(l,f,s,null),C.return=a,l.return=a,C.sibling=l,a.child=C,l=a.child,l.memoizedState=rd(s),l.childLanes=sd(n,y,s),a.memoizedState=ad,Js(null,l)):(ia(a),ud(a,C))}var I=n.memoizedState;if(I!==null&&(C=I.dehydrated,C!==null)){if(d)a.flags&256?(ia(a),a.flags&=-257,a=ld(n,a,s)):a.memoizedState!==null?(aa(),a.child=n.child,a.flags|=128,a=null):(aa(),C=l.fallback,f=a.mode,l=ao({mode:"visible",children:l.children},f),C=Ua(C,f,s,null),C.flags|=2,l.return=a,C.return=a,l.sibling=C,a.child=l,Va(a,n.child,null,s),l=a.child,l.memoizedState=rd(s),l.childLanes=sd(n,y,s),a.memoizedState=ad,a=Js(null,l));else if(ia(a),jd(C)){if(y=C.nextSibling&&C.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(r(419)),l.stack="",l.digest=y,zs({value:l,source:null,stack:null}),a=ld(n,a,s)}else if(Bt||Or(n,a,s,!1),y=(s&n.childLanes)!==0,Bt||y){if(y=dt,y!==null&&(l=Im(y,s),l!==0&&l!==I.retryLane))throw I.retryLane=l,Pa(n,l),Tn(y,n,l),nd;zd(C)||mo(),a=ld(n,a,s)}else zd(C)?(a.flags|=192,a.child=n.child,a=null):(n=I.treeContext,bt=Gn(C.nextSibling),Jt=a,$e=!0,$i=null,qn=!1,n!==null&&Np(a,n),a=ud(a,l.children),a.flags|=4096);return a}return f?(aa(),C=l.fallback,f=a.mode,I=n.child,z=I.sibling,l=Ai(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?C=Ai(z,C):(C=Ua(C,f,s,null),C.flags|=2),C.return=a,l.return=a,l.sibling=C,a.child=l,Js(null,l),l=a.child,C=n.child.memoizedState,C===null?C=rd(s):(f=C.cachePool,f!==null?(I=wt._currentValue,f=f.parent!==I?{parent:I,pool:I}:f):f=kp(),C={baseLanes:C.baseLanes|s,cachePool:f}),l.memoizedState=C,l.childLanes=sd(n,y,s),a.memoizedState=ad,Js(n.child,l)):(ia(a),s=n.child,n=s.sibling,s=Ai(s,{mode:"visible",children:l.children}),s.return=a,s.sibling=null,n!==null&&(y=a.deletions,y===null?(a.deletions=[n],a.flags|=16):y.push(n)),a.child=s,a.memoizedState=null,s)}function ud(n,a){return a=ao({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function ao(n,a){return n=On(22,n,null,a),n.lanes=0,n}function ld(n,a,s){return Va(a,n.child,null,s),n=ud(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function Gg(n,a,s){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a),Cf(n.return,a,s)}function od(n,a,s,l,f,d){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f,treeForkCount:d}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=s,y.tailMode=f,y.treeForkCount=d)}function Xg(n,a,s){var l=a.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var y=Dt.current,C=(y&2)!==0;if(C?(y=y&1|2,a.flags|=128):y&=1,v(Dt,y),tn(n,a,l,s),l=$e?Fs:0,!C&&n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Gg(n,s,a);else if(n.tag===19)Gg(n,s,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(s=a.child,f=null;s!==null;)n=s.alternate,n!==null&&Gl(n)===null&&(f=s),s=s.sibling;s=f,s===null?(f=a.child,a.child=null):(f=s.sibling,s.sibling=null),od(a,!1,f,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=a.child,a.child=null;f!==null;){if(n=f.alternate,n!==null&&Gl(n)===null){a.child=f;break}n=f.sibling,f.sibling=s,s=f,f=n}od(a,!0,s,null,d,l);break;case"together":od(a,!1,null,null,void 0,l);break;default:a.memoizedState=null}return a.child}function Di(n,a,s){if(n!==null&&(a.dependencies=n.dependencies),ua|=a.lanes,(s&a.childLanes)===0)if(n!==null){if(Or(n,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(r(153));if(a.child!==null){for(n=a.child,s=Ai(n,n.pendingProps),a.child=s,s.return=a;n.sibling!==null;)n=n.sibling,s=s.sibling=Ai(n,n.pendingProps),s.return=a;s.sibling=null}return a.child}function cd(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&Ul(n)))}function yA(n,a,s){switch(a.tag){case 3:te(a,a.stateNode.containerInfo),Ji(a,wt,n.memoizedState.cache),Ha();break;case 27:case 5:qe(a);break;case 4:te(a,a.stateNode.containerInfo);break;case 10:Ji(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Mf(a),null;break;case 13:var l=a.memoizedState;if(l!==null)return l.dehydrated!==null?(ia(a),a.flags|=128,null):(s&a.child.childLanes)!==0?Vg(n,a,s):(ia(a),n=Di(n,a,s),n!==null?n.sibling:null);ia(a);break;case 19:var f=(n.flags&128)!==0;if(l=(s&a.childLanes)!==0,l||(Or(n,a,s,!1),l=(s&a.childLanes)!==0),f){if(l)return Xg(n,a,s);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),v(Dt,Dt.current),l)break;return null;case 22:return a.lanes=0,Hg(n,a,s,a.pendingProps);case 24:Ji(a,wt,n.memoizedState.cache)}return Di(n,a,s)}function Qg(n,a,s){if(n!==null)if(n.memoizedProps!==a.pendingProps)Bt=!0;else{if(!cd(n,s)&&(a.flags&128)===0)return Bt=!1,yA(n,a,s);Bt=(n.flags&131072)!==0}else Bt=!1,$e&&(a.flags&1048576)!==0&&xp(a,Fs,a.index);switch(a.lanes=0,a.tag){case 16:e:{var l=a.pendingProps;if(n=Ya(a.elementType),a.type=n,typeof n=="function")pf(n)?(l=Xa(n,l),a.tag=1,a=Yg(null,a,n,l,s)):(a.tag=0,a=id(null,a,n,l,s));else{if(n!=null){var f=n.$$typeof;if(f===Te){a.tag=11,a=Bg(null,a,n,l,s);break e}else if(f===fe){a.tag=14,a=Pg(null,a,n,l,s);break e}}throw a=ue(n)||n,Error(r(306,a,""))}}return a;case 0:return id(n,a,a.type,a.pendingProps,s);case 1:return l=a.type,f=Xa(l,a.pendingProps),Yg(n,a,l,f,s);case 3:e:{if(te(a,a.stateNode.containerInfo),n===null)throw Error(r(387));l=a.pendingProps;var d=a.memoizedState;f=d.element,Df(n,a),Qs(a,l,null,s);var y=a.memoizedState;if(l=y.cache,Ji(a,wt,l),l!==d.cache&&Af(a,[wt],s,!0),Xs(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},a.updateQueue.baseState=d,a.memoizedState=d,a.flags&256){a=qg(n,a,l,s);break e}else if(l!==f){f=zn(Error(r(424)),a),zs(f),a=qg(n,a,l,s);break e}else{switch(n=a.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(bt=Gn(n.firstChild),Jt=a,$e=!0,$i=null,qn=!0,s=Hp(a,null,l,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ha(),l===f){a=Di(n,a,s);break e}tn(n,a,l,s)}a=a.child}return a;case 26:return io(n,a),n===null?(s=rE(a.type,null,a.pendingProps,null))?a.memoizedState=s:$e||(s=a.type,n=a.pendingProps,l=bo(x.current).createElement(s),l[Zt]=a,l[mn]=n,nn(l,s,n),qt(l),a.stateNode=l):a.memoizedState=rE(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return qe(a),n===null&&$e&&(l=a.stateNode=nE(a.type,a.pendingProps,x.current),Jt=a,qn=!0,f=bt,da(a.type)?(Yd=f,bt=Gn(l.firstChild)):bt=f),tn(n,a,a.pendingProps.children,s),io(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&$e&&((f=l=bt)&&(l=KA(l,a.type,a.pendingProps,qn),l!==null?(a.stateNode=l,Jt=a,bt=Gn(l.firstChild),qn=!1,f=!0):f=!1),f||Zi(a)),qe(a),f=a.type,d=a.pendingProps,y=n!==null?n.memoizedProps:null,l=d.children,Ud(f,d)?l=null:y!==null&&Ud(f,y)&&(a.flags|=32),a.memoizedState!==null&&(f=Pf(n,a,cA,null,null,s),mu._currentValue=f),io(n,a),tn(n,a,l,s),a.child;case 6:return n===null&&$e&&((n=s=bt)&&(s=WA(s,a.pendingProps,qn),s!==null?(a.stateNode=s,Jt=a,bt=null,n=!0):n=!1),n||Zi(a)),null;case 13:return Vg(n,a,s);case 4:return te(a,a.stateNode.containerInfo),l=a.pendingProps,n===null?a.child=Va(a,null,l,s):tn(n,a,l,s),a.child;case 11:return Bg(n,a,a.type,a.pendingProps,s);case 7:return tn(n,a,a.pendingProps,s),a.child;case 8:return tn(n,a,a.pendingProps.children,s),a.child;case 12:return tn(n,a,a.pendingProps.children,s),a.child;case 10:return l=a.pendingProps,Ji(a,a.type,l.value),tn(n,a,l.children,s),a.child;case 9:return f=a.type._context,l=a.pendingProps.children,za(a),f=en(f),l=l(f),a.flags|=1,tn(n,a,l,s),a.child;case 14:return Pg(n,a,a.type,a.pendingProps,s);case 15:return Ug(n,a,a.type,a.pendingProps,s);case 19:return Xg(n,a,s);case 31:return _A(n,a,s);case 22:return Hg(n,a,s,a.pendingProps);case 24:return za(a),l=en(wt),n===null?(f=Nf(),f===null&&(f=dt,d=vf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),a.memoizedState={parent:l,cache:f},Of(a),Ji(a,wt,f)):((n.lanes&s)!==0&&(Df(n,a),Qs(a,null,null,s),Xs()),f=n.memoizedState,d=a.memoizedState,f.parent!==l?(f={parent:l,cache:l},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),Ji(a,wt,l)):(l=d.cache,Ji(a,wt,l),l!==f.cache&&Af(a,[wt],s,!0))),tn(n,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Ii(n){n.flags|=4}function fd(n,a,s,l,f){if((a=(n.mode&32)!==0)&&(a=!1),a){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(b1())n.flags|=8192;else throw qa=jl,Rf}else n.flags&=-16777217}function Kg(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!cE(a))if(b1())n.flags|=8192;else throw qa=jl,Rf}function ro(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?Rm():536870912,n.lanes|=a,zr|=a)}function eu(n,a){if(!$e)switch(n.tailMode){case"hidden":a=n.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function St(n){var a=n.alternate!==null&&n.alternate.child===n.child,s=0,l=0;if(a)for(var f=n.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=s,a}function TA(n,a,s){var l=a.pendingProps;switch(yf(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(a),null;case 1:return St(a),null;case 3:return s=a.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ni(wt),he(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(Rr(a)?Ii(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,bf())),St(a),null;case 26:var f=a.type,d=a.memoizedState;return n===null?(Ii(a),d!==null?(St(a),Kg(a,d)):(St(a),fd(a,f,null,l,s))):d?d!==n.memoizedState?(Ii(a),St(a),Kg(a,d)):(St(a),a.flags&=-16777217):(n=n.memoizedProps,n!==l&&Ii(a),St(a),fd(a,f,n,l,s)),null;case 27:if(Ue(a),s=x.current,f=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==l&&Ii(a);else{if(!l){if(a.stateNode===null)throw Error(r(166));return St(a),null}n=pe.current,Rr(a)?Rp(a):(n=nE(f,l,s),a.stateNode=n,Ii(a))}return St(a),null;case 5:if(Ue(a),f=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==l&&Ii(a);else{if(!l){if(a.stateNode===null)throw Error(r(166));return St(a),null}if(d=pe.current,Rr(a))Rp(a);else{var y=bo(x.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(f,{is:l.is}):y.createElement(f)}}d[Zt]=a,d[mn]=l;e:for(y=a.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===a)break e;for(;y.sibling===null;){if(y.return===null||y.return===a)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}a.stateNode=d;e:switch(nn(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ii(a)}}return St(a),fd(a,a.type,n===null?null:n.memoizedProps,a.pendingProps,s),null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==l&&Ii(a);else{if(typeof l!="string"&&a.stateNode===null)throw Error(r(166));if(n=x.current,Rr(a)){if(n=a.stateNode,s=a.memoizedProps,l=null,f=Jt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Zt]=a,n=!!(n.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||V1(n.nodeValue,s)),n||Zi(a,!0)}else n=bo(n).createTextNode(l),n[Zt]=a,a.stateNode=n}return St(a),null;case 31:if(s=a.memoizedState,n===null||n.memoizedState!==null){if(l=Rr(a),s!==null){if(n===null){if(!l)throw Error(r(318));if(n=a.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[Zt]=a}else Ha(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;St(a),n=!1}else s=bf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=s),n=!0;if(!n)return a.flags&256?(In(a),a):(In(a),null);if((a.flags&128)!==0)throw Error(r(558))}return St(a),null;case 13:if(l=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Rr(a),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Zt]=a}else Ha(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;St(a),f=!1}else f=bf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(In(a),a):(In(a),null)}return In(a),(a.flags&128)!==0?(a.lanes=s,a):(s=l!==null,n=n!==null&&n.memoizedState!==null,s&&(l=a.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),s!==n&&s&&(a.child.flags|=8192),ro(a,a.updateQueue),St(a),null);case 4:return he(),n===null&&kd(a.stateNode.containerInfo),St(a),null;case 10:return Ni(a.type),St(a),null;case 19:if(W(Dt),l=a.memoizedState,l===null)return St(a),null;if(f=(a.flags&128)!==0,d=l.rendering,d===null)if(f)eu(l,!1);else{if(Nt!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(d=Gl(n),d!==null){for(a.flags|=128,eu(l,!1),n=d.updateQueue,a.updateQueue=n,ro(a,n),a.subtreeFlags=0,n=s,s=a.child;s!==null;)Cp(s,n),s=s.sibling;return v(Dt,Dt.current&1|2),$e&&vi(a,l.treeForkCount),a.child}n=n.sibling}l.tail!==null&&ht()>co&&(a.flags|=128,f=!0,eu(l,!1),a.lanes=4194304)}else{if(!f)if(n=Gl(d),n!==null){if(a.flags|=128,f=!0,n=n.updateQueue,a.updateQueue=n,ro(a,n),eu(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!$e)return St(a),null}else 2*ht()-l.renderingStartTime>co&&s!==536870912&&(a.flags|=128,f=!0,eu(l,!1),a.lanes=4194304);l.isBackwards?(d.sibling=a.child,a.child=d):(n=l.last,n!==null?n.sibling=d:a.child=d,l.last=d)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=ht(),n.sibling=null,s=Dt.current,v(Dt,f?s&1|2:s&1),$e&&vi(a,l.treeForkCount),n):(St(a),null);case 22:case 23:return In(a),wf(),l=a.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(a.flags|=8192):l&&(a.flags|=8192),l?(s&536870912)!==0&&(a.flags&128)===0&&(St(a),a.subtreeFlags&6&&(a.flags|=8192)):St(a),s=a.updateQueue,s!==null&&ro(a,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),l=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==s&&(a.flags|=2048),n!==null&&W(ja),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),Ni(wt),St(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function bA(n,a){switch(yf(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Ni(wt),he(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return Ue(a),null;case 31:if(a.memoizedState!==null){if(In(a),a.alternate===null)throw Error(r(340));Ha()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 13:if(In(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Ha()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return W(Dt),null;case 4:return he(),null;case 10:return Ni(a.type),null;case 22:case 23:return In(a),wf(),n!==null&&W(ja),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return Ni(wt),null;case 25:return null;default:return null}}function Wg(n,a){switch(yf(a),a.tag){case 3:Ni(wt),he();break;case 26:case 27:case 5:Ue(a);break;case 4:he();break;case 31:a.memoizedState!==null&&In(a);break;case 13:In(a);break;case 19:W(Dt);break;case 10:Ni(a.type);break;case 22:case 23:In(a),wf(),n!==null&&W(ja);break;case 24:Ni(wt)}}function tu(n,a){try{var s=a.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&n)===n){l=void 0;var d=s.create,y=s.inst;l=d(),y.destroy=l}s=s.next}while(s!==f)}}catch(C){st(a,a.return,C)}}function ra(n,a,s){try{var l=a.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var y=l.inst,C=y.destroy;if(C!==void 0){y.destroy=void 0,f=a;var I=s,z=C;try{z()}catch($){st(f,I,$)}}}l=l.next}while(l!==d)}}catch($){st(a,a.return,$)}}function $g(n){var a=n.updateQueue;if(a!==null){var s=n.stateNode;try{zp(a,s)}catch(l){st(n,n.return,l)}}}function Zg(n,a,s){s.props=Xa(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(l){st(n,a,l)}}function nu(n,a){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof s=="function"?n.refCleanup=s(l):s.current=l}}catch(f){st(n,a,f)}}function ci(n,a){var s=n.ref,l=n.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){st(n,a,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){st(n,a,f)}else s.current=null}function Jg(n){var a=n.type,s=n.memoizedProps,l=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){st(n,n.return,f)}}function dd(n,a,s){try{var l=n.stateNode;YA(l,n.type,s,a),l[mn]=a}catch(f){st(n,n.return,f)}}function e1(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&da(n.type)||n.tag===4}function hd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||e1(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&da(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function md(n,a,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(n),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=Si));else if(l!==4&&(l===27&&da(n.type)&&(s=n.stateNode,a=null),n=n.child,n!==null))for(md(n,a,s),n=n.sibling;n!==null;)md(n,a,s),n=n.sibling}function so(n,a,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,a?s.insertBefore(n,a):s.appendChild(n);else if(l!==4&&(l===27&&da(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(so(n,a,s),n=n.sibling;n!==null;)so(n,a,s),n=n.sibling}function t1(n){var a=n.stateNode,s=n.memoizedProps;try{for(var l=n.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);nn(a,l,s),a[Zt]=n,a[mn]=s}catch(d){st(n,n.return,d)}}var Li=!1,Pt=!1,pd=!1,n1=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function SA(n,a){if(n=n.containerInfo,Bd=Ro,n=mp(n),lf(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var y=0,C=-1,I=-1,z=0,$=0,ae=n,Y=null;t:for(;;){for(var Q;ae!==s||f!==0&&ae.nodeType!==3||(C=y+f),ae!==d||l!==0&&ae.nodeType!==3||(I=y+l),ae.nodeType===3&&(y+=ae.nodeValue.length),(Q=ae.firstChild)!==null;)Y=ae,ae=Q;for(;;){if(ae===n)break t;if(Y===s&&++z===f&&(C=y),Y===d&&++$===l&&(I=y),(Q=ae.nextSibling)!==null)break;ae=Y,Y=ae.parentNode}ae=Q}s=C===-1||I===-1?null:{start:C,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Pd={focusedElem:n,selectionRange:s},Ro=!1,Vt=a;Vt!==null;)if(a=Vt,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,Vt=n;else for(;Vt!==null;){switch(a=Vt,d=a.alternate,n=a.flags,a.tag){case 0:if((n&4)!==0&&(n=a.updateQueue,n=n!==null?n.events:null,n!==null))for(s=0;s<n.length;s++)f=n[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,s=a,f=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var be=Xa(s.type,f);n=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(De){st(s,s.return,De)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,s=n.nodeType,s===9)Fd(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Fd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=a.sibling,n!==null){n.return=a.return,Vt=n;break}Vt=a.return}}function i1(n,a,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:wi(n,s),l&4&&tu(5,s);break;case 1:if(wi(n,s),l&4)if(n=s.stateNode,a===null)try{n.componentDidMount()}catch(y){st(s,s.return,y)}else{var f=Xa(s.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(f,a,n.__reactInternalSnapshotBeforeUpdate)}catch(y){st(s,s.return,y)}}l&64&&$g(s),l&512&&nu(s,s.return);break;case 3:if(wi(n,s),l&64&&(n=s.updateQueue,n!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{zp(n,a)}catch(y){st(s,s.return,y)}}break;case 27:a===null&&l&4&&t1(s);case 26:case 5:wi(n,s),a===null&&l&4&&Jg(s),l&512&&nu(s,s.return);break;case 12:wi(n,s);break;case 31:wi(n,s),l&4&&s1(n,s);break;case 13:wi(n,s),l&4&&u1(n,s),l&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=IA.bind(null,s),$A(n,s))));break;case 22:if(l=s.memoizedState!==null||Li,!l){a=a!==null&&a.memoizedState!==null||Pt,f=Li;var d=Pt;Li=l,(Pt=a)&&!d?Mi(n,s,(s.subtreeFlags&8772)!==0):wi(n,s),Li=f,Pt=d}break;case 30:break;default:wi(n,s)}}function a1(n){var a=n.alternate;a!==null&&(n.alternate=null,a1(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&qc(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var At=null,gn=!1;function ki(n,a,s){for(s=s.child;s!==null;)r1(n,a,s),s=s.sibling}function r1(n,a,s){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(cn,s)}catch{}switch(s.tag){case 26:Pt||ci(s,a),ki(n,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Pt||ci(s,a);var l=At,f=gn;da(s.type)&&(At=s.stateNode,gn=!1),ki(n,a,s),fu(s.stateNode),At=l,gn=f;break;case 5:Pt||ci(s,a);case 6:if(l=At,f=gn,At=null,ki(n,a,s),At=l,gn=f,At!==null)if(gn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(s.stateNode)}catch(d){st(s,a,d)}else try{At.removeChild(s.stateNode)}catch(d){st(s,a,d)}break;case 18:At!==null&&(gn?(n=At,$1(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),Kr(n)):$1(At,s.stateNode));break;case 4:l=At,f=gn,At=s.stateNode.containerInfo,gn=!0,ki(n,a,s),At=l,gn=f;break;case 0:case 11:case 14:case 15:ra(2,s,a),Pt||ra(4,s,a),ki(n,a,s);break;case 1:Pt||(ci(s,a),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Zg(s,a,l)),ki(n,a,s);break;case 21:ki(n,a,s);break;case 22:Pt=(l=Pt)||s.memoizedState!==null,ki(n,a,s),Pt=l;break;default:ki(n,a,s)}}function s1(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Kr(n)}catch(s){st(a,a.return,s)}}}function u1(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Kr(n)}catch(s){st(a,a.return,s)}}function CA(n){switch(n.tag){case 31:case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new n1),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new n1),a;default:throw Error(r(435,n.tag))}}function uo(n,a){var s=CA(n);a.forEach(function(l){if(!s.has(l)){s.add(l);var f=LA.bind(null,n,l);l.then(f,f)}})}function En(n,a){var s=a.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],d=n,y=a,C=y;e:for(;C!==null;){switch(C.tag){case 27:if(da(C.type)){At=C.stateNode,gn=!1;break e}break;case 5:At=C.stateNode,gn=!1;break e;case 3:case 4:At=C.stateNode.containerInfo,gn=!0;break e}C=C.return}if(At===null)throw Error(r(160));r1(d,y,f),At=null,gn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)l1(a,n),a=a.sibling}var ti=null;function l1(n,a){var s=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:En(a,n),_n(n),l&4&&(ra(3,n,n.return),tu(3,n),ra(5,n,n.return));break;case 1:En(a,n),_n(n),l&512&&(Pt||s===null||ci(s,s.return)),l&64&&Li&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=ti;if(En(a,n),_n(n),l&512&&(Pt||s===null||ci(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=n.memoizedState,s===null)if(l===null)if(n.stateNode===null){e:{l=n.type,s=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Os]||d[Zt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),nn(d,l,s),d[Zt]=n,qt(d),l=d;break e;case"link":var y=lE("link","href",f).get(l+(s.href||""));if(y){for(var C=0;C<y.length;C++)if(d=y[C],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(C,1);break t}}d=f.createElement(l),nn(d,l,s),f.head.appendChild(d);break;case"meta":if(y=lE("meta","content",f).get(l+(s.content||""))){for(C=0;C<y.length;C++)if(d=y[C],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(C,1);break t}}d=f.createElement(l),nn(d,l,s),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[Zt]=n,qt(d),l=d}n.stateNode=l}else oE(f,n.type,n.stateNode);else n.stateNode=uE(f,l,n.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?oE(f,n.type,n.stateNode):uE(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&dd(n,n.memoizedProps,s.memoizedProps)}break;case 27:En(a,n),_n(n),l&512&&(Pt||s===null||ci(s,s.return)),s!==null&&l&4&&dd(n,n.memoizedProps,s.memoizedProps);break;case 5:if(En(a,n),_n(n),l&512&&(Pt||s===null||ci(s,s.return)),n.flags&32){f=n.stateNode;try{_r(f,"")}catch(be){st(n,n.return,be)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,dd(n,f,s!==null?s.memoizedProps:f)),l&1024&&(pd=!0);break;case 6:if(En(a,n),_n(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,s=n.stateNode;try{s.nodeValue=l}catch(be){st(n,n.return,be)}}break;case 3:if(Ao=null,f=ti,ti=So(a.containerInfo),En(a,n),ti=f,_n(n),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Kr(a.containerInfo)}catch(be){st(n,n.return,be)}pd&&(pd=!1,o1(n));break;case 4:l=ti,ti=So(n.stateNode.containerInfo),En(a,n),_n(n),ti=l;break;case 12:En(a,n),_n(n);break;case 31:En(a,n),_n(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,uo(n,l)));break;case 13:En(a,n),_n(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(oo=ht()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,uo(n,l)));break;case 22:f=n.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,z=Li,$=Pt;if(Li=z||f,Pt=$||I,En(a,n),Pt=$,Li=z,_n(n),l&8192)e:for(a=n.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(s===null||I||Li||Pt||Qa(n)),s=null,a=n;;){if(a.tag===5||a.tag===26){if(s===null){I=s=a;try{if(d=I.stateNode,f)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{C=I.stateNode;var ae=I.memoizedProps.style,Y=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;C.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(be){st(I,I.return,be)}}}else if(a.tag===6){if(s===null){I=a;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(be){st(I,I.return,be)}}}else if(a.tag===18){if(s===null){I=a;try{var Q=I.stateNode;f?Z1(Q,!0):Z1(I.stateNode,!1)}catch(be){st(I,I.return,be)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}l&4&&(l=n.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,uo(n,s))));break;case 19:En(a,n),_n(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,uo(n,l)));break;case 30:break;case 21:break;default:En(a,n),_n(n)}}function _n(n){var a=n.flags;if(a&2){try{for(var s,l=n.return;l!==null;){if(e1(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var f=s.stateNode,d=hd(n);so(n,d,f);break;case 5:var y=s.stateNode;s.flags&32&&(_r(y,""),s.flags&=-33);var C=hd(n);so(n,C,y);break;case 3:case 4:var I=s.stateNode.containerInfo,z=hd(n);md(n,z,I);break;default:throw Error(r(161))}}catch($){st(n,n.return,$)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function o1(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;o1(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function wi(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)i1(n,a.alternate,a),a=a.sibling}function Qa(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:ra(4,a,a.return),Qa(a);break;case 1:ci(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&Zg(a,a.return,s),Qa(a);break;case 27:fu(a.stateNode);case 26:case 5:ci(a,a.return),Qa(a);break;case 22:a.memoizedState===null&&Qa(a);break;case 30:Qa(a);break;default:Qa(a)}n=n.sibling}}function Mi(n,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var l=a.alternate,f=n,d=a,y=d.flags;switch(d.tag){case 0:case 11:case 15:Mi(f,d,s),tu(4,d);break;case 1:if(Mi(f,d,s),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){st(l,l.return,z)}if(l=d,f=l.updateQueue,f!==null){var C=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)Fp(I[f],C)}catch(z){st(l,l.return,z)}}s&&y&64&&$g(d),nu(d,d.return);break;case 27:t1(d);case 26:case 5:Mi(f,d,s),s&&l===null&&y&4&&Jg(d),nu(d,d.return);break;case 12:Mi(f,d,s);break;case 31:Mi(f,d,s),s&&y&4&&s1(f,d);break;case 13:Mi(f,d,s),s&&y&4&&u1(f,d);break;case 22:d.memoizedState===null&&Mi(f,d,s),nu(d,d.return);break;case 30:break;default:Mi(f,d,s)}a=a.sibling}}function gd(n,a){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&js(s))}function Ed(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&js(n))}function ni(n,a,s,l){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)c1(n,a,s,l),a=a.sibling}function c1(n,a,s,l){var f=a.flags;switch(a.tag){case 0:case 11:case 15:ni(n,a,s,l),f&2048&&tu(9,a);break;case 1:ni(n,a,s,l);break;case 3:ni(n,a,s,l),f&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&js(n)));break;case 12:if(f&2048){ni(n,a,s,l),n=a.stateNode;try{var d=a.memoizedProps,y=d.id,C=d.onPostCommit;typeof C=="function"&&C(y,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){st(a,a.return,I)}}else ni(n,a,s,l);break;case 31:ni(n,a,s,l);break;case 13:ni(n,a,s,l);break;case 23:break;case 22:d=a.stateNode,y=a.alternate,a.memoizedState!==null?d._visibility&2?ni(n,a,s,l):iu(n,a):d._visibility&2?ni(n,a,s,l):(d._visibility|=2,Ur(n,a,s,l,(a.subtreeFlags&10256)!==0||!1)),f&2048&&gd(y,a);break;case 24:ni(n,a,s,l),f&2048&&Ed(a.alternate,a);break;default:ni(n,a,s,l)}}function Ur(n,a,s,l,f){for(f=f&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var d=n,y=a,C=s,I=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:Ur(d,y,C,I,f),tu(8,y);break;case 23:break;case 22:var $=y.stateNode;y.memoizedState!==null?$._visibility&2?Ur(d,y,C,I,f):iu(d,y):($._visibility|=2,Ur(d,y,C,I,f)),f&&z&2048&&gd(y.alternate,y);break;case 24:Ur(d,y,C,I,f),f&&z&2048&&Ed(y.alternate,y);break;default:Ur(d,y,C,I,f)}a=a.sibling}}function iu(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=n,l=a,f=l.flags;switch(l.tag){case 22:iu(s,l),f&2048&&gd(l.alternate,l);break;case 24:iu(s,l),f&2048&&Ed(l.alternate,l);break;default:iu(s,l)}a=a.sibling}}var au=8192;function Hr(n,a,s){if(n.subtreeFlags&au)for(n=n.child;n!==null;)f1(n,a,s),n=n.sibling}function f1(n,a,s){switch(n.tag){case 26:Hr(n,a,s),n.flags&au&&n.memoizedState!==null&&o3(s,ti,n.memoizedState,n.memoizedProps);break;case 5:Hr(n,a,s);break;case 3:case 4:var l=ti;ti=So(n.stateNode.containerInfo),Hr(n,a,s),ti=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=au,au=16777216,Hr(n,a,s),au=l):Hr(n,a,s));break;default:Hr(n,a,s)}}function d1(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function ru(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var l=a[s];Vt=l,m1(l,n)}d1(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)h1(n),n=n.sibling}function h1(n){switch(n.tag){case 0:case 11:case 15:ru(n),n.flags&2048&&ra(9,n,n.return);break;case 3:ru(n);break;case 12:ru(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,lo(n)):ru(n);break;default:ru(n)}}function lo(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var l=a[s];Vt=l,m1(l,n)}d1(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:ra(8,a,a.return),lo(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,lo(a));break;default:lo(a)}n=n.sibling}}function m1(n,a){for(;Vt!==null;){var s=Vt;switch(s.tag){case 0:case 11:case 15:ra(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:js(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Vt=l;else e:for(s=n;Vt!==null;){l=Vt;var f=l.sibling,d=l.return;if(a1(l),l===s){Vt=null;break e}if(f!==null){f.return=d,Vt=f;break e}Vt=d}}}var AA={getCacheForType:function(n){var a=en(wt),s=a.data.get(n);return s===void 0&&(s=n(),a.data.set(n,s)),s},cacheSignal:function(){return en(wt).controller.signal}},vA=typeof WeakMap=="function"?WeakMap:Map,et=0,dt=null,Ge=null,Ke=0,rt=0,Ln=null,sa=!1,Fr=!1,_d=!1,Bi=0,Nt=0,ua=0,Ka=0,yd=0,kn=0,zr=0,su=null,yn=null,Td=!1,oo=0,p1=0,co=1/0,fo=null,la=null,jt=0,oa=null,jr=null,Pi=0,bd=0,Sd=null,g1=null,uu=0,Cd=null;function wn(){return(et&2)!==0&&Ke!==0?Ke&-Ke:P.T!==null?Od():Lm()}function E1(){if(kn===0)if((Ke&536870912)===0||$e){var n=yl;yl<<=1,(yl&3932160)===0&&(yl=262144),kn=n}else kn=536870912;return n=Dn.current,n!==null&&(n.flags|=32),kn}function Tn(n,a,s){(n===dt&&(rt===2||rt===9)||n.cancelPendingCommit!==null)&&(Yr(n,0),ca(n,Ke,kn,!1)),Rs(n,s),((et&2)===0||n!==dt)&&(n===dt&&((et&2)===0&&(Ka|=s),Nt===4&&ca(n,Ke,kn,!1)),fi(n))}function _1(n,a,s){if((et&6)!==0)throw Error(r(327));var l=!s&&(a&127)===0&&(a&n.expiredLanes)===0||Ns(n,a),f=l?RA(n,a):vd(n,a,!0),d=l;do{if(f===0){Fr&&!l&&ca(n,a,0,!1);break}else{if(s=n.current.alternate,d&&!xA(s)){f=vd(n,a,!1),d=!1;continue}if(f===2){if(d=a,n.errorRecoveryDisabledLanes&d)var y=0;else y=n.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){a=y;e:{var C=n;f=su;var I=C.current.memoizedState.isDehydrated;if(I&&(Yr(C,y).flags|=256),y=vd(C,y,!1),y!==2){if(_d&&!I){C.errorRecoveryDisabledLanes|=d,Ka|=d,f=4;break e}d=yn,yn=f,d!==null&&(yn===null?yn=d:yn.push.apply(yn,d))}f=y}if(d=!1,f!==2)continue}}if(f===1){Yr(n,0),ca(n,a,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:ca(l,a,kn,!sa);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(f=oo+300-ht(),10<f)){if(ca(l,a,kn,!sa),bl(l,0,!0)!==0)break e;Pi=a,l.timeoutHandle=K1(y1.bind(null,l,s,yn,fo,Td,a,kn,Ka,zr,sa,d,"Throttled",-0,0),f);break e}y1(l,s,yn,fo,Td,a,kn,Ka,zr,sa,d,null,-0,0)}}break}while(!0);fi(n)}function y1(n,a,s,l,f,d,y,C,I,z,$,ae,Y,Q){if(n.timeoutHandle=-1,ae=a.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Si},f1(a,d,ae);var be=(d&62914560)===d?oo-ht():(d&4194048)===d?p1-ht():0;if(be=c3(ae,be),be!==null){Pi=d,n.cancelPendingCommit=be(N1.bind(null,n,a,d,s,l,f,y,C,I,$,ae,null,Y,Q)),ca(n,d,y,!z);return}}N1(n,a,d,s,l,f,y,C,I)}function xA(n){for(var a=n;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],d=f.getSnapshot;f=f.value;try{if(!Rn(d(),f))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ca(n,a,s,l){a&=~yd,a&=~Ka,n.suspendedLanes|=a,n.pingedLanes&=~a,l&&(n.warmLanes|=a),l=n.expirationTimes;for(var f=a;0<f;){var d=31-ft(f),y=1<<d;l[d]=-1,f&=~y}s!==0&&Om(n,s,a)}function ho(){return(et&6)===0?(lu(0),!1):!0}function Ad(){if(Ge!==null){if(rt===0)var n=Ge.return;else n=Ge,xi=Fa=null,Ff(n),kr=null,qs=0,n=Ge;for(;n!==null;)Wg(n.alternate,n),n=n.return;Ge=null}}function Yr(n,a){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,GA(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),Pi=0,Ad(),dt=n,Ge=s=Ai(n.current,null),Ke=a,rt=0,Ln=null,sa=!1,Fr=Ns(n,a),_d=!1,zr=kn=yd=Ka=ua=Nt=0,yn=su=null,Td=!1,(a&8)!==0&&(a|=a&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=a;0<l;){var f=31-ft(l),d=1<<f;a|=n[f],l&=~d}return Bi=a,kl(),s}function T1(n,a){Be=null,P.H=Zs,a===Lr||a===zl?(a=Bp(),rt=3):a===Rf?(a=Bp(),rt=4):rt=a===nd?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ln=a,Ge===null&&(Nt=1,to(n,zn(a,n.current)))}function b1(){var n=Dn.current;return n===null?!0:(Ke&4194048)===Ke?Vn===null:(Ke&62914560)===Ke||(Ke&536870912)!==0?n===Vn:!1}function S1(){var n=P.H;return P.H=Zs,n===null?Zs:n}function C1(){var n=P.A;return P.A=AA,n}function mo(){Nt=4,sa||(Ke&4194048)!==Ke&&Dn.current!==null||(Fr=!0),(ua&134217727)===0&&(Ka&134217727)===0||dt===null||ca(dt,Ke,kn,!1)}function vd(n,a,s){var l=et;et|=2;var f=S1(),d=C1();(dt!==n||Ke!==a)&&(fo=null,Yr(n,a)),a=!1;var y=Nt;e:do try{if(rt!==0&&Ge!==null){var C=Ge,I=Ln;switch(rt){case 8:Ad(),y=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(a=!0);var z=rt;if(rt=0,Ln=null,qr(n,C,I,z),s&&Fr){y=0;break e}break;default:z=rt,rt=0,Ln=null,qr(n,C,I,z)}}NA(),y=Nt;break}catch($){T1(n,$)}while(!0);return a&&n.shellSuspendCounter++,xi=Fa=null,et=l,P.H=f,P.A=d,Ge===null&&(dt=null,Ke=0,kl()),y}function NA(){for(;Ge!==null;)A1(Ge)}function RA(n,a){var s=et;et|=2;var l=S1(),f=C1();dt!==n||Ke!==a?(fo=null,co=ht()+500,Yr(n,a)):Fr=Ns(n,a);e:do try{if(rt!==0&&Ge!==null){a=Ge;var d=Ln;t:switch(rt){case 1:rt=0,Ln=null,qr(n,a,d,1);break;case 2:case 9:if(wp(d)){rt=0,Ln=null,v1(a);break}a=function(){rt!==2&&rt!==9||dt!==n||(rt=7),fi(n)},d.then(a,a);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:wp(d)?(rt=0,Ln=null,v1(a)):(rt=0,Ln=null,qr(n,a,d,7));break;case 5:var y=null;switch(Ge.tag){case 26:y=Ge.memoizedState;case 5:case 27:var C=Ge;if(y?cE(y):C.stateNode.complete){rt=0,Ln=null;var I=C.sibling;if(I!==null)Ge=I;else{var z=C.return;z!==null?(Ge=z,po(z)):Ge=null}break t}}rt=0,Ln=null,qr(n,a,d,5);break;case 6:rt=0,Ln=null,qr(n,a,d,6);break;case 8:Ad(),Nt=6;break e;default:throw Error(r(462))}}OA();break}catch($){T1(n,$)}while(!0);return xi=Fa=null,P.H=l,P.A=f,et=s,Ge!==null?0:(dt=null,Ke=0,kl(),Nt)}function OA(){for(;Ge!==null&&!Re();)A1(Ge)}function A1(n){var a=Qg(n.alternate,n,Bi);n.memoizedProps=n.pendingProps,a===null?po(n):Ge=a}function v1(n){var a=n,s=a.alternate;switch(a.tag){case 15:case 0:a=jg(s,a,a.pendingProps,a.type,void 0,Ke);break;case 11:a=jg(s,a,a.pendingProps,a.type.render,a.ref,Ke);break;case 5:Ff(a);default:Wg(s,a),a=Ge=Cp(a,Bi),a=Qg(s,a,Bi)}n.memoizedProps=n.pendingProps,a===null?po(n):Ge=a}function qr(n,a,s,l){xi=Fa=null,Ff(a),kr=null,qs=0;var f=a.return;try{if(EA(n,f,a,s,Ke)){Nt=1,to(n,zn(s,n.current)),Ge=null;return}}catch(d){if(f!==null)throw Ge=f,d;Nt=1,to(n,zn(s,n.current)),Ge=null;return}a.flags&32768?($e||l===1?n=!0:Fr||(Ke&536870912)!==0?n=!1:(sa=n=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),x1(a,n)):po(a)}function po(n){var a=n;do{if((a.flags&32768)!==0){x1(a,sa);return}n=a.return;var s=TA(a.alternate,a,Bi);if(s!==null){Ge=s;return}if(a=a.sibling,a!==null){Ge=a;return}Ge=a=n}while(a!==null);Nt===0&&(Nt=5)}function x1(n,a){do{var s=bA(n.alternate,n);if(s!==null){s.flags&=32767,Ge=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(n=n.sibling,n!==null)){Ge=n;return}Ge=n=s}while(n!==null);Nt=6,Ge=null}function N1(n,a,s,l,f,d,y,C,I){n.cancelPendingCommit=null;do go();while(jt!==0);if((et&6)!==0)throw Error(r(327));if(a!==null){if(a===n.current)throw Error(r(177));if(d=a.lanes|a.childLanes,d|=hf,lC(n,s,d,y,C,I),n===dt&&(Ge=dt=null,Ke=0),jr=a,oa=n,Pi=s,bd=d,Sd=f,g1=l,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,kA(Ie,function(){return L1(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||l){l=P.T,P.T=null,f=ee.p,ee.p=2,y=et,et|=4;try{SA(n,a,s)}finally{et=y,ee.p=f,P.T=l}}jt=1,R1(),O1(),D1()}}function R1(){if(jt===1){jt=0;var n=oa,a=jr,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=P.T,P.T=null;var l=ee.p;ee.p=2;var f=et;et|=4;try{l1(a,n);var d=Pd,y=mp(n.containerInfo),C=d.focusedElem,I=d.selectionRange;if(y!==C&&C&&C.ownerDocument&&hp(C.ownerDocument.documentElement,C)){if(I!==null&&lf(C)){var z=I.start,$=I.end;if($===void 0&&($=z),"selectionStart"in C)C.selectionStart=z,C.selectionEnd=Math.min($,C.value.length);else{var ae=C.ownerDocument||document,Y=ae&&ae.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),be=C.textContent.length,De=Math.min(I.start,be),ot=I.end===void 0?De:Math.min(I.end,be);!Q.extend&&De>ot&&(y=ot,ot=De,De=y);var M=dp(C,De),k=dp(C,ot);if(M&&k&&(Q.rangeCount!==1||Q.anchorNode!==M.node||Q.anchorOffset!==M.offset||Q.focusNode!==k.node||Q.focusOffset!==k.offset)){var F=ae.createRange();F.setStart(M.node,M.offset),Q.removeAllRanges(),De>ot?(Q.addRange(F),Q.extend(k.node,k.offset)):(F.setEnd(k.node,k.offset),Q.addRange(F))}}}}for(ae=[],Q=C;Q=Q.parentNode;)Q.nodeType===1&&ae.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ae.length;C++){var ne=ae[C];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Ro=!!Bd,Pd=Bd=null}finally{et=f,ee.p=l,P.T=s}}n.current=a,jt=2}}function O1(){if(jt===2){jt=0;var n=oa,a=jr,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=P.T,P.T=null;var l=ee.p;ee.p=2;var f=et;et|=4;try{i1(n,a.alternate,a)}finally{et=f,ee.p=l,P.T=s}}jt=3}}function D1(){if(jt===4||jt===3){jt=0,it();var n=oa,a=jr,s=Pi,l=g1;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?jt=5:(jt=0,jr=oa=null,I1(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(la=null),jc(s),a=a.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(cn,a,void 0,(a.current.flags&128)===128)}catch{}if(l!==null){a=P.T,f=ee.p,ee.p=2,P.T=null;try{for(var d=n.onRecoverableError,y=0;y<l.length;y++){var C=l[y];d(C.value,{componentStack:C.stack})}}finally{P.T=a,ee.p=f}}(Pi&3)!==0&&go(),fi(n),f=n.pendingLanes,(s&261930)!==0&&(f&42)!==0?n===Cd?uu++:(uu=0,Cd=n):uu=0,lu(0)}}function I1(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,js(a)))}function go(){return R1(),O1(),D1(),L1()}function L1(){if(jt!==5)return!1;var n=oa,a=bd;bd=0;var s=jc(Pi),l=P.T,f=ee.p;try{ee.p=32>s?32:s,P.T=null,s=Sd,Sd=null;var d=oa,y=Pi;if(jt=0,jr=oa=null,Pi=0,(et&6)!==0)throw Error(r(331));var C=et;if(et|=4,h1(d.current),c1(d,d.current,y,s),et=C,lu(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(cn,d)}catch{}return!0}finally{ee.p=f,P.T=l,I1(n,a)}}function k1(n,a,s){a=zn(s,a),a=td(n.stateNode,a,2),n=na(n,a,2),n!==null&&(Rs(n,2),fi(n))}function st(n,a,s){if(n.tag===3)k1(n,n,s);else for(;a!==null;){if(a.tag===3){k1(a,n,s);break}else if(a.tag===1){var l=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(la===null||!la.has(l))){n=zn(s,n),s=wg(2),l=na(a,s,2),l!==null&&(Mg(s,l,a,n),Rs(l,2),fi(l));break}}a=a.return}}function xd(n,a,s){var l=n.pingCache;if(l===null){l=n.pingCache=new vA;var f=new Set;l.set(a,f)}else f=l.get(a),f===void 0&&(f=new Set,l.set(a,f));f.has(s)||(_d=!0,f.add(s),n=DA.bind(null,n,a,s),a.then(n,n))}function DA(n,a,s){var l=n.pingCache;l!==null&&l.delete(a),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,dt===n&&(Ke&s)===s&&(Nt===4||Nt===3&&(Ke&62914560)===Ke&&300>ht()-oo?(et&2)===0&&Yr(n,0):yd|=s,zr===Ke&&(zr=0)),fi(n)}function w1(n,a){a===0&&(a=Rm()),n=Pa(n,a),n!==null&&(Rs(n,a),fi(n))}function IA(n){var a=n.memoizedState,s=0;a!==null&&(s=a.retryLane),w1(n,s)}function LA(n,a){var s=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(a),w1(n,s)}function kA(n,a){return w(n,a)}var Eo=null,Vr=null,Nd=!1,_o=!1,Rd=!1,fa=0;function fi(n){n!==Vr&&n.next===null&&(Vr===null?Eo=Vr=n:Vr=Vr.next=n),_o=!0,Nd||(Nd=!0,MA())}function lu(n,a){if(!Rd&&_o){Rd=!0;do for(var s=!1,l=Eo;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var y=l.suspendedLanes,C=l.pingedLanes;d=(1<<31-ft(42|n)+1)-1,d&=f&~(y&~C),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,U1(l,d))}else d=Ke,d=bl(l,l===dt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Ns(l,d)||(s=!0,U1(l,d));l=l.next}while(s);Rd=!1}}function wA(){M1()}function M1(){_o=Nd=!1;var n=0;fa!==0&&VA()&&(n=fa);for(var a=ht(),s=null,l=Eo;l!==null;){var f=l.next,d=B1(l,a);d===0?(l.next=null,s===null?Eo=f:s.next=f,f===null&&(Vr=s)):(s=l,(n!==0||(d&3)!==0)&&(_o=!0)),l=f}jt!==0&&jt!==5||lu(n),fa!==0&&(fa=0)}function B1(n,a){for(var s=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var y=31-ft(d),C=1<<y,I=f[y];I===-1?((C&s)===0||(C&l)!==0)&&(f[y]=uC(C,a)):I<=a&&(n.expiredLanes|=C),d&=~C}if(a=dt,s=Ke,s=bl(n,n===a?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,s===0||n===a&&(rt===2||rt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ge(l),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||Ns(n,s)){if(a=s&-s,a===n.callbackPriority)return a;switch(l!==null&&ge(l),jc(s)){case 2:case 8:s=me;break;case 32:s=Ie;break;case 268435456:s=at;break;default:s=Ie}return l=P1.bind(null,n),s=w(s,l),n.callbackPriority=a,n.callbackNode=s,a}return l!==null&&l!==null&&ge(l),n.callbackPriority=2,n.callbackNode=null,2}function P1(n,a){if(jt!==0&&jt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(go()&&n.callbackNode!==s)return null;var l=Ke;return l=bl(n,n===dt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(_1(n,l,a),B1(n,ht()),n.callbackNode!=null&&n.callbackNode===s?P1.bind(null,n):null)}function U1(n,a){if(go())return null;_1(n,a,!0)}function MA(){XA(function(){(et&6)!==0?w(Z,wA):M1()})}function Od(){if(fa===0){var n=Dr;n===0&&(n=_l,_l<<=1,(_l&261888)===0&&(_l=256)),fa=n}return fa}function H1(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:vl(""+n)}function F1(n,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,n.id&&s.setAttribute("form",n.id),a.parentNode.insertBefore(s,a),n=new FormData(n),s.parentNode.removeChild(s),n}function BA(n,a,s,l,f){if(a==="submit"&&s&&s.stateNode===f){var d=H1((f[mn]||null).action),y=l.submitter;y&&(a=(a=y[mn]||null)?H1(a.formAction):y.getAttribute("formAction"),a!==null&&(d=a,y=null));var C=new Ol("action","action",null,l,f);n.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(fa!==0){var I=y?F1(f,y):new FormData(f);Kf(s,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(C.preventDefault(),I=y?F1(f,y):new FormData(f),Kf(s,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var Dd=0;Dd<df.length;Dd++){var Id=df[Dd],PA=Id.toLowerCase(),UA=Id[0].toUpperCase()+Id.slice(1);ei(PA,"on"+UA)}ei(Ep,"onAnimationEnd"),ei(_p,"onAnimationIteration"),ei(yp,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(eA,"onTransitionRun"),ei(tA,"onTransitionStart"),ei(nA,"onTransitionCancel"),ei(Tp,"onTransitionEnd"),gr("onMouseEnter",["mouseout","mouseover"]),gr("onMouseLeave",["mouseout","mouseover"]),gr("onPointerEnter",["pointerout","pointerover"]),gr("onPointerLeave",["pointerout","pointerover"]),ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ka("onBeforeInput",["compositionend","keypress","textInput","paste"]),ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ou));function z1(n,a){a=(a&4)!==0;for(var s=0;s<n.length;s++){var l=n[s],f=l.event;l=l.listeners;e:{var d=void 0;if(a)for(var y=l.length-1;0<=y;y--){var C=l[y],I=C.instance,z=C.currentTarget;if(C=C.listener,I!==d&&f.isPropagationStopped())break e;d=C,f.currentTarget=z;try{d(f)}catch($){Ll($)}f.currentTarget=null,d=I}else for(y=0;y<l.length;y++){if(C=l[y],I=C.instance,z=C.currentTarget,C=C.listener,I!==d&&f.isPropagationStopped())break e;d=C,f.currentTarget=z;try{d(f)}catch($){Ll($)}f.currentTarget=null,d=I}}}}function Xe(n,a){var s=a[Yc];s===void 0&&(s=a[Yc]=new Set);var l=n+"__bubble";s.has(l)||(j1(a,n,2,!1),s.add(l))}function Ld(n,a,s){var l=0;a&&(l|=4),j1(s,n,l,a)}var yo="_reactListening"+Math.random().toString(36).slice(2);function kd(n){if(!n[yo]){n[yo]=!0,Mm.forEach(function(s){s!=="selectionchange"&&(HA.has(s)||Ld(s,!1,n),Ld(s,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[yo]||(a[yo]=!0,Ld("selectionchange",!1,a))}}function j1(n,a,s,l){switch(EE(a)){case 2:var f=h3;break;case 8:f=m3;break;default:f=Qd}s=f.bind(null,a,s,n),f=void 0,!Zc||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(a,s,{capture:!0,passive:f}):n.addEventListener(a,s,!0):f!==void 0?n.addEventListener(a,s,{passive:f}):n.addEventListener(a,s,!1)}function wd(n,a,s,l,f){var d=l;if((a&1)===0&&(a&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var C=l.stateNode.containerInfo;if(C===f)break;if(y===4)for(y=l.return;y!==null;){var I=y.tag;if((I===3||I===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;C!==null;){if(y=hr(C),y===null)return;if(I=y.tag,I===5||I===6||I===26||I===27){l=d=y;continue e}C=C.parentNode}}l=l.return}Xm(function(){var z=d,$=Wc(s),ae=[];e:{var Y=bp.get(n);if(Y!==void 0){var Q=Ol,be=n;switch(n){case"keypress":if(Nl(s)===0)break e;case"keydown":case"keyup":Q=LC;break;case"focusin":be="focus",Q=nf;break;case"focusout":be="blur",Q=nf;break;case"beforeblur":case"afterblur":Q=nf;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Wm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=TC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=MC;break;case Ep:case _p:case yp:Q=CC;break;case Tp:Q=PC;break;case"scroll":case"scrollend":Q=_C;break;case"wheel":Q=HC;break;case"copy":case"cut":case"paste":Q=vC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Zm;break;case"toggle":case"beforetoggle":Q=zC}var De=(a&4)!==0,ot=!De&&(n==="scroll"||n==="scrollend"),M=De?Y!==null?Y+"Capture":null:Y;De=[];for(var k=z,F;k!==null;){var ne=k;if(F=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||F===null||M===null||(ne=Is(k,M),ne!=null&&De.push(cu(k,ne,F))),ot)break;k=k.return}0<De.length&&(Y=new Q(Y,be,null,s,$),ae.push({event:Y,listeners:De}))}}if((a&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",Y&&s!==Kc&&(be=s.relatedTarget||s.fromElement)&&(hr(be)||be[dr]))break e;if((Q||Y)&&(Y=$.window===$?$:(Y=$.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(be=s.relatedTarget||s.toElement,Q=z,be=be?hr(be):null,be!==null&&(ot=o(be),De=be.tag,be!==ot||De!==5&&De!==27&&De!==6)&&(be=null)):(Q=null,be=z),Q!==be)){if(De=Wm,ne="onMouseLeave",M="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(De=Zm,ne="onPointerLeave",M="onPointerEnter",k="pointer"),ot=Q==null?Y:Ds(Q),F=be==null?Y:Ds(be),Y=new De(ne,k+"leave",Q,s,$),Y.target=ot,Y.relatedTarget=F,ne=null,hr($)===z&&(De=new De(M,k+"enter",be,s,$),De.target=F,De.relatedTarget=ot,ne=De),ot=ne,Q&&be)t:{for(De=FA,M=Q,k=be,F=0,ne=M;ne;ne=De(ne))F++;ne=0;for(var Ne=k;Ne;Ne=De(Ne))ne++;for(;0<F-ne;)M=De(M),F--;for(;0<ne-F;)k=De(k),ne--;for(;F--;){if(M===k||k!==null&&M===k.alternate){De=M;break t}M=De(M),k=De(k)}De=null}else De=null;Q!==null&&Y1(ae,Y,Q,De,!1),be!==null&&ot!==null&&Y1(ae,ot,be,De,!0)}}e:{if(Y=z?Ds(z):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var Ze=sp;else if(ap(Y))if(up)Ze=$C;else{Ze=KC;var Ce=QC}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?z&&Qc(z.elementType)&&(Ze=sp):Ze=WC;if(Ze&&(Ze=Ze(n,z))){rp(ae,Ze,s,$);break e}Ce&&Ce(n,Y,z),n==="focusout"&&z&&Y.type==="number"&&z.memoizedProps.value!=null&&Xc(Y,"number",Y.value)}switch(Ce=z?Ds(z):window,n){case"focusin":(ap(Ce)||Ce.contentEditable==="true")&&(Sr=Ce,of=z,Hs=null);break;case"focusout":Hs=of=Sr=null;break;case"mousedown":cf=!0;break;case"contextmenu":case"mouseup":case"dragend":cf=!1,pp(ae,s,$);break;case"selectionchange":if(JC)break;case"keydown":case"keyup":pp(ae,s,$)}var He;if(rf)e:{switch(n){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else br?np(n,s)&&(We="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(We="onCompositionStart");We&&(Jm&&s.locale!=="ko"&&(br||We!=="onCompositionStart"?We==="onCompositionEnd"&&br&&(He=Qm()):(Ki=$,Jc="value"in Ki?Ki.value:Ki.textContent,br=!0)),Ce=To(z,We),0<Ce.length&&(We=new $m(We,n,null,s,$),ae.push({event:We,listeners:Ce}),He?We.data=He:(He=ip(s),He!==null&&(We.data=He)))),(He=YC?qC(n,s):VC(n,s))&&(We=To(z,"onBeforeInput"),0<We.length&&(Ce=new $m("onBeforeInput","beforeinput",null,s,$),ae.push({event:Ce,listeners:We}),Ce.data=He)),BA(ae,n,z,s,$)}z1(ae,a)})}function cu(n,a,s){return{instance:n,listener:a,currentTarget:s}}function To(n,a){for(var s=a+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Is(n,s),f!=null&&l.unshift(cu(n,f,d)),f=Is(n,a),f!=null&&l.push(cu(n,f,d))),n.tag===3)return l;n=n.return}return[]}function FA(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Y1(n,a,s,l,f){for(var d=a._reactName,y=[];s!==null&&s!==l;){var C=s,I=C.alternate,z=C.stateNode;if(C=C.tag,I!==null&&I===l)break;C!==5&&C!==26&&C!==27||z===null||(I=z,f?(z=Is(s,d),z!=null&&y.unshift(cu(s,z,I))):f||(z=Is(s,d),z!=null&&y.push(cu(s,z,I)))),s=s.return}y.length!==0&&n.push({event:a,listeners:y})}var zA=/\r\n?/g,jA=/\u0000|\uFFFD/g;function q1(n){return(typeof n=="string"?n:""+n).replace(zA,`
`).replace(jA,"")}function V1(n,a){return a=q1(a),q1(n)===a}function lt(n,a,s,l,f,d){switch(s){case"children":typeof l=="string"?a==="body"||a==="textarea"&&l===""||_r(n,l):(typeof l=="number"||typeof l=="bigint")&&a!=="body"&&_r(n,""+l);break;case"className":Cl(n,"class",l);break;case"tabIndex":Cl(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Cl(n,s,l);break;case"style":Vm(n,l,d);break;case"data":if(a!=="object"){Cl(n,"data",l);break}case"src":case"href":if(l===""&&(a!=="a"||s!=="href")){n.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=vl(""+l),n.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(a!=="input"&&lt(n,a,"name",f.name,f,null),lt(n,a,"formEncType",f.formEncType,f,null),lt(n,a,"formMethod",f.formMethod,f,null),lt(n,a,"formTarget",f.formTarget,f,null)):(lt(n,a,"encType",f.encType,f,null),lt(n,a,"method",f.method,f,null),lt(n,a,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=vl(""+l),n.setAttribute(s,l);break;case"onClick":l!=null&&(n.onclick=Si);break;case"onScroll":l!=null&&Xe("scroll",n);break;case"onScrollEnd":l!=null&&Xe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=s}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}s=vl(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""+l):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":l===!0?n.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,l):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(s,l):n.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(s):n.setAttribute(s,l);break;case"popover":Xe("beforetoggle",n),Xe("toggle",n),Sl(n,"popover",l);break;case"xlinkActuate":bi(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bi(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bi(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bi(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bi(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bi(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bi(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Sl(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=gC.get(s)||s,Sl(n,s,l))}}function Md(n,a,s,l,f,d){switch(s){case"style":Vm(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=s}}break;case"children":typeof l=="string"?_r(n,l):(typeof l=="number"||typeof l=="bigint")&&_r(n,""+l);break;case"onScroll":l!=null&&Xe("scroll",n);break;case"onScrollEnd":l!=null&&Xe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bm.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),a=s.slice(2,f?s.length-7:void 0),d=n[mn]||null,d=d!=null?d[s]:null,typeof d=="function"&&n.removeEventListener(a,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(a,l,f);break e}s in n?n[s]=l:l===!0?n.setAttribute(s,""):Sl(n,s,l)}}}function nn(n,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",n),Xe("load",n);var l=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var y=s[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:lt(n,a,d,y,s,null)}}f&&lt(n,a,"srcSet",s.srcSet,s,null),l&&lt(n,a,"src",s.src,s,null);return;case"input":Xe("invalid",n);var C=d=y=f=null,I=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var $=s[l];if($!=null)switch(l){case"name":f=$;break;case"type":y=$;break;case"checked":I=$;break;case"defaultChecked":z=$;break;case"value":d=$;break;case"defaultValue":C=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,a));break;default:lt(n,a,l,$,s,null)}}zm(n,d,C,I,z,y,f,!1);return;case"select":Xe("invalid",n),l=y=d=null;for(f in s)if(s.hasOwnProperty(f)&&(C=s[f],C!=null))switch(f){case"value":d=C;break;case"defaultValue":y=C;break;case"multiple":l=C;default:lt(n,a,f,C,s,null)}a=d,s=y,n.multiple=!!l,a!=null?Er(n,!!l,a,!1):s!=null&&Er(n,!!l,s,!0);return;case"textarea":Xe("invalid",n),d=f=l=null;for(y in s)if(s.hasOwnProperty(y)&&(C=s[y],C!=null))switch(y){case"value":l=C;break;case"defaultValue":f=C;break;case"children":d=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:lt(n,a,y,C,s,null)}Ym(n,l,f,d);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(l=s[I],l!=null))switch(I){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:lt(n,a,I,l,s,null)}return;case"dialog":Xe("beforetoggle",n),Xe("toggle",n),Xe("cancel",n),Xe("close",n);break;case"iframe":case"object":Xe("load",n);break;case"video":case"audio":for(l=0;l<ou.length;l++)Xe(ou[l],n);break;case"image":Xe("error",n),Xe("load",n);break;case"details":Xe("toggle",n);break;case"embed":case"source":case"link":Xe("error",n),Xe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:lt(n,a,z,l,s,null)}return;default:if(Qc(a)){for($ in s)s.hasOwnProperty($)&&(l=s[$],l!==void 0&&Md(n,a,$,l,s,void 0));return}}for(C in s)s.hasOwnProperty(C)&&(l=s[C],l!=null&&lt(n,a,C,l,s,null))}function YA(n,a,s,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,y=null,C=null,I=null,z=null,$=null;for(Q in s){var ae=s[Q];if(s.hasOwnProperty(Q)&&ae!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=ae;default:l.hasOwnProperty(Q)||lt(n,a,Q,null,l,ae)}}for(var Y in l){var Q=l[Y];if(ae=s[Y],l.hasOwnProperty(Y)&&(Q!=null||ae!=null))switch(Y){case"type":d=Q;break;case"name":f=Q;break;case"checked":z=Q;break;case"defaultChecked":$=Q;break;case"value":y=Q;break;case"defaultValue":C=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,a));break;default:Q!==ae&&lt(n,a,Y,Q,l,ae)}}Gc(n,y,C,I,z,$,d,f);return;case"select":Q=y=C=Y=null;for(d in s)if(I=s[d],s.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Q=I;default:l.hasOwnProperty(d)||lt(n,a,d,null,l,I)}for(f in l)if(d=l[f],I=s[f],l.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":Y=d;break;case"defaultValue":C=d;break;case"multiple":y=d;default:d!==I&&lt(n,a,f,d,l,I)}a=C,s=y,l=Q,Y!=null?Er(n,!!s,Y,!1):!!l!=!!s&&(a!=null?Er(n,!!s,a,!0):Er(n,!!s,s?[]:"",!1));return;case"textarea":Q=Y=null;for(C in s)if(f=s[C],s.hasOwnProperty(C)&&f!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:lt(n,a,C,null,l,f)}for(y in l)if(f=l[y],d=s[y],l.hasOwnProperty(y)&&(f!=null||d!=null))switch(y){case"value":Y=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&lt(n,a,y,f,l,d)}jm(n,Y,Q);return;case"option":for(var be in s)if(Y=s[be],s.hasOwnProperty(be)&&Y!=null&&!l.hasOwnProperty(be))switch(be){case"selected":n.selected=!1;break;default:lt(n,a,be,null,l,Y)}for(I in l)if(Y=l[I],Q=s[I],l.hasOwnProperty(I)&&Y!==Q&&(Y!=null||Q!=null))switch(I){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:lt(n,a,I,Y,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in s)Y=s[De],s.hasOwnProperty(De)&&Y!=null&&!l.hasOwnProperty(De)&&lt(n,a,De,null,l,Y);for(z in l)if(Y=l[z],Q=s[z],l.hasOwnProperty(z)&&Y!==Q&&(Y!=null||Q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,a));break;default:lt(n,a,z,Y,l,Q)}return;default:if(Qc(a)){for(var ot in s)Y=s[ot],s.hasOwnProperty(ot)&&Y!==void 0&&!l.hasOwnProperty(ot)&&Md(n,a,ot,void 0,l,Y);for($ in l)Y=l[$],Q=s[$],!l.hasOwnProperty($)||Y===Q||Y===void 0&&Q===void 0||Md(n,a,$,Y,l,Q);return}}for(var M in s)Y=s[M],s.hasOwnProperty(M)&&Y!=null&&!l.hasOwnProperty(M)&&lt(n,a,M,null,l,Y);for(ae in l)Y=l[ae],Q=s[ae],!l.hasOwnProperty(ae)||Y===Q||Y==null&&Q==null||lt(n,a,ae,Y,l,Q)}function G1(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qA(){if(typeof performance.getEntriesByType=="function"){for(var n=0,a=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var f=s[l],d=f.transferSize,y=f.initiatorType,C=f.duration;if(d&&C&&G1(y)){for(y=0,C=f.responseEnd,l+=1;l<s.length;l++){var I=s[l],z=I.startTime;if(z>C)break;var $=I.transferSize,ae=I.initiatorType;$&&G1(ae)&&(I=I.responseEnd,y+=$*(I<C?1:(C-z)/(I-z)))}if(--l,a+=8*(d+y)/(f.duration/1e3),n++,10<n)break}}if(0<n)return a/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Bd=null,Pd=null;function bo(n){return n.nodeType===9?n:n.ownerDocument}function X1(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Q1(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function Ud(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Hd=null;function VA(){var n=window.event;return n&&n.type==="popstate"?n===Hd?!1:(Hd=n,!0):(Hd=null,!1)}var K1=typeof setTimeout=="function"?setTimeout:void 0,GA=typeof clearTimeout=="function"?clearTimeout:void 0,W1=typeof Promise=="function"?Promise:void 0,XA=typeof queueMicrotask=="function"?queueMicrotask:typeof W1<"u"?function(n){return W1.resolve(null).then(n).catch(QA)}:K1;function QA(n){setTimeout(function(){throw n})}function da(n){return n==="head"}function $1(n,a){var s=a,l=0;do{var f=s.nextSibling;if(n.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(l===0){n.removeChild(f),Kr(a);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")fu(n.ownerDocument.documentElement);else if(s==="head"){s=n.ownerDocument.head,fu(s);for(var d=s.firstChild;d;){var y=d.nextSibling,C=d.nodeName;d[Os]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=y}}else s==="body"&&fu(n.ownerDocument.body);s=f}while(s);Kr(a)}function Z1(n,a){var s=n;n=0;do{var l=s.nextSibling;if(s.nodeType===1?a?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(a?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(n===0)break;n--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||n++;s=l}while(s)}function Fd(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Fd(s),qc(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function KA(n,a,s,l){for(;n.nodeType===1;){var f=s;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Os])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Gn(n.nextSibling),n===null)break}return null}function WA(n,a,s){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Gn(n.nextSibling),n===null))return null;return n}function J1(n,a){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Gn(n.nextSibling),n===null))return null;return n}function zd(n){return n.data==="$?"||n.data==="$~"}function jd(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function $A(n,a){var s=n.ownerDocument;if(n.data==="$~")n._reactRetry=a;else if(n.data!=="$?"||s.readyState!=="loading")a();else{var l=function(){a(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Gn(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return n}var Yd=null;function eE(n){n=n.nextSibling;for(var a=0;n;){if(n.nodeType===8){var s=n.data;if(s==="/$"||s==="/&"){if(a===0)return Gn(n.nextSibling);a--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||a++}n=n.nextSibling}return null}function tE(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(a===0)return n;a--}else s!=="/$"&&s!=="/&"||a++}n=n.previousSibling}return null}function nE(n,a,s){switch(a=bo(s),n){case"html":if(n=a.documentElement,!n)throw Error(r(452));return n;case"head":if(n=a.head,!n)throw Error(r(453));return n;case"body":if(n=a.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function fu(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);qc(n)}var Xn=new Map,iE=new Set;function So(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ui=ee.d;ee.d={f:ZA,r:JA,D:e3,C:t3,L:n3,m:i3,X:r3,S:a3,M:s3};function ZA(){var n=Ui.f(),a=ho();return n||a}function JA(n){var a=mr(n);a!==null&&a.tag===5&&a.type==="form"?Tg(a):Ui.r(n)}var Gr=typeof document>"u"?null:document;function aE(n,a,s){var l=Gr;if(l&&typeof a=="string"&&a){var f=Hn(a);f='link[rel="'+n+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),iE.has(f)||(iE.add(f),n={rel:n,crossOrigin:s,href:a},l.querySelector(f)===null&&(a=l.createElement("link"),nn(a,"link",n),qt(a),l.head.appendChild(a)))}}function e3(n){Ui.D(n),aE("dns-prefetch",n,null)}function t3(n,a){Ui.C(n,a),aE("preconnect",n,a)}function n3(n,a,s){Ui.L(n,a,s);var l=Gr;if(l&&n&&a){var f='link[rel="preload"][as="'+Hn(a)+'"]';a==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Hn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Hn(s.imageSizes)+'"]')):f+='[href="'+Hn(n)+'"]';var d=f;switch(a){case"style":d=Xr(n);break;case"script":d=Qr(n)}Xn.has(d)||(n=T({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:n,as:a},s),Xn.set(d,n),l.querySelector(f)!==null||a==="style"&&l.querySelector(du(d))||a==="script"&&l.querySelector(hu(d))||(a=l.createElement("link"),nn(a,"link",n),qt(a),l.head.appendChild(a)))}}function i3(n,a){Ui.m(n,a);var s=Gr;if(s&&n){var l=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+Hn(l)+'"][href="'+Hn(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Qr(n)}if(!Xn.has(d)&&(n=T({rel:"modulepreload",href:n},a),Xn.set(d,n),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(hu(d)))return}l=s.createElement("link"),nn(l,"link",n),qt(l),s.head.appendChild(l)}}}function a3(n,a,s){Ui.S(n,a,s);var l=Gr;if(l&&n){var f=pr(l).hoistableStyles,d=Xr(n);a=a||"default";var y=f.get(d);if(!y){var C={loading:0,preload:null};if(y=l.querySelector(du(d)))C.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":a},s),(s=Xn.get(d))&&qd(n,s);var I=y=l.createElement("link");qt(I),nn(I,"link",n),I._p=new Promise(function(z,$){I.onload=z,I.onerror=$}),I.addEventListener("load",function(){C.loading|=1}),I.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Co(y,a,l)}y={type:"stylesheet",instance:y,count:1,state:C},f.set(d,y)}}}function r3(n,a){Ui.X(n,a);var s=Gr;if(s&&n){var l=pr(s).hoistableScripts,f=Qr(n),d=l.get(f);d||(d=s.querySelector(hu(f)),d||(n=T({src:n,async:!0},a),(a=Xn.get(f))&&Vd(n,a),d=s.createElement("script"),qt(d),nn(d,"link",n),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function s3(n,a){Ui.M(n,a);var s=Gr;if(s&&n){var l=pr(s).hoistableScripts,f=Qr(n),d=l.get(f);d||(d=s.querySelector(hu(f)),d||(n=T({src:n,async:!0,type:"module"},a),(a=Xn.get(f))&&Vd(n,a),d=s.createElement("script"),qt(d),nn(d,"link",n),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function rE(n,a,s,l){var f=(f=x.current)?So(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=Xr(s.href),s=pr(f).hoistableStyles,l=s.get(a),l||(l={type:"style",instance:null,count:0,state:null},s.set(a,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=Xr(s.href);var d=pr(f).hoistableStyles,y=d.get(n);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,y),(d=f.querySelector(du(n)))&&!d._p&&(y.instance=d,y.state.loading=5),Xn.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Xn.set(n,s),d||u3(f,n,s,y.state))),a&&l===null)throw Error(r(528,""));return y}if(a&&l!==null)throw Error(r(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Qr(s),s=pr(f).hoistableScripts,l=s.get(a),l||(l={type:"script",instance:null,count:0,state:null},s.set(a,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Xr(n){return'href="'+Hn(n)+'"'}function du(n){return'link[rel="stylesheet"]['+n+"]"}function sE(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function u3(n,a,s,l){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=n.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),nn(a,"link",s),qt(a),n.head.appendChild(a))}function Qr(n){return'[src="'+Hn(n)+'"]'}function hu(n){return"script[async]"+n}function uE(n,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var l=n.querySelector('style[data-href~="'+Hn(s.href)+'"]');if(l)return a.instance=l,qt(l),l;var f=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),qt(l),nn(l,"style",f),Co(l,s.precedence,n),a.instance=l;case"stylesheet":f=Xr(s.href);var d=n.querySelector(du(f));if(d)return a.state.loading|=4,a.instance=d,qt(d),d;l=sE(s),(f=Xn.get(f))&&qd(l,f),d=(n.ownerDocument||n).createElement("link"),qt(d);var y=d;return y._p=new Promise(function(C,I){y.onload=C,y.onerror=I}),nn(d,"link",l),a.state.loading|=4,Co(d,s.precedence,n),a.instance=d;case"script":return d=Qr(s.src),(f=n.querySelector(hu(d)))?(a.instance=f,qt(f),f):(l=s,(f=Xn.get(d))&&(l=T({},s),Vd(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),qt(f),nn(f,"link",l),n.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(l=a.instance,a.state.loading|=4,Co(l,s.precedence,n));return a.instance}function Co(n,a,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,y=0;y<l.length;y++){var C=l[y];if(C.dataset.precedence===a)d=C;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(n,a.firstChild))}function qd(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function Vd(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var Ao=null;function lE(n,a,s){if(Ao===null){var l=new Map,f=Ao=new Map;f.set(s,l)}else f=Ao,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(n))return l;for(l.set(n,null),s=s.getElementsByTagName(n),f=0;f<s.length;f++){var d=s[f];if(!(d[Os]||d[Zt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(a)||"";y=n+y;var C=l.get(y);C?C.push(d):l.set(y,[d])}}return l}function oE(n,a,s){n=n.ownerDocument||n,n.head.insertBefore(s,a==="title"?n.querySelector("head > title"):null)}function l3(n,a,s){if(s===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function cE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function o3(n,a,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Xr(l.href),d=a.querySelector(du(f));if(d){a=d._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(n.count++,n=vo.bind(n),a.then(n,n)),s.state.loading|=4,s.instance=d,qt(d);return}d=a.ownerDocument||a,l=sE(l),(f=Xn.get(f))&&qd(l,f),d=d.createElement("link"),qt(d);var y=d;y._p=new Promise(function(C,I){y.onload=C,y.onerror=I}),nn(d,"link",l),s.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(n.count++,s=vo.bind(n),a.addEventListener("load",s),a.addEventListener("error",s))}}var Gd=0;function c3(n,a){return n.stylesheets&&n.count===0&&No(n,n.stylesheets),0<n.count||0<n.imgCount?function(s){var l=setTimeout(function(){if(n.stylesheets&&No(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+a);0<n.imgBytes&&Gd===0&&(Gd=62500*qA());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&No(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>Gd?50:800)+a);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function vo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)No(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var xo=null;function No(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,xo=new Map,a.forEach(f3,n),xo=null,vo.call(n))}function f3(n,a){if(!(a.state.loading&4)){var s=xo.get(n);if(s)var l=s.get(null);else{s=new Map,xo.set(n,s);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var y=f[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),l=y)}l&&s.set(null,l)}f=a.instance,y=f.getAttribute("data-precedence"),d=s.get(y)||l,d===l&&s.set(null,f),s.set(y,f),this.count++,l=vo.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),a.state.loading|=4}}var mu={$$typeof:j,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function d3(n,a,s,l,f,d,y,C,I){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fc(0),this.hiddenUpdates=Fc(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function fE(n,a,s,l,f,d,y,C,I,z,$,ae){return n=new d3(n,a,s,y,I,z,$,ae,C),a=1,d===!0&&(a|=24),d=On(3,null,null,a),n.current=d,d.stateNode=n,a=vf(),a.refCount++,n.pooledCache=a,a.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:a},Of(d),n}function dE(n){return n?(n=vr,n):vr}function hE(n,a,s,l,f,d){f=dE(f),l.context===null?l.context=f:l.pendingContext=f,l=ta(a),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=na(n,l,a),s!==null&&(Tn(s,n,a),Gs(s,n,a))}function mE(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<a?s:a}}function Xd(n,a){mE(n,a),(n=n.alternate)&&mE(n,a)}function pE(n){if(n.tag===13||n.tag===31){var a=Pa(n,67108864);a!==null&&Tn(a,n,67108864),Xd(n,67108864)}}function gE(n){if(n.tag===13||n.tag===31){var a=wn();a=zc(a);var s=Pa(n,a);s!==null&&Tn(s,n,a),Xd(n,a)}}var Ro=!0;function h3(n,a,s,l){var f=P.T;P.T=null;var d=ee.p;try{ee.p=2,Qd(n,a,s,l)}finally{ee.p=d,P.T=f}}function m3(n,a,s,l){var f=P.T;P.T=null;var d=ee.p;try{ee.p=8,Qd(n,a,s,l)}finally{ee.p=d,P.T=f}}function Qd(n,a,s,l){if(Ro){var f=Kd(l);if(f===null)wd(n,a,l,Oo,s),_E(n,l);else if(g3(f,n,a,s,l))l.stopPropagation();else if(_E(n,l),a&4&&-1<p3.indexOf(n)){for(;f!==null;){var d=mr(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=La(d.pendingLanes);if(y!==0){var C=d;for(C.pendingLanes|=2,C.entangledLanes|=2;y;){var I=1<<31-ft(y);C.entanglements[1]|=I,y&=~I}fi(d),(et&6)===0&&(co=ht()+500,lu(0))}}break;case 31:case 13:C=Pa(d,2),C!==null&&Tn(C,d,2),ho(),Xd(d,2)}if(d=Kd(l),d===null&&wd(n,a,l,Oo,s),d===f)break;f=d}f!==null&&l.stopPropagation()}else wd(n,a,l,null,s)}}function Kd(n){return n=Wc(n),Wd(n)}var Oo=null;function Wd(n){if(Oo=null,n=hr(n),n!==null){var a=o(n);if(a===null)n=null;else{var s=a.tag;if(s===13){if(n=c(a),n!==null)return n;n=null}else if(s===31){if(n=h(a),n!==null)return n;n=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return Oo=n,null}function EE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mt()){case Z:return 2;case me:return 8;case Ie:case Ve:return 32;case at:return 268435456;default:return 32}default:return 32}}var $d=!1,ha=null,ma=null,pa=null,pu=new Map,gu=new Map,ga=[],p3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _E(n,a){switch(n){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":pu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":gu.delete(a.pointerId)}}function Eu(n,a,s,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:a,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},a!==null&&(a=mr(a),a!==null&&pE(a)),n):(n.eventSystemFlags|=l,a=n.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),n)}function g3(n,a,s,l,f){switch(a){case"focusin":return ha=Eu(ha,n,a,s,l,f),!0;case"dragenter":return ma=Eu(ma,n,a,s,l,f),!0;case"mouseover":return pa=Eu(pa,n,a,s,l,f),!0;case"pointerover":var d=f.pointerId;return pu.set(d,Eu(pu.get(d)||null,n,a,s,l,f)),!0;case"gotpointercapture":return d=f.pointerId,gu.set(d,Eu(gu.get(d)||null,n,a,s,l,f)),!0}return!1}function yE(n){var a=hr(n.target);if(a!==null){var s=o(a);if(s!==null){if(a=s.tag,a===13){if(a=c(s),a!==null){n.blockedOn=a,km(n.priority,function(){gE(s)});return}}else if(a===31){if(a=h(s),a!==null){n.blockedOn=a,km(n.priority,function(){gE(s)});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Do(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var s=Kd(n.nativeEvent);if(s===null){s=n.nativeEvent;var l=new s.constructor(s.type,s);Kc=l,s.target.dispatchEvent(l),Kc=null}else return a=mr(s),a!==null&&pE(a),n.blockedOn=s,!1;a.shift()}return!0}function TE(n,a,s){Do(n)&&s.delete(a)}function E3(){$d=!1,ha!==null&&Do(ha)&&(ha=null),ma!==null&&Do(ma)&&(ma=null),pa!==null&&Do(pa)&&(pa=null),pu.forEach(TE),gu.forEach(TE)}function Io(n,a){n.blockedOn===a&&(n.blockedOn=null,$d||($d=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,E3)))}var Lo=null;function bE(n){Lo!==n&&(Lo=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Lo===n&&(Lo=null);for(var a=0;a<n.length;a+=3){var s=n[a],l=n[a+1],f=n[a+2];if(typeof l!="function"){if(Wd(l||s)===null)continue;break}var d=mr(s);d!==null&&(n.splice(a,3),a-=3,Kf(d,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function Kr(n){function a(I){return Io(I,n)}ha!==null&&Io(ha,n),ma!==null&&Io(ma,n),pa!==null&&Io(pa,n),pu.forEach(a),gu.forEach(a);for(var s=0;s<ga.length;s++){var l=ga[s];l.blockedOn===n&&(l.blockedOn=null)}for(;0<ga.length&&(s=ga[0],s.blockedOn===null);)yE(s),s.blockedOn===null&&ga.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],d=s[l+1],y=f[mn]||null;if(typeof d=="function")y||bE(s);else if(y){var C=null;if(d&&d.hasAttribute("formAction")){if(f=d,y=d[mn]||null)C=y.formAction;else if(Wd(f)!==null)continue}else C=y.action;typeof C=="function"?s[l+1]=C:(s.splice(l,3),l-=3),bE(s)}}}function SE(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return f=y})},focusReset:"manual",scroll:"manual"})}function a(){f!==null&&(f(),f=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),f!==null&&(f(),f=null)}}}function Zd(n){this._internalRoot=n}ko.prototype.render=Zd.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(r(409));var s=a.current,l=wn();hE(s,l,n,a,null,null)},ko.prototype.unmount=Zd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;hE(n.current,2,null,n,null,null),ho(),a[dr]=null}};function ko(n){this._internalRoot=n}ko.prototype.unstable_scheduleHydration=function(n){if(n){var a=Lm();n={blockedOn:null,target:n,priority:a};for(var s=0;s<ga.length&&a!==0&&a<ga[s].priority;s++);ga.splice(s,0,n),s===0&&yE(n)}};var CE=t.version;if(CE!=="19.2.0")throw Error(r(527,CE,"19.2.0"));ee.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=g(a),n=n!==null?_(n):null,n=n===null?null:n.stateNode,n};var _3={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wo.isDisabled&&wo.supportsFiber)try{cn=wo.inject(_3),zt=wo}catch{}}return yu.createRoot=function(n,a){if(!u(n))throw Error(r(299));var s=!1,l="",f=Dg,d=Ig,y=Lg;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=fE(n,1,!1,null,null,s,l,null,f,d,y,SE),n[dr]=a.current,kd(n),new Zd(a)},yu.hydrateRoot=function(n,a,s){if(!u(n))throw Error(r(299));var l=!1,f="",d=Dg,y=Ig,C=Lg,I=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),a=fE(n,1,!0,a,s??null,l,f,I,d,y,C,SE),a.context=dE(null),s=a.current,l=wn(),l=zc(l),f=ta(l),f.callback=null,na(s,f,l),s=l,a.current.lanes=s,Rs(a,s),fi(a),n[dr]=a.current,kd(n),new ko(a)},yu.version="19.2.0",yu}var kE;function O3(){if(kE)return th.exports;kE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),th.exports=R3(),th.exports}var D3=O3();const I3=Ec(D3),Yt=({children:e,onClick:t,type:i="default",style:r,as:u="button"})=>{const o={padding:"8px 14px",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",background:"#777a7cff",color:"white",display:"inline-block"},c={...o,background:"#d9534f"},h=i==="danger"?c:o,p=u;return E.jsx(p,{style:{...h,...r},onClick:t,children:e})},L3=()=>{};var wE={};const Fy={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const de=function(e,t){if(!e)throw gs(t)},gs=function(e){return new Error("Firebase Database ("+Fy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};const zy=function(e){const t=[];let i=0;for(let r=0;r<e.length;r++){let u=e.charCodeAt(r);u<128?t[i++]=u:u<2048?(t[i++]=u>>6|192,t[i++]=u&63|128):(u&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(e.charCodeAt(++r)&1023),t[i++]=u>>18|240,t[i++]=u>>12&63|128,t[i++]=u>>6&63|128,t[i++]=u&63|128):(t[i++]=u>>12|224,t[i++]=u>>6&63|128,t[i++]=u&63|128)}return t},k3=function(e){const t=[];let i=0,r=0;for(;i<e.length;){const u=e[i++];if(u<128)t[r++]=String.fromCharCode(u);else if(u>191&&u<224){const o=e[i++];t[r++]=String.fromCharCode((u&31)<<6|o&63)}else if(u>239&&u<365){const o=e[i++],c=e[i++],h=e[i++],p=((u&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const o=e[i++],c=e[i++];t[r++]=String.fromCharCode((u&15)<<12|(o&63)<<6|c&63)}}return t.join("")},y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<e.length;u+=3){const o=e[u],c=u+1<e.length,h=c?e[u+1]:0,p=u+2<e.length,g=p?e[u+2]:0,_=o>>2,T=(o&3)<<4|h>>4;let b=(h&15)<<2|g>>6,S=g&63;p||(S=64,c||(b=64)),r.push(i[_],i[T],i[b],i[S])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(zy(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):k3(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<e.length;){const o=i[e.charAt(u++)],h=u<e.length?i[e.charAt(u)]:0;++u;const g=u<e.length?i[e.charAt(u)]:64;++u;const T=u<e.length?i[e.charAt(u)]:64;if(++u,o==null||h==null||g==null||T==null)throw new w3;const b=o<<2|h>>4;if(r.push(b),g!==64){const S=h<<4&240|g>>2;if(r.push(S),T!==64){const B=g<<6&192|T;r.push(B)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class w3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jy=function(e){const t=zy(e);return y0.encodeByteArray(t,!0)},Qo=function(e){return jy(e).replace(/\./g,"")},kh=function(e){try{return y0.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function M3(e){return Yy(void 0,e)}function Yy(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!B3(i)||(e[i]=Yy(e[i],t[i]));return e}function B3(e){return e!=="__proto__"}function P3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const U3=()=>P3().__FIREBASE_DEFAULTS__,H3=()=>{if(typeof process>"u"||typeof wE>"u")return;const e=wE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},F3=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&kh(e[1]);return t&&JSON.parse(t)},qy=()=>{try{return L3()||U3()||H3()||F3()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},z3=e=>qy()?.emulatorHosts?.[e],j3=e=>{const t=z3(e);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},Vy=()=>qy()?.config;class sl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function T0(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Y3(e){return(await fetch(e,{credentials:"include"})).ok}function q3(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",u=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Qo(JSON.stringify(i)),Qo(JSON.stringify(c)),""].join(".")}const ku={};function V3(){const e={prod:[],emulator:[]};for(const t of Object.keys(ku))ku[t]?e.emulator.push(t):e.prod.push(t);return e}function G3(e){let t=document.getElementById(e),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),i=!0),{created:i,element:t}}let ME=!1;function X3(e,t){if(typeof window>"u"||typeof document>"u"||!T0(window.location.host)||ku[e]===t||ku[e]||ME)return;ku[e]=t;function i(b){return`__firebase__banner__${b}`}const r="__firebase__banner",o=V3().prod.length>0;function c(){const b=document.getElementById(r);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,S){b.setAttribute("width","24"),b.setAttribute("id",S),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{ME=!0,c()},b}function _(b,S){b.setAttribute("id",S),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=G3(r),S=i("text"),B=document.getElementById(S)||document.createElement("span"),X=i("learnmore"),J=document.getElementById(X)||document.createElement("a"),G=i("preprendIcon"),Ee=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const j=b.element;h(j),_(J,X);const Te=g();p(Ee,G),j.append(Ee,B,J,Te),document.body.appendChild(j)}o?(B.innerText="Preview backend disconnected.",Ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function Q3(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Q3())}function K3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function W3(){return Fy.NODE_ADMIN===!0}function $3(){try{return typeof indexedDB=="object"}catch{return!1}}function Z3(){return new Promise((e,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(r),e(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{t(u.error?.message||"")}}catch(i){t(i)}})}const J3="FirebaseError";class ul extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=J3,Object.setPrototypeOf(this,ul.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xy.prototype.create)}}class Xy{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},u=`${this.service}/${t}`,o=this.errors[t],c=o?ev(o,r):"Error",h=`${this.serviceName}: ${c} (${u}).`;return new ul(u,h,r)}}function ev(e,t){return e.replace(tv,(i,r)=>{const u=t[r];return u!=null?String(u):`<${r}?>`})}const tv=/\{\$([^}]+)}/g;function Xu(e){return JSON.parse(e)}function Wt(e){return JSON.stringify(e)}const Qy=function(e){let t={},i={},r={},u="";try{const o=e.split(".");t=Xu(kh(o[0])||""),i=Xu(kh(o[1])||""),u=o[2],r=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:r,signature:u}},nv=function(e){const t=Qy(e),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},iv=function(e){const t=Qy(e).claims;return typeof t=="object"&&t.admin===!0};function gi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ls(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function BE(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ko(e,t,i){const r={};for(const u in e)Object.prototype.hasOwnProperty.call(e,u)&&(r[u]=t.call(i,e[u],u,e));return r}function Wo(e,t){if(e===t)return!0;const i=Object.keys(e),r=Object.keys(t);for(const u of i){if(!r.includes(u))return!1;const o=e[u],c=t[u];if(PE(o)&&PE(c)){if(!Wo(o,c))return!1}else if(o!==c)return!1}for(const u of r)if(!i.includes(u))return!1;return!0}function PE(e){return e!==null&&typeof e=="object"}function av(e){const t=[];for(const[i,r]of Object.entries(e))Array.isArray(r)?r.forEach(u=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(u))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}class rv{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const r=this.W_;if(typeof t=="string")for(let T=0;T<16;T++)r[T]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let T=0;T<16;T++)r[T]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let T=16;T<80;T++){const b=r[T-3]^r[T-8]^r[T-14]^r[T-16];r[T]=(b<<1|b>>>31)&4294967295}let u=this.chain_[0],o=this.chain_[1],c=this.chain_[2],h=this.chain_[3],p=this.chain_[4],g,_;for(let T=0;T<80;T++){T<40?T<20?(g=h^o&(c^h),_=1518500249):(g=o^c^h,_=1859775393):T<60?(g=o&c|h&(o|c),_=2400959708):(g=o^c^h,_=3395469782);const b=(u<<5|u>>>27)+g+p+_+r[T]&4294967295;p=h,h=c,c=(o<<30|o>>>2)&4294967295,o=u,u=b}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const r=i-this.blockSize;let u=0;const o=this.buf_;let c=this.inbuf_;for(;u<i;){if(c===0)for(;u<=r;)this.compress_(t,u),u+=this.blockSize;if(typeof t=="string"){for(;u<i;)if(o[c]=t.charCodeAt(u),++c,++u,c===this.blockSize){this.compress_(o),c=0;break}}else for(;u<i;)if(o[c]=t[u],++c,++u,c===this.blockSize){this.compress_(o),c=0;break}}this.inbuf_=c,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let u=this.blockSize-1;u>=56;u--)this.buf_[u]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let u=0;u<5;u++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[u]>>o&255,++r;return t}}function _c(e,t){return`${e} failed: ${t} argument `}const sv=function(e){const t=[];let i=0;for(let r=0;r<e.length;r++){let u=e.charCodeAt(r);if(u>=55296&&u<=56319){const o=u-55296;r++,de(r<e.length,"Surrogate pair missing trail surrogate.");const c=e.charCodeAt(r)-56320;u=65536+(o<<10)+c}u<128?t[i++]=u:u<2048?(t[i++]=u>>6|192,t[i++]=u&63|128):u<65536?(t[i++]=u>>12|224,t[i++]=u>>6&63|128,t[i++]=u&63|128):(t[i++]=u>>18|240,t[i++]=u>>12&63|128,t[i++]=u>>6&63|128,t[i++]=u&63|128)}return t},yc=function(e){let t=0;for(let i=0;i<e.length;i++){const r=e.charCodeAt(i);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,i++):t+=3}return t};function ll(e){return e&&e._delegate?e._delegate:e}class Qu{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Wa="[DEFAULT]";class uv{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new sl;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(r)return null;throw u}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ov(t))try{this.getOrInitializeService({instanceIdentifier:Wa})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const o=this.getOrInitializeService({instanceIdentifier:u});r.resolve(o)}catch{}}}}clearInstance(t=Wa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Wa){return this.instances.has(t)}getOptions(t=Wa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&c.resolve(u)}return u}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(r)??new Set;u.add(t),this.onInitCallbacks.set(r,u);const o=this.instances.get(r);return o&&t(o,r),()=>{u.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const u of r)try{u(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lv(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Wa){return this.component?this.component.multipleInstances?t:Wa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lv(e){return e===Wa?void 0:e}function ov(e){return e.instantiationMode==="EAGER"}class cv{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new uv(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var _t;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(_t||(_t={}));const fv={debug:_t.DEBUG,verbose:_t.VERBOSE,info:_t.INFO,warn:_t.WARN,error:_t.ERROR,silent:_t.SILENT},dv=_t.INFO,hv={[_t.DEBUG]:"log",[_t.VERBOSE]:"log",[_t.INFO]:"info",[_t.WARN]:"warn",[_t.ERROR]:"error"},mv=(e,t,...i)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),u=hv[t];if(u)console[u](`[${r}]  ${e.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ky{constructor(t){this.name=t,this._logLevel=dv,this._logHandler=mv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _t))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fv[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_t.DEBUG,...t),this._logHandler(this,_t.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_t.VERBOSE,...t),this._logHandler(this,_t.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_t.INFO,...t),this._logHandler(this,_t.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_t.WARN,...t),this._logHandler(this,_t.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_t.ERROR,...t),this._logHandler(this,_t.ERROR,...t)}}const pv=(e,t)=>t.some(i=>e instanceof i);let UE,HE;function gv(){return UE||(UE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ev(){return HE||(HE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wy=new WeakMap,wh=new WeakMap,$y=new WeakMap,rh=new WeakMap,b0=new WeakMap;function _v(e){const t=new Promise((i,r)=>{const u=()=>{e.removeEventListener("success",o),e.removeEventListener("error",c)},o=()=>{i(Ca(e.result)),u()},c=()=>{r(e.error),u()};e.addEventListener("success",o),e.addEventListener("error",c)});return t.then(i=>{i instanceof IDBCursor&&Wy.set(i,e)}).catch(()=>{}),b0.set(t,e),t}function yv(e){if(wh.has(e))return;const t=new Promise((i,r)=>{const u=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",c),e.removeEventListener("abort",c)},o=()=>{i(),u()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),u()};e.addEventListener("complete",o),e.addEventListener("error",c),e.addEventListener("abort",c)});wh.set(e,t)}let Mh={get(e,t,i){if(e instanceof IDBTransaction){if(t==="done")return wh.get(e);if(t==="objectStoreNames")return e.objectStoreNames||$y.get(e);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ca(e[t])},set(e,t,i){return e[t]=i,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Tv(e){Mh=e(Mh)}function bv(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=e.call(sh(this),t,...i);return $y.set(r,t.sort?t.sort():[t]),Ca(r)}:Ev().includes(e)?function(...t){return e.apply(sh(this),t),Ca(Wy.get(this))}:function(...t){return Ca(e.apply(sh(this),t))}}function Sv(e){return typeof e=="function"?bv(e):(e instanceof IDBTransaction&&yv(e),pv(e,gv())?new Proxy(e,Mh):e)}function Ca(e){if(e instanceof IDBRequest)return _v(e);if(rh.has(e))return rh.get(e);const t=Sv(e);return t!==e&&(rh.set(e,t),b0.set(t,e)),t}const sh=e=>b0.get(e);function Cv(e,t,{blocked:i,upgrade:r,blocking:u,terminated:o}={}){const c=indexedDB.open(e,t),h=Ca(c);return r&&c.addEventListener("upgradeneeded",p=>{r(Ca(c.result),p.oldVersion,p.newVersion,Ca(c.transaction),p)}),i&&c.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),h.then(p=>{o&&p.addEventListener("close",()=>o()),u&&p.addEventListener("versionchange",g=>u(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const Av=["get","getKey","getAll","getAllKeys","count"],vv=["put","add","delete","clear"],uh=new Map;function FE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(uh.get(t))return uh.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,u=vv.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(u||Av.includes(i)))return;const o=async function(c,...h){const p=this.transaction(c,u?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(h.shift())),(await Promise.all([g[i](...h),u&&p.done]))[0]};return uh.set(t,o),o}Tv(e=>({...e,get:(t,i,r)=>FE(t,i)||e.get(t,i,r),has:(t,i)=>!!FE(t,i)||e.has(t,i)}));class xv{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Nv(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function Nv(e){return e.getComponent()?.type==="VERSION"}const Bh="@firebase/app",zE="0.14.6";const Yi=new Ky("@firebase/app"),Rv="@firebase/app-compat",Ov="@firebase/analytics-compat",Dv="@firebase/analytics",Iv="@firebase/app-check-compat",Lv="@firebase/app-check",kv="@firebase/auth",wv="@firebase/auth-compat",Mv="@firebase/database",Bv="@firebase/data-connect",Pv="@firebase/database-compat",Uv="@firebase/functions",Hv="@firebase/functions-compat",Fv="@firebase/installations",zv="@firebase/installations-compat",jv="@firebase/messaging",Yv="@firebase/messaging-compat",qv="@firebase/performance",Vv="@firebase/performance-compat",Gv="@firebase/remote-config",Xv="@firebase/remote-config-compat",Qv="@firebase/storage",Kv="@firebase/storage-compat",Wv="@firebase/firestore",$v="@firebase/ai",Zv="@firebase/firestore-compat",Jv="firebase",ex="12.6.0";const Ph="[DEFAULT]",tx={[Bh]:"fire-core",[Rv]:"fire-core-compat",[Dv]:"fire-analytics",[Ov]:"fire-analytics-compat",[Lv]:"fire-app-check",[Iv]:"fire-app-check-compat",[kv]:"fire-auth",[wv]:"fire-auth-compat",[Mv]:"fire-rtdb",[Bv]:"fire-data-connect",[Pv]:"fire-rtdb-compat",[Uv]:"fire-fn",[Hv]:"fire-fn-compat",[Fv]:"fire-iid",[zv]:"fire-iid-compat",[jv]:"fire-fcm",[Yv]:"fire-fcm-compat",[qv]:"fire-perf",[Vv]:"fire-perf-compat",[Gv]:"fire-rc",[Xv]:"fire-rc-compat",[Qv]:"fire-gcs",[Kv]:"fire-gcs-compat",[Wv]:"fire-fst",[Zv]:"fire-fst-compat",[$v]:"fire-vertex","fire-js":"fire-js",[Jv]:"fire-js-all"};const Ku=new Map,nx=new Map,Uh=new Map;function jE(e,t){try{e.container.addComponent(t)}catch(i){Yi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,i)}}function $o(e){const t=e.name;if(Uh.has(t))return Yi.debug(`There were multiple attempts to register component ${t}.`),!1;Uh.set(t,e);for(const i of Ku.values())jE(i,e);for(const i of nx.values())jE(i,e);return!0}function ix(e,t){const i=e.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),e.container.getProvider(t)}function ax(e){return e==null?!1:e.settings!==void 0}const rx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Aa=new Xy("app","Firebase",rx);class sx{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Aa.create("app-deleted",{appName:this._name})}}const ux=ex;function Zy(e,t={}){let i=e;typeof t!="object"&&(t={name:t});const r={name:Ph,automaticDataCollectionEnabled:!0,...t},u=r.name;if(typeof u!="string"||!u)throw Aa.create("bad-app-name",{appName:String(u)});if(i||(i=Vy()),!i)throw Aa.create("no-options");const o=Ku.get(u);if(o){if(Wo(i,o.options)&&Wo(r,o.config))return o;throw Aa.create("duplicate-app",{appName:u})}const c=new cv(u);for(const p of Uh.values())c.addComponent(p);const h=new sx(i,r,c);return Ku.set(u,h),h}function Jy(e=Ph){const t=Ku.get(e);if(!t&&e===Ph&&Vy())return Zy();if(!t)throw Aa.create("no-app",{appName:e});return t}function lx(){return Array.from(Ku.values())}function ts(e,t,i){let r=tx[e]??e;i&&(r+=`-${i}`);const u=r.match(/\s|\//),o=t.match(/\s|\//);if(u||o){const c=[`Unable to register library "${r}" with version "${t}":`];u&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),u&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Yi.warn(c.join(" "));return}$o(new Qu(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const ox="firebase-heartbeat-database",cx=1,Wu="firebase-heartbeat-store";let lh=null;function eT(){return lh||(lh=Cv(ox,cx,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Wu)}catch(i){console.warn(i)}}}}).catch(e=>{throw Aa.create("idb-open",{originalErrorMessage:e.message})})),lh}async function fx(e){try{const i=(await eT()).transaction(Wu),r=await i.objectStore(Wu).get(tT(e));return await i.done,r}catch(t){if(t instanceof ul)Yi.warn(t.message);else{const i=Aa.create("idb-get",{originalErrorMessage:t?.message});Yi.warn(i.message)}}}async function YE(e,t){try{const r=(await eT()).transaction(Wu,"readwrite");await r.objectStore(Wu).put(t,tT(e)),await r.done}catch(i){if(i instanceof ul)Yi.warn(i.message);else{const r=Aa.create("idb-set",{originalErrorMessage:i?.message});Yi.warn(r.message)}}}function tT(e){return`${e.name}!${e.options.appId}`}const dx=1024,hx=30;class mx{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new gx(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=qE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(u=>u.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>hx){const u=Ex(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Yi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=qE(),{heartbeatsToSend:i,unsentEntries:r}=px(this._heartbeatsCache.heartbeats),u=Qo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Yi.warn(t),""}}}function qE(){return new Date().toISOString().substring(0,10)}function px(e,t=dx){const i=[];let r=e.slice();for(const u of e){const o=i.find(c=>c.agent===u.agent);if(o){if(o.dates.push(u.date),VE(i)>t){o.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),VE(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class gx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $3()?Z3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await fx(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return YE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return YE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function VE(e){return Qo(JSON.stringify({version:2,heartbeats:e})).length}function Ex(e){if(e.length===0)return-1;let t=0,i=e[0].date;for(let r=1;r<e.length;r++)e[r].date<i&&(i=e[r].date,t=r);return t}function _x(e){$o(new Qu("platform-logger",t=>new xv(t),"PRIVATE")),$o(new Qu("heartbeat",t=>new mx(t),"PRIVATE")),ts(Bh,zE,e),ts(Bh,zE,"esm2020"),ts("fire-js","")}_x("");var yx="firebase",Tx="12.6.0";ts(yx,Tx,"app");var GE={};const XE="@firebase/database",QE="1.1.0";let nT="";function bx(e){nT=e}class Sx{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Wt(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:Xu(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Cx{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return gi(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const iT=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Sx(t)}}catch{}return new Cx},Za=iT("localStorage"),Ax=iT("sessionStorage");const ns=new Ky("@firebase/database"),vx=(function(){let e=1;return function(){return e++}})(),aT=function(e){const t=sv(e),i=new rv;i.update(t);const r=i.digest();return y0.encodeByteArray(r)},ol=function(...e){let t="";for(let i=0;i<e.length;i++){const r=e[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=ol.apply(null,r):typeof r=="object"?t+=Wt(r):t+=r,t+=" "}return t};let wu=null,KE=!0;const xx=function(e,t){de(!0,"Can't turn on custom loggers persistently."),ns.logLevel=_t.VERBOSE,wu=ns.log.bind(ns)},an=function(...e){if(KE===!0&&(KE=!1,wu===null&&Ax.get("logging_enabled")===!0&&xx()),wu){const t=ol.apply(null,e);wu(t)}},cl=function(e){return function(...t){an(e,...t)}},Hh=function(...e){const t="FIREBASE INTERNAL ERROR: "+ol(...e);ns.error(t)},qi=function(...e){const t=`FIREBASE FATAL ERROR: ${ol(...e)}`;throw ns.error(t),new Error(t)},dn=function(...e){const t="FIREBASE WARNING: "+ol(...e);ns.warn(t)},Nx=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&dn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},S0=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Rx=function(e){if(document.readyState==="complete")e();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},os="[MIN_NAME]",tr="[MAX_NAME]",rr=function(e,t){if(e===t)return 0;if(e===os||t===tr)return-1;if(t===os||e===tr)return 1;{const i=WE(e),r=WE(t);return i!==null?r!==null?i-r===0?e.length-t.length:i-r:-1:r!==null?1:e<t?-1:1}},Ox=function(e,t){return e===t?0:e<t?-1:1},Tu=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Wt(t))},C0=function(e){if(typeof e!="object"||e===null)return Wt(e);const t=[];for(const r in e)t.push(r);t.sort();let i="{";for(let r=0;r<t.length;r++)r!==0&&(i+=","),i+=Wt(t[r]),i+=":",i+=C0(e[t[r]]);return i+="}",i},rT=function(e,t){const i=e.length;if(i<=t)return[e];const r=[];for(let u=0;u<i;u+=t)u+t>i?r.push(e.substring(u,i)):r.push(e.substring(u,u+t));return r};function rn(e,t){for(const i in e)e.hasOwnProperty(i)&&t(i,e[i])}const sT=function(e){de(!S0(e),"Invalid JSON number");const t=11,i=52,r=(1<<t-1)-1;let u,o,c,h,p;e===0?(o=0,c=0,u=1/e===-1/0?1:0):(u=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=h+r,c=Math.round(e*Math.pow(2,i-h)-Math.pow(2,i))):(o=0,c=Math.round(e/Math.pow(2,1-r-i))));const g=[];for(p=i;p;p-=1)g.push(c%2?1:0),c=Math.floor(c/2);for(p=t;p;p-=1)g.push(o%2?1:0),o=Math.floor(o/2);g.push(u?1:0),g.reverse();const _=g.join("");let T="";for(p=0;p<64;p+=8){let b=parseInt(_.substr(p,8),2).toString(16);b.length===1&&(b="0"+b),T=T+b}return T.toLowerCase()},Dx=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Ix=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Lx(e,t){let i="Unknown Error";e==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?i="Client doesn't have permission to access the desired data.":e==="unavailable"&&(i="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+i);return r.code=e.toUpperCase(),r}const kx=new RegExp("^-?(0*)\\d{1,10}$"),wx=-2147483648,Mx=2147483647,WE=function(e){if(kx.test(e)){const t=Number(e);if(t>=wx&&t<=Mx)return t}return null},Es=function(e){try{e()}catch(t){setTimeout(()=>{const i=t.stack||"";throw dn("Exception was thrown by user callback.",i),t},Math.floor(0))}},Bx=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Mu=function(e,t){const i=setTimeout(e,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};class Px{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,ax(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,r):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){dn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Ux{constructor(t,i,r){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(u=>this.auth_=u)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(an("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,r):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',dn(t)}}class qo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}qo.OWNER="owner";const A0="5",uT="v",lT="s",oT="r",cT="f",fT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,dT="ls",hT="p",Fh="ac",mT="websocket",pT="long_polling";class gT{constructor(t,i,r,u,o=!1,c="",h=!1,p=!1,g=null){this.secure=i,this.namespace=r,this.webSocketOnly=u,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this.emulatorOptions=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Za.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Za.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function Hx(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function ET(e,t,i){de(typeof t=="string","typeof type must == string"),de(typeof i=="object","typeof params must == object");let r;if(t===mT)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===pT)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Hx(e)&&(i.ns=e.namespace);const u=[];return rn(i,(o,c)=>{u.push(o+"="+c)}),r+u.join("&")}class Fx{constructor(){this.counters_={}}incrementCounter(t,i=1){gi(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return M3(this.counters_)}}const oh={},ch={};function v0(e){const t=e.toString();return oh[t]||(oh[t]=new Fx),oh[t]}function zx(e,t){const i=e.toString();return ch[i]||(ch[i]=t()),ch[i]}class jx{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<r.length;++u)r[u]&&Es(()=>{this.onMessage_(r[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const $E="start",Yx="close",qx="pLPCommand",Vx="pRTLPCB",_T="id",yT="pw",TT="ser",Gx="cb",Xx="seg",Qx="ts",Kx="d",Wx="dframe",bT=1870,ST=30,$x=bT-ST,Zx=25e3,Jx=3e4;class Jr{constructor(t,i,r,u,o,c,h){this.connId=t,this.repoInfo=i,this.applicationId=r,this.appCheckToken=u,this.authToken=o,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=cl(t),this.stats_=v0(i),this.urlFn=p=>(this.appCheckToken&&(p[Fh]=this.appCheckToken),ET(i,pT,p))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new jx(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Jx)),Rx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new x0((...o)=>{const[c,h,p,g,_]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===$E)this.id=h,this.password=p;else if(c===Yx)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...o)=>{const[c,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[$E]="t",r[TT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Gx]=this.scriptTagHolder.uniqueCallbackIdentifier),r[uT]=A0,this.transportSessionId&&(r[lT]=this.transportSessionId),this.lastSessionId&&(r[dT]=this.lastSessionId),this.applicationId&&(r[hT]=this.applicationId),this.appCheckToken&&(r[Fh]=this.appCheckToken),typeof location<"u"&&location.hostname&&fT.test(location.hostname)&&(r[oT]=cT);const u=this.urlFn(r);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Jr.forceAllow_=!0}static forceDisallow(){Jr.forceDisallow_=!0}static isAvailable(){return Jr.forceAllow_?!0:!Jr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Dx()&&!Ix()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=Wt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=jy(i),u=rT(r,$x);for(let o=0;o<u.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[o]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[Wx]="t",r[_T]=t,r[yT]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=Wt(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class x0{constructor(t,i,r,u){this.onDisconnect=r,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=vx(),window[qx+this.uniqueCallbackIdentifier]=t,window[Vx+this.uniqueCallbackIdentifier]=i,this.myIFrame=x0.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){an("frame writing exception"),h.stack&&an(h.stack),an(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||an("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[_T]=this.myID,t[yT]=this.myPW,t[TT]=this.currentSerial;let i=this.urlFn(t),r="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ST+r.length<=bT;){const c=this.pendingSegs.shift();r=r+"&"+Xx+u+"="+c.seg+"&"+Qx+u+"="+c.ts+"&"+Kx+u+"="+c.d,u++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,r){this.pendingSegs.push({seg:t,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},u=setTimeout(r,Math.floor(Zx)),o=()=>{clearTimeout(u),r()};this.addTag(t,o)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const u=r.readyState;(!u||u==="loaded"||u==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{an("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}const e6=16384,t6=45e3;let Zo=null;typeof MozWebSocket<"u"?Zo=MozWebSocket:typeof WebSocket<"u"&&(Zo=WebSocket);class ii{constructor(t,i,r,u,o,c,h){this.connId=t,this.applicationId=r,this.appCheckToken=u,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=cl(this.connId),this.stats_=v0(i),this.connURL=ii.connectionURL_(i,c,h,u,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,u,o){const c={};return c[uT]=A0,typeof location<"u"&&location.hostname&&fT.test(location.hostname)&&(c[oT]=cT),i&&(c[lT]=i),r&&(c[dT]=r),u&&(c[Fh]=u),o&&(c[hT]=o),ET(t,mT,c)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Za.set("previous_websocket_failure",!0);try{let r;W3(),this.mySock=new Zo(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const u=r.message||r.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const u=r.message||r.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){ii.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Zo!==null&&!ii.forceDisallow_}static previouslyFailed(){return Za.isInMemoryStorage||Za.get("previous_websocket_failure")===!0}markConnectionHealthy(){Za.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Xu(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(de(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=Wt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=rT(i,e6);r.length>1&&this.sendString_(String(r.length));for(let u=0;u<r.length;u++)this.sendString_(r[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(t6))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ii.responsesRequiredToBeHealthy=2;ii.healthyTimeout=3e4;class $u{static get ALL_TRANSPORTS(){return[Jr,ii]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=ii&&ii.isAvailable();let r=i&&!ii.previouslyFailed();if(t.webSocketOnly&&(i||dn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ii];else{const u=this.transports_=[];for(const o of $u.ALL_TRANSPORTS)o&&o.isAvailable()&&u.push(o);$u.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}$u.globalTransportInitialized_=!1;const n6=6e4,i6=5e3,a6=10*1024,r6=100*1024,fh="t",ZE="d",s6="s",JE="r",u6="e",e_="o",t_="a",n_="n",i_="p",l6="h";class o6{constructor(t,i,r,u,o,c,h,p,g,_){this.id=t,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=u,this.authToken_=o,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=cl("c:"+this.id+":"),this.transportManager_=new $u(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const u=t.healthyTimeout||0;u>0&&(this.healthyTimeout_=Mu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>r6?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>a6?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(fh in t){const i=t[fh];i===t_?this.upgradeIfSecondaryHealthy_():i===JE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===e_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=Tu("t",t),r=Tu("d",t);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:i_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:t_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:n_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=Tu("t",t),r=Tu("d",t);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=Tu(fh,t);if(ZE in t){const r=t[ZE];if(i===l6){const u={...r};this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if(i===n_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===s6?this.onConnectionShutdown_(r):i===JE?this.onReset_(r):i===u6?Hh("Server Error: "+r):i===e_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Hh("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,r=t.v,u=t.h;this.sessionId=t.s,this.repoInfo_.host=u,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),A0!==r&&dn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),Mu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(n6))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Mu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(i6))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:i_,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Za.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class CT{put(t,i,r,u){}merge(t,i,r,u){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,r){}onDisconnectMerge(t,i,r){}onDisconnectCancel(t,i){}reportStats(t){}}class AT{constructor(t){this.allowedEvents_=t,this.listeners_={},de(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let u=0;u<r.length;u++)r[u].callback.apply(r[u].context,i)}}on(t,i,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:r});const u=this.getInitialEvent(t);u&&i.apply(r,u)}off(t,i,r){this.validateEventType_(t);const u=this.listeners_[t]||[];for(let o=0;o<u.length;o++)if(u[o].callback===i&&(!r||r===u[o].context)){u.splice(o,1);return}}validateEventType_(t){de(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}class Jo extends AT{static getInstance(){return new Jo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Gy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return de(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const a_=32,r_=768;class ct{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let r=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[r]=this.pieces_[u],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function nt(){return new ct("")}function je(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ra(e){return e.pieces_.length-e.pieceNum_}function yt(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ct(e.pieces_,t)}function N0(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function c6(e){let t="";for(let i=e.pieceNum_;i<e.pieces_.length;i++)e.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[i])));return t||"/"}function Zu(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function vT(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let i=e.pieceNum_;i<e.pieces_.length-1;i++)t.push(e.pieces_[i]);return new ct(t,0)}function Rt(e,t){const i=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)i.push(e.pieces_[r]);if(t instanceof ct)for(let r=t.pieceNum_;r<t.pieces_.length;r++)i.push(t.pieces_[r]);else{const r=t.split("/");for(let u=0;u<r.length;u++)r[u].length>0&&i.push(r[u])}return new ct(i,0)}function Qe(e){return e.pieceNum_>=e.pieces_.length}function Cn(e,t){const i=je(e),r=je(t);if(i===null)return t;if(i===r)return Cn(yt(e),yt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function f6(e,t){const i=Zu(e,0),r=Zu(t,0);for(let u=0;u<i.length&&u<r.length;u++){const o=rr(i[u],r[u]);if(o!==0)return o}return i.length===r.length?0:i.length<r.length?-1:1}function R0(e,t){if(Ra(e)!==Ra(t))return!1;for(let i=e.pieceNum_,r=t.pieceNum_;i<=e.pieces_.length;i++,r++)if(e.pieces_[i]!==t.pieces_[r])return!1;return!0}function Wn(e,t){let i=e.pieceNum_,r=t.pieceNum_;if(Ra(e)>Ra(t))return!1;for(;i<e.pieces_.length;){if(e.pieces_[i]!==t.pieces_[r])return!1;++i,++r}return!0}class d6{constructor(t,i){this.errorPrefix_=i,this.parts_=Zu(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=yc(this.parts_[r]);xT(this)}}function h6(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=yc(t),xT(e)}function m6(e){const t=e.parts_.pop();e.byteLength_-=yc(t),e.parts_.length>0&&(e.byteLength_-=1)}function xT(e){if(e.byteLength_>r_)throw new Error(e.errorPrefix_+"has a key path longer than "+r_+" bytes ("+e.byteLength_+").");if(e.parts_.length>a_)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+a_+") or object contains a cycle "+$a(e))}function $a(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}class O0 extends AT{static getInstance(){return new O0}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return de(t==="visible","Unknown event type: "+t),[this.visible_]}}const bu=1e3,p6=300*1e3,s_=30*1e3,g6=1.3,E6=3e4,_6="server_kill",u_=3;class ji extends CT{constructor(t,i,r,u,o,c,h,p){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=u,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=ji.nextPersistentConnectionId_++,this.log_=cl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=bu,this.maxReconnectDelay_=p6,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");O0.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Jo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const u=++this.requestNumber_,o={r:u,a:t,b:i};this.log_(Wt(o)),de(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[u]=r)}get(t){this.initConnection_();const i=new sl,u={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?i.resolve(h):i.reject(h)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),i.promise}listen(t,i,r,u){this.initConnection_();const o=t._queryIdentifier,c=t._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),de(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),de(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const h={onComplete:u,hashFn:i,query:t,tag:r};this.listens.get(c).set(o,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),u=i._queryIdentifier;this.log_("Listen on "+r+" for "+u);const o={p:r},c="q";t.tag&&(o.q=i._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest(c,o,h=>{const p=h.d,g=h.s;ji.warnOnListenWarnings_(p,i),(this.listens.get(r)&&this.listens.get(r).get(u))===t&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(r,u),t.onComplete&&t.onComplete(g,p))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&gi(t,"w")){const r=ls(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const u='".indexOn": "'+i._queryParams.getIndex().toString()+'"',o=i._path.toString();dn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||iv(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=s_)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=nv(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,u=>{const o=u.s,c=u.d||"error";this.authToken_===t&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),u=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+u),de(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,u)&&this.connected_&&this.sendUnlisten_(r,u,t._queryObject,i)}sendUnlisten_(t,i,r,u){this.log_("Unlisten on "+t+" for "+i);const o={p:t},c="n";u&&(o.q=r,o.t=u),this.sendRequest(c,o)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,u){const o={p:i,d:r};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,c=>{u&&setTimeout(()=>{u(c.s,c.d)},Math.floor(0))})}put(t,i,r,u){this.putInternal("p",t,i,r,u)}merge(t,i,r,u){this.putInternal("m",t,i,r,u)}putInternal(t,i,r,u,o){this.initConnection_();const c={p:i,d:r};o!==void 0&&(c.h=o),this.outstandingPuts_.push({action:t,request:c,onComplete:u}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,u=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,o=>{this.log_(i+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),u&&u(o.s,o.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Wt(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):Hh("Unrecognized action received from server: "+Wt(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){de(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=bu,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=bu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>E6&&(this.reconnectDelay_=bu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*g6)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+ji.nextConnectionId_++,o=this.lastSessionId;let c=!1,h=null;const p=function(){h?h.close():(c=!0,r())},g=function(T){de(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(T)};this.realtime_={close:p,sendRequest:g};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[T,b]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);c?an("getToken() completed but was canceled"):(an("getToken() completed. Creating connection."),this.authToken_=T&&T.accessToken,this.appCheckToken_=b&&b.token,h=new o6(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,r,S=>{dn(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(_6)},o))}catch(T){this.log_("Failed to get token: "+T),c||(this.repoInfo_.nodeAdmin&&dn(T),p())}}}interrupt(t){an("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){an("Resuming connection for reason: "+t),delete this.interruptReasons_[t],BE(this.interruptReasons_)&&(this.reconnectDelay_=bu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;i?r=i.map(o=>C0(o)).join("$"):r="default";const u=this.removeListen_(t,r);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(t,i){const r=new ct(t).toString();let u;if(this.listens.has(r)){const o=this.listens.get(r);u=o.get(i),o.delete(i),o.size===0&&this.listens.delete(r)}else u=void 0;return u}onAuthRevoked_(t,i){an("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=u_&&(this.reconnectDelay_=s_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){an("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=u_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+nT.replace(/\./g,"-")]=1,Gy()?t["framework.cordova"]=1:K3()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Jo.getInstance().currentlyOnline();return BE(this.interruptReasons_)&&t}}ji.nextPersistentConnectionId_=0;ji.nextConnectionId_=0;class Ye{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new Ye(t,i)}}class Tc{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const r=new Ye(os,t),u=new Ye(os,i);return this.compare(r,u)!==0}minPost(){return Ye.MIN}}let Mo;class NT extends Tc{static get __EMPTY_NODE(){return Mo}static set __EMPTY_NODE(t){Mo=t}compare(t,i){return rr(t.name,i.name)}isDefinedOn(t){throw gs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return Ye.MIN}maxPost(){return new Ye(tr,Mo)}makePost(t,i){return de(typeof t=="string","KeyIndex indexValue must always be a string."),new Ye(t,Mo)}toString(){return".key"}}const is=new NT;class Bo{constructor(t,i,r,u,o=null){this.isReverse_=u,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(t=t,c=i?r(t.key,i):1,u&&(c*=-1),c<0)this.isReverse_?t=t.left:t=t.right;else if(c===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Qt{constructor(t,i,r,u,o){this.key=t,this.value=i,this.color=r??Qt.RED,this.left=u??An.EMPTY_NODE,this.right=o??An.EMPTY_NODE}copy(t,i,r,u,o){return new Qt(t??this.key,i??this.value,r??this.color,u??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let u=this;const o=r(t,u.key);return o<0?u=u.copy(null,null,null,u.left.insert(t,i,r),null):o===0?u=u.copy(null,i,null,null,null):u=u.copy(null,null,null,null,u.right.insert(t,i,r)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return An.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,u;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(t,r.key)===0){if(r.right.isEmpty())return An.EMPTY_NODE;u=r.right.min_(),r=r.copy(u.key,u.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Qt.RED=!0;Qt.BLACK=!1;class y6{copy(t,i,r,u,o){return this}insert(t,i,r){return new Qt(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class An{constructor(t,i=An.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new An(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,Qt.BLACK,null,null))}remove(t){return new An(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Qt.BLACK,null,null))}get(t){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(t,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(t){let i,r=this.root_,u=null;for(;!r.isEmpty();)if(i=this.comparator_(t,r.key),i===0){if(r.left.isEmpty())return u?u.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(u=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Bo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new Bo(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new Bo(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new Bo(this.root_,null,this.comparator_,!0,t)}}An.EMPTY_NODE=new y6;function T6(e,t){return rr(e.name,t.name)}function D0(e,t){return rr(e,t)}let zh;function b6(e){zh=e}const RT=function(e){return typeof e=="number"?"number:"+sT(e):"string:"+e},OT=function(e){if(e.isLeafNode()){const t=e.val();de(typeof t=="string"||typeof t=="number"||typeof t=="object"&&gi(t,".sv"),"Priority must be a string or number.")}else de(e===zh||e.isEmpty(),"priority of unexpected type.");de(e===zh||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let l_;class Xt{static set __childrenNodeConstructor(t){l_=t}static get __childrenNodeConstructor(){return l_}constructor(t,i=Xt.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,de(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),OT(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Xt(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Xt.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Qe(t)?this:je(t)===".priority"?this.priorityNode_:Xt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:Xt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=je(t);return r===null?i:i.isEmpty()&&r!==".priority"?this:(de(r!==".priority"||Ra(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Xt.__childrenNodeConstructor.EMPTY_NODE.updateChild(yt(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+RT(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=sT(this.value_):t+=this.value_,this.lazyHash_=aT(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Xt.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Xt.__childrenNodeConstructor?-1:(de(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,u=Xt.VALUE_TYPE_ORDER.indexOf(i),o=Xt.VALUE_TYPE_ORDER.indexOf(r);return de(u>=0,"Unknown leaf type: "+i),de(o>=0,"Unknown leaf type: "+r),u===o?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-u}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}Xt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let DT,IT;function S6(e){DT=e}function C6(e){IT=e}class A6 extends Tc{compare(t,i){const r=t.node.getPriority(),u=i.node.getPriority(),o=r.compareTo(u);return o===0?rr(t.name,i.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return Ye.MIN}maxPost(){return new Ye(tr,new Xt("[PRIORITY-POST]",IT))}makePost(t,i){const r=DT(t);return new Ye(i,new Xt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ot=new A6;const v6=Math.log(2);class x6{constructor(t){const i=o=>parseInt(Math.log(o)/v6,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const u=r(this.count);this.bits_=t+1&u}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const ec=function(e,t,i,r){e.sort(t);const u=function(p,g){const _=g-p;let T,b;if(_===0)return null;if(_===1)return T=e[p],b=i?i(T):T,new Qt(b,T.node,Qt.BLACK,null,null);{const S=parseInt(_/2,10)+p,B=u(p,S),X=u(S+1,g);return T=e[S],b=i?i(T):T,new Qt(b,T.node,Qt.BLACK,B,X)}},o=function(p){let g=null,_=null,T=e.length;const b=function(B,X){const J=T-B,G=T;T-=B;const Ee=u(J+1,G),j=e[J],Te=i?i(j):j;S(new Qt(Te,j.node,X,null,Ee))},S=function(B){g?(g.left=B,g=B):(_=B,g=B)};for(let B=0;B<p.count;++B){const X=p.nextBitIsOne(),J=Math.pow(2,p.count-(B+1));X?b(J,Qt.BLACK):(b(J,Qt.BLACK),b(J,Qt.RED))}return _},c=new x6(e.length),h=o(c);return new An(r||t,h)};let dh;const Wr={};class zi{static get Default(){return de(Wr&&Ot,"ChildrenNode.ts has not been loaded"),dh=dh||new zi({".priority":Wr},{".priority":Ot}),dh}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=ls(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof An?i:null}hasIndex(t){return gi(this.indexSet_,t.toString())}addIndex(t,i){de(t!==is,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let u=!1;const o=i.getIterator(Ye.Wrap);let c=o.getNext();for(;c;)u=u||t.isDefinedOn(c.node),r.push(c),c=o.getNext();let h;u?h=ec(r,t.getCompare()):h=Wr;const p=t.toString(),g={...this.indexSet_};g[p]=t;const _={...this.indexes_};return _[p]=h,new zi(_,g)}addToIndexes(t,i){const r=Ko(this.indexes_,(u,o)=>{const c=ls(this.indexSet_,o);if(de(c,"Missing index implementation for "+o),u===Wr)if(c.isDefinedOn(t.node)){const h=[],p=i.getIterator(Ye.Wrap);let g=p.getNext();for(;g;)g.name!==t.name&&h.push(g),g=p.getNext();return h.push(t),ec(h,c.getCompare())}else return Wr;else{const h=i.get(t.name);let p=u;return h&&(p=p.remove(new Ye(t.name,h))),p.insert(t,t.node)}});return new zi(r,this.indexSet_)}removeFromIndexes(t,i){const r=Ko(this.indexes_,u=>{if(u===Wr)return u;{const o=i.get(t.name);return o?u.remove(new Ye(t.name,o)):u}});return new zi(r,this.indexSet_)}}let Su;class ke{static get EMPTY_NODE(){return Su||(Su=new ke(new An(D0),null,zi.Default))}constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&OT(this.priorityNode_),this.children_.isEmpty()&&de(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Su}updatePriority(t){return this.children_.isEmpty()?this:new ke(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?Su:i}}getChild(t){const i=je(t);return i===null?this:this.getImmediateChild(i).getChild(yt(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(de(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const r=new Ye(t,i);let u,o;i.isEmpty()?(u=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(u=this.children_.insert(t,i),o=this.indexMap_.addToIndexes(r,this.children_));const c=u.isEmpty()?Su:this.priorityNode_;return new ke(u,c,o)}}updateChild(t,i){const r=je(t);if(r===null)return i;{de(je(t)!==".priority"||Ra(t)===1,".priority must be the last token in a path");const u=this.getImmediateChild(r).updateChild(yt(t),i);return this.updateImmediateChild(r,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,u=0,o=!0;if(this.forEachChild(Ot,(c,h)=>{i[c]=h.val(t),r++,o&&ke.INTEGER_REGEXP_.test(c)?u=Math.max(u,Number(c)):o=!1}),!t&&o&&u<2*r){const c=[];for(const h in i)c[h]=i[h];return c}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+RT(this.getPriority().val())+":"),this.forEachChild(Ot,(i,r)=>{const u=r.hash();u!==""&&(t+=":"+i+":"+u)}),this.lazyHash_=t===""?"":aT(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const u=this.resolveIndex_(r);if(u){const o=u.getPredecessorKey(new Ye(t,i));return o?o.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Ye(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Ye(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(u=>i(u.name,u.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,u=>u);{const u=this.children_.getIteratorFrom(t.name,Ye.Wrap);let o=u.peek();for(;o!=null&&i.compare(o,t)<0;)u.getNext(),o=u.peek();return u}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,u=>u);{const u=this.children_.getReverseIteratorFrom(t.name,Ye.Wrap);let o=u.peek();for(;o!=null&&i.compare(o,t)>0;)u.getNext(),o=u.peek();return u}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===fl?-1:0}withIndex(t){if(t===is||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new ke(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===is||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(Ot),u=i.getIterator(Ot);let o=r.getNext(),c=u.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=r.getNext(),c=u.getNext()}return o===null&&c===null}else return!1;else return!1}}resolveIndex_(t){return t===is?null:this.indexMap_.get(t.toString())}}ke.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class N6 extends ke{constructor(){super(new An(D0),ke.EMPTY_NODE,zi.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ke.EMPTY_NODE}isEmpty(){return!1}}const fl=new N6;Object.defineProperties(Ye,{MIN:{value:new Ye(os,ke.EMPTY_NODE)},MAX:{value:new Ye(tr,fl)}});NT.__EMPTY_NODE=ke.EMPTY_NODE;Xt.__childrenNodeConstructor=ke;b6(fl);C6(fl);const R6=!0;function Kt(e,t=null){if(e===null)return ke.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),de(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const i=e;return new Xt(i,Kt(t))}if(!(e instanceof Array)&&R6){const i=[];let r=!1;if(rn(e,(c,h)=>{if(c.substring(0,1)!=="."){const p=Kt(h);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),i.push(new Ye(c,p)))}}),i.length===0)return ke.EMPTY_NODE;const o=ec(i,T6,c=>c.name,D0);if(r){const c=ec(i,Ot.getCompare());return new ke(o,Kt(t),new zi({".priority":c},{".priority":Ot}))}else return new ke(o,Kt(t),zi.Default)}else{let i=ke.EMPTY_NODE;return rn(e,(r,u)=>{if(gi(e,r)&&r.substring(0,1)!=="."){const o=Kt(u);(o.isLeafNode()||!o.isEmpty())&&(i=i.updateImmediateChild(r,o))}}),i.updatePriority(Kt(t))}}S6(Kt);class O6 extends Tc{constructor(t){super(),this.indexPath_=t,de(!Qe(t)&&je(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const r=this.extractChild(t.node),u=this.extractChild(i.node),o=r.compareTo(u);return o===0?rr(t.name,i.name):o}makePost(t,i){const r=Kt(t),u=ke.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ye(i,u)}maxPost(){const t=ke.EMPTY_NODE.updateChild(this.indexPath_,fl);return new Ye(tr,t)}toString(){return Zu(this.indexPath_,0).join("/")}}class D6 extends Tc{compare(t,i){const r=t.node.compareTo(i.node);return r===0?rr(t.name,i.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return Ye.MIN}maxPost(){return Ye.MAX}makePost(t,i){const r=Kt(t);return new Ye(i,r)}toString(){return".value"}}const I6=new D6;function LT(e){return{type:"value",snapshotNode:e}}function cs(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Ju(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function el(e,t,i){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:i}}function L6(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}class I0{constructor(t){this.index_=t}updateChild(t,i,r,u,o,c){de(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(i);return h.getChild(u).equals(r.getChild(u))&&h.isEmpty()===r.isEmpty()||(c!=null&&(r.isEmpty()?t.hasChild(i)?c.trackChildChange(Ju(i,h)):de(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(cs(i,r)):c.trackChildChange(el(i,r,h))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(i,r).withIndex(this.index_)}updateFullNode(t,i,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Ot,(u,o)=>{i.hasChild(u)||r.trackChildChange(Ju(u,o))}),i.isLeafNode()||i.forEachChild(Ot,(u,o)=>{if(t.hasChild(u)){const c=t.getImmediateChild(u);c.equals(o)||r.trackChildChange(el(u,o,c))}else r.trackChildChange(cs(u,o))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?ke.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class tl{constructor(t){this.indexedFilter_=new I0(t.getIndex()),this.index_=t.getIndex(),this.startPost_=tl.getStartPost_(t),this.endPost_=tl.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&r}updateChild(t,i,r,u,o,c){return this.matches(new Ye(i,r))||(r=ke.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,r,u,o,c)}updateFullNode(t,i,r){i.isLeafNode()&&(i=ke.EMPTY_NODE);let u=i.withIndex(this.index_);u=u.updatePriority(ke.EMPTY_NODE);const o=this;return i.forEachChild(Ot,(c,h)=>{o.matches(new Ye(c,h))||(u=u.updateImmediateChild(c,ke.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,u,r)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}class k6{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=i=>{const r=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new tl(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,r,u,o,c){return this.rangedFilter_.matches(new Ye(i,r))||(r=ke.EMPTY_NODE),t.getImmediateChild(i).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,r,u,o,c):this.fullLimitUpdateChild_(t,i,r,o,c)}updateFullNode(t,i,r){let u;if(i.isLeafNode()||i.isEmpty())u=ke.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){u=ke.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const h=o.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))u=u.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{u=i.withIndex(this.index_),u=u.updatePriority(ke.EMPTY_NODE);let o;this.reverse_?o=u.getReverseIterator(this.index_):o=u.getIterator(this.index_);let c=0;for(;o.hasNext();){const h=o.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:u=u.updateImmediateChild(h.name,ke.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,u,r)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,r,u,o){let c;if(this.reverse_){const T=this.index_.getCompare();c=(b,S)=>T(S,b)}else c=this.index_.getCompare();const h=t;de(h.numChildren()===this.limit_,"");const p=new Ye(i,r),g=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),_=this.rangedFilter_.matches(p);if(h.hasChild(i)){const T=h.getImmediateChild(i);let b=u.getChildAfterChild(this.index_,g,this.reverse_);for(;b!=null&&(b.name===i||h.hasChild(b.name));)b=u.getChildAfterChild(this.index_,b,this.reverse_);const S=b==null?1:c(b,p);if(_&&!r.isEmpty()&&S>=0)return o?.trackChildChange(el(i,r,T)),h.updateImmediateChild(i,r);{o?.trackChildChange(Ju(i,T));const X=h.updateImmediateChild(i,ke.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(o?.trackChildChange(cs(b.name,b.node)),X.updateImmediateChild(b.name,b.node)):X}}else return r.isEmpty()?t:_&&c(g,p)>=0?(o!=null&&(o.trackChildChange(Ju(g.name,g.node)),o.trackChildChange(cs(i,r))),h.updateImmediateChild(i,r).updateImmediateChild(g.name,ke.EMPTY_NODE)):t}}class L0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ot}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return de(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return de(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:os}hasEnd(){return this.endSet_}getIndexEndValue(){return de(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return de(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:tr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return de(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ot}copy(){const t=new L0;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function w6(e){return e.loadsAllData()?new I0(e.getIndex()):e.hasLimit()?new k6(e):new tl(e)}function o_(e){const t={};if(e.isDefault())return t;let i;if(e.index_===Ot?i="$priority":e.index_===I6?i="$value":e.index_===is?i="$key":(de(e.index_ instanceof O6,"Unrecognized index type!"),i=e.index_.toString()),t.orderBy=Wt(i),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=Wt(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Wt(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Wt(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Wt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function c_(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let i=e.viewFrom_;i===""&&(e.isViewFromLeft()?i="l":i="r"),t.vf=i}return e.index_!==Ot&&(t.i=e.index_.toString()),t}class tc extends CT{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(de(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,r,u){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=u,this.log_=cl("p:rest:"),this.listens_={}}listen(t,i,r,u){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const c=tc.getListenId_(t,r),h={};this.listens_[c]=h;const p=o_(t._queryParams);this.restRequest_(o+".json",p,(g,_)=>{let T=_;if(g===404&&(T=null,g=null),g===null&&this.onDataUpdate_(o,T,!1,r),ls(this.listens_,c)===h){let b;g?g===401?b="permission_denied":b="rest_error:"+g:b="ok",u(b,null)}})}unlisten(t,i){const r=tc.getListenId_(t,i);delete this.listens_[r]}get(t){const i=o_(t._queryParams),r=t._path.toString(),u=new sl;return this.restRequest_(r+".json",i,(o,c)=>{let h=c;o===404&&(h=null,o=null),o===null?(this.onDataUpdate_(r,h,!1,null),u.resolve(h)):u.reject(new Error(h))}),u.promise}refreshAuthToken(t){}restRequest_(t,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,o])=>{u&&u.accessToken&&(i.auth=u.accessToken),o&&o.token&&(i.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+av(i);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=Xu(h.responseText)}catch{dn("Failed to parse JSON response for "+c+": "+h.responseText)}r(null,p)}else h.status!==401&&h.status!==404&&dn("Got unsuccessful REST response for "+c+" Status: "+h.status),r(h.status);r=null}},h.open("GET",c,!0),h.send()})}}class M6{constructor(){this.rootNode_=ke.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}function nc(){return{value:null,children:new Map}}function kT(e,t,i){if(Qe(t))e.value=i,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,i);else{const r=je(t);e.children.has(r)||e.children.set(r,nc());const u=e.children.get(r);t=yt(t),kT(u,t,i)}}function jh(e,t,i){e.value!==null?i(t,e.value):B6(e,(r,u)=>{const o=new ct(t.toString()+"/"+r);jh(u,o,i)})}function B6(e,t){e.children.forEach((i,r)=>{t(r,i)})}class P6{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&rn(this.last_,(r,u)=>{i[r]=i[r]-u}),this.last_=t,i}}const f_=10*1e3,U6=30*1e3,H6=300*1e3;class F6{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new P6(t);const r=f_+(U6-f_)*Math.random();Mu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),i={};let r=!1;rn(t,(u,o)=>{o>0&&gi(this.statsToReport_,u)&&(i[u]=o,r=!0)}),r&&this.server_.reportStats(i),Mu(this.reportStats_.bind(this),Math.floor(Math.random()*2*H6))}}var ai;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ai||(ai={}));function k0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function w0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function M0(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class ic{constructor(t,i,r){this.path=t,this.affectedTree=i,this.revert=r,this.type=ai.ACK_USER_WRITE,this.source=k0()}operationForChild(t){if(Qe(this.path)){if(this.affectedTree.value!=null)return de(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new ct(t));return new ic(nt(),i,this.revert)}}else return de(je(this.path)===t,"operationForChild called for unrelated child."),new ic(yt(this.path),this.affectedTree,this.revert)}}class nl{constructor(t,i){this.source=t,this.path=i,this.type=ai.LISTEN_COMPLETE}operationForChild(t){return Qe(this.path)?new nl(this.source,nt()):new nl(this.source,yt(this.path))}}class nr{constructor(t,i,r){this.source=t,this.path=i,this.snap=r,this.type=ai.OVERWRITE}operationForChild(t){return Qe(this.path)?new nr(this.source,nt(),this.snap.getImmediateChild(t)):new nr(this.source,yt(this.path),this.snap)}}class fs{constructor(t,i,r){this.source=t,this.path=i,this.children=r,this.type=ai.MERGE}operationForChild(t){if(Qe(this.path)){const i=this.children.subtree(new ct(t));return i.isEmpty()?null:i.value?new nr(this.source,nt(),i.value):new fs(this.source,nt(),i)}else return de(je(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new fs(this.source,yt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ir{constructor(t,i,r){this.node_=t,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Qe(t))return this.isFullyInitialized()&&!this.filtered_;const i=je(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class z6{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function j6(e,t,i,r){const u=[],o=[];return t.forEach(c=>{c.type==="child_changed"&&e.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(L6(c.childName,c.snapshotNode))}),Cu(e,u,"child_removed",t,r,i),Cu(e,u,"child_added",t,r,i),Cu(e,u,"child_moved",o,r,i),Cu(e,u,"child_changed",t,r,i),Cu(e,u,"value",t,r,i),u}function Cu(e,t,i,r,u,o){const c=r.filter(h=>h.type===i);c.sort((h,p)=>q6(e,h,p)),c.forEach(h=>{const p=Y6(e,h,o);u.forEach(g=>{g.respondsTo(h.type)&&t.push(g.createEvent(p,e.query_))})})}function Y6(e,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function q6(e,t,i){if(t.childName==null||i.childName==null)throw gs("Should only compare child_ events.");const r=new Ye(t.childName,t.snapshotNode),u=new Ye(i.childName,i.snapshotNode);return e.index_.compare(r,u)}function bc(e,t){return{eventCache:e,serverCache:t}}function Bu(e,t,i,r){return bc(new ir(t,i,r),e.serverCache)}function wT(e,t,i,r){return bc(e.eventCache,new ir(t,i,r))}function Yh(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ar(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let hh;const V6=()=>(hh||(hh=new An(Ox)),hh);class Et{static fromObject(t){let i=new Et(null);return rn(t,(r,u)=>{i=i.set(new ct(r),u)}),i}constructor(t,i=V6()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:nt(),value:this.value};if(Qe(t))return null;{const r=je(t),u=this.children.get(r);if(u!==null){const o=u.findRootMostMatchingPathAndValue(yt(t),i);return o!=null?{path:Rt(new ct(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Qe(t))return this;{const i=je(t),r=this.children.get(i);return r!==null?r.subtree(yt(t)):new Et(null)}}set(t,i){if(Qe(t))return new Et(i,this.children);{const r=je(t),o=(this.children.get(r)||new Et(null)).set(yt(t),i),c=this.children.insert(r,o);return new Et(this.value,c)}}remove(t){if(Qe(t))return this.children.isEmpty()?new Et(null):new Et(null,this.children);{const i=je(t),r=this.children.get(i);if(r){const u=r.remove(yt(t));let o;return u.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,u),this.value===null&&o.isEmpty()?new Et(null):new Et(this.value,o)}else return this}}get(t){if(Qe(t))return this.value;{const i=je(t),r=this.children.get(i);return r?r.get(yt(t)):null}}setTree(t,i){if(Qe(t))return i;{const r=je(t),o=(this.children.get(r)||new Et(null)).setTree(yt(t),i);let c;return o.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,o),new Et(this.value,c)}}fold(t){return this.fold_(nt(),t)}fold_(t,i){const r={};return this.children.inorderTraversal((u,o)=>{r[u]=o.fold_(Rt(t,u),i)}),i(t,this.value,r)}findOnPath(t,i){return this.findOnPath_(t,nt(),i)}findOnPath_(t,i,r){const u=this.value?r(i,this.value):!1;if(u)return u;if(Qe(t))return null;{const o=je(t),c=this.children.get(o);return c?c.findOnPath_(yt(t),Rt(i,o),r):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,nt(),i)}foreachOnPath_(t,i,r){if(Qe(t))return this;{this.value&&r(i,this.value);const u=je(t),o=this.children.get(u);return o?o.foreachOnPath_(yt(t),Rt(i,u),r):new Et(null)}}foreach(t){this.foreach_(nt(),t)}foreach_(t,i){this.children.inorderTraversal((r,u)=>{u.foreach_(Rt(t,r),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,r)=>{r.value&&t(i,r.value)})}}class ri{constructor(t){this.writeTree_=t}static empty(){return new ri(new Et(null))}}function Pu(e,t,i){if(Qe(t))return new ri(new Et(i));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const u=r.path;let o=r.value;const c=Cn(u,t);return o=o.updateChild(c,i),new ri(e.writeTree_.set(u,o))}else{const u=new Et(i),o=e.writeTree_.setTree(t,u);return new ri(o)}}}function qh(e,t,i){let r=e;return rn(i,(u,o)=>{r=Pu(r,Rt(t,u),o)}),r}function d_(e,t){if(Qe(t))return ri.empty();{const i=e.writeTree_.setTree(t,new Et(null));return new ri(i)}}function Vh(e,t){return sr(e,t)!=null}function sr(e,t){const i=e.writeTree_.findRootMostValueAndPath(t);return i!=null?e.writeTree_.get(i.path).getChild(Cn(i.path,t)):null}function h_(e){const t=[],i=e.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Ot,(r,u)=>{t.push(new Ye(r,u))}):e.writeTree_.children.inorderTraversal((r,u)=>{u.value!=null&&t.push(new Ye(r,u.value))}),t}function va(e,t){if(Qe(t))return e;{const i=sr(e,t);return i!=null?new ri(new Et(i)):new ri(e.writeTree_.subtree(t))}}function Gh(e){return e.writeTree_.isEmpty()}function ds(e,t){return MT(nt(),e.writeTree_,t)}function MT(e,t,i){if(t.value!=null)return i.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((u,o)=>{u===".priority"?(de(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):i=MT(Rt(e,u),o,i)}),!i.getChild(e).isEmpty()&&r!==null&&(i=i.updateChild(Rt(e,".priority"),r)),i}}function B0(e,t){return HT(t,e)}function G6(e,t,i,r,u){de(r>e.lastWriteId,"Stacking an older write on top of newer ones"),u===void 0&&(u=!0),e.allWrites.push({path:t,snap:i,writeId:r,visible:u}),u&&(e.visibleWrites=Pu(e.visibleWrites,t,i)),e.lastWriteId=r}function X6(e,t,i,r){de(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:i,writeId:r,visible:!0}),e.visibleWrites=qh(e.visibleWrites,t,i),e.lastWriteId=r}function Q6(e,t){for(let i=0;i<e.allWrites.length;i++){const r=e.allWrites[i];if(r.writeId===t)return r}return null}function K6(e,t){const i=e.allWrites.findIndex(h=>h.writeId===t);de(i>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[i];e.allWrites.splice(i,1);let u=r.visible,o=!1,c=e.allWrites.length-1;for(;u&&c>=0;){const h=e.allWrites[c];h.visible&&(c>=i&&W6(h,r.path)?u=!1:Wn(r.path,h.path)&&(o=!0)),c--}if(u){if(o)return $6(e),!0;if(r.snap)e.visibleWrites=d_(e.visibleWrites,r.path);else{const h=r.children;rn(h,p=>{e.visibleWrites=d_(e.visibleWrites,Rt(r.path,p))})}return!0}else return!1}function W6(e,t){if(e.snap)return Wn(e.path,t);for(const i in e.children)if(e.children.hasOwnProperty(i)&&Wn(Rt(e.path,i),t))return!0;return!1}function $6(e){e.visibleWrites=BT(e.allWrites,Z6,nt()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function Z6(e){return e.visible}function BT(e,t,i){let r=ri.empty();for(let u=0;u<e.length;++u){const o=e[u];if(t(o)){const c=o.path;let h;if(o.snap)Wn(i,c)?(h=Cn(i,c),r=Pu(r,h,o.snap)):Wn(c,i)&&(h=Cn(c,i),r=Pu(r,nt(),o.snap.getChild(h)));else if(o.children){if(Wn(i,c))h=Cn(i,c),r=qh(r,h,o.children);else if(Wn(c,i))if(h=Cn(c,i),Qe(h))r=qh(r,nt(),o.children);else{const p=ls(o.children,je(h));if(p){const g=p.getChild(yt(h));r=Pu(r,nt(),g)}}}else throw gs("WriteRecord should have .snap or .children")}}return r}function PT(e,t,i,r,u){if(!r&&!u){const o=sr(e.visibleWrites,t);if(o!=null)return o;{const c=va(e.visibleWrites,t);if(Gh(c))return i;if(i==null&&!Vh(c,nt()))return null;{const h=i||ke.EMPTY_NODE;return ds(c,h)}}}else{const o=va(e.visibleWrites,t);if(!u&&Gh(o))return i;if(!u&&i==null&&!Vh(o,nt()))return null;{const c=function(g){return(g.visible||u)&&(!r||!~r.indexOf(g.writeId))&&(Wn(g.path,t)||Wn(t,g.path))},h=BT(e.allWrites,c,t),p=i||ke.EMPTY_NODE;return ds(h,p)}}}function J6(e,t,i){let r=ke.EMPTY_NODE;const u=sr(e.visibleWrites,t);if(u)return u.isLeafNode()||u.forEachChild(Ot,(o,c)=>{r=r.updateImmediateChild(o,c)}),r;if(i){const o=va(e.visibleWrites,t);return i.forEachChild(Ot,(c,h)=>{const p=ds(va(o,new ct(c)),h);r=r.updateImmediateChild(c,p)}),h_(o).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}else{const o=va(e.visibleWrites,t);return h_(o).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}}function eN(e,t,i,r,u){de(r||u,"Either existingEventSnap or existingServerSnap must exist");const o=Rt(t,i);if(Vh(e.visibleWrites,o))return null;{const c=va(e.visibleWrites,o);return Gh(c)?u.getChild(i):ds(c,u.getChild(i))}}function tN(e,t,i,r){const u=Rt(t,i),o=sr(e.visibleWrites,u);if(o!=null)return o;if(r.isCompleteForChild(i)){const c=va(e.visibleWrites,u);return ds(c,r.getNode().getImmediateChild(i))}else return null}function nN(e,t){return sr(e.visibleWrites,t)}function iN(e,t,i,r,u,o,c){let h;const p=va(e.visibleWrites,t),g=sr(p,nt());if(g!=null)h=g;else if(i!=null)h=ds(p,i);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const _=[],T=c.getCompare(),b=o?h.getReverseIteratorFrom(r,c):h.getIteratorFrom(r,c);let S=b.getNext();for(;S&&_.length<u;)T(S,r)!==0&&_.push(S),S=b.getNext();return _}else return[]}function aN(){return{visibleWrites:ri.empty(),allWrites:[],lastWriteId:-1}}function ac(e,t,i,r){return PT(e.writeTree,e.treePath,t,i,r)}function P0(e,t){return J6(e.writeTree,e.treePath,t)}function m_(e,t,i,r){return eN(e.writeTree,e.treePath,t,i,r)}function rc(e,t){return nN(e.writeTree,Rt(e.treePath,t))}function rN(e,t,i,r,u,o){return iN(e.writeTree,e.treePath,t,i,r,u,o)}function U0(e,t,i){return tN(e.writeTree,e.treePath,t,i)}function UT(e,t){return HT(Rt(e.treePath,t),e.writeTree)}function HT(e,t){return{treePath:e,writeTree:t}}class sN{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,r=t.childName;de(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),de(r!==".priority","Only non-priority child changes can be tracked.");const u=this.changeMap.get(r);if(u){const o=u.type;if(i==="child_added"&&o==="child_removed")this.changeMap.set(r,el(r,t.snapshotNode,u.snapshotNode));else if(i==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&o==="child_changed")this.changeMap.set(r,Ju(r,u.oldSnap));else if(i==="child_changed"&&o==="child_added")this.changeMap.set(r,cs(r,t.snapshotNode));else if(i==="child_changed"&&o==="child_changed")this.changeMap.set(r,el(r,t.snapshotNode,u.oldSnap));else throw gs("Illegal combination of changes: "+t+" occurred after "+u)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}class uN{getCompleteChild(t){return null}getChildAfterChild(t,i,r){return null}}const FT=new uN;class H0{constructor(t,i,r=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new ir(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return U0(this.writes_,t,r)}}getChildAfterChild(t,i,r){const u=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ar(this.viewCache_),o=rN(this.writes_,u,i,1,r,t);return o.length===0?null:o[0]}}function lN(e){return{filter:e}}function oN(e,t){de(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),de(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function cN(e,t,i,r,u){const o=new sN;let c,h;if(i.type===ai.OVERWRITE){const g=i;g.source.fromUser?c=Xh(e,t,g.path,g.snap,r,u,o):(de(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered()&&!Qe(g.path),c=sc(e,t,g.path,g.snap,r,u,h,o))}else if(i.type===ai.MERGE){const g=i;g.source.fromUser?c=dN(e,t,g.path,g.children,r,u,o):(de(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered(),c=Qh(e,t,g.path,g.children,r,u,h,o))}else if(i.type===ai.ACK_USER_WRITE){const g=i;g.revert?c=pN(e,t,g.path,r,u,o):c=hN(e,t,g.path,g.affectedTree,r,u,o)}else if(i.type===ai.LISTEN_COMPLETE)c=mN(e,t,i.path,r,o);else throw gs("Unknown operation type: "+i.type);const p=o.getChanges();return fN(t,c,p),{viewCache:c,changes:p}}function fN(e,t,i){const r=t.eventCache;if(r.isFullyInitialized()){const u=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Yh(e);(i.length>0||!e.eventCache.isFullyInitialized()||u&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&i.push(LT(Yh(t)))}}function zT(e,t,i,r,u,o){const c=t.eventCache;if(rc(r,i)!=null)return t;{let h,p;if(Qe(i))if(de(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=ar(t),_=g instanceof ke?g:ke.EMPTY_NODE,T=P0(r,_);h=e.filter.updateFullNode(t.eventCache.getNode(),T,o)}else{const g=ac(r,ar(t));h=e.filter.updateFullNode(t.eventCache.getNode(),g,o)}else{const g=je(i);if(g===".priority"){de(Ra(i)===1,"Can't have a priority with additional path components");const _=c.getNode();p=t.serverCache.getNode();const T=m_(r,i,_,p);T!=null?h=e.filter.updatePriority(_,T):h=c.getNode()}else{const _=yt(i);let T;if(c.isCompleteForChild(g)){p=t.serverCache.getNode();const b=m_(r,i,c.getNode(),p);b!=null?T=c.getNode().getImmediateChild(g).updateChild(_,b):T=c.getNode().getImmediateChild(g)}else T=U0(r,g,t.serverCache);T!=null?h=e.filter.updateChild(c.getNode(),g,T,_,u,o):h=c.getNode()}}return Bu(t,h,c.isFullyInitialized()||Qe(i),e.filter.filtersNodes())}}function sc(e,t,i,r,u,o,c,h){const p=t.serverCache;let g;const _=c?e.filter:e.filter.getIndexedFilter();if(Qe(i))g=_.updateFullNode(p.getNode(),r,null);else if(_.filtersNodes()&&!p.isFiltered()){const S=p.getNode().updateChild(i,r);g=_.updateFullNode(p.getNode(),S,null)}else{const S=je(i);if(!p.isCompleteForPath(i)&&Ra(i)>1)return t;const B=yt(i),J=p.getNode().getImmediateChild(S).updateChild(B,r);S===".priority"?g=_.updatePriority(p.getNode(),J):g=_.updateChild(p.getNode(),S,J,B,FT,null)}const T=wT(t,g,p.isFullyInitialized()||Qe(i),_.filtersNodes()),b=new H0(u,T,o);return zT(e,T,i,u,b,h)}function Xh(e,t,i,r,u,o,c){const h=t.eventCache;let p,g;const _=new H0(u,t,o);if(Qe(i))g=e.filter.updateFullNode(t.eventCache.getNode(),r,c),p=Bu(t,g,!0,e.filter.filtersNodes());else{const T=je(i);if(T===".priority")g=e.filter.updatePriority(t.eventCache.getNode(),r),p=Bu(t,g,h.isFullyInitialized(),h.isFiltered());else{const b=yt(i),S=h.getNode().getImmediateChild(T);let B;if(Qe(b))B=r;else{const X=_.getCompleteChild(T);X!=null?N0(b)===".priority"&&X.getChild(vT(b)).isEmpty()?B=X:B=X.updateChild(b,r):B=ke.EMPTY_NODE}if(S.equals(B))p=t;else{const X=e.filter.updateChild(h.getNode(),T,B,b,_,c);p=Bu(t,X,h.isFullyInitialized(),e.filter.filtersNodes())}}}return p}function p_(e,t){return e.eventCache.isCompleteForChild(t)}function dN(e,t,i,r,u,o,c){let h=t;return r.foreach((p,g)=>{const _=Rt(i,p);p_(t,je(_))&&(h=Xh(e,h,_,g,u,o,c))}),r.foreach((p,g)=>{const _=Rt(i,p);p_(t,je(_))||(h=Xh(e,h,_,g,u,o,c))}),h}function g_(e,t,i){return i.foreach((r,u)=>{t=t.updateChild(r,u)}),t}function Qh(e,t,i,r,u,o,c,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let p=t,g;Qe(i)?g=r:g=new Et(null).setTree(i,r);const _=t.serverCache.getNode();return g.children.inorderTraversal((T,b)=>{if(_.hasChild(T)){const S=t.serverCache.getNode().getImmediateChild(T),B=g_(e,S,b);p=sc(e,p,new ct(T),B,u,o,c,h)}}),g.children.inorderTraversal((T,b)=>{const S=!t.serverCache.isCompleteForChild(T)&&b.value===null;if(!_.hasChild(T)&&!S){const B=t.serverCache.getNode().getImmediateChild(T),X=g_(e,B,b);p=sc(e,p,new ct(T),X,u,o,c,h)}}),p}function hN(e,t,i,r,u,o,c){if(rc(u,i)!=null)return t;const h=t.serverCache.isFiltered(),p=t.serverCache;if(r.value!=null){if(Qe(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return sc(e,t,i,p.getNode().getChild(i),u,o,h,c);if(Qe(i)){let g=new Et(null);return p.getNode().forEachChild(is,(_,T)=>{g=g.set(new ct(_),T)}),Qh(e,t,i,g,u,o,h,c)}else return t}else{let g=new Et(null);return r.foreach((_,T)=>{const b=Rt(i,_);p.isCompleteForPath(b)&&(g=g.set(_,p.getNode().getChild(b)))}),Qh(e,t,i,g,u,o,h,c)}}function mN(e,t,i,r,u){const o=t.serverCache,c=wT(t,o.getNode(),o.isFullyInitialized()||Qe(i),o.isFiltered());return zT(e,c,i,r,FT,u)}function pN(e,t,i,r,u,o){let c;if(rc(r,i)!=null)return t;{const h=new H0(r,t,u),p=t.eventCache.getNode();let g;if(Qe(i)||je(i)===".priority"){let _;if(t.serverCache.isFullyInitialized())_=ac(r,ar(t));else{const T=t.serverCache.getNode();de(T instanceof ke,"serverChildren would be complete if leaf node"),_=P0(r,T)}_=_,g=e.filter.updateFullNode(p,_,o)}else{const _=je(i);let T=U0(r,_,t.serverCache);T==null&&t.serverCache.isCompleteForChild(_)&&(T=p.getImmediateChild(_)),T!=null?g=e.filter.updateChild(p,_,T,yt(i),h,o):t.eventCache.getNode().hasChild(_)?g=e.filter.updateChild(p,_,ke.EMPTY_NODE,yt(i),h,o):g=p,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=ac(r,ar(t)),c.isLeafNode()&&(g=e.filter.updateFullNode(g,c,o)))}return c=t.serverCache.isFullyInitialized()||rc(r,nt())!=null,Bu(t,g,c,e.filter.filtersNodes())}}class gN{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,u=new I0(r.getIndex()),o=w6(r);this.processor_=lN(o);const c=i.serverCache,h=i.eventCache,p=u.updateFullNode(ke.EMPTY_NODE,c.getNode(),null),g=o.updateFullNode(ke.EMPTY_NODE,h.getNode(),null),_=new ir(p,c.isFullyInitialized(),u.filtersNodes()),T=new ir(g,h.isFullyInitialized(),o.filtersNodes());this.viewCache_=bc(T,_),this.eventGenerator_=new z6(this.query_)}get query(){return this.query_}}function EN(e){return e.viewCache_.serverCache.getNode()}function _N(e,t){const i=ar(e.viewCache_);return i&&(e.query._queryParams.loadsAllData()||!Qe(t)&&!i.getImmediateChild(je(t)).isEmpty())?i.getChild(t):null}function E_(e){return e.eventRegistrations_.length===0}function yN(e,t){e.eventRegistrations_.push(t)}function __(e,t,i){const r=[];if(i){de(t==null,"A cancel should cancel all event registrations.");const u=e.query._path;e.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(i,u);c&&r.push(c)})}if(t){let u=[];for(let o=0;o<e.eventRegistrations_.length;++o){const c=e.eventRegistrations_[o];if(!c.matches(t))u.push(c);else if(t.hasAnyCallback()){u=u.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=u}else e.eventRegistrations_=[];return r}function y_(e,t,i,r){t.type===ai.MERGE&&t.source.queryId!==null&&(de(ar(e.viewCache_),"We should always have a full cache before handling merges"),de(Yh(e.viewCache_),"Missing event cache, even though we have a server cache"));const u=e.viewCache_,o=cN(e.processor_,u,t,i,r);return oN(e.processor_,o.viewCache),de(o.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,jT(e,o.changes,o.viewCache.eventCache.getNode(),null)}function TN(e,t){const i=e.viewCache_.eventCache,r=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Ot,(o,c)=>{r.push(cs(o,c))}),i.isFullyInitialized()&&r.push(LT(i.getNode())),jT(e,r,i.getNode(),t)}function jT(e,t,i,r){const u=r?[r]:e.eventRegistrations_;return j6(e.eventGenerator_,t,i,u)}let uc;class bN{constructor(){this.views=new Map}}function SN(e){de(!uc,"__referenceConstructor has already been defined"),uc=e}function CN(){return de(uc,"Reference.ts has not been loaded"),uc}function AN(e){return e.views.size===0}function F0(e,t,i,r){const u=t.source.queryId;if(u!==null){const o=e.views.get(u);return de(o!=null,"SyncTree gave us an op for an invalid query."),y_(o,t,i,r)}else{let o=[];for(const c of e.views.values())o=o.concat(y_(c,t,i,r));return o}}function vN(e,t,i,r,u){const o=t._queryIdentifier,c=e.views.get(o);if(!c){let h=ac(i,u?r:null),p=!1;h?p=!0:r instanceof ke?(h=P0(i,r),p=!1):(h=ke.EMPTY_NODE,p=!1);const g=bc(new ir(h,p,!1),new ir(r,u,!1));return new gN(t,g)}return c}function xN(e,t,i,r,u,o){const c=vN(e,t,r,u,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,c),yN(c,i),TN(c,i)}function NN(e,t,i,r){const u=t._queryIdentifier,o=[];let c=[];const h=Oa(e);if(u==="default")for(const[p,g]of e.views.entries())c=c.concat(__(g,i,r)),E_(g)&&(e.views.delete(p),g.query._queryParams.loadsAllData()||o.push(g.query));else{const p=e.views.get(u);p&&(c=c.concat(__(p,i,r)),E_(p)&&(e.views.delete(u),p.query._queryParams.loadsAllData()||o.push(p.query)))}return h&&!Oa(e)&&o.push(new(CN())(t._repo,t._path)),{removed:o,events:c}}function YT(e){const t=[];for(const i of e.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function as(e,t){let i=null;for(const r of e.views.values())i=i||_N(r,t);return i}function qT(e,t){if(t._queryParams.loadsAllData())return Sc(e);{const r=t._queryIdentifier;return e.views.get(r)}}function VT(e,t){return qT(e,t)!=null}function Oa(e){return Sc(e)!=null}function Sc(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let lc;function RN(e){de(!lc,"__referenceConstructor has already been defined"),lc=e}function ON(){return de(lc,"Reference.ts has not been loaded"),lc}let DN=1;class T_{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Et(null),this.pendingWriteTree_=aN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function GT(e,t,i,r,u){return G6(e.pendingWriteTree_,t,i,r,u),u?_s(e,new nr(k0(),t,i)):[]}function IN(e,t,i,r){X6(e.pendingWriteTree_,t,i,r);const u=Et.fromObject(i);return _s(e,new fs(k0(),t,u))}function ba(e,t,i=!1){const r=Q6(e.pendingWriteTree_,t);if(K6(e.pendingWriteTree_,t)){let o=new Et(null);return r.snap!=null?o=o.set(nt(),!0):rn(r.children,c=>{o=o.set(new ct(c),!0)}),_s(e,new ic(r.path,o,i))}else return[]}function Cc(e,t,i){return _s(e,new nr(w0(),t,i))}function LN(e,t,i){const r=Et.fromObject(i);return _s(e,new fs(w0(),t,r))}function kN(e,t){return _s(e,new nl(w0(),t))}function wN(e,t,i){const r=j0(e,i);if(r){const u=Y0(r),o=u.path,c=u.queryId,h=Cn(o,t),p=new nl(M0(c),h);return q0(e,o,p)}else return[]}function Kh(e,t,i,r,u=!1){const o=t._path,c=e.syncPointTree_.get(o);let h=[];if(c&&(t._queryIdentifier==="default"||VT(c,t))){const p=NN(c,t,i,r);AN(c)&&(e.syncPointTree_=e.syncPointTree_.remove(o));const g=p.removed;if(h=p.events,!u){const _=g.findIndex(b=>b._queryParams.loadsAllData())!==-1,T=e.syncPointTree_.findOnPath(o,(b,S)=>Oa(S));if(_&&!T){const b=e.syncPointTree_.subtree(o);if(!b.isEmpty()){const S=PN(b);for(let B=0;B<S.length;++B){const X=S[B],J=X.query,G=KT(e,X);e.listenProvider_.startListening(Uu(J),oc(e,J),G.hashFn,G.onComplete)}}}!T&&g.length>0&&!r&&(_?e.listenProvider_.stopListening(Uu(t),null):g.forEach(b=>{const S=e.queryToTagMap.get(Ac(b));e.listenProvider_.stopListening(Uu(b),S)}))}UN(e,g)}return h}function MN(e,t,i,r){const u=j0(e,r);if(u!=null){const o=Y0(u),c=o.path,h=o.queryId,p=Cn(c,t),g=new nr(M0(h),p,i);return q0(e,c,g)}else return[]}function BN(e,t,i,r){const u=j0(e,r);if(u){const o=Y0(u),c=o.path,h=o.queryId,p=Cn(c,t),g=Et.fromObject(i),_=new fs(M0(h),p,g);return q0(e,c,_)}else return[]}function b_(e,t,i,r=!1){const u=t._path;let o=null,c=!1;e.syncPointTree_.foreachOnPath(u,(b,S)=>{const B=Cn(b,u);o=o||as(S,B),c=c||Oa(S)});let h=e.syncPointTree_.get(u);h?(c=c||Oa(h),o=o||as(h,nt())):(h=new bN,e.syncPointTree_=e.syncPointTree_.set(u,h));let p;o!=null?p=!0:(p=!1,o=ke.EMPTY_NODE,e.syncPointTree_.subtree(u).foreachChild((S,B)=>{const X=as(B,nt());X&&(o=o.updateImmediateChild(S,X))}));const g=VT(h,t);if(!g&&!t._queryParams.loadsAllData()){const b=Ac(t);de(!e.queryToTagMap.has(b),"View does not exist, but we have a tag");const S=HN();e.queryToTagMap.set(b,S),e.tagToQueryMap.set(S,b)}const _=B0(e.pendingWriteTree_,u);let T=xN(h,t,i,_,o,p);if(!g&&!c&&!r){const b=qT(h,t);T=T.concat(FN(e,t,b))}return T}function z0(e,t,i){const u=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(c,h)=>{const p=Cn(c,t),g=as(h,p);if(g)return g});return PT(u,t,o,i,!0)}function _s(e,t){return XT(t,e.syncPointTree_,null,B0(e.pendingWriteTree_,nt()))}function XT(e,t,i,r){if(Qe(e.path))return QT(e,t,i,r);{const u=t.get(nt());i==null&&u!=null&&(i=as(u,nt()));let o=[];const c=je(e.path),h=e.operationForChild(c),p=t.children.get(c);if(p&&h){const g=i?i.getImmediateChild(c):null,_=UT(r,c);o=o.concat(XT(h,p,g,_))}return u&&(o=o.concat(F0(u,e,r,i))),o}}function QT(e,t,i,r){const u=t.get(nt());i==null&&u!=null&&(i=as(u,nt()));let o=[];return t.children.inorderTraversal((c,h)=>{const p=i?i.getImmediateChild(c):null,g=UT(r,c),_=e.operationForChild(c);_&&(o=o.concat(QT(_,h,p,g)))}),u&&(o=o.concat(F0(u,e,r,i))),o}function KT(e,t){const i=t.query,r=oc(e,i);return{hashFn:()=>(EN(t)||ke.EMPTY_NODE).hash(),onComplete:u=>{if(u==="ok")return r?wN(e,i._path,r):kN(e,i._path);{const o=Lx(u,i);return Kh(e,i,null,o)}}}}function oc(e,t){const i=Ac(t);return e.queryToTagMap.get(i)}function Ac(e){return e._path.toString()+"$"+e._queryIdentifier}function j0(e,t){return e.tagToQueryMap.get(t)}function Y0(e){const t=e.indexOf("$");return de(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ct(e.substr(0,t))}}function q0(e,t,i){const r=e.syncPointTree_.get(t);de(r,"Missing sync point for query tag that we're tracking");const u=B0(e.pendingWriteTree_,t);return F0(r,i,u,null)}function PN(e){return e.fold((t,i,r)=>{if(i&&Oa(i))return[Sc(i)];{let u=[];return i&&(u=YT(i)),rn(r,(o,c)=>{u=u.concat(c)}),u}})}function Uu(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(ON())(e._repo,e._path):e}function UN(e,t){for(let i=0;i<t.length;++i){const r=t[i];if(!r._queryParams.loadsAllData()){const u=Ac(r),o=e.queryToTagMap.get(u);e.queryToTagMap.delete(u),e.tagToQueryMap.delete(o)}}}function HN(){return DN++}function FN(e,t,i){const r=t._path,u=oc(e,t),o=KT(e,i),c=e.listenProvider_.startListening(Uu(t),u,o.hashFn,o.onComplete),h=e.syncPointTree_.subtree(r);if(u)de(!Oa(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((g,_,T)=>{if(!Qe(g)&&_&&Oa(_))return[Sc(_).query];{let b=[];return _&&(b=b.concat(YT(_).map(S=>S.query))),rn(T,(S,B)=>{b=b.concat(B)}),b}});for(let g=0;g<p.length;++g){const _=p[g];e.listenProvider_.stopListening(Uu(_),oc(e,_))}}return c}class V0{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new V0(i)}node(){return this.node_}}class G0{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=Rt(this.path_,t);return new G0(this.syncTree_,i)}node(){return z0(this.syncTree_,this.path_)}}const zN=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},S_=function(e,t,i){if(!e||typeof e!="object")return e;if(de(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return jN(e[".sv"],t,i);if(typeof e[".sv"]=="object")return YN(e[".sv"],t);de(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},jN=function(e,t,i){switch(e){case"timestamp":return i.timestamp;default:de(!1,"Unexpected server value: "+e)}},YN=function(e,t,i){e.hasOwnProperty("increment")||de(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&de(!1,"Unexpected increment value: "+r);const u=t.node();if(de(u!==null&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return r;const c=u.getValue();return typeof c!="number"?r:c+r},WT=function(e,t,i,r){return X0(t,new G0(i,e),r)},$T=function(e,t,i){return X0(e,new V0(t),i)};function X0(e,t,i){const r=e.getPriority().val(),u=S_(r,t.getImmediateChild(".priority"),i);let o;if(e.isLeafNode()){const c=e,h=S_(c.getValue(),t,i);return h!==c.getValue()||u!==c.getPriority().val()?new Xt(h,Kt(u)):e}else{const c=e;return o=c,u!==c.getPriority().val()&&(o=o.updatePriority(new Xt(u))),c.forEachChild(Ot,(h,p)=>{const g=X0(p,t.getImmediateChild(h),i);g!==p&&(o=o.updateImmediateChild(h,g))}),o}}class Q0{constructor(t="",i=null,r={children:{},childCount:0}){this.name=t,this.parent=i,this.node=r}}function K0(e,t){let i=t instanceof ct?t:new ct(t),r=e,u=je(i);for(;u!==null;){const o=ls(r.node.children,u)||{children:{},childCount:0};r=new Q0(u,r,o),i=yt(i),u=je(i)}return r}function ys(e){return e.node.value}function ZT(e,t){e.node.value=t,Wh(e)}function JT(e){return e.node.childCount>0}function qN(e){return ys(e)===void 0&&!JT(e)}function vc(e,t){rn(e.node.children,(i,r)=>{t(new Q0(i,e,r))})}function eb(e,t,i,r){i&&t(e),vc(e,u=>{eb(u,t,!0)})}function VN(e,t,i){let r=e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function dl(e){return new ct(e.parent===null?e.name:dl(e.parent)+"/"+e.name)}function Wh(e){e.parent!==null&&GN(e.parent,e.name,e)}function GN(e,t,i){const r=qN(i),u=gi(e.node.children,t);r&&u?(delete e.node.children[t],e.node.childCount--,Wh(e)):!r&&!u&&(e.node.children[t]=i.node,e.node.childCount++,Wh(e))}const XN=/[\[\].#$\/\u0000-\u001F\u007F]/,QN=/[\[\].#$\u0000-\u001F\u007F]/,mh=10*1024*1024,W0=function(e){return typeof e=="string"&&e.length!==0&&!XN.test(e)},tb=function(e){return typeof e=="string"&&e.length!==0&&!QN.test(e)},KN=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),tb(e)},WN=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!S0(e)||e&&typeof e=="object"&&gi(e,".sv")},$N=function(e,t,i,r){xc(_c(e,"value"),t,i)},xc=function(e,t,i){const r=i instanceof ct?new d6(i,e):i;if(t===void 0)throw new Error(e+"contains undefined "+$a(r));if(typeof t=="function")throw new Error(e+"contains a function "+$a(r)+" with contents = "+t.toString());if(S0(t))throw new Error(e+"contains "+t.toString()+" "+$a(r));if(typeof t=="string"&&t.length>mh/3&&yc(t)>mh)throw new Error(e+"contains a string greater than "+mh+" utf8 bytes "+$a(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let u=!1,o=!1;if(rn(t,(c,h)=>{if(c===".value")u=!0;else if(c!==".priority"&&c!==".sv"&&(o=!0,!W0(c)))throw new Error(e+" contains an invalid key ("+c+") "+$a(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);h6(r,c),xc(e,h,r),m6(r)}),u&&o)throw new Error(e+' contains ".value" child '+$a(r)+" in addition to actual children.")}},ZN=function(e,t){let i,r;for(i=0;i<t.length;i++){r=t[i];const o=Zu(r);for(let c=0;c<o.length;c++)if(!(o[c]===".priority"&&c===o.length-1)){if(!W0(o[c]))throw new Error(e+"contains an invalid key ("+o[c]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(f6);let u=null;for(i=0;i<t.length;i++){if(r=t[i],u!==null&&Wn(u,r))throw new Error(e+"contains a path "+u.toString()+" that is ancestor of another path "+r.toString());u=r}},JN=function(e,t,i,r){const u=_c(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(u+" must be an object containing the children to replace.");const o=[];rn(t,(c,h)=>{const p=new ct(c);if(xc(u,h,Rt(i,p)),N0(p)===".priority"&&!WN(h))throw new Error(u+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(p)}),ZN(u,o)},nb=function(e,t,i,r){if(!tb(i))throw new Error(_c(e,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},e4=function(e,t,i,r){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),nb(e,t,i)},ib=function(e,t){if(je(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},t4=function(e,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!W0(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!KN(i))throw new Error(_c(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class n4{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Nc(e,t){let i=null;for(let r=0;r<t.length;r++){const u=t[r],o=u.getPath();i!==null&&!R0(o,i.path)&&(e.eventLists_.push(i),i=null),i===null&&(i={events:[],path:o}),i.events.push(u)}i&&e.eventLists_.push(i)}function ab(e,t,i){Nc(e,i),rb(e,r=>R0(r,t))}function si(e,t,i){Nc(e,i),rb(e,r=>Wn(r,t)||Wn(t,r))}function rb(e,t){e.recursionDepth_++;let i=!0;for(let r=0;r<e.eventLists_.length;r++){const u=e.eventLists_[r];if(u){const o=u.path;t(o)?(i4(e.eventLists_[r]),e.eventLists_[r]=null):i=!1}}i&&(e.eventLists_=[]),e.recursionDepth_--}function i4(e){for(let t=0;t<e.events.length;t++){const i=e.events[t];if(i!==null){e.events[t]=null;const r=i.getEventRunner();wu&&an("event: "+i.toString()),Es(r)}}}const a4="repo_interrupt",r4=25;class s4{constructor(t,i,r,u){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new n4,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=nc(),this.transactionQueueTree_=new Q0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function u4(e,t,i){if(e.stats_=v0(e.repoInfo_),e.forceRestClient_||Bx())e.server_=new tc(e.repoInfo_,(r,u,o,c)=>{C_(e,r,u,o,c)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>A_(e,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Wt(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new ji(e.repoInfo_,t,(r,u,o,c)=>{C_(e,r,u,o,c)},r=>{A_(e,r)},r=>{o4(e,r)},e.authTokenProvider_,e.appCheckProvider_,i),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=zx(e.repoInfo_,()=>new F6(e.stats_,e.server_)),e.infoData_=new M6,e.infoSyncTree_=new T_({startListening:(r,u,o,c)=>{let h=[];const p=e.infoData_.getNode(r._path);return p.isEmpty()||(h=Cc(e.infoSyncTree_,r._path,p),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),$0(e,"connected",!1),e.serverSyncTree_=new T_({startListening:(r,u,o,c)=>(e.server_.listen(r,o,u,(h,p)=>{const g=c(h,p);si(e.eventQueue_,r._path,g)}),[]),stopListening:(r,u)=>{e.server_.unlisten(r,u)}})}function l4(e){const i=e.infoData_.getNode(new ct(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Rc(e){return zN({timestamp:l4(e)})}function C_(e,t,i,r,u){e.dataUpdateCount++;const o=new ct(t);i=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,i):i;let c=[];if(u)if(r){const p=Ko(i,g=>Kt(g));c=BN(e.serverSyncTree_,o,p,u)}else{const p=Kt(i);c=MN(e.serverSyncTree_,o,p,u)}else if(r){const p=Ko(i,g=>Kt(g));c=LN(e.serverSyncTree_,o,p)}else{const p=Kt(i);c=Cc(e.serverSyncTree_,o,p)}let h=o;c.length>0&&(h=hs(e,o)),si(e.eventQueue_,h,c)}function A_(e,t){$0(e,"connected",t),t===!1&&d4(e)}function o4(e,t){rn(t,(i,r)=>{$0(e,i,r)})}function $0(e,t,i){const r=new ct("/.info/"+t),u=Kt(i);e.infoData_.updateSnapshot(r,u);const o=Cc(e.infoSyncTree_,r,u);si(e.eventQueue_,r,o)}function Z0(e){return e.nextWriteId_++}function c4(e,t,i,r,u){Oc(e,"set",{path:t.toString(),value:i,priority:r});const o=Rc(e),c=Kt(i,r),h=z0(e.serverSyncTree_,t),p=$T(c,h,o),g=Z0(e),_=GT(e.serverSyncTree_,t,p,g,!0);Nc(e.eventQueue_,_),e.server_.put(t.toString(),c.val(!0),(b,S)=>{const B=b==="ok";B||dn("set at "+t+" failed: "+b);const X=ba(e.serverSyncTree_,g,!B);si(e.eventQueue_,t,X),$h(e,u,b,S)});const T=em(e,t);hs(e,T),si(e.eventQueue_,T,[])}function f4(e,t,i,r){Oc(e,"update",{path:t.toString(),value:i});let u=!0;const o=Rc(e),c={};if(rn(i,(h,p)=>{u=!1,c[h]=WT(Rt(t,h),Kt(p),e.serverSyncTree_,o)}),u)an("update() called with empty data.  Don't do anything."),$h(e,r,"ok",void 0);else{const h=Z0(e),p=IN(e.serverSyncTree_,t,c,h);Nc(e.eventQueue_,p),e.server_.merge(t.toString(),i,(g,_)=>{const T=g==="ok";T||dn("update at "+t+" failed: "+g);const b=ba(e.serverSyncTree_,h,!T),S=b.length>0?hs(e,t):t;si(e.eventQueue_,S,b),$h(e,r,g,_)}),rn(i,g=>{const _=em(e,Rt(t,g));hs(e,_)}),si(e.eventQueue_,t,[])}}function d4(e){Oc(e,"onDisconnectEvents");const t=Rc(e),i=nc();jh(e.onDisconnect_,nt(),(u,o)=>{const c=WT(u,o,e.serverSyncTree_,t);kT(i,u,c)});let r=[];jh(i,nt(),(u,o)=>{r=r.concat(Cc(e.serverSyncTree_,u,o));const c=em(e,u);hs(e,c)}),e.onDisconnect_=nc(),si(e.eventQueue_,nt(),r)}function h4(e,t,i){let r;je(t._path)===".info"?r=b_(e.infoSyncTree_,t,i):r=b_(e.serverSyncTree_,t,i),ab(e.eventQueue_,t._path,r)}function v_(e,t,i){let r;je(t._path)===".info"?r=Kh(e.infoSyncTree_,t,i):r=Kh(e.serverSyncTree_,t,i),ab(e.eventQueue_,t._path,r)}function m4(e){e.persistentConnection_&&e.persistentConnection_.interrupt(a4)}function Oc(e,...t){let i="";e.persistentConnection_&&(i=e.persistentConnection_.id+":"),an(i,...t)}function $h(e,t,i,r){t&&Es(()=>{if(i==="ok")t(null);else{const u=(i||"error").toUpperCase();let o=u;r&&(o+=": "+r);const c=new Error(o);c.code=u,t(c)}})}function sb(e,t,i){return z0(e.serverSyncTree_,t,i)||ke.EMPTY_NODE}function J0(e,t=e.transactionQueueTree_){if(t||Dc(e,t),ys(t)){const i=lb(e,t);de(i.length>0,"Sending zero length transaction queue"),i.every(u=>u.status===0)&&p4(e,dl(t),i)}else JT(t)&&vc(t,i=>{J0(e,i)})}function p4(e,t,i){const r=i.map(g=>g.currentWriteId),u=sb(e,t,r);let o=u;const c=u.hash();for(let g=0;g<i.length;g++){const _=i[g];de(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const T=Cn(t,_.path);o=o.updateChild(T,_.currentOutputSnapshotRaw)}const h=o.val(!0),p=t;e.server_.put(p.toString(),h,g=>{Oc(e,"transaction put response",{path:p.toString(),status:g});let _=[];if(g==="ok"){const T=[];for(let b=0;b<i.length;b++)i[b].status=2,_=_.concat(ba(e.serverSyncTree_,i[b].currentWriteId)),i[b].onComplete&&T.push(()=>i[b].onComplete(null,!0,i[b].currentOutputSnapshotResolved)),i[b].unwatcher();Dc(e,K0(e.transactionQueueTree_,t)),J0(e,e.transactionQueueTree_),si(e.eventQueue_,t,_);for(let b=0;b<T.length;b++)Es(T[b])}else{if(g==="datastale")for(let T=0;T<i.length;T++)i[T].status===3?i[T].status=4:i[T].status=0;else{dn("transaction at "+p.toString()+" failed: "+g);for(let T=0;T<i.length;T++)i[T].status=4,i[T].abortReason=g}hs(e,t)}},c)}function hs(e,t){const i=ub(e,t),r=dl(i),u=lb(e,i);return g4(e,u,r),r}function g4(e,t,i){if(t.length===0)return;const r=[];let u=[];const c=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const p=t[h],g=Cn(i,p.path);let _=!1,T;if(de(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)_=!0,T=p.abortReason,u=u.concat(ba(e.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=r4)_=!0,T="maxretry",u=u.concat(ba(e.serverSyncTree_,p.currentWriteId,!0));else{const b=sb(e,p.path,c);p.currentInputSnapshot=b;const S=t[h].update(b.val());if(S!==void 0){xc("transaction failed: Data returned ",S,p.path);let B=Kt(S);typeof S=="object"&&S!=null&&gi(S,".priority")||(B=B.updatePriority(b.getPriority()));const J=p.currentWriteId,G=Rc(e),Ee=$T(B,b,G);p.currentOutputSnapshotRaw=B,p.currentOutputSnapshotResolved=Ee,p.currentWriteId=Z0(e),c.splice(c.indexOf(J),1),u=u.concat(GT(e.serverSyncTree_,p.path,Ee,p.currentWriteId,p.applyLocally)),u=u.concat(ba(e.serverSyncTree_,J,!0))}else _=!0,T="nodata",u=u.concat(ba(e.serverSyncTree_,p.currentWriteId,!0))}si(e.eventQueue_,i,u),u=[],_&&(t[h].status=2,(function(b){setTimeout(b,Math.floor(0))})(t[h].unwatcher),t[h].onComplete&&(T==="nodata"?r.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):r.push(()=>t[h].onComplete(new Error(T),!1,null))))}Dc(e,e.transactionQueueTree_);for(let h=0;h<r.length;h++)Es(r[h]);J0(e,e.transactionQueueTree_)}function ub(e,t){let i,r=e.transactionQueueTree_;for(i=je(t);i!==null&&ys(r)===void 0;)r=K0(r,i),t=yt(t),i=je(t);return r}function lb(e,t){const i=[];return ob(e,t,i),i.sort((r,u)=>r.order-u.order),i}function ob(e,t,i){const r=ys(t);if(r)for(let u=0;u<r.length;u++)i.push(r[u]);vc(t,u=>{ob(e,u,i)})}function Dc(e,t){const i=ys(t);if(i){let r=0;for(let u=0;u<i.length;u++)i[u].status!==2&&(i[r]=i[u],r++);i.length=r,ZT(t,i.length>0?i:void 0)}vc(t,r=>{Dc(e,r)})}function em(e,t){const i=dl(ub(e,t)),r=K0(e.transactionQueueTree_,t);return VN(r,u=>{ph(e,u)}),ph(e,r),eb(r,u=>{ph(e,u)}),i}function ph(e,t){const i=ys(t);if(i){const r=[];let u=[],o=-1;for(let c=0;c<i.length;c++)i[c].status===3||(i[c].status===1?(de(o===c-1,"All SENT items should be at beginning of queue."),o=c,i[c].status=3,i[c].abortReason="set"):(de(i[c].status===0,"Unexpected transaction status in abort"),i[c].unwatcher(),u=u.concat(ba(e.serverSyncTree_,i[c].currentWriteId,!0)),i[c].onComplete&&r.push(i[c].onComplete.bind(null,new Error("set"),!1,null))));o===-1?ZT(t,void 0):i.length=o+1,si(e.eventQueue_,dl(t),u);for(let c=0;c<r.length;c++)Es(r[c])}}function E4(e){let t="";const i=e.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let u=i[r];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}t+="/"+u}return t}function _4(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const i of e.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):dn(`Invalid query segment '${i}' in query '${e}'`)}return t}const x_=function(e,t){const i=y4(e),r=i.namespace;i.domain==="firebase.com"&&qi(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&qi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||Nx();const u=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new gT(i.host,i.secure,r,u,t,"",r!==i.subdomain),path:new ct(i.pathString)}},y4=function(e){let t="",i="",r="",u="",o="",c=!0,h="https",p=443;if(typeof e=="string"){let g=e.indexOf("//");g>=0&&(h=e.substring(0,g-1),e=e.substring(g+2));let _=e.indexOf("/");_===-1&&(_=e.length);let T=e.indexOf("?");T===-1&&(T=e.length),t=e.substring(0,Math.min(_,T)),_<T&&(u=E4(e.substring(_,T)));const b=_4(e.substring(Math.min(e.length,T)));g=t.indexOf(":"),g>=0?(c=h==="https"||h==="wss",p=parseInt(t.substring(g+1),10)):g=t.length;const S=t.slice(0,g);if(S.toLowerCase()==="localhost")i="localhost";else if(S.split(".").length<=2)i=S;else{const B=t.indexOf(".");r=t.substring(0,B).toLowerCase(),i=t.substring(B+1),o=r}"ns"in b&&(o=b.ns)}return{host:t,port:p,domain:i,subdomain:r,secure:c,scheme:h,pathString:u,namespace:o}};class T4{constructor(t,i,r,u){this.eventType=t,this.eventRegistration=i,this.snapshot=r,this.prevName=u}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Wt(this.snapshot.exportVal())}}class b4{constructor(t,i,r){this.eventRegistration=t,this.error=i,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class S4{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return de(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class tm{constructor(t,i,r,u){this._repo=t,this._path=i,this._queryParams=r,this._orderByCalled=u}get key(){return Qe(this._path)?null:N0(this._path)}get ref(){return new Da(this._repo,this._path)}get _queryIdentifier(){const t=c_(this._queryParams),i=C0(t);return i==="{}"?"default":i}get _queryObject(){return c_(this._queryParams)}isEqual(t){if(t=ll(t),!(t instanceof tm))return!1;const i=this._repo===t._repo,r=R0(this._path,t._path),u=this._queryIdentifier===t._queryIdentifier;return i&&r&&u}toJSON(){return this.toString()}toString(){return this._repo.toString()+c6(this._path)}}class Da extends tm{constructor(t,i){super(t,i,new L0,!1)}get parent(){const t=vT(this._path);return t===null?null:new Da(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class cc{constructor(t,i,r){this._node=t,this.ref=i,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new ct(t),r=Zh(this.ref,t);return new cc(this._node.getChild(i),r,Ot)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,u)=>t(new cc(u,Zh(this.ref,r),Ot)))}hasChild(t){const i=new ct(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function xa(e,t){return e=ll(e),e._checkNotDeleted("ref"),t!==void 0?Zh(e._root,t):e._root}function Zh(e,t){return e=ll(e),je(e._path)===null?e4("child","path",t):nb("child","path",t),new Da(e._repo,Rt(e._path,t))}function C4(e){return ib("remove",e._path),fc(e,null)}function fc(e,t){e=ll(e),ib("set",e._path),$N("set",t,e._path);const i=new sl;return c4(e._repo,e._path,t,null,i.wrapCallback(()=>{})),i.promise}function A4(e,t){JN("update",t,e._path);const i=new sl;return f4(e._repo,e._path,t,i.wrapCallback(()=>{})),i.promise}class nm{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const r=i._queryParams.getIndex();return new T4("value",this,new cc(t.snapshotNode,new Da(i._repo,i._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new b4(this,t,i):null}matches(t){return t instanceof nm?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function v4(e,t,i,r,u){let o;if(typeof r=="object"&&(o=void 0,u=r),typeof r=="function"&&(o=r),u&&u.onlyOnce){const p=i,g=(_,T)=>{v_(e._repo,e,h),p(_,T)};g.userCallback=i.userCallback,g.context=i.context,i=g}const c=new S4(i,o||void 0),h=new nm(c);return h4(e._repo,e,h),()=>v_(e._repo,e,h)}function im(e,t,i,r){return v4(e,"value",t,i,r)}SN(Da);RN(Da);const x4="FIREBASE_DATABASE_EMULATOR_HOST",Jh={};let N4=!1;function R4(e,t,i,r){const u=t.lastIndexOf(":"),o=t.substring(0,u),c=T0(o);e.repoInfo_=new gT(t,c,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,i),r&&(e.authTokenProvider_=r)}function O4(e,t,i,r,u){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||qi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),an("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let c=x_(o,u),h=c.repoInfo,p;typeof process<"u"&&GE&&(p=GE[x4]),p?(o=`http://${p}?ns=${h.namespace}`,c=x_(o,u),h=c.repoInfo):c.repoInfo.secure;const g=new Ux(e.name,e.options,t);t4("Invalid Firebase Database URL",c),Qe(c.path)||qi("Database URL must point to the root of a Firebase Database (not including a child path).");const _=I4(h,e,g,new Px(e,i));return new L4(_,e)}function D4(e,t){const i=Jh[t];(!i||i[e.key]!==e)&&qi(`Database ${t}(${e.repoInfo_}) has already been deleted.`),m4(e),delete i[e.key]}function I4(e,t,i,r){let u=Jh[t.name];u||(u={},Jh[t.name]=u);let o=u[e.toURLString()];return o&&qi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new s4(e,N4,i,r),u[e.toURLString()]=o,o}class L4{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(u4(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Da(this._repo,nt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(D4(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&qi("Cannot call "+t+" on a deleted database.")}}function k4(e=Jy(),t){const i=ix(e,"database").getImmediate({identifier:t});if(!i._instanceStarted){const r=j3("database");r&&w4(i,...r)}return i}function w4(e,t,i,r={}){e=ll(e),e._checkNotDeleted("useEmulator");const u=`${t}:${i}`,o=e._repoInternal;if(e._instanceStarted){if(u===e._repoInternal.repoInfo_.host&&Wo(r,o.repoInfo_.emulatorOptions))return;qi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&qi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new qo(qo.OWNER);else if(r.mockUserToken){const h=typeof r.mockUserToken=="string"?r.mockUserToken:q3(r.mockUserToken,e.app.options.projectId);c=new qo(h)}T0(t)&&(Y3(t),X3("Database",!0)),R4(o,u,r,c)}function M4(e){bx(ux),$o(new Qu("database",(t,{instanceIdentifier:i})=>{const r=t.getProvider("app").getImmediate(),u=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return O4(r,u,o,i)},"PUBLIC").setMultipleInstances(!0)),ts(XE,QE,e),ts(XE,QE,"esm2020")}ji.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};ji.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};M4();const B4={apiKey:"AIzaSyAJDqSAHJDvUrgW6clk3BaNqUz5Gq7E3hY",authDomain:"anansi-party-tracker.firebaseapp.com",databaseURL:"https://anansi-party-tracker-default-rtdb.firebaseio.com",projectId:"anansi-party-tracker",storageBucket:"anansi-party-tracker.firebasestorage.app",messagingSenderId:"627434109412",appId:"1:627434109412:web:f4f9676f30095aa8feaff1"},P4=lx().length===0?Zy(B4):Jy(),Na=k4(P4),un=[0,300,900,2700,6500,14e3,23e3,34e3,48e3,64e3,85e3,1e5,12e4,14e4,165e3,195e3,225e3,265e3,305e3,355e3];function U4(){const[e,t]=re.useState("XP"),[i,r]=re.useState(0),[u,o]=re.useState(1),[c,h]=re.useState(""),[p,g]=re.useState(""),[_,T]=re.useState([]),[b,S]=re.useState(1),[B,X]=re.useState([""]),[J,G]=re.useState(0),[Ee,j]=re.useState(""),Te=()=>{const R=["DRAGON","SWORD","MAGIC","QUEST","HERO","DUNGEON","WIZARD","ROGUE"],x=R[Math.floor(Math.random()*R.length)],U=Math.floor(Math.random()*9999).toString().padStart(4,"0");return`${x}-${U}`};re.useEffect(()=>{const R=JSON.parse(localStorage.getItem("partyData")||"{}");if(R.totalXP!==void 0&&r(R.totalXP),R.level!==void 0&&o(R.level),R.mode!==void 0&&t(R.mode),R.partyName!==void 0&&h(R.partyName),R.partyCode!==void 0&&g(R.partyCode),Array.isArray(R.characterNames)&&X(R.characterNames),R.numPlayers!==void 0?S(R.numPlayers):Array.isArray(R.characterNames)&&S(R.characterNames.length||1),!R.partyCode){const x=Te();g(x)}},[]);const Ae=()=>{try{const R=JSON.parse(localStorage.getItem("characterSheets_all")||"[]");if(Array.isArray(R)){const x=R.map(U=>({...U,party:U.party?.trim()||""}));T(x)}}catch(R){console.error("Error loading character sheets:",R)}};re.useEffect(()=>{Ae();const R=U=>{U.key==="characterSheets_all"&&Ae()};window.addEventListener("storage",R);const x=setInterval(()=>{Ae()},2e3);return()=>{window.removeEventListener("storage",R),clearInterval(x)}},[]),re.useEffect(()=>{if(!p)return;const R=xa(Na,`parties/${p}`),x=im(R,U=>{const te=U.val();te&&(te.totalXP!==void 0&&r(te.totalXP),te.level!==void 0&&o(te.level),te.mode!==void 0&&t(te.mode),Array.isArray(te.characterNames)&&X(te.characterNames),te.numPlayers!==void 0&&S(te.numPlayers),te.partyName!==void 0&&h(te.partyName))});return()=>x()},[p]);const V=Array.from(new Set(_.map(R=>R.party).filter(Boolean))),fe=()=>p?`${window.location.origin+window.location.pathname.replace(/\/$/,"")}/pt-pv.html?code=${p}`:"",Se=R=>{if(!p)return;const x=xa(Na,`parties/${p}`);fc(x,{...R,lastUpdated:Date.now()}).catch(U=>{console.error("Error saving to Firebase:",U)})};re.useEffect(()=>{if(!p)return;let R=1;for(let U=un.length-1;U>=0;U--)if(i>=un[U]){R=U+1;break}R!==u&&o(R);const x={totalXP:i,level:R,mode:e,characterNames:B,partyName:c,partyCode:p,numPlayers:b};localStorage.setItem("partyData",JSON.stringify(x)),Se(x),j(fe())},[i,e,JSON.stringify(B),c,p,b]);const ve=(R,x)=>{if(!(!c||c==="__custom"))try{const te=JSON.parse(localStorage.getItem("characterSheets_all")||"[]").map(he=>he.party===c?{...he,xp:R,level:x}:he);localStorage.setItem("characterSheets_all",JSON.stringify(te)),te.forEach(he=>{he.party===c&&he.filename&&localStorage.setItem(he.filename,JSON.stringify(he))}),T(te),window.dispatchEvent(new CustomEvent("characterSheetsUpdated"))}catch(U){console.error("Error updating character sheets:",U)}},xe=R=>{const x=Math.min(i+Math.floor(R/b),un[19]);r(x);let U=1;for(let te=un.length-1;te>=0;te--)if(x>=un[te]){U=te+1;break}ve(x,U)},_e=R=>{const x=Math.max(i-Math.floor(R/b),0);r(x);let U=1;for(let te=un.length-1;te>=0;te--)if(x>=un[te]){U=te+1;break}ve(x,U)},q=R=>{const x=Math.max(0,Math.min(R,un[19]));r(x);let U=1;for(let te=un.length-1;te>=0;te--)if(x>=un[te]){U=te+1;break}ve(x,U)},Le=()=>{if(u>=20)return;const R=un[u],x=u+1;r(R),ve(R,x)},ue=R=>{const x=Number(R.target.value);S(x),X(U=>{const te=[...U];for(;te.length<x;)te.push("");for(;te.length>x;)te.pop();return te})},ie=(R,x)=>{const U=[...B];U[R]=x,X(U)},P=R=>{if(h(R),R&&R!=="__custom"){const x=_.filter(te=>te.party===R),U=x.map(te=>te.name);if(X(U.length?U:[""]),S(U.length||1),x.length>0){const te=Math.max(...x.map(qe=>qe.level)),he=un[Math.min(te-1,un.length-1)]||0;r(he)}}},ee=()=>{const R=Ee||fe();(!window.playerViewWindow||window.playerViewWindow.closed)&&(window.playerViewWindow=window.open(R,"partyTrackerView"))},ye=()=>{const R=Ee||fe();navigator.clipboard.writeText(R).then(()=>{alert("Player View URL copied to clipboard!")}).catch(()=>{alert("Failed to copy URL.")})},Oe=()=>{const R=Te();g(R);const x={totalXP:0,level:1,mode:"XP",partyName:"",partyCode:R,characterNames:[""],numPlayers:1};localStorage.setItem("partyData",JSON.stringify(x));const U=xa(Na,`parties/${R}`);fc(U,{...x,lastUpdated:Date.now()}).catch(te=>{console.error("Error creating party in Firebase:",te)}),t("XP"),r(0),o(1),h(""),S(1),X([""]),j(()=>`${window.location.origin+window.location.pathname.replace(/\/$/,"")}/pt-pv.html?code=${R}`)},O=()=>{if(confirm("Reset this party?")){const R={totalXP:0,level:1,mode:"XP",partyName:"",partyCode:p,characterNames:[""],numPlayers:1};localStorage.setItem("partyData",JSON.stringify(R)),Se(R),t("XP"),r(0),o(1),h(""),S(1),X([""])}},L=()=>{const R={totalXP:i,level:u,mode:e,partyName:c,partyCode:p,characterNames:B,numPlayers:b},x=new Blob([JSON.stringify(R,null,2)],{type:"application/json"}),U=URL.createObjectURL(x),te=document.createElement("a");te.href=U,te.download=`${c.replace(/\s+/g,"_")||"party"}_party.json`,te.click(),URL.revokeObjectURL(U)},W=R=>{const x=R.target.files?.[0];if(!x)return;const U=new FileReader;U.onload=te=>{try{const he=JSON.parse(te.target?.result);he.totalXP!==void 0&&q(he.totalXP),he.mode!==void 0&&t(he.mode),he.partyName&&h(he.partyName),he.partyCode&&g(he.partyCode),Array.isArray(he.characterNames)&&X(he.characterNames),he.numPlayers&&S(he.numPlayers)}catch{alert("Invalid JSON.")}},U.readAsText(x),R.target.value=""},v=Math.max(0,i-un[u-1]),pe=u<20?un[u]-un[u-1]:0;return E.jsxs("div",{children:[E.jsx("h2",{children:"Party Tracker"}),E.jsxs("div",{style:{marginBottom:20},children:[E.jsx(Yt,{onClick:ee,children:"Open Player View"}),E.jsx(Yt,{onClick:ye,style:{marginLeft:10},children:"Copy Player View URL"}),E.jsx(Yt,{onClick:Oe,style:{marginLeft:10},children:"Create New Party"}),E.jsx(Yt,{onClick:Ae,style:{marginLeft:10},children:"Refresh Parties"})]}),E.jsxs("div",{style:{marginTop:20},children:[E.jsxs("label",{children:[E.jsx("input",{type:"radio",value:"XP",checked:e==="XP",onChange:()=>t("XP")})," XP Based"]}),E.jsxs("label",{style:{marginLeft:10},children:[E.jsx("input",{type:"radio",value:"Milestone",checked:e==="Milestone",onChange:()=>t("Milestone")})," Milestone"]})]}),e==="XP"?E.jsxs("div",{style:{marginTop:10},children:[E.jsx("input",{type:"number",placeholder:"XP amount",value:J,onChange:R=>G(Number(R.target.value))}),E.jsx(Yt,{onClick:()=>xe(J),style:{marginLeft:10},children:"Add XP"}),E.jsx(Yt,{onClick:()=>_e(J),style:{marginLeft:10},children:"Subtract XP"}),E.jsx(Yt,{onClick:()=>q(J),style:{marginLeft:10},children:"Set XP"})]}):E.jsx("div",{style:{marginTop:10},children:E.jsx(Yt,{onClick:Le,children:"Level Up"})}),E.jsx("div",{style:{marginTop:20},children:e==="XP"?E.jsxs("p",{children:["Level ",u," | XP to next level: ",v," / ",pe]}):E.jsxs("p",{children:["Level ",u]})}),E.jsxs("div",{style:{margin:"20px 0"},children:[E.jsxs("label",{children:["Select Party:"," ",E.jsxs("select",{value:c,onChange:R=>P(R.target.value),children:[E.jsx("option",{value:"",children:"-- choose --"}),V.map(R=>E.jsx("option",{value:R,children:R},R)),E.jsx("option",{value:"__custom",children:"Custom..."})]})]}),(c==="__custom"||c&&!V.includes(c))&&E.jsx("div",{style:{marginTop:10},children:E.jsxs("label",{children:["Custom Name:"," ",E.jsx("input",{type:"text",placeholder:"Enter custom party name",value:c==="__custom"?"":c,onChange:R=>h(R.target.value)})]})})]}),E.jsxs("div",{style:{marginTop:20},children:[E.jsxs("label",{children:["Number of Players:"," ",E.jsx("select",{value:b,onChange:ue,children:[...Array(20)].map((R,x)=>E.jsx("option",{value:x+1,children:x+1},x+1))})]}),E.jsx("div",{style:{marginTop:10},children:B.map((R,x)=>E.jsx("input",{type:"text",placeholder:`Player ${x+1} Name`,value:R,onChange:U=>ie(x,U.target.value),style:{fontSize:"1.1em",margin:5}},x))})]}),E.jsxs("div",{style:{marginTop:20},children:[E.jsx(Yt,{onClick:O,type:"danger",children:"Reset Party"}),E.jsxs("div",{style:{marginTop:10},children:[E.jsx(Yt,{onClick:L,style:{marginRight:10},children:"Export JSON"}),E.jsx(Yt,{onClick:()=>document.getElementById("loadJsonInput")?.click(),children:"Load JSON"}),E.jsx("input",{id:"loadJsonInput",type:"file",accept:".json",style:{display:"none"},onChange:W})]})]})]})}function H4(){const e=["rainbow","red","green","blue","purple","orange","custom"],t=["black","white","gold","silver","red","blue","custom"],[i,r]=re.useState(""),[u,o]=re.useState("rainbow"),[c,h]=re.useState(!1),[p,g]=re.useState(""),[_,T]=re.useState(!0),[b,S]=re.useState(!0),[B,X]=re.useState(""),[J,G]=re.useState("black"),[Ee,j]=re.useState(!1),[Te,Ae]=re.useState("");re.useEffect(()=>{const ue=()=>{try{const ee=JSON.parse(localStorage.getItem("partyData")||"{}").partyCode||"";r(ee)}catch(P){console.error("Error loading party code:",P)}};ue();const ie=setInterval(ue,2e3);return()=>clearInterval(ie)},[]),re.useEffect(()=>{if(!i)return;const ue=xa(Na,`parties/${i}/settings`),ie=im(ue,P=>{const ee=P.val();ee&&(ee.xpBarColor&&(e.includes(ee.xpBarColor)?(o(ee.xpBarColor),h(!1)):(o("custom"),g(ee.xpBarColor),h(!0))),ee.fontColor&&(t.includes(ee.fontColor)?(G(ee.fontColor),j(!1)):(G("custom"),Ae(ee.fontColor),j(!0))),ee.backgroundImageUrl!==void 0&&X(ee.backgroundImageUrl),ee.showPartyTitle!==void 0&&T(ee.showPartyTitle),ee.showPartyCode!==void 0&&S(ee.showPartyCode))},P=>{console.error("Settings Firebase error:",P)});return()=>ie()},[i]);const V=ue=>{if(!i)return;const ie=xa(Na,`parties/${i}/settings`);A4(ie,ue).catch(P=>{console.error("Error updating settings:",P)})},fe=ue=>{const ie=ue.target.value;ie==="custom"?(o("custom"),h(!0),p&&V({xpBarColor:p})):(o(ie),h(!1),V({xpBarColor:ie}))},Se=ue=>{const ie=ue.target.value;g(ie),/^#([0-9A-Fa-f]{6})$/.test(ie)&&V({xpBarColor:ie})},ve=ue=>{const ie=ue.target.value;ie==="custom"?(G("custom"),j(!0),Te&&V({fontColor:Te})):(G(ie),j(!1),V({fontColor:ie}))},xe=ue=>{const ie=ue.target.value;Ae(ie),/^#([0-9A-Fa-f]{6})$/.test(ie)&&V({fontColor:ie})},_e=ue=>{const ie=ue.target.value;X(ie),V({backgroundImageUrl:ie})},q=()=>{const ue=!_;T(ue),V({showPartyTitle:ue})},Le=()=>{const ue=!b;S(ue),V({showPartyCode:ue})};return i?E.jsxs("div",{style:{marginTop:"20px"},children:[E.jsx("h3",{children:"Settings"}),E.jsxs("p",{style:{fontSize:"0.9em",color:"#666",marginBottom:"15px"},children:["Settings sync automatically for party: ",E.jsx("strong",{children:i})]}),E.jsxs("div",{style:{marginBottom:"15px"},children:[E.jsxs("label",{children:["XP Bar Color:"," ",E.jsx("select",{value:c?"custom":u,onChange:fe,children:e.map(ue=>E.jsx("option",{value:ue,children:ue.charAt(0).toUpperCase()+ue.slice(1)},ue))})]}),c&&E.jsx("input",{type:"text",placeholder:"#RRGGBB",value:p,onChange:Se,style:{marginLeft:"10px"}})]}),E.jsx("div",{style:{marginBottom:"15px"},children:E.jsxs("label",{children:["Background Image URL:"," ",E.jsx("input",{type:"text",placeholder:"https://example.com/image.jpg",value:B,onChange:_e,style:{width:"300px"}})]})}),E.jsxs("div",{style:{marginBottom:"15px"},children:[E.jsxs("label",{children:["Font Color:"," ",E.jsx("select",{value:Ee?"custom":J,onChange:ve,children:t.map(ue=>E.jsx("option",{value:ue,children:ue.charAt(0).toUpperCase()+ue.slice(1)},ue))})]}),Ee&&E.jsx("input",{type:"text",placeholder:"#RRGGBB",value:Te,onChange:xe,style:{marginLeft:"10px"}})]}),E.jsx("div",{style:{marginTop:"10px"},children:E.jsxs("label",{children:[E.jsx("input",{type:"checkbox",checked:_,onChange:q})," Show Party Tracker Title"]})}),E.jsx("div",{style:{marginTop:"10px"},children:E.jsxs("label",{children:[E.jsx("input",{type:"checkbox",checked:b,onChange:Le})," Show Party Code"]})})]}):E.jsxs("div",{style:{marginTop:"20px"},children:[E.jsx("h3",{children:"Settings"}),E.jsx("p",{style:{color:"#666"},children:"Please create or load a party first."})]})}const cb="Matriarch Axe Beak",fb="Large",db="Beast",hb=[],mb="Unaligned",pb=13,gb=85,Eb="10d10 + 30",_b=2,yb=12,Tb={walk:50,climb:null,fly:null,swim:null,burrow:null},bb={str:{score:17,mod:3,save:3},dex:{score:14,mod:2,save:4},con:{score:16,mod:3,save:3},int:{score:2,mod:-4,save:-4},wis:{score:12,mod:1,save:1},cha:{score:7,mod:-2,save:-2}},Sb={Perception:3},Cb=[],Ab=[],vb=[],xb=["Passive Perception (13)"],Nb=[],Rb=3,Ob=700,Db=[{name:"Keen Sight",desc:"The axe beak has advantage on Wisdom (Perception) checks that rely on sight."},{name:"Brood Guardian",desc:"While within 30 feet of one or more other axe beaks, the Matriarch has advantage on attack rolls against a creature that has damaged any of those allies since the end of her last turn."},{name:"Trampling Charge",desc:"If the Matriarch moves at least 20 feet straight toward a creature and then hits it with a Beak attack on the same turn, that target must succeed on a DC 13 Strength saving throw or be knocked prone. The Matriarch can make one Talon attack against that target as a bonus action."}],Ib=[{name:"Multiattack",desc:"The Matriarch makes two attacks: one with her Beak and one with her Talons."},{name:"Beak",desc:"*Melee Weapon Attack:* +5 to hit, reach 5 ft., one target. *Hit:* 10 (2d6 + 3) piercing damage."},{name:"Talons",desc:"*Melee Weapon Attack:* +5 to hit, reach 5 ft., one target. *Hit:* 9 (2d4 + 3) slashing damage."}],Lb=[{name:"Rallying Cry (1/Day)",desc:"The Matriarch lets out a thunderous screech. Up to three other axe beaks of her choice within 60 feet that can hear her can immediately move up to half their speed without provoking opportunity attacks. Each gains advantage on the next attack roll it makes before the start of the Matriarchs next turn."}],kb=[],wb="",Mb=[],Bb="",F4={name:cb,size:fb,type:db,tags:hb,alignment:mb,armorClass:pb,hitPoints:gb,hitDice:Eb,initiative:_b,initiativeAverage:yb,speed:Tb,abilities:bb,skills:Sb,resistances:Cb,immunities:Ab,gear:vb,senses:xb,languages:Nb,challengeRating:Rb,lairXp:Ob,traits:Db,actions:Ib,bonusActions:Lb,reactions:kb,legendarySubtitle:wb,legendaryActions:Mb,imageUrl:Bb},am=Object.freeze(Object.defineProperty({__proto__:null,abilities:bb,actions:Ib,alignment:mb,armorClass:pb,bonusActions:Lb,challengeRating:Rb,default:F4,gear:vb,hitDice:Eb,hitPoints:gb,imageUrl:Bb,immunities:Ab,initiative:_b,initiativeAverage:yb,lairXp:Ob,languages:Nb,legendaryActions:Mb,legendarySubtitle:wb,name:cb,reactions:kb,resistances:Cb,senses:xb,size:fb,skills:Sb,speed:Tb,tags:hb,traits:Db,type:db},Symbol.toStringTag,{value:"Module"})),Pb="Black Dragon - Adult",Ub="Huge",Hb="Dragon",Fb=["Chromatic"],zb="Chaotic Evil",jb=19,Yb=195,qb="17d12 + 85",Vb=12,Gb=22,Xb={walk:40,climb:null,fly:80,swim:40,burrow:null},Qb={str:{score:23,mod:6,save:6},dex:{score:14,mod:2,save:7},con:{score:21,mod:5,save:5},int:{score:14,mod:2,save:2},wis:{score:13,mod:1,save:6},cha:{score:19,mod:4,save:4}},Kb={Stealth:7,Perception:11},Wb=[],$b=["Acid"],Zb=[],Jb=["Blindsight (60ft.)","Darkvision (120 ft.)","Passive Perception (21)"],e2=["Common","Draconic"],t2=14,n2=13e3,i2=[{name:"Amphibious",desc:"The dragon can breathe air and water."},{name:"Legendary Resistance",desc:"If the dragon fails a saving throw, it can choose to succeed instead. *(3/Day or 4/Day in Lair)*"}],a2=[{name:"Multiattack",desc:"The dragon makes three *Rend* attacks. It can replace one attack with a use of Spellcasting to cast *Melf's Acid Arrow* (Level 3)."},{name:"Rend",desc:"*Melee Attack Roll:* +11, reach 10 ft. *Hit:* 13 (2d6 + 6) Slashing damage plus 4 (1d8) Acid damage."},{name:"Acid Breath *(Recharge 5-6)*",desc:"*Dexterity Saving Throw:* DC 18, each creature in a 60-foot-long, 5-foot-wide line. *Failure:* 54 (12d8) Acid damage. *Success:* Half damage."},{name:"Spellcasting",desc:`The dragon casts one of the following spells, requiring no Material components and using Charisma as the spellcasting ability (spell save DC 17, +9 to hit with spell attacks):

**At Will:** *Detect Magic*, *Fear*, *Melfs Acid Arrow* (level 3).

**1/Day Each:** *Speak with Dead*, *Vitriolic Sphere*`}],r2=[],s2=[],u2="Legendary Action Uses: 3 (4 in Lair). Immediately after another creature's turn, the dragon can expend a use to take one of the following actions. The dragon regains all expended uses at the start of each of its turns.",l2=[{name:"Cloud of Insects",desc:"*Dexterity Saving Throw:* DC 17, one creature the dragon can see within 120 feet. *Failure:* 22 (4d10) Poison damage, and the target has Disadvantage on saving throws to maintain Concentration until the end of its next turn. *Failure or Success:* The dragon cant take this action again until the start of its next turn."},{name:"Frightful Presence",desc:"The dragon uses Spellcasting to cast *Fear*. The dragon cant take this action again until the start of its next turn."},{name:"Pounce",desc:"The dragon can move up to half its speed, and it makes one *Rend* attack."}],o2="https://www.dndbeyond.com/avatars/thumbnails/47138/553/1000/1000/638741963688798487.png",z4={name:Pb,size:Ub,type:Hb,tags:Fb,alignment:zb,armorClass:jb,hitPoints:Yb,hitDice:qb,initiative:Vb,initiativeAverage:Gb,speed:Xb,abilities:Qb,skills:Kb,resistances:Wb,immunities:$b,gear:Zb,senses:Jb,languages:e2,challengeRating:t2,lairXp:n2,traits:i2,actions:a2,bonusActions:r2,reactions:s2,legendarySubtitle:u2,legendaryActions:l2,imageUrl:o2},rm=Object.freeze(Object.defineProperty({__proto__:null,abilities:Qb,actions:a2,alignment:zb,armorClass:jb,bonusActions:r2,challengeRating:t2,default:z4,gear:Zb,hitDice:qb,hitPoints:Yb,imageUrl:o2,immunities:$b,initiative:Vb,initiativeAverage:Gb,lairXp:n2,languages:e2,legendaryActions:l2,legendarySubtitle:u2,name:Pb,reactions:s2,resistances:Wb,senses:Jb,size:Ub,skills:Kb,speed:Xb,tags:Fb,traits:i2,type:Hb},Symbol.toStringTag,{value:"Module"})),c2="Goblin - Minion",f2="Small",d2="Fey",h2=["Goblinoid"],m2="Chaotic Neutral",p2=12,g2=7,E2={walk:30,climb:null,fly:null,swim:null,burrow:null},_2=2,y2={str:{score:8,mod:-1,save:-1},dex:{score:15,mod:2,save:2},con:{score:10,mod:0,save:0},int:{score:10,mod:0,save:0},wis:{score:8,mod:-1,save:-1},cha:{score:8,mod:-1,save:-1}},T2={Stealth:6,Perception:2},b2=[],S2=[],C2=["Daggers (3)"],A2=["Darkvision (60 ft.)","Passive Perception (9)"],v2=["Common","Goblin"],x2=.125,N2=[],R2=[{name:"Dagger",desc:"*Melee or Attack Roll:* +4, reach 5ft. or range 20/60ft. *Hit:* 4 (1d4 + 2). Piercing Damage."}],O2=[{name:"Nimble Escape",desc:"The goblin takes the *Disengage* or *Hide* action."}],D2=[],I2=[],L2="https://www.dndbeyond.com/avatars/thumbnails/47138/924/1000/1000/638741964201480855.png",j4={name:c2,size:f2,type:d2,tags:h2,alignment:m2,armorClass:p2,hitPoints:g2,speed:E2,initiative:_2,abilities:y2,skills:T2,resistances:b2,immunities:S2,gear:C2,senses:A2,languages:v2,challengeRating:x2,traits:N2,actions:R2,bonusActions:O2,reactions:D2,legendaryActions:I2,imageUrl:L2},sm=Object.freeze(Object.defineProperty({__proto__:null,abilities:y2,actions:R2,alignment:m2,armorClass:p2,bonusActions:O2,challengeRating:x2,default:j4,gear:C2,hitPoints:g2,imageUrl:L2,immunities:S2,initiative:_2,languages:v2,legendaryActions:I2,name:c2,reactions:D2,resistances:b2,senses:A2,size:f2,skills:T2,speed:E2,tags:h2,traits:N2,type:d2},Symbol.toStringTag,{value:"Module"}));function N_(e){const t=[],i=String(e||"");let r=i.indexOf(","),u=0,o=!1;for(;!o;){r===-1&&(r=i.length,o=!0);const c=i.slice(u,r).trim();(c||!o)&&t.push(c),u=r+1,r=i.indexOf(",",u)}return t}function k2(e,t){const i={};return(e[e.length-1]===""?[...e,""]:e).join((i.padRight?" ":"")+","+(i.padLeft===!1?"":" ")).trim()}const Y4=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,q4=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,V4={};function R_(e,t){return(V4.jsx?q4:Y4).test(e)}const G4=/[ \t\n\f\r]/g;function X4(e){return typeof e=="object"?e.type==="text"?O_(e.value):!1:O_(e)}function O_(e){return e.replace(G4,"")===""}let hl=class{constructor(t,i,r){this.normal=i,this.property=t,r&&(this.space=r)}};hl.prototype.normal={};hl.prototype.property={};hl.prototype.space=void 0;function w2(e,t){const i={},r={};for(const u of e)Object.assign(i,u.property),Object.assign(r,u.normal);return new hl(i,r,t)}function il(e){return e.toLowerCase()}let xn=class{constructor(t,i){this.attribute=i,this.property=t}};xn.prototype.attribute="";xn.prototype.booleanish=!1;xn.prototype.boolean=!1;xn.prototype.commaOrSpaceSeparated=!1;xn.prototype.commaSeparated=!1;xn.prototype.defined=!1;xn.prototype.mustUseProperty=!1;xn.prototype.number=!1;xn.prototype.overloadedBoolean=!1;xn.prototype.property="";xn.prototype.spaceSeparated=!1;xn.prototype.space=void 0;let Q4=0;const Fe=ur(),Ut=ur(),e0=ur(),oe=ur(),pt=ur(),rs=ur(),Mn=ur();function ur(){return 2**++Q4}const t0=Object.freeze(Object.defineProperty({__proto__:null,boolean:Fe,booleanish:Ut,commaOrSpaceSeparated:Mn,commaSeparated:rs,number:oe,overloadedBoolean:e0,spaceSeparated:pt},Symbol.toStringTag,{value:"Module"})),gh=Object.keys(t0);let um=class extends xn{constructor(t,i,r,u){let o=-1;if(super(t,i),D_(this,"space",u),typeof r=="number")for(;++o<gh.length;){const c=gh[o];D_(this,gh[o],(r&t0[c])===t0[c])}}};um.prototype.defined=!0;function D_(e,t,i){i&&(e[t]=i)}function Ts(e){const t={},i={};for(const[r,u]of Object.entries(e.properties)){const o=new um(r,e.transform(e.attributes||{},r),u,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,i[il(r)]=r,i[il(o.attribute)]=r}return new hl(t,i,e.space)}const M2=Ts({properties:{ariaActiveDescendant:null,ariaAtomic:Ut,ariaAutoComplete:null,ariaBusy:Ut,ariaChecked:Ut,ariaColCount:oe,ariaColIndex:oe,ariaColSpan:oe,ariaControls:pt,ariaCurrent:null,ariaDescribedBy:pt,ariaDetails:null,ariaDisabled:Ut,ariaDropEffect:pt,ariaErrorMessage:null,ariaExpanded:Ut,ariaFlowTo:pt,ariaGrabbed:Ut,ariaHasPopup:null,ariaHidden:Ut,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:pt,ariaLevel:oe,ariaLive:null,ariaModal:Ut,ariaMultiLine:Ut,ariaMultiSelectable:Ut,ariaOrientation:null,ariaOwns:pt,ariaPlaceholder:null,ariaPosInSet:oe,ariaPressed:Ut,ariaReadOnly:Ut,ariaRelevant:null,ariaRequired:Ut,ariaRoleDescription:pt,ariaRowCount:oe,ariaRowIndex:oe,ariaRowSpan:oe,ariaSelected:Ut,ariaSetSize:oe,ariaSort:null,ariaValueMax:oe,ariaValueMin:oe,ariaValueNow:oe,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function B2(e,t){return t in e?e[t]:t}function P2(e,t){return B2(e,t.toLowerCase())}const K4=Ts({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:rs,acceptCharset:pt,accessKey:pt,action:null,allow:null,allowFullScreen:Fe,allowPaymentRequest:Fe,allowUserMedia:Fe,alt:null,as:null,async:Fe,autoCapitalize:null,autoComplete:pt,autoFocus:Fe,autoPlay:Fe,blocking:pt,capture:null,charSet:null,checked:Fe,cite:null,className:pt,cols:oe,colSpan:null,content:null,contentEditable:Ut,controls:Fe,controlsList:pt,coords:oe|rs,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Fe,defer:Fe,dir:null,dirName:null,disabled:Fe,download:e0,draggable:Ut,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Fe,formTarget:null,headers:pt,height:oe,hidden:e0,high:oe,href:null,hrefLang:null,htmlFor:pt,httpEquiv:pt,id:null,imageSizes:null,imageSrcSet:null,inert:Fe,inputMode:null,integrity:null,is:null,isMap:Fe,itemId:null,itemProp:pt,itemRef:pt,itemScope:Fe,itemType:pt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Fe,low:oe,manifest:null,max:null,maxLength:oe,media:null,method:null,min:null,minLength:oe,multiple:Fe,muted:Fe,name:null,nonce:null,noModule:Fe,noValidate:Fe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Fe,optimum:oe,pattern:null,ping:pt,placeholder:null,playsInline:Fe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Fe,referrerPolicy:null,rel:pt,required:Fe,reversed:Fe,rows:oe,rowSpan:oe,sandbox:pt,scope:null,scoped:Fe,seamless:Fe,selected:Fe,shadowRootClonable:Fe,shadowRootDelegatesFocus:Fe,shadowRootMode:null,shape:null,size:oe,sizes:null,slot:null,span:oe,spellCheck:Ut,src:null,srcDoc:null,srcLang:null,srcSet:null,start:oe,step:null,style:null,tabIndex:oe,target:null,title:null,translate:null,type:null,typeMustMatch:Fe,useMap:null,value:Ut,width:oe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:pt,axis:null,background:null,bgColor:null,border:oe,borderColor:null,bottomMargin:oe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Fe,declare:Fe,event:null,face:null,frame:null,frameBorder:null,hSpace:oe,leftMargin:oe,link:null,longDesc:null,lowSrc:null,marginHeight:oe,marginWidth:oe,noResize:Fe,noHref:Fe,noShade:Fe,noWrap:Fe,object:null,profile:null,prompt:null,rev:null,rightMargin:oe,rules:null,scheme:null,scrolling:Ut,standby:null,summary:null,text:null,topMargin:oe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:oe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Fe,disableRemotePlayback:Fe,prefix:null,property:null,results:oe,security:null,unselectable:null},space:"html",transform:P2}),W4=Ts({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Mn,accentHeight:oe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:oe,amplitude:oe,arabicForm:null,ascent:oe,attributeName:null,attributeType:null,azimuth:oe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:oe,by:null,calcMode:null,capHeight:oe,className:pt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:oe,diffuseConstant:oe,direction:null,display:null,dur:null,divisor:oe,dominantBaseline:null,download:Fe,dx:null,dy:null,edgeMode:null,editable:null,elevation:oe,enableBackground:null,end:null,event:null,exponent:oe,externalResourcesRequired:null,fill:null,fillOpacity:oe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:rs,g2:rs,glyphName:rs,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:oe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:oe,horizOriginX:oe,horizOriginY:oe,id:null,ideographic:oe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:oe,k:oe,k1:oe,k2:oe,k3:oe,k4:oe,kernelMatrix:Mn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:oe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:oe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:oe,overlineThickness:oe,paintOrder:null,panose1:null,path:null,pathLength:oe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:pt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:oe,pointsAtY:oe,pointsAtZ:oe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Mn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Mn,rev:Mn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Mn,requiredFeatures:Mn,requiredFonts:Mn,requiredFormats:Mn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:oe,specularExponent:oe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:oe,strikethroughThickness:oe,string:null,stroke:null,strokeDashArray:Mn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:oe,strokeOpacity:oe,strokeWidth:null,style:null,surfaceScale:oe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Mn,tabIndex:oe,tableValues:null,target:null,targetX:oe,targetY:oe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Mn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:oe,underlineThickness:oe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:oe,values:null,vAlphabetic:oe,vMathematical:oe,vectorEffect:null,vHanging:oe,vIdeographic:oe,version:null,vertAdvY:oe,vertOriginX:oe,vertOriginY:oe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:oe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:B2}),U2=Ts({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),H2=Ts({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:P2}),F2=Ts({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),$4={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Z4=/[A-Z]/g,I_=/-[a-z]/g,J4=/^data[-\w.:]+$/i;function lm(e,t){const i=il(t);let r=t,u=xn;if(i in e.normal)return e.property[e.normal[i]];if(i.length>4&&i.slice(0,4)==="data"&&J4.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(I_,tR);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!I_.test(o)){let c=o.replace(Z4,eR);c.charAt(0)!=="-"&&(c="-"+c),t="data"+c}}u=um}return new u(r,t)}function eR(e){return"-"+e.toLowerCase()}function tR(e){return e.charAt(1).toUpperCase()}const Ic=w2([M2,K4,U2,H2,F2],"html"),bs=w2([M2,W4,U2,H2,F2],"svg");function L_(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function z2(e){return e.join(" ").trim()}var $r={},Eh,k_;function nR(){if(k_)return Eh;k_=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,i=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,u=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,h=/^\s+|\s+$/g,p=`
`,g="/",_="*",T="",b="comment",S="declaration";function B(J,G){if(typeof J!="string")throw new TypeError("First argument must be a string");if(!J)return[];G=G||{};var Ee=1,j=1;function Te(ue){var ie=ue.match(t);ie&&(Ee+=ie.length);var P=ue.lastIndexOf(p);j=~P?ue.length-P:j+ue.length}function Ae(){var ue={line:Ee,column:j};return function(ie){return ie.position=new V(ue),ve(),ie}}function V(ue){this.start=ue,this.end={line:Ee,column:j},this.source=G.source}V.prototype.content=J;function fe(ue){var ie=new Error(G.source+":"+Ee+":"+j+": "+ue);if(ie.reason=ue,ie.filename=G.source,ie.line=Ee,ie.column=j,ie.source=J,!G.silent)throw ie}function Se(ue){var ie=ue.exec(J);if(ie){var P=ie[0];return Te(P),J=J.slice(P.length),ie}}function ve(){Se(i)}function xe(ue){var ie;for(ue=ue||[];ie=_e();)ie!==!1&&ue.push(ie);return ue}function _e(){var ue=Ae();if(!(g!=J.charAt(0)||_!=J.charAt(1))){for(var ie=2;T!=J.charAt(ie)&&(_!=J.charAt(ie)||g!=J.charAt(ie+1));)++ie;if(ie+=2,T===J.charAt(ie-1))return fe("End of comment missing");var P=J.slice(2,ie-2);return j+=2,Te(P),J=J.slice(ie),j+=2,ue({type:b,comment:P})}}function q(){var ue=Ae(),ie=Se(r);if(ie){if(_e(),!Se(u))return fe("property missing ':'");var P=Se(o),ee=ue({type:S,property:X(ie[0].replace(e,T)),value:P?X(P[0].replace(e,T)):T});return Se(c),ee}}function Le(){var ue=[];xe(ue);for(var ie;ie=q();)ie!==!1&&(ue.push(ie),xe(ue));return ue}return ve(),Le()}function X(J){return J?J.replace(h,T):T}return Eh=B,Eh}var w_;function iR(){if(w_)return $r;w_=1;var e=$r&&$r.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($r,"__esModule",{value:!0}),$r.default=i;const t=e(nR());function i(r,u){let o=null;if(!r||typeof r!="string")return o;const c=(0,t.default)(r),h=typeof u=="function";return c.forEach(p=>{if(p.type!=="declaration")return;const{property:g,value:_}=p;h?u(g,_,p):_&&(o=o||{},o[g]=_)}),o}return $r}var Au={},M_;function aR(){if(M_)return Au;M_=1,Object.defineProperty(Au,"__esModule",{value:!0}),Au.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,i=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,u=/^-(ms)-/,o=function(g){return!g||i.test(g)||e.test(g)},c=function(g,_){return _.toUpperCase()},h=function(g,_){return"".concat(_,"-")},p=function(g,_){return _===void 0&&(_={}),o(g)?g:(g=g.toLowerCase(),_.reactCompat?g=g.replace(u,h):g=g.replace(r,h),g.replace(t,c))};return Au.camelCase=p,Au}var vu,B_;function rR(){if(B_)return vu;B_=1;var e=vu&&vu.__importDefault||function(u){return u&&u.__esModule?u:{default:u}},t=e(iR()),i=aR();function r(u,o){var c={};return!u||typeof u!="string"||(0,t.default)(u,function(h,p){h&&p&&(c[(0,i.camelCase)(h,o)]=p)}),c}return r.default=r,vu=r,vu}var sR=rR();const uR=Ec(sR),Lc=j2("end"),Ei=j2("start");function j2(e){return t;function t(i){const r=i&&i.position&&i.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function lR(e){const t=Ei(e),i=Lc(e);if(t&&i)return{start:t,end:i}}function Hu(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?P_(e.position):"start"in e||"end"in e?P_(e):"line"in e||"column"in e?n0(e):""}function n0(e){return U_(e&&e.line)+":"+U_(e&&e.column)}function P_(e){return n0(e&&e.start)+"-"+n0(e&&e.end)}function U_(e){return e&&typeof e=="number"?e:1}class ln extends Error{constructor(t,i,r){super(),typeof i=="string"&&(r=i,i=void 0);let u="",o={},c=!1;if(i&&("line"in i&&"column"in i?o={place:i}:"start"in i&&"end"in i?o={place:i}:"type"in i?o={ancestors:[i],place:i.position}:o={...i}),typeof t=="string"?u=t:!o.cause&&t&&(c=!0,u=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const p=r.indexOf(":");p===-1?o.ruleId=r:(o.source=r.slice(0,p),o.ruleId=r.slice(p+1))}if(!o.place&&o.ancestors&&o.ancestors){const p=o.ancestors[o.ancestors.length-1];p&&(o.place=p.position)}const h=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file="",this.message=u,this.line=h?h.line:void 0,this.name=Hu(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=c&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ln.prototype.file="";ln.prototype.name="";ln.prototype.reason="";ln.prototype.message="";ln.prototype.stack="";ln.prototype.column=void 0;ln.prototype.line=void 0;ln.prototype.ancestors=void 0;ln.prototype.cause=void 0;ln.prototype.fatal=void 0;ln.prototype.place=void 0;ln.prototype.ruleId=void 0;ln.prototype.source=void 0;const om={}.hasOwnProperty,oR=new Map,cR=/[A-Z]/g,fR=new Set(["table","tbody","thead","tfoot","tr"]),dR=new Set(["td","th"]),Y2="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function hR(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const i=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=bR(i,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=TR(i,t.jsx,t.jsxs)}const u={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:i,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?bs:Ic,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=q2(u,e,void 0);return o&&typeof o!="string"?o:u.create(e,u.Fragment,{children:o||void 0},void 0)}function q2(e,t,i){if(t.type==="element")return mR(e,t,i);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return pR(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return ER(e,t,i);if(t.type==="mdxjsEsm")return gR(e,t);if(t.type==="root")return _R(e,t,i);if(t.type==="text")return yR(e,t)}function mR(e,t,i){const r=e.schema;let u=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(u=bs,e.schema=u),e.ancestors.push(t);const o=G2(e,t.tagName,!1),c=SR(e,t);let h=fm(e,t);return fR.has(t.tagName)&&(h=h.filter(function(p){return typeof p=="string"?!X4(p):!0})),V2(e,c,o,t),cm(c,h),e.ancestors.pop(),e.schema=r,e.create(t,o,c,i)}function pR(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}al(e,t.position)}function gR(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);al(e,t.position)}function ER(e,t,i){const r=e.schema;let u=r;t.name==="svg"&&r.space==="html"&&(u=bs,e.schema=u),e.ancestors.push(t);const o=t.name===null?e.Fragment:G2(e,t.name,!0),c=CR(e,t),h=fm(e,t);return V2(e,c,o,t),cm(c,h),e.ancestors.pop(),e.schema=r,e.create(t,o,c,i)}function _R(e,t,i){const r={};return cm(r,fm(e,t)),e.create(t,e.Fragment,r,i)}function yR(e,t){return t.value}function V2(e,t,i,r){typeof i!="string"&&i!==e.Fragment&&e.passNode&&(t.node=r)}function cm(e,t){if(t.length>0){const i=t.length>1?t:t[0];i&&(e.children=i)}}function TR(e,t,i){return r;function r(u,o,c,h){const g=Array.isArray(c.children)?i:t;return h?g(o,c,h):g(o,c)}}function bR(e,t){return i;function i(r,u,o,c){const h=Array.isArray(o.children),p=Ei(r);return t(u,o,c,h,{columnNumber:p?p.column-1:void 0,fileName:e,lineNumber:p?p.line:void 0},void 0)}}function SR(e,t){const i={};let r,u;for(u in t.properties)if(u!=="children"&&om.call(t.properties,u)){const o=AR(e,u,t.properties[u]);if(o){const[c,h]=o;e.tableCellAlignToStyle&&c==="align"&&typeof h=="string"&&dR.has(t.tagName)?r=h:i[c]=h}}if(r){const o=i.style||(i.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return i}function CR(e,t){const i={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const c=o.expression;c.type;const h=c.properties[0];h.type,Object.assign(i,e.evaluater.evaluateExpression(h.argument))}else al(e,t.position);else{const u=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const h=r.value.data.estree.body[0];h.type,o=e.evaluater.evaluateExpression(h.expression)}else al(e,t.position);else o=r.value===null?!0:r.value;i[u]=o}return i}function fm(e,t){const i=[];let r=-1;const u=e.passKeys?new Map:oR;for(;++r<t.children.length;){const o=t.children[r];let c;if(e.passKeys){const p=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(p){const g=u.get(p)||0;c=p+"-"+g,u.set(p,g+1)}}const h=q2(e,o,c);h!==void 0&&i.push(h)}return i}function AR(e,t,i){const r=lm(e.schema,t);if(!(i==null||typeof i=="number"&&Number.isNaN(i))){if(Array.isArray(i)&&(i=r.commaSeparated?k2(i):z2(i)),r.property==="style"){let u=typeof i=="object"?i:vR(e,String(i));return e.stylePropertyNameCase==="css"&&(u=xR(u)),["style",u]}return[e.elementAttributeNameCase==="react"&&r.space?$4[r.property]||r.property:r.attribute,i]}}function vR(e,t){try{return uR(t,{reactCompat:!0})}catch(i){if(e.ignoreInvalidStyle)return{};const r=i,u=new ln("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw u.file=e.filePath||void 0,u.url=Y2+"#cannot-parse-style-attribute",u}}function G2(e,t,i){let r;if(!i)r={type:"Literal",value:t};else if(t.includes(".")){const u=t.split(".");let o=-1,c;for(;++o<u.length;){const h=R_(u[o])?{type:"Identifier",name:u[o]}:{type:"Literal",value:u[o]};c=c?{type:"MemberExpression",object:c,property:h,computed:!!(o&&h.type==="Literal"),optional:!1}:h}r=c}else r=R_(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const u=r.value;return om.call(e.components,u)?e.components[u]:u}if(e.evaluater)return e.evaluater.evaluateExpression(r);al(e)}function al(e,t){const i=new ln("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Y2+"#cannot-handle-mdx-estrees-without-createevaluater",i}function xR(e){const t={};let i;for(i in e)om.call(e,i)&&(t[NR(i)]=e[i]);return t}function NR(e){let t=e.replace(cR,RR);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function RR(e){return"-"+e.toLowerCase()}const _h={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},OR={};function DR(e,t){const i=OR,r=typeof i.includeImageAlt=="boolean"?i.includeImageAlt:!0,u=typeof i.includeHtml=="boolean"?i.includeHtml:!0;return X2(e,r,u)}function X2(e,t,i){if(IR(e)){if("value"in e)return e.type==="html"&&!i?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return H_(e.children,t,i)}return Array.isArray(e)?H_(e,t,i):""}function H_(e,t,i){const r=[];let u=-1;for(;++u<e.length;)r[u]=X2(e[u],t,i);return r.join("")}function IR(e){return!!(e&&typeof e=="object")}const F_=document.createElement("i");function dm(e){const t="&"+e+";";F_.innerHTML=t;const i=F_.textContent;return i.charCodeAt(i.length-1)===59&&e!=="semi"||i===t?!1:i}function pi(e,t,i,r){const u=e.length;let o=0,c;if(t<0?t=-t>u?0:u+t:t=t>u?u:t,i=i>0?i:0,r.length<1e4)c=Array.from(r),c.unshift(t,i),e.splice(...c);else for(i&&e.splice(t,i);o<r.length;)c=r.slice(o,o+1e4),c.unshift(t,0),e.splice(...c),o+=1e4,t+=1e4}function Qn(e,t){return e.length>0?(pi(e,e.length,0,t),e):t}const z_={}.hasOwnProperty;function LR(e){const t={};let i=-1;for(;++i<e.length;)kR(t,e[i]);return t}function kR(e,t){let i;for(i in t){const u=(z_.call(e,i)?e[i]:void 0)||(e[i]={}),o=t[i];let c;if(o)for(c in o){z_.call(u,c)||(u[c]=[]);const h=o[c];wR(u[c],Array.isArray(h)?h:h?[h]:[])}}}function wR(e,t){let i=-1;const r=[];for(;++i<t.length;)(t[i].add==="after"?e:r).push(t[i]);pi(e,0,0,r)}function Q2(e,t){const i=Number.parseInt(e,t);return i<9||i===11||i>13&&i<32||i>126&&i<160||i>55295&&i<57344||i>64975&&i<65008||(i&65535)===65535||(i&65535)===65534||i>1114111?"":String.fromCodePoint(i)}function ss(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const mi=Ia(/[A-Za-z]/),Pn=Ia(/[\dA-Za-z]/),MR=Ia(/[#-'*+\--9=?A-Z^-~]/);function i0(e){return e!==null&&(e<32||e===127)}const a0=Ia(/\d/),BR=Ia(/[\dA-Fa-f]/),PR=Ia(/[!-/:-@[-`{-~]/);function we(e){return e!==null&&e<-2}function vn(e){return e!==null&&(e<0||e===32)}function tt(e){return e===-2||e===-1||e===32}const UR=Ia(new RegExp("\\p{P}|\\p{S}","u")),HR=Ia(/\s/);function Ia(e){return t;function t(i){return i!==null&&i>-1&&e.test(String.fromCharCode(i))}}function Ss(e){const t=[];let i=-1,r=0,u=0;for(;++i<e.length;){const o=e.charCodeAt(i);let c="";if(o===37&&Pn(e.charCodeAt(i+1))&&Pn(e.charCodeAt(i+2)))u=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(c=String.fromCharCode(o));else if(o>55295&&o<57344){const h=e.charCodeAt(i+1);o<56320&&h>56319&&h<57344?(c=String.fromCharCode(o,h),u=1):c=""}else c=String.fromCharCode(o);c&&(t.push(e.slice(r,i),encodeURIComponent(c)),r=i+u+1,c=""),u&&(i+=u,u=0)}return t.join("")+e.slice(r)}function Tt(e,t,i,r){const u=r?r-1:Number.POSITIVE_INFINITY;let o=0;return c;function c(p){return tt(p)?(e.enter(i),h(p)):t(p)}function h(p){return tt(p)&&o++<u?(e.consume(p),h):(e.exit(i),t(p))}}const FR={tokenize:zR};function zR(e){const t=e.attempt(this.parser.constructs.contentInitial,r,u);let i;return t;function r(h){if(h===null){e.consume(h);return}return e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),Tt(e,t,"linePrefix")}function u(h){return e.enter("paragraph"),o(h)}function o(h){const p=e.enter("chunkText",{contentType:"text",previous:i});return i&&(i.next=p),i=p,c(h)}function c(h){if(h===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(h);return}return we(h)?(e.consume(h),e.exit("chunkText"),o):(e.consume(h),c)}}const jR={tokenize:YR},j_={tokenize:qR};function YR(e){const t=this,i=[];let r=0,u,o,c;return h;function h(j){if(r<i.length){const Te=i[r];return t.containerState=Te[1],e.attempt(Te[0].continuation,p,g)(j)}return g(j)}function p(j){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,u&&Ee();const Te=t.events.length;let Ae=Te,V;for(;Ae--;)if(t.events[Ae][0]==="exit"&&t.events[Ae][1].type==="chunkFlow"){V=t.events[Ae][1].end;break}G(r);let fe=Te;for(;fe<t.events.length;)t.events[fe][1].end={...V},fe++;return pi(t.events,Ae+1,0,t.events.slice(Te)),t.events.length=fe,g(j)}return h(j)}function g(j){if(r===i.length){if(!u)return b(j);if(u.currentConstruct&&u.currentConstruct.concrete)return B(j);t.interrupt=!!(u.currentConstruct&&!u._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(j_,_,T)(j)}function _(j){return u&&Ee(),G(r),b(j)}function T(j){return t.parser.lazy[t.now().line]=r!==i.length,c=t.now().offset,B(j)}function b(j){return t.containerState={},e.attempt(j_,S,B)(j)}function S(j){return r++,i.push([t.currentConstruct,t.containerState]),b(j)}function B(j){if(j===null){u&&Ee(),G(0),e.consume(j);return}return u=u||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:u,contentType:"flow",previous:o}),X(j)}function X(j){if(j===null){J(e.exit("chunkFlow"),!0),G(0),e.consume(j);return}return we(j)?(e.consume(j),J(e.exit("chunkFlow")),r=0,t.interrupt=void 0,h):(e.consume(j),X)}function J(j,Te){const Ae=t.sliceStream(j);if(Te&&Ae.push(null),j.previous=o,o&&(o.next=j),o=j,u.defineSkip(j.start),u.write(Ae),t.parser.lazy[j.start.line]){let V=u.events.length;for(;V--;)if(u.events[V][1].start.offset<c&&(!u.events[V][1].end||u.events[V][1].end.offset>c))return;const fe=t.events.length;let Se=fe,ve,xe;for(;Se--;)if(t.events[Se][0]==="exit"&&t.events[Se][1].type==="chunkFlow"){if(ve){xe=t.events[Se][1].end;break}ve=!0}for(G(r),V=fe;V<t.events.length;)t.events[V][1].end={...xe},V++;pi(t.events,Se+1,0,t.events.slice(fe)),t.events.length=V}}function G(j){let Te=i.length;for(;Te-- >j;){const Ae=i[Te];t.containerState=Ae[1],Ae[0].exit.call(t,e)}i.length=j}function Ee(){u.write([null]),o=void 0,u=void 0,t.containerState._closeFlow=void 0}}function qR(e,t,i){return Tt(e,e.attempt(this.parser.constructs.document,t,i),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Y_(e){if(e===null||vn(e)||HR(e))return 1;if(UR(e))return 2}function hm(e,t,i){const r=[];let u=-1;for(;++u<e.length;){const o=e[u].resolveAll;o&&!r.includes(o)&&(t=o(t,i),r.push(o))}return t}const r0={name:"attention",resolveAll:VR,tokenize:GR};function VR(e,t){let i=-1,r,u,o,c,h,p,g,_;for(;++i<e.length;)if(e[i][0]==="enter"&&e[i][1].type==="attentionSequence"&&e[i][1]._close){for(r=i;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[i][1]).charCodeAt(0)){if((e[r][1]._close||e[i][1]._open)&&(e[i][1].end.offset-e[i][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[i][1].end.offset-e[i][1].start.offset)%3))continue;p=e[r][1].end.offset-e[r][1].start.offset>1&&e[i][1].end.offset-e[i][1].start.offset>1?2:1;const T={...e[r][1].end},b={...e[i][1].start};q_(T,-p),q_(b,p),c={type:p>1?"strongSequence":"emphasisSequence",start:T,end:{...e[r][1].end}},h={type:p>1?"strongSequence":"emphasisSequence",start:{...e[i][1].start},end:b},o={type:p>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[i][1].start}},u={type:p>1?"strong":"emphasis",start:{...c.start},end:{...h.end}},e[r][1].end={...c.start},e[i][1].start={...h.end},g=[],e[r][1].end.offset-e[r][1].start.offset&&(g=Qn(g,[["enter",e[r][1],t],["exit",e[r][1],t]])),g=Qn(g,[["enter",u,t],["enter",c,t],["exit",c,t],["enter",o,t]]),g=Qn(g,hm(t.parser.constructs.insideSpan.null,e.slice(r+1,i),t)),g=Qn(g,[["exit",o,t],["enter",h,t],["exit",h,t],["exit",u,t]]),e[i][1].end.offset-e[i][1].start.offset?(_=2,g=Qn(g,[["enter",e[i][1],t],["exit",e[i][1],t]])):_=0,pi(e,r-1,i-r+3,g),i=r+g.length-_-2;break}}for(i=-1;++i<e.length;)e[i][1].type==="attentionSequence"&&(e[i][1].type="data");return e}function GR(e,t){const i=this.parser.constructs.attentionMarkers.null,r=this.previous,u=Y_(r);let o;return c;function c(p){return o=p,e.enter("attentionSequence"),h(p)}function h(p){if(p===o)return e.consume(p),h;const g=e.exit("attentionSequence"),_=Y_(p),T=!_||_===2&&u||i.includes(p),b=!u||u===2&&_||i.includes(r);return g._open=!!(o===42?T:T&&(u||!b)),g._close=!!(o===42?b:b&&(_||!T)),t(p)}}function q_(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const XR={name:"autolink",tokenize:QR};function QR(e,t,i){let r=0;return u;function u(S){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(S){return mi(S)?(e.consume(S),c):S===64?i(S):g(S)}function c(S){return S===43||S===45||S===46||Pn(S)?(r=1,h(S)):g(S)}function h(S){return S===58?(e.consume(S),r=0,p):(S===43||S===45||S===46||Pn(S))&&r++<32?(e.consume(S),h):(r=0,g(S))}function p(S){return S===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):S===null||S===32||S===60||i0(S)?i(S):(e.consume(S),p)}function g(S){return S===64?(e.consume(S),_):MR(S)?(e.consume(S),g):i(S)}function _(S){return Pn(S)?T(S):i(S)}function T(S){return S===46?(e.consume(S),r=0,_):S===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):b(S)}function b(S){if((S===45||Pn(S))&&r++<63){const B=S===45?b:T;return e.consume(S),B}return i(S)}}const kc={partial:!0,tokenize:KR};function KR(e,t,i){return r;function r(o){return tt(o)?Tt(e,u,"linePrefix")(o):u(o)}function u(o){return o===null||we(o)?t(o):i(o)}}const K2={continuation:{tokenize:$R},exit:ZR,name:"blockQuote",tokenize:WR};function WR(e,t,i){const r=this;return u;function u(c){if(c===62){const h=r.containerState;return h.open||(e.enter("blockQuote",{_container:!0}),h.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(c),e.exit("blockQuoteMarker"),o}return i(c)}function o(c){return tt(c)?(e.enter("blockQuotePrefixWhitespace"),e.consume(c),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(c))}}function $R(e,t,i){const r=this;return u;function u(c){return tt(c)?Tt(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):o(c)}function o(c){return e.attempt(K2,t,i)(c)}}function ZR(e){e.exit("blockQuote")}const W2={name:"characterEscape",tokenize:JR};function JR(e,t,i){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),u}function u(o){return PR(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):i(o)}}const $2={name:"characterReference",tokenize:eO};function eO(e,t,i){const r=this;let u=0,o,c;return h;function h(T){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(T),e.exit("characterReferenceMarker"),p}function p(T){return T===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(T),e.exit("characterReferenceMarkerNumeric"),g):(e.enter("characterReferenceValue"),o=31,c=Pn,_(T))}function g(T){return T===88||T===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(T),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,c=BR,_):(e.enter("characterReferenceValue"),o=7,c=a0,_(T))}function _(T){if(T===59&&u){const b=e.exit("characterReferenceValue");return c===Pn&&!dm(r.sliceSerialize(b))?i(T):(e.enter("characterReferenceMarker"),e.consume(T),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return c(T)&&u++<o?(e.consume(T),_):i(T)}}const V_={partial:!0,tokenize:nO},G_={concrete:!0,name:"codeFenced",tokenize:tO};function tO(e,t,i){const r=this,u={partial:!0,tokenize:Ae};let o=0,c=0,h;return p;function p(V){return g(V)}function g(V){const fe=r.events[r.events.length-1];return o=fe&&fe[1].type==="linePrefix"?fe[2].sliceSerialize(fe[1],!0).length:0,h=V,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),_(V)}function _(V){return V===h?(c++,e.consume(V),_):c<3?i(V):(e.exit("codeFencedFenceSequence"),tt(V)?Tt(e,T,"whitespace")(V):T(V))}function T(V){return V===null||we(V)?(e.exit("codeFencedFence"),r.interrupt?t(V):e.check(V_,X,Te)(V)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),b(V))}function b(V){return V===null||we(V)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),T(V)):tt(V)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Tt(e,S,"whitespace")(V)):V===96&&V===h?i(V):(e.consume(V),b)}function S(V){return V===null||we(V)?T(V):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),B(V))}function B(V){return V===null||we(V)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),T(V)):V===96&&V===h?i(V):(e.consume(V),B)}function X(V){return e.attempt(u,Te,J)(V)}function J(V){return e.enter("lineEnding"),e.consume(V),e.exit("lineEnding"),G}function G(V){return o>0&&tt(V)?Tt(e,Ee,"linePrefix",o+1)(V):Ee(V)}function Ee(V){return V===null||we(V)?e.check(V_,X,Te)(V):(e.enter("codeFlowValue"),j(V))}function j(V){return V===null||we(V)?(e.exit("codeFlowValue"),Ee(V)):(e.consume(V),j)}function Te(V){return e.exit("codeFenced"),t(V)}function Ae(V,fe,Se){let ve=0;return xe;function xe(ie){return V.enter("lineEnding"),V.consume(ie),V.exit("lineEnding"),_e}function _e(ie){return V.enter("codeFencedFence"),tt(ie)?Tt(V,q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ie):q(ie)}function q(ie){return ie===h?(V.enter("codeFencedFenceSequence"),Le(ie)):Se(ie)}function Le(ie){return ie===h?(ve++,V.consume(ie),Le):ve>=c?(V.exit("codeFencedFenceSequence"),tt(ie)?Tt(V,ue,"whitespace")(ie):ue(ie)):Se(ie)}function ue(ie){return ie===null||we(ie)?(V.exit("codeFencedFence"),fe(ie)):Se(ie)}}}function nO(e,t,i){const r=this;return u;function u(c){return c===null?i(c):(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),o)}function o(c){return r.parser.lazy[r.now().line]?i(c):t(c)}}const yh={name:"codeIndented",tokenize:aO},iO={partial:!0,tokenize:rO};function aO(e,t,i){const r=this;return u;function u(g){return e.enter("codeIndented"),Tt(e,o,"linePrefix",5)(g)}function o(g){const _=r.events[r.events.length-1];return _&&_[1].type==="linePrefix"&&_[2].sliceSerialize(_[1],!0).length>=4?c(g):i(g)}function c(g){return g===null?p(g):we(g)?e.attempt(iO,c,p)(g):(e.enter("codeFlowValue"),h(g))}function h(g){return g===null||we(g)?(e.exit("codeFlowValue"),c(g)):(e.consume(g),h)}function p(g){return e.exit("codeIndented"),t(g)}}function rO(e,t,i){const r=this;return u;function u(c){return r.parser.lazy[r.now().line]?i(c):we(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),u):Tt(e,o,"linePrefix",5)(c)}function o(c){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?t(c):we(c)?u(c):i(c)}}const sO={name:"codeText",previous:lO,resolve:uO,tokenize:oO};function uO(e){let t=e.length-4,i=3,r,u;if((e[i][1].type==="lineEnding"||e[i][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=i;++r<t;)if(e[r][1].type==="codeTextData"){e[i][1].type="codeTextPadding",e[t][1].type="codeTextPadding",i+=2,t-=2;break}}for(r=i-1,t++;++r<=t;)u===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(u=r):(r===t||e[r][1].type==="lineEnding")&&(e[u][1].type="codeTextData",r!==u+2&&(e[u][1].end=e[r-1][1].end,e.splice(u+2,r-u-2),t-=r-u-2,r=u+2),u=void 0);return e}function lO(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function oO(e,t,i){let r=0,u,o;return c;function c(T){return e.enter("codeText"),e.enter("codeTextSequence"),h(T)}function h(T){return T===96?(e.consume(T),r++,h):(e.exit("codeTextSequence"),p(T))}function p(T){return T===null?i(T):T===32?(e.enter("space"),e.consume(T),e.exit("space"),p):T===96?(o=e.enter("codeTextSequence"),u=0,_(T)):we(T)?(e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),p):(e.enter("codeTextData"),g(T))}function g(T){return T===null||T===32||T===96||we(T)?(e.exit("codeTextData"),p(T)):(e.consume(T),g)}function _(T){return T===96?(e.consume(T),u++,_):u===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(T)):(o.type="codeTextData",g(T))}}class cO{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,i){const r=i??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,i,r){const u=i||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-u,Number.POSITIVE_INFINITY);return r&&xu(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),xu(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),xu(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const i=this.left.splice(t,Number.POSITIVE_INFINITY);xu(this.right,i.reverse())}else{const i=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);xu(this.left,i.reverse())}}}function xu(e,t){let i=0;if(t.length<1e4)e.push(...t);else for(;i<t.length;)e.push(...t.slice(i,i+1e4)),i+=1e4}function Z2(e){const t={};let i=-1,r,u,o,c,h,p,g;const _=new cO(e);for(;++i<_.length;){for(;i in t;)i=t[i];if(r=_.get(i),i&&r[1].type==="chunkFlow"&&_.get(i-1)[1].type==="listItemPrefix"&&(p=r[1]._tokenizer.events,o=0,o<p.length&&p[o][1].type==="lineEndingBlank"&&(o+=2),o<p.length&&p[o][1].type==="content"))for(;++o<p.length&&p[o][1].type!=="content";)p[o][1].type==="chunkText"&&(p[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,fO(_,i)),i=t[i],g=!0);else if(r[1]._container){for(o=i,u=void 0;o--;)if(c=_.get(o),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(u&&(_.get(u)[1].type="lineEndingBlank"),c[1].type="lineEnding",u=o);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;u&&(r[1].end={..._.get(u)[1].start},h=_.slice(u,i),h.unshift(r),_.splice(u,i-u+1,h))}}return pi(e,0,Number.POSITIVE_INFINITY,_.slice(0)),!g}function fO(e,t){const i=e.get(t)[1],r=e.get(t)[2];let u=t-1;const o=[];let c=i._tokenizer;c||(c=r.parser[i.contentType](i.start),i._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const h=c.events,p=[],g={};let _,T,b=-1,S=i,B=0,X=0;const J=[X];for(;S;){for(;e.get(++u)[1]!==S;);o.push(u),S._tokenizer||(_=r.sliceStream(S),S.next||_.push(null),T&&c.defineSkip(S.start),S._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(_),S._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),T=S,S=S.next}for(S=i;++b<h.length;)h[b][0]==="exit"&&h[b-1][0]==="enter"&&h[b][1].type===h[b-1][1].type&&h[b][1].start.line!==h[b][1].end.line&&(X=b+1,J.push(X),S._tokenizer=void 0,S.previous=void 0,S=S.next);for(c.events=[],S?(S._tokenizer=void 0,S.previous=void 0):J.pop(),b=J.length;b--;){const G=h.slice(J[b],J[b+1]),Ee=o.pop();p.push([Ee,Ee+G.length-1]),e.splice(Ee,2,G)}for(p.reverse(),b=-1;++b<p.length;)g[B+p[b][0]]=B+p[b][1],B+=p[b][1]-p[b][0]-1;return g}const dO={resolve:mO,tokenize:pO},hO={partial:!0,tokenize:gO};function mO(e){return Z2(e),e}function pO(e,t){let i;return r;function r(h){return e.enter("content"),i=e.enter("chunkContent",{contentType:"content"}),u(h)}function u(h){return h===null?o(h):we(h)?e.check(hO,c,o)(h):(e.consume(h),u)}function o(h){return e.exit("chunkContent"),e.exit("content"),t(h)}function c(h){return e.consume(h),e.exit("chunkContent"),i.next=e.enter("chunkContent",{contentType:"content",previous:i}),i=i.next,u}}function gO(e,t,i){const r=this;return u;function u(c){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),Tt(e,o,"linePrefix")}function o(c){if(c===null||we(c))return i(c);const h=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?t(c):e.interrupt(r.parser.constructs.flow,i,t)(c)}}function J2(e,t,i,r,u,o,c,h,p){const g=p||Number.POSITIVE_INFINITY;let _=0;return T;function T(G){return G===60?(e.enter(r),e.enter(u),e.enter(o),e.consume(G),e.exit(o),b):G===null||G===32||G===41||i0(G)?i(G):(e.enter(r),e.enter(c),e.enter(h),e.enter("chunkString",{contentType:"string"}),X(G))}function b(G){return G===62?(e.enter(o),e.consume(G),e.exit(o),e.exit(u),e.exit(r),t):(e.enter(h),e.enter("chunkString",{contentType:"string"}),S(G))}function S(G){return G===62?(e.exit("chunkString"),e.exit(h),b(G)):G===null||G===60||we(G)?i(G):(e.consume(G),G===92?B:S)}function B(G){return G===60||G===62||G===92?(e.consume(G),S):S(G)}function X(G){return!_&&(G===null||G===41||vn(G))?(e.exit("chunkString"),e.exit(h),e.exit(c),e.exit(r),t(G)):_<g&&G===40?(e.consume(G),_++,X):G===41?(e.consume(G),_--,X):G===null||G===32||G===40||i0(G)?i(G):(e.consume(G),G===92?J:X)}function J(G){return G===40||G===41||G===92?(e.consume(G),X):X(G)}}function eS(e,t,i,r,u,o){const c=this;let h=0,p;return g;function g(S){return e.enter(r),e.enter(u),e.consume(S),e.exit(u),e.enter(o),_}function _(S){return h>999||S===null||S===91||S===93&&!p||S===94&&!h&&"_hiddenFootnoteSupport"in c.parser.constructs?i(S):S===93?(e.exit(o),e.enter(u),e.consume(S),e.exit(u),e.exit(r),t):we(S)?(e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),_):(e.enter("chunkString",{contentType:"string"}),T(S))}function T(S){return S===null||S===91||S===93||we(S)||h++>999?(e.exit("chunkString"),_(S)):(e.consume(S),p||(p=!tt(S)),S===92?b:T)}function b(S){return S===91||S===92||S===93?(e.consume(S),h++,T):T(S)}}function tS(e,t,i,r,u,o){let c;return h;function h(b){return b===34||b===39||b===40?(e.enter(r),e.enter(u),e.consume(b),e.exit(u),c=b===40?41:b,p):i(b)}function p(b){return b===c?(e.enter(u),e.consume(b),e.exit(u),e.exit(r),t):(e.enter(o),g(b))}function g(b){return b===c?(e.exit(o),p(c)):b===null?i(b):we(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),Tt(e,g,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),_(b))}function _(b){return b===c||b===null||we(b)?(e.exit("chunkString"),g(b)):(e.consume(b),b===92?T:_)}function T(b){return b===c||b===92?(e.consume(b),_):_(b)}}function Fu(e,t){let i;return r;function r(u){return we(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),i=!0,r):tt(u)?Tt(e,r,i?"linePrefix":"lineSuffix")(u):t(u)}}const EO={name:"definition",tokenize:yO},_O={partial:!0,tokenize:TO};function yO(e,t,i){const r=this;let u;return o;function o(S){return e.enter("definition"),c(S)}function c(S){return eS.call(r,e,h,i,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function h(S){return u=ss(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),S===58?(e.enter("definitionMarker"),e.consume(S),e.exit("definitionMarker"),p):i(S)}function p(S){return vn(S)?Fu(e,g)(S):g(S)}function g(S){return J2(e,_,i,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(S)}function _(S){return e.attempt(_O,T,T)(S)}function T(S){return tt(S)?Tt(e,b,"whitespace")(S):b(S)}function b(S){return S===null||we(S)?(e.exit("definition"),r.parser.defined.push(u),t(S)):i(S)}}function TO(e,t,i){return r;function r(h){return vn(h)?Fu(e,u)(h):i(h)}function u(h){return tS(e,o,i,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function o(h){return tt(h)?Tt(e,c,"whitespace")(h):c(h)}function c(h){return h===null||we(h)?t(h):i(h)}}const bO={name:"hardBreakEscape",tokenize:SO};function SO(e,t,i){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),u}function u(o){return we(o)?(e.exit("hardBreakEscape"),t(o)):i(o)}}const CO={name:"headingAtx",resolve:AO,tokenize:vO};function AO(e,t){let i=e.length-2,r=3,u,o;return e[r][1].type==="whitespace"&&(r+=2),i-2>r&&e[i][1].type==="whitespace"&&(i-=2),e[i][1].type==="atxHeadingSequence"&&(r===i-1||i-4>r&&e[i-2][1].type==="whitespace")&&(i-=r+1===i?2:4),i>r&&(u={type:"atxHeadingText",start:e[r][1].start,end:e[i][1].end},o={type:"chunkText",start:e[r][1].start,end:e[i][1].end,contentType:"text"},pi(e,r,i-r+1,[["enter",u,t],["enter",o,t],["exit",o,t],["exit",u,t]])),e}function vO(e,t,i){let r=0;return u;function u(_){return e.enter("atxHeading"),o(_)}function o(_){return e.enter("atxHeadingSequence"),c(_)}function c(_){return _===35&&r++<6?(e.consume(_),c):_===null||vn(_)?(e.exit("atxHeadingSequence"),h(_)):i(_)}function h(_){return _===35?(e.enter("atxHeadingSequence"),p(_)):_===null||we(_)?(e.exit("atxHeading"),t(_)):tt(_)?Tt(e,h,"whitespace")(_):(e.enter("atxHeadingText"),g(_))}function p(_){return _===35?(e.consume(_),p):(e.exit("atxHeadingSequence"),h(_))}function g(_){return _===null||_===35||vn(_)?(e.exit("atxHeadingText"),h(_)):(e.consume(_),g)}}const xO=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],X_=["pre","script","style","textarea"],NO={concrete:!0,name:"htmlFlow",resolveTo:DO,tokenize:IO},RO={partial:!0,tokenize:kO},OO={partial:!0,tokenize:LO};function DO(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function IO(e,t,i){const r=this;let u,o,c,h,p;return g;function g(v){return _(v)}function _(v){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(v),T}function T(v){return v===33?(e.consume(v),b):v===47?(e.consume(v),o=!0,X):v===63?(e.consume(v),u=3,r.interrupt?t:O):mi(v)?(e.consume(v),c=String.fromCharCode(v),J):i(v)}function b(v){return v===45?(e.consume(v),u=2,S):v===91?(e.consume(v),u=5,h=0,B):mi(v)?(e.consume(v),u=4,r.interrupt?t:O):i(v)}function S(v){return v===45?(e.consume(v),r.interrupt?t:O):i(v)}function B(v){const pe="CDATA[";return v===pe.charCodeAt(h++)?(e.consume(v),h===pe.length?r.interrupt?t:q:B):i(v)}function X(v){return mi(v)?(e.consume(v),c=String.fromCharCode(v),J):i(v)}function J(v){if(v===null||v===47||v===62||vn(v)){const pe=v===47,R=c.toLowerCase();return!pe&&!o&&X_.includes(R)?(u=1,r.interrupt?t(v):q(v)):xO.includes(c.toLowerCase())?(u=6,pe?(e.consume(v),G):r.interrupt?t(v):q(v)):(u=7,r.interrupt&&!r.parser.lazy[r.now().line]?i(v):o?Ee(v):j(v))}return v===45||Pn(v)?(e.consume(v),c+=String.fromCharCode(v),J):i(v)}function G(v){return v===62?(e.consume(v),r.interrupt?t:q):i(v)}function Ee(v){return tt(v)?(e.consume(v),Ee):xe(v)}function j(v){return v===47?(e.consume(v),xe):v===58||v===95||mi(v)?(e.consume(v),Te):tt(v)?(e.consume(v),j):xe(v)}function Te(v){return v===45||v===46||v===58||v===95||Pn(v)?(e.consume(v),Te):Ae(v)}function Ae(v){return v===61?(e.consume(v),V):tt(v)?(e.consume(v),Ae):j(v)}function V(v){return v===null||v===60||v===61||v===62||v===96?i(v):v===34||v===39?(e.consume(v),p=v,fe):tt(v)?(e.consume(v),V):Se(v)}function fe(v){return v===p?(e.consume(v),p=null,ve):v===null||we(v)?i(v):(e.consume(v),fe)}function Se(v){return v===null||v===34||v===39||v===47||v===60||v===61||v===62||v===96||vn(v)?Ae(v):(e.consume(v),Se)}function ve(v){return v===47||v===62||tt(v)?j(v):i(v)}function xe(v){return v===62?(e.consume(v),_e):i(v)}function _e(v){return v===null||we(v)?q(v):tt(v)?(e.consume(v),_e):i(v)}function q(v){return v===45&&u===2?(e.consume(v),P):v===60&&u===1?(e.consume(v),ee):v===62&&u===4?(e.consume(v),L):v===63&&u===3?(e.consume(v),O):v===93&&u===5?(e.consume(v),Oe):we(v)&&(u===6||u===7)?(e.exit("htmlFlowData"),e.check(RO,W,Le)(v)):v===null||we(v)?(e.exit("htmlFlowData"),Le(v)):(e.consume(v),q)}function Le(v){return e.check(OO,ue,W)(v)}function ue(v){return e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),ie}function ie(v){return v===null||we(v)?Le(v):(e.enter("htmlFlowData"),q(v))}function P(v){return v===45?(e.consume(v),O):q(v)}function ee(v){return v===47?(e.consume(v),c="",ye):q(v)}function ye(v){if(v===62){const pe=c.toLowerCase();return X_.includes(pe)?(e.consume(v),L):q(v)}return mi(v)&&c.length<8?(e.consume(v),c+=String.fromCharCode(v),ye):q(v)}function Oe(v){return v===93?(e.consume(v),O):q(v)}function O(v){return v===62?(e.consume(v),L):v===45&&u===2?(e.consume(v),O):q(v)}function L(v){return v===null||we(v)?(e.exit("htmlFlowData"),W(v)):(e.consume(v),L)}function W(v){return e.exit("htmlFlow"),t(v)}}function LO(e,t,i){const r=this;return u;function u(c){return we(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),o):i(c)}function o(c){return r.parser.lazy[r.now().line]?i(c):t(c)}}function kO(e,t,i){return r;function r(u){return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),e.attempt(kc,t,i)}}const wO={name:"htmlText",tokenize:MO};function MO(e,t,i){const r=this;let u,o,c;return h;function h(O){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(O),p}function p(O){return O===33?(e.consume(O),g):O===47?(e.consume(O),Ae):O===63?(e.consume(O),j):mi(O)?(e.consume(O),Se):i(O)}function g(O){return O===45?(e.consume(O),_):O===91?(e.consume(O),o=0,B):mi(O)?(e.consume(O),Ee):i(O)}function _(O){return O===45?(e.consume(O),S):i(O)}function T(O){return O===null?i(O):O===45?(e.consume(O),b):we(O)?(c=T,ee(O)):(e.consume(O),T)}function b(O){return O===45?(e.consume(O),S):T(O)}function S(O){return O===62?P(O):O===45?b(O):T(O)}function B(O){const L="CDATA[";return O===L.charCodeAt(o++)?(e.consume(O),o===L.length?X:B):i(O)}function X(O){return O===null?i(O):O===93?(e.consume(O),J):we(O)?(c=X,ee(O)):(e.consume(O),X)}function J(O){return O===93?(e.consume(O),G):X(O)}function G(O){return O===62?P(O):O===93?(e.consume(O),G):X(O)}function Ee(O){return O===null||O===62?P(O):we(O)?(c=Ee,ee(O)):(e.consume(O),Ee)}function j(O){return O===null?i(O):O===63?(e.consume(O),Te):we(O)?(c=j,ee(O)):(e.consume(O),j)}function Te(O){return O===62?P(O):j(O)}function Ae(O){return mi(O)?(e.consume(O),V):i(O)}function V(O){return O===45||Pn(O)?(e.consume(O),V):fe(O)}function fe(O){return we(O)?(c=fe,ee(O)):tt(O)?(e.consume(O),fe):P(O)}function Se(O){return O===45||Pn(O)?(e.consume(O),Se):O===47||O===62||vn(O)?ve(O):i(O)}function ve(O){return O===47?(e.consume(O),P):O===58||O===95||mi(O)?(e.consume(O),xe):we(O)?(c=ve,ee(O)):tt(O)?(e.consume(O),ve):P(O)}function xe(O){return O===45||O===46||O===58||O===95||Pn(O)?(e.consume(O),xe):_e(O)}function _e(O){return O===61?(e.consume(O),q):we(O)?(c=_e,ee(O)):tt(O)?(e.consume(O),_e):ve(O)}function q(O){return O===null||O===60||O===61||O===62||O===96?i(O):O===34||O===39?(e.consume(O),u=O,Le):we(O)?(c=q,ee(O)):tt(O)?(e.consume(O),q):(e.consume(O),ue)}function Le(O){return O===u?(e.consume(O),u=void 0,ie):O===null?i(O):we(O)?(c=Le,ee(O)):(e.consume(O),Le)}function ue(O){return O===null||O===34||O===39||O===60||O===61||O===96?i(O):O===47||O===62||vn(O)?ve(O):(e.consume(O),ue)}function ie(O){return O===47||O===62||vn(O)?ve(O):i(O)}function P(O){return O===62?(e.consume(O),e.exit("htmlTextData"),e.exit("htmlText"),t):i(O)}function ee(O){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),ye}function ye(O){return tt(O)?Tt(e,Oe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):Oe(O)}function Oe(O){return e.enter("htmlTextData"),c(O)}}const mm={name:"labelEnd",resolveAll:HO,resolveTo:FO,tokenize:zO},BO={tokenize:jO},PO={tokenize:YO},UO={tokenize:qO};function HO(e){let t=-1;const i=[];for(;++t<e.length;){const r=e[t][1];if(i.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const u=r.type==="labelImage"?4:2;r.type="data",t+=u}}return e.length!==i.length&&pi(e,0,e.length,i),e}function FO(e,t){let i=e.length,r=0,u,o,c,h;for(;i--;)if(u=e[i][1],o){if(u.type==="link"||u.type==="labelLink"&&u._inactive)break;e[i][0]==="enter"&&u.type==="labelLink"&&(u._inactive=!0)}else if(c){if(e[i][0]==="enter"&&(u.type==="labelImage"||u.type==="labelLink")&&!u._balanced&&(o=i,u.type!=="labelLink")){r=2;break}}else u.type==="labelEnd"&&(c=i);const p={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},g={type:"label",start:{...e[o][1].start},end:{...e[c][1].end}},_={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[c-2][1].start}};return h=[["enter",p,t],["enter",g,t]],h=Qn(h,e.slice(o+1,o+r+3)),h=Qn(h,[["enter",_,t]]),h=Qn(h,hm(t.parser.constructs.insideSpan.null,e.slice(o+r+4,c-3),t)),h=Qn(h,[["exit",_,t],e[c-2],e[c-1],["exit",g,t]]),h=Qn(h,e.slice(c+1)),h=Qn(h,[["exit",p,t]]),pi(e,o,e.length,h),e}function zO(e,t,i){const r=this;let u=r.events.length,o,c;for(;u--;)if((r.events[u][1].type==="labelImage"||r.events[u][1].type==="labelLink")&&!r.events[u][1]._balanced){o=r.events[u][1];break}return h;function h(b){return o?o._inactive?T(b):(c=r.parser.defined.includes(ss(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(b),e.exit("labelMarker"),e.exit("labelEnd"),p):i(b)}function p(b){return b===40?e.attempt(BO,_,c?_:T)(b):b===91?e.attempt(PO,_,c?g:T)(b):c?_(b):T(b)}function g(b){return e.attempt(UO,_,T)(b)}function _(b){return t(b)}function T(b){return o._balanced=!0,i(b)}}function jO(e,t,i){return r;function r(T){return e.enter("resource"),e.enter("resourceMarker"),e.consume(T),e.exit("resourceMarker"),u}function u(T){return vn(T)?Fu(e,o)(T):o(T)}function o(T){return T===41?_(T):J2(e,c,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(T)}function c(T){return vn(T)?Fu(e,p)(T):_(T)}function h(T){return i(T)}function p(T){return T===34||T===39||T===40?tS(e,g,i,"resourceTitle","resourceTitleMarker","resourceTitleString")(T):_(T)}function g(T){return vn(T)?Fu(e,_)(T):_(T)}function _(T){return T===41?(e.enter("resourceMarker"),e.consume(T),e.exit("resourceMarker"),e.exit("resource"),t):i(T)}}function YO(e,t,i){const r=this;return u;function u(h){return eS.call(r,e,o,c,"reference","referenceMarker","referenceString")(h)}function o(h){return r.parser.defined.includes(ss(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(h):i(h)}function c(h){return i(h)}}function qO(e,t,i){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),u}function u(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):i(o)}}const VO={name:"labelStartImage",resolveAll:mm.resolveAll,tokenize:GO};function GO(e,t,i){const r=this;return u;function u(h){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(h),e.exit("labelImageMarker"),o}function o(h){return h===91?(e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelImage"),c):i(h)}function c(h){return h===94&&"_hiddenFootnoteSupport"in r.parser.constructs?i(h):t(h)}}const XO={name:"labelStartLink",resolveAll:mm.resolveAll,tokenize:QO};function QO(e,t,i){const r=this;return u;function u(c){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelLink"),o}function o(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?i(c):t(c)}}const Th={name:"lineEnding",tokenize:KO};function KO(e,t){return i;function i(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Tt(e,t,"linePrefix")}}const Vo={name:"thematicBreak",tokenize:WO};function WO(e,t,i){let r=0,u;return o;function o(g){return e.enter("thematicBreak"),c(g)}function c(g){return u=g,h(g)}function h(g){return g===u?(e.enter("thematicBreakSequence"),p(g)):r>=3&&(g===null||we(g))?(e.exit("thematicBreak"),t(g)):i(g)}function p(g){return g===u?(e.consume(g),r++,p):(e.exit("thematicBreakSequence"),tt(g)?Tt(e,h,"whitespace")(g):h(g))}}const Sn={continuation:{tokenize:eD},exit:nD,name:"list",tokenize:JO},$O={partial:!0,tokenize:iD},ZO={partial:!0,tokenize:tD};function JO(e,t,i){const r=this,u=r.events[r.events.length-1];let o=u&&u[1].type==="linePrefix"?u[2].sliceSerialize(u[1],!0).length:0,c=0;return h;function h(S){const B=r.containerState.type||(S===42||S===43||S===45?"listUnordered":"listOrdered");if(B==="listUnordered"?!r.containerState.marker||S===r.containerState.marker:a0(S)){if(r.containerState.type||(r.containerState.type=B,e.enter(B,{_container:!0})),B==="listUnordered")return e.enter("listItemPrefix"),S===42||S===45?e.check(Vo,i,g)(S):g(S);if(!r.interrupt||S===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),p(S)}return i(S)}function p(S){return a0(S)&&++c<10?(e.consume(S),p):(!r.interrupt||c<2)&&(r.containerState.marker?S===r.containerState.marker:S===41||S===46)?(e.exit("listItemValue"),g(S)):i(S)}function g(S){return e.enter("listItemMarker"),e.consume(S),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||S,e.check(kc,r.interrupt?i:_,e.attempt($O,b,T))}function _(S){return r.containerState.initialBlankLine=!0,o++,b(S)}function T(S){return tt(S)?(e.enter("listItemPrefixWhitespace"),e.consume(S),e.exit("listItemPrefixWhitespace"),b):i(S)}function b(S){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(S)}}function eD(e,t,i){const r=this;return r.containerState._closeFlow=void 0,e.check(kc,u,o);function u(h){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Tt(e,t,"listItemIndent",r.containerState.size+1)(h)}function o(h){return r.containerState.furtherBlankLines||!tt(h)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,c(h)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(ZO,t,c)(h))}function c(h){return r.containerState._closeFlow=!0,r.interrupt=void 0,Tt(e,e.attempt(Sn,t,i),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function tD(e,t,i){const r=this;return Tt(e,u,"listItemIndent",r.containerState.size+1);function u(o){const c=r.events[r.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===r.containerState.size?t(o):i(o)}}function nD(e){e.exit(this.containerState.type)}function iD(e,t,i){const r=this;return Tt(e,u,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function u(o){const c=r.events[r.events.length-1];return!tt(o)&&c&&c[1].type==="listItemPrefixWhitespace"?t(o):i(o)}}const Q_={name:"setextUnderline",resolveTo:aD,tokenize:rD};function aD(e,t){let i=e.length,r,u,o;for(;i--;)if(e[i][0]==="enter"){if(e[i][1].type==="content"){r=i;break}e[i][1].type==="paragraph"&&(u=i)}else e[i][1].type==="content"&&e.splice(i,1),!o&&e[i][1].type==="definition"&&(o=i);const c={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[u][1].type="setextHeadingText",o?(e.splice(u,0,["enter",c,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=c,e.push(["exit",c,t]),e}function rD(e,t,i){const r=this;let u;return o;function o(g){let _=r.events.length,T;for(;_--;)if(r.events[_][1].type!=="lineEnding"&&r.events[_][1].type!=="linePrefix"&&r.events[_][1].type!=="content"){T=r.events[_][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||T)?(e.enter("setextHeadingLine"),u=g,c(g)):i(g)}function c(g){return e.enter("setextHeadingLineSequence"),h(g)}function h(g){return g===u?(e.consume(g),h):(e.exit("setextHeadingLineSequence"),tt(g)?Tt(e,p,"lineSuffix")(g):p(g))}function p(g){return g===null||we(g)?(e.exit("setextHeadingLine"),t(g)):i(g)}}const sD={tokenize:uD};function uD(e){const t=this,i=e.attempt(kc,r,e.attempt(this.parser.constructs.flowInitial,u,Tt(e,e.attempt(this.parser.constructs.flow,u,e.attempt(dO,u)),"linePrefix")));return i;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,i}function u(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,i}}const lD={resolveAll:iS()},oD=nS("string"),cD=nS("text");function nS(e){return{resolveAll:iS(e==="text"?fD:void 0),tokenize:t};function t(i){const r=this,u=this.parser.constructs[e],o=i.attempt(u,c,h);return c;function c(_){return g(_)?o(_):h(_)}function h(_){if(_===null){i.consume(_);return}return i.enter("data"),i.consume(_),p}function p(_){return g(_)?(i.exit("data"),o(_)):(i.consume(_),p)}function g(_){if(_===null)return!0;const T=u[_];let b=-1;if(T)for(;++b<T.length;){const S=T[b];if(!S.previous||S.previous.call(r,r.previous))return!0}return!1}}}function iS(e){return t;function t(i,r){let u=-1,o;for(;++u<=i.length;)o===void 0?i[u]&&i[u][1].type==="data"&&(o=u,u++):(!i[u]||i[u][1].type!=="data")&&(u!==o+2&&(i[o][1].end=i[u-1][1].end,i.splice(o+2,u-o-2),u=o+2),o=void 0);return e?e(i,r):i}}function fD(e,t){let i=0;for(;++i<=e.length;)if((i===e.length||e[i][1].type==="lineEnding")&&e[i-1][1].type==="data"){const r=e[i-1][1],u=t.sliceStream(r);let o=u.length,c=-1,h=0,p;for(;o--;){const g=u[o];if(typeof g=="string"){for(c=g.length;g.charCodeAt(c-1)===32;)h++,c--;if(c)break;c=-1}else if(g===-2)p=!0,h++;else if(g!==-1){o++;break}}if(t._contentTypeTextTrailing&&i===e.length&&(h=0),h){const g={type:i===e.length||p||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?c:r.start._bufferIndex+c,_index:r.start._index+o,line:r.end.line,column:r.end.column-h,offset:r.end.offset-h},end:{...r.end}};r.end={...g.start},r.start.offset===r.end.offset?Object.assign(r,g):(e.splice(i,0,["enter",g,t],["exit",g,t]),i+=2)}i++}return e}const dD={42:Sn,43:Sn,45:Sn,48:Sn,49:Sn,50:Sn,51:Sn,52:Sn,53:Sn,54:Sn,55:Sn,56:Sn,57:Sn,62:K2},hD={91:EO},mD={[-2]:yh,[-1]:yh,32:yh},pD={35:CO,42:Vo,45:[Q_,Vo],60:NO,61:Q_,95:Vo,96:G_,126:G_},gD={38:$2,92:W2},ED={[-5]:Th,[-4]:Th,[-3]:Th,33:VO,38:$2,42:r0,60:[XR,wO],91:XO,92:[bO,W2],93:mm,95:r0,96:sO},_D={null:[r0,lD]},yD={null:[42,95]},TD={null:[]},bD=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:yD,contentInitial:hD,disable:TD,document:dD,flow:pD,flowInitial:mD,insideSpan:_D,string:gD,text:ED},Symbol.toStringTag,{value:"Module"}));function SD(e,t,i){let r={_bufferIndex:-1,_index:0,line:i&&i.line||1,column:i&&i.column||1,offset:i&&i.offset||0};const u={},o=[];let c=[],h=[];const p={attempt:fe(Ae),check:fe(V),consume:Ee,enter:j,exit:Te,interrupt:fe(V,{interrupt:!0})},g={code:null,containerState:{},defineSkip:X,events:[],now:B,parser:e,previous:null,sliceSerialize:b,sliceStream:S,write:T};let _=t.tokenize.call(g,p);return t.resolveAll&&o.push(t),g;function T(_e){return c=Qn(c,_e),J(),c[c.length-1]!==null?[]:(Se(t,0),g.events=hm(o,g.events,g),g.events)}function b(_e,q){return AD(S(_e),q)}function S(_e){return CD(c,_e)}function B(){const{_bufferIndex:_e,_index:q,line:Le,column:ue,offset:ie}=r;return{_bufferIndex:_e,_index:q,line:Le,column:ue,offset:ie}}function X(_e){u[_e.line]=_e.column,xe()}function J(){let _e;for(;r._index<c.length;){const q=c[r._index];if(typeof q=="string")for(_e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===_e&&r._bufferIndex<q.length;)G(q.charCodeAt(r._bufferIndex));else G(q)}}function G(_e){_=_(_e)}function Ee(_e){we(_e)?(r.line++,r.column=1,r.offset+=_e===-3?2:1,xe()):_e!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===c[r._index].length&&(r._bufferIndex=-1,r._index++)),g.previous=_e}function j(_e,q){const Le=q||{};return Le.type=_e,Le.start=B(),g.events.push(["enter",Le,g]),h.push(Le),Le}function Te(_e){const q=h.pop();return q.end=B(),g.events.push(["exit",q,g]),q}function Ae(_e,q){Se(_e,q.from)}function V(_e,q){q.restore()}function fe(_e,q){return Le;function Le(ue,ie,P){let ee,ye,Oe,O;return Array.isArray(ue)?W(ue):"tokenize"in ue?W([ue]):L(ue);function L(x){return U;function U(te){const he=te!==null&&x[te],qe=te!==null&&x.null,Ue=[...Array.isArray(he)?he:he?[he]:[],...Array.isArray(qe)?qe:qe?[qe]:[]];return W(Ue)(te)}}function W(x){return ee=x,ye=0,x.length===0?P:v(x[ye])}function v(x){return U;function U(te){return O=ve(),Oe=x,x.partial||(g.currentConstruct=x),x.name&&g.parser.constructs.disable.null.includes(x.name)?R():x.tokenize.call(q?Object.assign(Object.create(g),q):g,p,pe,R)(te)}}function pe(x){return _e(Oe,O),ie}function R(x){return O.restore(),++ye<ee.length?v(ee[ye]):P}}}function Se(_e,q){_e.resolveAll&&!o.includes(_e)&&o.push(_e),_e.resolve&&pi(g.events,q,g.events.length-q,_e.resolve(g.events.slice(q),g)),_e.resolveTo&&(g.events=_e.resolveTo(g.events,g))}function ve(){const _e=B(),q=g.previous,Le=g.currentConstruct,ue=g.events.length,ie=Array.from(h);return{from:ue,restore:P};function P(){r=_e,g.previous=q,g.currentConstruct=Le,g.events.length=ue,h=ie,xe()}}function xe(){r.line in u&&r.column<2&&(r.column=u[r.line],r.offset+=u[r.line]-1)}}function CD(e,t){const i=t.start._index,r=t.start._bufferIndex,u=t.end._index,o=t.end._bufferIndex;let c;if(i===u)c=[e[i].slice(r,o)];else{if(c=e.slice(i,u),r>-1){const h=c[0];typeof h=="string"?c[0]=h.slice(r):c.shift()}o>0&&c.push(e[u].slice(0,o))}return c}function AD(e,t){let i=-1;const r=[];let u;for(;++i<e.length;){const o=e[i];let c;if(typeof o=="string")c=o;else switch(o){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=t?" ":"	";break}case-1:{if(!t&&u)continue;c=" ";break}default:c=String.fromCharCode(o)}u=o===-2,r.push(c)}return r.join("")}function vD(e){const r={constructs:LR([bD,...(e||{}).extensions||[]]),content:u(FR),defined:[],document:u(jR),flow:u(sD),lazy:{},string:u(oD),text:u(cD)};return r;function u(o){return c;function c(h){return SD(r,o,h)}}}function xD(e){for(;!Z2(e););return e}const K_=/[\0\t\n\r]/g;function ND(){let e=1,t="",i=!0,r;return u;function u(o,c,h){const p=[];let g,_,T,b,S;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(c||void 0).decode(o)),T=0,t="",i&&(o.charCodeAt(0)===65279&&T++,i=void 0);T<o.length;){if(K_.lastIndex=T,g=K_.exec(o),b=g&&g.index!==void 0?g.index:o.length,S=o.charCodeAt(b),!g){t=o.slice(T);break}if(S===10&&T===b&&r)p.push(-3),r=void 0;else switch(r&&(p.push(-5),r=void 0),T<b&&(p.push(o.slice(T,b)),e+=b-T),S){case 0:{p.push(65533),e++;break}case 9:{for(_=Math.ceil(e/4)*4,p.push(-2);e++<_;)p.push(-1);break}case 10:{p.push(-4),e=1;break}default:r=!0,e=1}T=b+1}return h&&(r&&p.push(-5),t&&p.push(t),p.push(null)),p}}const RD=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function OD(e){return e.replace(RD,DD)}function DD(e,t,i){if(t)return t;if(i.charCodeAt(0)===35){const u=i.charCodeAt(1),o=u===120||u===88;return Q2(i.slice(o?2:1),o?16:10)}return dm(i)||e}const aS={}.hasOwnProperty;function ID(e,t,i){return typeof t!="string"&&(i=t,t=void 0),LD(i)(xD(vD(i).document().write(ND()(e,t,!0))))}function LD(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(yi),autolinkProtocol:ve,autolinkEmail:ve,atxHeading:o(Gi),blockQuote:o(qe),characterEscape:ve,characterReference:ve,codeFenced:o(Ue),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:o(Ue,c),codeText:o(Ct,c),codeTextData:ve,data:ve,codeFlowValue:ve,definition:o(Vi),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:o(Zn),hardBreakEscape:o(_i),hardBreakTrailing:o(_i),htmlFlow:o(cr,c),htmlFlowData:ve,htmlText:o(cr,c),htmlTextData:ve,image:o(fr),label:c,link:o(yi),listItem:o(ge),listItemValue:b,listOrdered:o(w,T),listUnordered:o(w),paragraph:o(Re),reference:v,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:o(Gi),strong:o(it),thematicBreak:o(mt)},exit:{atxHeading:p(),atxHeadingSequence:Ae,autolink:p(),autolinkEmail:he,autolinkProtocol:te,blockQuote:p(),characterEscapeValue:xe,characterReferenceMarkerHexadecimal:R,characterReferenceMarkerNumeric:R,characterReferenceValue:x,characterReference:U,codeFenced:p(J),codeFencedFence:X,codeFencedFenceInfo:S,codeFencedFenceMeta:B,codeFlowValue:xe,codeIndented:p(G),codeText:p(ie),codeTextData:xe,data:xe,definition:p(),definitionDestinationString:Te,definitionLabelString:Ee,definitionTitleString:j,emphasis:p(),hardBreakEscape:p(q),hardBreakTrailing:p(q),htmlFlow:p(Le),htmlFlowData:xe,htmlText:p(ue),htmlTextData:xe,image:p(ee),label:Oe,labelText:ye,lineEnding:_e,link:p(P),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:pe,resourceDestinationString:O,resourceTitleString:L,resource:W,setextHeading:p(Se),setextHeadingLineSequence:fe,setextHeadingText:V,strong:p(),thematicBreak:p()}};rS(t,(e||{}).mdastExtensions||[]);const i={};return r;function r(Z){let me={type:"root",children:[]};const Ie={stack:[me],tokenStack:[],config:t,enter:h,exit:g,buffer:c,resume:_,data:i},Ve=[];let at=-1;for(;++at<Z.length;)if(Z[at][1].type==="listOrdered"||Z[at][1].type==="listUnordered")if(Z[at][0]==="enter")Ve.push(at);else{const Nn=Ve.pop();at=u(Z,Nn,at)}for(at=-1;++at<Z.length;){const Nn=t[Z[at][0]];aS.call(Nn,Z[at][1].type)&&Nn[Z[at][1].type].call(Object.assign({sliceSerialize:Z[at][2].sliceSerialize},Ie),Z[at][1])}if(Ie.tokenStack.length>0){const Nn=Ie.tokenStack[Ie.tokenStack.length-1];(Nn[1]||W_).call(Ie,void 0,Nn[0])}for(me.position={start:_a(Z.length>0?Z[0][1].start:{line:1,column:1,offset:0}),end:_a(Z.length>0?Z[Z.length-2][1].end:{line:1,column:1,offset:0})},at=-1;++at<t.transforms.length;)me=t.transforms[at](me)||me;return me}function u(Z,me,Ie){let Ve=me-1,at=-1,Nn=!1,Ti,cn,zt,hn;for(;++Ve<=Ie;){const ft=Z[Ve];switch(ft[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ft[0]==="enter"?at++:at--,hn=void 0;break}case"lineEndingBlank":{ft[0]==="enter"&&(Ti&&!hn&&!at&&!zt&&(zt=Ve),hn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:hn=void 0}if(!at&&ft[0]==="enter"&&ft[1].type==="listItemPrefix"||at===-1&&ft[0]==="exit"&&(ft[1].type==="listUnordered"||ft[1].type==="listOrdered")){if(Ti){let Xi=Ve;for(cn=void 0;Xi--;){const Jn=Z[Xi];if(Jn[1].type==="lineEnding"||Jn[1].type==="lineEndingBlank"){if(Jn[0]==="exit")continue;cn&&(Z[cn][1].type="lineEndingBlank",Nn=!0),Jn[1].type="lineEnding",cn=Xi}else if(!(Jn[1].type==="linePrefix"||Jn[1].type==="blockQuotePrefix"||Jn[1].type==="blockQuotePrefixWhitespace"||Jn[1].type==="blockQuoteMarker"||Jn[1].type==="listItemIndent"))break}zt&&(!cn||zt<cn)&&(Ti._spread=!0),Ti.end=Object.assign({},cn?Z[cn][1].start:ft[1].end),Z.splice(cn||Ve,0,["exit",Ti,ft[2]]),Ve++,Ie++}if(ft[1].type==="listItemPrefix"){const Xi={type:"listItem",_spread:!1,start:Object.assign({},ft[1].start),end:void 0};Ti=Xi,Z.splice(Ve,0,["enter",Xi,ft[2]]),Ve++,Ie++,zt=void 0,hn=!0}}}return Z[me][1]._spread=Nn,Ie}function o(Z,me){return Ie;function Ie(Ve){h.call(this,Z(Ve),Ve),me&&me.call(this,Ve)}}function c(){this.stack.push({type:"fragment",children:[]})}function h(Z,me,Ie){this.stack[this.stack.length-1].children.push(Z),this.stack.push(Z),this.tokenStack.push([me,Ie||void 0]),Z.position={start:_a(me.start),end:void 0}}function p(Z){return me;function me(Ie){Z&&Z.call(this,Ie),g.call(this,Ie)}}function g(Z,me){const Ie=this.stack.pop(),Ve=this.tokenStack.pop();if(Ve)Ve[0].type!==Z.type&&(me?me.call(this,Z,Ve[0]):(Ve[1]||W_).call(this,Z,Ve[0]));else throw new Error("Cannot close `"+Z.type+"` ("+Hu({start:Z.start,end:Z.end})+"): its not open");Ie.position.end=_a(Z.end)}function _(){return DR(this.stack.pop())}function T(){this.data.expectingFirstListItemValue=!0}function b(Z){if(this.data.expectingFirstListItemValue){const me=this.stack[this.stack.length-2];me.start=Number.parseInt(this.sliceSerialize(Z),10),this.data.expectingFirstListItemValue=void 0}}function S(){const Z=this.resume(),me=this.stack[this.stack.length-1];me.lang=Z}function B(){const Z=this.resume(),me=this.stack[this.stack.length-1];me.meta=Z}function X(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function J(){const Z=this.resume(),me=this.stack[this.stack.length-1];me.value=Z.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function G(){const Z=this.resume(),me=this.stack[this.stack.length-1];me.value=Z.replace(/(\r?\n|\r)$/g,"")}function Ee(Z){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=me,Ie.identifier=ss(this.sliceSerialize(Z)).toLowerCase()}function j(){const Z=this.resume(),me=this.stack[this.stack.length-1];me.title=Z}function Te(){const Z=this.resume(),me=this.stack[this.stack.length-1];me.url=Z}function Ae(Z){const me=this.stack[this.stack.length-1];if(!me.depth){const Ie=this.sliceSerialize(Z).length;me.depth=Ie}}function V(){this.data.setextHeadingSlurpLineEnding=!0}function fe(Z){const me=this.stack[this.stack.length-1];me.depth=this.sliceSerialize(Z).codePointAt(0)===61?1:2}function Se(){this.data.setextHeadingSlurpLineEnding=void 0}function ve(Z){const Ie=this.stack[this.stack.length-1].children;let Ve=Ie[Ie.length-1];(!Ve||Ve.type!=="text")&&(Ve=ht(),Ve.position={start:_a(Z.start),end:void 0},Ie.push(Ve)),this.stack.push(Ve)}function xe(Z){const me=this.stack.pop();me.value+=this.sliceSerialize(Z),me.position.end=_a(Z.end)}function _e(Z){const me=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ie=me.children[me.children.length-1];Ie.position.end=_a(Z.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(me.type)&&(ve.call(this,Z),xe.call(this,Z))}function q(){this.data.atHardBreak=!0}function Le(){const Z=this.resume(),me=this.stack[this.stack.length-1];me.value=Z}function ue(){const Z=this.resume(),me=this.stack[this.stack.length-1];me.value=Z}function ie(){const Z=this.resume(),me=this.stack[this.stack.length-1];me.value=Z}function P(){const Z=this.stack[this.stack.length-1];if(this.data.inReference){const me=this.data.referenceType||"shortcut";Z.type+="Reference",Z.referenceType=me,delete Z.url,delete Z.title}else delete Z.identifier,delete Z.label;this.data.referenceType=void 0}function ee(){const Z=this.stack[this.stack.length-1];if(this.data.inReference){const me=this.data.referenceType||"shortcut";Z.type+="Reference",Z.referenceType=me,delete Z.url,delete Z.title}else delete Z.identifier,delete Z.label;this.data.referenceType=void 0}function ye(Z){const me=this.sliceSerialize(Z),Ie=this.stack[this.stack.length-2];Ie.label=OD(me),Ie.identifier=ss(me).toLowerCase()}function Oe(){const Z=this.stack[this.stack.length-1],me=this.resume(),Ie=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ie.type==="link"){const Ve=Z.children;Ie.children=Ve}else Ie.alt=me}function O(){const Z=this.resume(),me=this.stack[this.stack.length-1];me.url=Z}function L(){const Z=this.resume(),me=this.stack[this.stack.length-1];me.title=Z}function W(){this.data.inReference=void 0}function v(){this.data.referenceType="collapsed"}function pe(Z){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=me,Ie.identifier=ss(this.sliceSerialize(Z)).toLowerCase(),this.data.referenceType="full"}function R(Z){this.data.characterReferenceType=Z.type}function x(Z){const me=this.sliceSerialize(Z),Ie=this.data.characterReferenceType;let Ve;Ie?(Ve=Q2(me,Ie==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ve=dm(me);const at=this.stack[this.stack.length-1];at.value+=Ve}function U(Z){const me=this.stack.pop();me.position.end=_a(Z.end)}function te(Z){xe.call(this,Z);const me=this.stack[this.stack.length-1];me.url=this.sliceSerialize(Z)}function he(Z){xe.call(this,Z);const me=this.stack[this.stack.length-1];me.url="mailto:"+this.sliceSerialize(Z)}function qe(){return{type:"blockquote",children:[]}}function Ue(){return{type:"code",lang:null,meta:null,value:""}}function Ct(){return{type:"inlineCode",value:""}}function Vi(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Zn(){return{type:"emphasis",children:[]}}function Gi(){return{type:"heading",depth:0,children:[]}}function _i(){return{type:"break"}}function cr(){return{type:"html",value:""}}function fr(){return{type:"image",title:null,url:"",alt:null}}function yi(){return{type:"link",title:null,url:"",children:[]}}function w(Z){return{type:"list",ordered:Z.type==="listOrdered",start:null,spread:Z._spread,children:[]}}function ge(Z){return{type:"listItem",spread:Z._spread,checked:null,children:[]}}function Re(){return{type:"paragraph",children:[]}}function it(){return{type:"strong",children:[]}}function ht(){return{type:"text",value:""}}function mt(){return{type:"thematicBreak"}}}function _a(e){return{line:e.line,column:e.column,offset:e.offset}}function rS(e,t){let i=-1;for(;++i<t.length;){const r=t[i];Array.isArray(r)?rS(e,r):kD(e,r)}}function kD(e,t){let i;for(i in t)if(aS.call(t,i))switch(i){case"canContainEols":{const r=t[i];r&&e[i].push(...r);break}case"transforms":{const r=t[i];r&&e[i].push(...r);break}case"enter":case"exit":{const r=t[i];r&&Object.assign(e[i],r);break}}}function W_(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Hu({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Hu({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Hu({start:t.start,end:t.end})+") is still open")}function wD(e){const t=this;t.parser=i;function i(r){return ID(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function MD(e,t){const i={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,i),e.applyData(t,i)}function BD(e,t){const i={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,i),[e.applyData(t,i),{type:"text",value:`
`}]}function PD(e,t){const i=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let u={type:"element",tagName:"code",properties:r,children:[{type:"text",value:i}]};return t.meta&&(u.data={meta:t.meta}),e.patch(t,u),u=e.applyData(t,u),u={type:"element",tagName:"pre",properties:{},children:[u]},e.patch(t,u),u}function UD(e,t){const i={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function HD(e,t){const i={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function FD(e,t){const i=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),u=Ss(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let c,h=e.footnoteCounts.get(r);h===void 0?(h=0,e.footnoteOrder.push(r),c=e.footnoteOrder.length):c=o+1,h+=1,e.footnoteCounts.set(r,h);const p={type:"element",tagName:"a",properties:{href:"#"+i+"fn-"+u,id:i+"fnref-"+u+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};e.patch(t,p);const g={type:"element",tagName:"sup",properties:{},children:[p]};return e.patch(t,g),e.applyData(t,g)}function zD(e,t){const i={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function jD(e,t){if(e.options.allowDangerousHtml){const i={type:"raw",value:t.value};return e.patch(t,i),e.applyData(t,i)}}function sS(e,t){const i=t.referenceType;let r="]";if(i==="collapsed"?r+="[]":i==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const u=e.all(t),o=u[0];o&&o.type==="text"?o.value="["+o.value:u.unshift({type:"text",value:"["});const c=u[u.length-1];return c&&c.type==="text"?c.value+=r:u.push({type:"text",value:r}),u}function YD(e,t){const i=String(t.identifier).toUpperCase(),r=e.definitionById.get(i);if(!r)return sS(e,t);const u={src:Ss(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(u.title=r.title);const o={type:"element",tagName:"img",properties:u,children:[]};return e.patch(t,o),e.applyData(t,o)}function qD(e,t){const i={src:Ss(t.url)};t.alt!==null&&t.alt!==void 0&&(i.alt=t.alt),t.title!==null&&t.title!==void 0&&(i.title=t.title);const r={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,r),e.applyData(t,r)}function VD(e,t){const i={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,i);const r={type:"element",tagName:"code",properties:{},children:[i]};return e.patch(t,r),e.applyData(t,r)}function GD(e,t){const i=String(t.identifier).toUpperCase(),r=e.definitionById.get(i);if(!r)return sS(e,t);const u={href:Ss(r.url||"")};r.title!==null&&r.title!==void 0&&(u.title=r.title);const o={type:"element",tagName:"a",properties:u,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function XD(e,t){const i={href:Ss(t.url)};t.title!==null&&t.title!==void 0&&(i.title=t.title);const r={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function QD(e,t,i){const r=e.all(t),u=i?KD(i):uS(t),o={},c=[];if(typeof t.checked=="boolean"){const _=r[0];let T;_&&_.type==="element"&&_.tagName==="p"?T=_:(T={type:"element",tagName:"p",properties:{},children:[]},r.unshift(T)),T.children.length>0&&T.children.unshift({type:"text",value:" "}),T.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let h=-1;for(;++h<r.length;){const _=r[h];(u||h!==0||_.type!=="element"||_.tagName!=="p")&&c.push({type:"text",value:`
`}),_.type==="element"&&_.tagName==="p"&&!u?c.push(..._.children):c.push(_)}const p=r[r.length-1];p&&(u||p.type!=="element"||p.tagName!=="p")&&c.push({type:"text",value:`
`});const g={type:"element",tagName:"li",properties:o,children:c};return e.patch(t,g),e.applyData(t,g)}function KD(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const i=e.children;let r=-1;for(;!t&&++r<i.length;)t=uS(i[r])}return t}function uS(e){const t=e.spread;return t??e.children.length>1}function WD(e,t){const i={},r=e.all(t);let u=-1;for(typeof t.start=="number"&&t.start!==1&&(i.start=t.start);++u<r.length;){const c=r[u];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){i.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:i,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function $D(e,t){const i={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function ZD(e,t){const i={type:"root",children:e.wrap(e.all(t))};return e.patch(t,i),e.applyData(t,i)}function JD(e,t){const i={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function eI(e,t){const i=e.all(t),r=i.shift(),u=[];if(r){const c={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],c),u.push(c)}if(i.length>0){const c={type:"element",tagName:"tbody",properties:{},children:e.wrap(i,!0)},h=Ei(t.children[1]),p=Lc(t.children[t.children.length-1]);h&&p&&(c.position={start:h,end:p}),u.push(c)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(u,!0)};return e.patch(t,o),e.applyData(t,o)}function tI(e,t,i){const r=i?i.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",c=i&&i.type==="table"?i.align:void 0,h=c?c.length:t.children.length;let p=-1;const g=[];for(;++p<h;){const T=t.children[p],b={},S=c?c[p]:void 0;S&&(b.align=S);let B={type:"element",tagName:o,properties:b,children:[]};T&&(B.children=e.all(T),e.patch(T,B),B=e.applyData(T,B)),g.push(B)}const _={type:"element",tagName:"tr",properties:{},children:e.wrap(g,!0)};return e.patch(t,_),e.applyData(t,_)}function nI(e,t){const i={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}const $_=9,Z_=32;function iI(e){const t=String(e),i=/\r?\n|\r/g;let r=i.exec(t),u=0;const o=[];for(;r;)o.push(J_(t.slice(u,r.index),u>0,!0),r[0]),u=r.index+r[0].length,r=i.exec(t);return o.push(J_(t.slice(u),u>0,!1)),o.join("")}function J_(e,t,i){let r=0,u=e.length;if(t){let o=e.codePointAt(r);for(;o===$_||o===Z_;)r++,o=e.codePointAt(r)}if(i){let o=e.codePointAt(u-1);for(;o===$_||o===Z_;)u--,o=e.codePointAt(u-1)}return u>r?e.slice(r,u):""}function aI(e,t){const i={type:"text",value:iI(String(t.value))};return e.patch(t,i),e.applyData(t,i)}function rI(e,t){const i={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,i),e.applyData(t,i)}const sI={blockquote:MD,break:BD,code:PD,delete:UD,emphasis:HD,footnoteReference:FD,heading:zD,html:jD,imageReference:YD,image:qD,inlineCode:VD,linkReference:GD,link:XD,listItem:QD,list:WD,paragraph:$D,root:ZD,strong:JD,table:eI,tableCell:nI,tableRow:tI,text:aI,thematicBreak:rI,toml:Po,yaml:Po,definition:Po,footnoteDefinition:Po};function Po(){}const lS=-1,wc=0,zu=1,dc=2,pm=3,gm=4,Em=5,_m=6,oS=7,cS=8,ey=typeof self=="object"?self:globalThis,uI=(e,t)=>{const i=(u,o)=>(e.set(o,u),u),r=u=>{if(e.has(u))return e.get(u);const[o,c]=t[u];switch(o){case wc:case lS:return i(c,u);case zu:{const h=i([],u);for(const p of c)h.push(r(p));return h}case dc:{const h=i({},u);for(const[p,g]of c)h[r(p)]=r(g);return h}case pm:return i(new Date(c),u);case gm:{const{source:h,flags:p}=c;return i(new RegExp(h,p),u)}case Em:{const h=i(new Map,u);for(const[p,g]of c)h.set(r(p),r(g));return h}case _m:{const h=i(new Set,u);for(const p of c)h.add(r(p));return h}case oS:{const{name:h,message:p}=c;return i(new ey[h](p),u)}case cS:return i(BigInt(c),u);case"BigInt":return i(Object(BigInt(c)),u);case"ArrayBuffer":return i(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:h}=new Uint8Array(c);return i(new DataView(h),c)}}return i(new ey[o](c),u)};return r},ty=e=>uI(new Map,e)(0),Zr="",{toString:lI}={},{keys:oI}=Object,Nu=e=>{const t=typeof e;if(t!=="object"||!e)return[wc,t];const i=lI.call(e).slice(8,-1);switch(i){case"Array":return[zu,Zr];case"Object":return[dc,Zr];case"Date":return[pm,Zr];case"RegExp":return[gm,Zr];case"Map":return[Em,Zr];case"Set":return[_m,Zr];case"DataView":return[zu,i]}return i.includes("Array")?[zu,i]:i.includes("Error")?[oS,i]:[dc,i]},Uo=([e,t])=>e===wc&&(t==="function"||t==="symbol"),cI=(e,t,i,r)=>{const u=(c,h)=>{const p=r.push(c)-1;return i.set(h,p),p},o=c=>{if(i.has(c))return i.get(c);let[h,p]=Nu(c);switch(h){case wc:{let _=c;switch(p){case"bigint":h=cS,_=c.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+p);_=null;break;case"undefined":return u([lS],c)}return u([h,_],c)}case zu:{if(p){let b=c;return p==="DataView"?b=new Uint8Array(c.buffer):p==="ArrayBuffer"&&(b=new Uint8Array(c)),u([p,[...b]],c)}const _=[],T=u([h,_],c);for(const b of c)_.push(o(b));return T}case dc:{if(p)switch(p){case"BigInt":return u([p,c.toString()],c);case"Boolean":case"Number":case"String":return u([p,c.valueOf()],c)}if(t&&"toJSON"in c)return o(c.toJSON());const _=[],T=u([h,_],c);for(const b of oI(c))(e||!Uo(Nu(c[b])))&&_.push([o(b),o(c[b])]);return T}case pm:return u([h,c.toISOString()],c);case gm:{const{source:_,flags:T}=c;return u([h,{source:_,flags:T}],c)}case Em:{const _=[],T=u([h,_],c);for(const[b,S]of c)(e||!(Uo(Nu(b))||Uo(Nu(S))))&&_.push([o(b),o(S)]);return T}case _m:{const _=[],T=u([h,_],c);for(const b of c)(e||!Uo(Nu(b)))&&_.push(o(b));return T}}const{message:g}=c;return u([h,{name:p,message:g}],c)};return o},ny=(e,{json:t,lossy:i}={})=>{const r=[];return cI(!(t||i),!!t,new Map,r)(e),r},ms=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?ty(ny(e,t)):structuredClone(e):(e,t)=>ty(ny(e,t));function fI(e,t){const i=[{type:"text",value:""}];return t>1&&i.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),i}function dI(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function hI(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=e.options.footnoteBackContent||fI,r=e.options.footnoteBackLabel||dI,u=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",c=e.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let p=-1;for(;++p<e.footnoteOrder.length;){const g=e.footnoteById.get(e.footnoteOrder[p]);if(!g)continue;const _=e.all(g),T=String(g.identifier).toUpperCase(),b=Ss(T.toLowerCase());let S=0;const B=[],X=e.footnoteCounts.get(T);for(;X!==void 0&&++S<=X;){B.length>0&&B.push({type:"text",value:" "});let Ee=typeof i=="string"?i:i(p,S);typeof Ee=="string"&&(Ee={type:"text",value:Ee}),B.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+b+(S>1?"-"+S:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(p,S),className:["data-footnote-backref"]},children:Array.isArray(Ee)?Ee:[Ee]})}const J=_[_.length-1];if(J&&J.type==="element"&&J.tagName==="p"){const Ee=J.children[J.children.length-1];Ee&&Ee.type==="text"?Ee.value+=" ":J.children.push({type:"text",value:" "}),J.children.push(...B)}else _.push(...B);const G={type:"element",tagName:"li",properties:{id:t+"fn-"+b},children:e.wrap(_,!0)};e.patch(g,G),h.push(G)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...ms(c),id:"footnote-label"},children:[{type:"text",value:u}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(h,!0)},{type:"text",value:`
`}]}}const fS=(function(e){if(e==null)return EI;if(typeof e=="function")return Mc(e);if(typeof e=="object")return Array.isArray(e)?mI(e):pI(e);if(typeof e=="string")return gI(e);throw new Error("Expected function, string, or object as test")});function mI(e){const t=[];let i=-1;for(;++i<e.length;)t[i]=fS(e[i]);return Mc(r);function r(...u){let o=-1;for(;++o<t.length;)if(t[o].apply(this,u))return!0;return!1}}function pI(e){const t=e;return Mc(i);function i(r){const u=r;let o;for(o in e)if(u[o]!==t[o])return!1;return!0}}function gI(e){return Mc(t);function t(i){return i&&i.type===e}}function Mc(e){return t;function t(i,r,u){return!!(_I(i)&&e.call(this,i,typeof r=="number"?r:void 0,u||void 0))}}function EI(){return!0}function _I(e){return e!==null&&typeof e=="object"&&"type"in e}const dS=[],yI=!0,iy=!1,TI="skip";function bI(e,t,i,r){let u;typeof t=="function"&&typeof i!="function"?(r=i,i=t):u=t;const o=fS(u),c=r?-1:1;h(e,void 0,[])();function h(p,g,_){const T=p&&typeof p=="object"?p:{};if(typeof T.type=="string"){const S=typeof T.tagName=="string"?T.tagName:typeof T.name=="string"?T.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(p.type+(S?"<"+S+">":""))+")"})}return b;function b(){let S=dS,B,X,J;if((!t||o(p,g,_[_.length-1]||void 0))&&(S=SI(i(p,_)),S[0]===iy))return S;if("children"in p&&p.children){const G=p;if(G.children&&S[0]!==TI)for(X=(r?G.children.length:-1)+c,J=_.concat(G);X>-1&&X<G.children.length;){const Ee=G.children[X];if(B=h(Ee,X,J)(),B[0]===iy)return B;X=typeof B[1]=="number"?B[1]:X+c}}return S}}}function SI(e){return Array.isArray(e)?e:typeof e=="number"?[yI,e]:e==null?dS:[e]}function ym(e,t,i,r){let u,o,c;typeof t=="function"&&typeof i!="function"?(o=void 0,c=t,u=i):(o=t,c=i,u=r),bI(e,o,h,u);function h(p,g){const _=g[g.length-1],T=_?_.children.indexOf(p):void 0;return c(p,T,_)}}const s0={}.hasOwnProperty,CI={};function AI(e,t){const i=t||CI,r=new Map,u=new Map,o=new Map,c={...sI,...i.handlers},h={all:g,applyData:xI,definitionById:r,footnoteById:u,footnoteCounts:o,footnoteOrder:[],handlers:c,one:p,options:i,patch:vI,wrap:RI};return ym(e,function(_){if(_.type==="definition"||_.type==="footnoteDefinition"){const T=_.type==="definition"?r:u,b=String(_.identifier).toUpperCase();T.has(b)||T.set(b,_)}}),h;function p(_,T){const b=_.type,S=h.handlers[b];if(s0.call(h.handlers,b)&&S)return S(h,_,T);if(h.options.passThrough&&h.options.passThrough.includes(b)){if("children"in _){const{children:X,...J}=_,G=ms(J);return G.children=h.all(_),G}return ms(_)}return(h.options.unknownHandler||NI)(h,_,T)}function g(_){const T=[];if("children"in _){const b=_.children;let S=-1;for(;++S<b.length;){const B=h.one(b[S],_);if(B){if(S&&b[S-1].type==="break"&&(!Array.isArray(B)&&B.type==="text"&&(B.value=ay(B.value)),!Array.isArray(B)&&B.type==="element")){const X=B.children[0];X&&X.type==="text"&&(X.value=ay(X.value))}Array.isArray(B)?T.push(...B):T.push(B)}}}return T}}function vI(e,t){e.position&&(t.position=lR(e))}function xI(e,t){let i=t;if(e&&e.data){const r=e.data.hName,u=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(i.type==="element")i.tagName=r;else{const c="children"in i?i.children:[i];i={type:"element",tagName:r,properties:{},children:c}}i.type==="element"&&o&&Object.assign(i.properties,ms(o)),"children"in i&&i.children&&u!==null&&u!==void 0&&(i.children=u)}return i}function NI(e,t){const i=t.data||{},r="value"in t&&!(s0.call(i,"hProperties")||s0.call(i,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function RI(e,t){const i=[];let r=-1;for(t&&i.push({type:"text",value:`
`});++r<e.length;)r&&i.push({type:"text",value:`
`}),i.push(e[r]);return t&&e.length>0&&i.push({type:"text",value:`
`}),i}function ay(e){let t=0,i=e.charCodeAt(t);for(;i===9||i===32;)t++,i=e.charCodeAt(t);return e.slice(t)}function ry(e,t){const i=AI(e,t),r=i.one(e,void 0),u=hI(i),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return u&&o.children.push({type:"text",value:`
`},u),o}function OI(e,t){return e&&"run"in e?async function(i,r){const u=ry(i,{file:r,...t});await e.run(u,r)}:function(i,r){return ry(i,{file:r,...e||t})}}function sy(e){if(e)throw e}var bh,uy;function DI(){if(uy)return bh;uy=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,i=Object.defineProperty,r=Object.getOwnPropertyDescriptor,u=function(g){return typeof Array.isArray=="function"?Array.isArray(g):t.call(g)==="[object Array]"},o=function(g){if(!g||t.call(g)!=="[object Object]")return!1;var _=e.call(g,"constructor"),T=g.constructor&&g.constructor.prototype&&e.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!_&&!T)return!1;var b;for(b in g);return typeof b>"u"||e.call(g,b)},c=function(g,_){i&&_.name==="__proto__"?i(g,_.name,{enumerable:!0,configurable:!0,value:_.newValue,writable:!0}):g[_.name]=_.newValue},h=function(g,_){if(_==="__proto__")if(e.call(g,_)){if(r)return r(g,_).value}else return;return g[_]};return bh=function p(){var g,_,T,b,S,B,X=arguments[0],J=1,G=arguments.length,Ee=!1;for(typeof X=="boolean"&&(Ee=X,X=arguments[1]||{},J=2),(X==null||typeof X!="object"&&typeof X!="function")&&(X={});J<G;++J)if(g=arguments[J],g!=null)for(_ in g)T=h(X,_),b=h(g,_),X!==b&&(Ee&&b&&(o(b)||(S=u(b)))?(S?(S=!1,B=T&&u(T)?T:[]):B=T&&o(T)?T:{},c(X,{name:_,newValue:p(Ee,B,b)})):typeof b<"u"&&c(X,{name:_,newValue:b}));return X},bh}var II=DI();const Sh=Ec(II);function u0(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function LI(){const e=[],t={run:i,use:r};return t;function i(...u){let o=-1;const c=u.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);h(null,...u);function h(p,...g){const _=e[++o];let T=-1;if(p){c(p);return}for(;++T<u.length;)(g[T]===null||g[T]===void 0)&&(g[T]=u[T]);u=g,_?kI(_,h)(...g):c(null,...g)}}function r(u){if(typeof u!="function")throw new TypeError("Expected `middelware` to be a function, not "+u);return e.push(u),t}}function kI(e,t){let i;return r;function r(...c){const h=e.length>c.length;let p;h&&c.push(u);try{p=e.apply(this,c)}catch(g){const _=g;if(h&&i)throw _;return u(_)}h||(p&&p.then&&typeof p.then=="function"?p.then(o,u):p instanceof Error?u(p):o(p))}function u(c,...h){i||(i=!0,t(c,...h))}function o(c){u(null,c)}}const di={basename:wI,dirname:MI,extname:BI,join:PI,sep:"/"};function wI(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ml(e);let i=0,r=-1,u=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;u--;)if(e.codePointAt(u)===47){if(o){i=u+1;break}}else r<0&&(o=!0,r=u+1);return r<0?"":e.slice(i,r)}if(t===e)return"";let c=-1,h=t.length-1;for(;u--;)if(e.codePointAt(u)===47){if(o){i=u+1;break}}else c<0&&(o=!0,c=u+1),h>-1&&(e.codePointAt(u)===t.codePointAt(h--)?h<0&&(r=u):(h=-1,r=c));return i===r?r=c:r<0&&(r=e.length),e.slice(i,r)}function MI(e){if(ml(e),e.length===0)return".";let t=-1,i=e.length,r;for(;--i;)if(e.codePointAt(i)===47){if(r){t=i;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function BI(e){ml(e);let t=e.length,i=-1,r=0,u=-1,o=0,c;for(;t--;){const h=e.codePointAt(t);if(h===47){if(c){r=t+1;break}continue}i<0&&(c=!0,i=t+1),h===46?u<0?u=t:o!==1&&(o=1):u>-1&&(o=-1)}return u<0||i<0||o===0||o===1&&u===i-1&&u===r+1?"":e.slice(u,i)}function PI(...e){let t=-1,i;for(;++t<e.length;)ml(e[t]),e[t]&&(i=i===void 0?e[t]:i+"/"+e[t]);return i===void 0?".":UI(i)}function UI(e){ml(e);const t=e.codePointAt(0)===47;let i=HI(e,!t);return i.length===0&&!t&&(i="."),i.length>0&&e.codePointAt(e.length-1)===47&&(i+="/"),t?"/"+i:i}function HI(e,t){let i="",r=0,u=-1,o=0,c=-1,h,p;for(;++c<=e.length;){if(c<e.length)h=e.codePointAt(c);else{if(h===47)break;h=47}if(h===47){if(!(u===c-1||o===1))if(u!==c-1&&o===2){if(i.length<2||r!==2||i.codePointAt(i.length-1)!==46||i.codePointAt(i.length-2)!==46){if(i.length>2){if(p=i.lastIndexOf("/"),p!==i.length-1){p<0?(i="",r=0):(i=i.slice(0,p),r=i.length-1-i.lastIndexOf("/")),u=c,o=0;continue}}else if(i.length>0){i="",r=0,u=c,o=0;continue}}t&&(i=i.length>0?i+"/..":"..",r=2)}else i.length>0?i+="/"+e.slice(u+1,c):i=e.slice(u+1,c),r=c-u-1;u=c,o=0}else h===46&&o>-1?o++:o=-1}return i}function ml(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const FI={cwd:zI};function zI(){return"/"}function l0(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function jI(e){if(typeof e=="string")e=new URL(e);else if(!l0(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return YI(e)}function YI(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let i=-1;for(;++i<t.length;)if(t.codePointAt(i)===37&&t.codePointAt(i+1)===50){const r=t.codePointAt(i+2);if(r===70||r===102){const u=new TypeError("File URL path must not include encoded / characters");throw u.code="ERR_INVALID_FILE_URL_PATH",u}}return decodeURIComponent(t)}const Ch=["history","path","basename","stem","extname","dirname"];class hS{constructor(t){let i;t?l0(t)?i={path:t}:typeof t=="string"||qI(t)?i={value:t}:i=t:i={},this.cwd="cwd"in i?"":FI.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ch.length;){const o=Ch[r];o in i&&i[o]!==void 0&&i[o]!==null&&(this[o]=o==="history"?[...i[o]]:i[o])}let u;for(u in i)Ch.includes(u)||(this[u]=i[u])}get basename(){return typeof this.path=="string"?di.basename(this.path):void 0}set basename(t){vh(t,"basename"),Ah(t,"basename"),this.path=di.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?di.dirname(this.path):void 0}set dirname(t){ly(this.basename,"dirname"),this.path=di.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?di.extname(this.path):void 0}set extname(t){if(Ah(t,"extname"),ly(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=di.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){l0(t)&&(t=jI(t)),vh(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?di.basename(this.path,this.extname):void 0}set stem(t){vh(t,"stem"),Ah(t,"stem"),this.path=di.join(this.dirname||"",t+(this.extname||""))}fail(t,i,r){const u=this.message(t,i,r);throw u.fatal=!0,u}info(t,i,r){const u=this.message(t,i,r);return u.fatal=void 0,u}message(t,i,r){const u=new ln(t,i,r);return this.path&&(u.name=this.path+":"+u.name,u.file=this.path),u.fatal=!1,this.messages.push(u),u}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Ah(e,t){if(e&&e.includes(di.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+di.sep+"`")}function vh(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function ly(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function qI(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const VI=(function(e){const r=this.constructor.prototype,u=r[e],o=function(){return u.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),GI={}.hasOwnProperty;class Tm extends VI{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=LI()}copy(){const t=new Tm;let i=-1;for(;++i<this.attachers.length;){const r=this.attachers[i];t.use(...r)}return t.data(Sh(!0,{},this.namespace)),t}data(t,i){return typeof t=="string"?arguments.length===2?(Rh("data",this.frozen),this.namespace[t]=i,this):GI.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Rh("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[i,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const u=i.call(t,...r);typeof u=="function"&&this.transformers.use(u)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const i=Ho(t),r=this.parser||this.Parser;return xh("parse",r),r(String(i),i)}process(t,i){const r=this;return this.freeze(),xh("process",this.parser||this.Parser),Nh("process",this.compiler||this.Compiler),i?u(void 0,i):new Promise(u);function u(o,c){const h=Ho(t),p=r.parse(h);r.run(p,h,function(_,T,b){if(_||!T||!b)return g(_);const S=T,B=r.stringify(S,b);KI(B)?b.value=B:b.result=B,g(_,b)});function g(_,T){_||!T?c(_):o?o(T):i(void 0,T)}}}processSync(t){let i=!1,r;return this.freeze(),xh("processSync",this.parser||this.Parser),Nh("processSync",this.compiler||this.Compiler),this.process(t,u),cy("processSync","process",i),r;function u(o,c){i=!0,sy(o),r=c}}run(t,i,r){oy(t),this.freeze();const u=this.transformers;return!r&&typeof i=="function"&&(r=i,i=void 0),r?o(void 0,r):new Promise(o);function o(c,h){const p=Ho(i);u.run(t,p,g);function g(_,T,b){const S=T||t;_?h(_):c?c(S):r(void 0,S,b)}}}runSync(t,i){let r=!1,u;return this.run(t,i,o),cy("runSync","run",r),u;function o(c,h){sy(c),u=h,r=!0}}stringify(t,i){this.freeze();const r=Ho(i),u=this.compiler||this.Compiler;return Nh("stringify",u),oy(t),u(t,r)}use(t,...i){const r=this.attachers,u=this.namespace;if(Rh("use",this.frozen),t!=null)if(typeof t=="function")p(t,i);else if(typeof t=="object")Array.isArray(t)?h(t):c(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(g){if(typeof g=="function")p(g,[]);else if(typeof g=="object")if(Array.isArray(g)){const[_,...T]=g;p(_,T)}else c(g);else throw new TypeError("Expected usable value, not `"+g+"`")}function c(g){if(!("plugins"in g)&&!("settings"in g))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(g.plugins),g.settings&&(u.settings=Sh(!0,u.settings,g.settings))}function h(g){let _=-1;if(g!=null)if(Array.isArray(g))for(;++_<g.length;){const T=g[_];o(T)}else throw new TypeError("Expected a list of plugins, not `"+g+"`")}function p(g,_){let T=-1,b=-1;for(;++T<r.length;)if(r[T][0]===g){b=T;break}if(b===-1)r.push([g,..._]);else if(_.length>0){let[S,...B]=_;const X=r[b][1];u0(X)&&u0(S)&&(S=Sh(!0,X,S)),r[b]=[g,S,...B]}}}}const XI=new Tm().freeze();function xh(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Nh(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Rh(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function oy(e){if(!u0(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function cy(e,t,i){if(!i)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ho(e){return QI(e)?e:new hS(e)}function QI(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function KI(e){return typeof e=="string"||WI(e)}function WI(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const $I="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",fy=[],dy={allowDangerousHtml:!0},ZI=/^(https?|ircs?|mailto|xmpp)$/i,JI=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function hy(e){const t=e5(e),i=t5(e);return n5(t.runSync(t.parse(i),i),e)}function e5(e){const t=e.rehypePlugins||fy,i=e.remarkPlugins||fy,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...dy}:dy;return XI().use(wD).use(i).use(OI,r).use(t)}function t5(e){const t=e.children||"",i=new hS;return typeof t=="string"&&(i.value=t),i}function n5(e,t){const i=t.allowedElements,r=t.allowElement,u=t.components,o=t.disallowedElements,c=t.skipHtml,h=t.unwrapDisallowed,p=t.urlTransform||i5;for(const _ of JI)Object.hasOwn(t,_.from)&&(""+_.from+(_.to?"use `"+_.to+"` instead":"remove it")+$I+_.id,void 0);return ym(e,g),hR(e,{Fragment:E.Fragment,components:u,ignoreInvalidStyle:!0,jsx:E.jsx,jsxs:E.jsxs,passKeys:!0,passNode:!0});function g(_,T,b){if(_.type==="raw"&&b&&typeof T=="number")return c?b.children.splice(T,1):b.children[T]={type:"text",value:_.value},T;if(_.type==="element"){let S;for(S in _h)if(Object.hasOwn(_h,S)&&Object.hasOwn(_.properties,S)){const B=_.properties[S],X=_h[S];(X===null||X.includes(_.tagName))&&(_.properties[S]=p(String(B||""),S,_))}}if(_.type==="element"){let S=i?!i.includes(_.tagName):o?o.includes(_.tagName):!1;if(!S&&r&&typeof T=="number"&&(S=!r(_,T,b)),S&&b&&typeof T=="number")return h&&_.children?b.children.splice(T,1,..._.children):b.children.splice(T,1),T}}}function i5(e){const t=e.indexOf(":"),i=e.indexOf("?"),r=e.indexOf("#"),u=e.indexOf("/");return t===-1||u!==-1&&t>u||i!==-1&&t>i||r!==-1&&t>r||ZI.test(e.slice(0,t))?e:""}const my=/[#.]/g;function a5(e,t){const i=e||"",r={};let u=0,o,c;for(;u<i.length;){my.lastIndex=u;const h=my.exec(i),p=i.slice(u,h?h.index:i.length);p&&(o?o==="#"?r.id=p:Array.isArray(r.className)?r.className.push(p):r.className=[p]:c=p,u+=p.length),h&&(o=h[0],u++)}return{type:"element",tagName:c||t||"div",properties:r,children:[]}}function mS(e,t,i){const r=i?l5(i):void 0;function u(o,c,...h){let p;if(o==null){p={type:"root",children:[]};const g=c;h.unshift(g)}else{p=a5(o,t);const g=p.tagName.toLowerCase(),_=r?r.get(g):void 0;if(p.tagName=_||g,r5(c))h.unshift(c);else for(const[T,b]of Object.entries(c))s5(e,p.properties,T,b)}for(const g of h)o0(p.children,g);return p.type==="element"&&p.tagName==="template"&&(p.content={type:"root",children:p.children},p.children=[]),p}return u}function r5(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,i=Object.keys(e);for(const r of i){const u=t[r];if(u&&typeof u=="object"){if(!Array.isArray(u))return!0;const o=u;for(const c of o)if(typeof c!="number"&&typeof c!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function s5(e,t,i,r){const u=lm(e,i);let o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?u.spaceSeparated?o=L_(r):u.commaSeparated?o=N_(r):u.commaOrSpaceSeparated?o=L_(N_(r).join(" ")):o=py(u,u.property,r):Array.isArray(r)?o=[...r]:o=u.property==="style"?u5(r):String(r);if(Array.isArray(o)){const c=[];for(const h of o)c.push(py(u,u.property,h));o=c}u.property==="className"&&Array.isArray(t.className)&&(o=t.className.concat(o)),t[u.property]=o}}function o0(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const i of t)o0(e,i);else if(typeof t=="object"&&"type"in t)t.type==="root"?o0(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function py(e,t,i){if(typeof i=="string"){if(e.number&&i&&!Number.isNaN(Number(i)))return Number(i);if((e.boolean||e.overloadedBoolean)&&(i===""||il(i)===il(t)))return!0}return i}function u5(e){const t=[];for(const[i,r]of Object.entries(e))t.push([i,r].join(": "));return t.join("; ")}function l5(e){const t=new Map;for(const i of e)t.set(i.toLowerCase(),i);return t}const o5=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],c5=mS(Ic,"div"),f5=mS(bs,"g",o5);function d5(e){const t=String(e),i=[];return{toOffset:u,toPoint:r};function r(o){if(typeof o=="number"&&o>-1&&o<=t.length){let c=0;for(;;){let h=i[c];if(h===void 0){const p=gy(t,i[c-1]);h=p===-1?t.length+1:p+1,i[c]=h}if(h>o)return{line:c+1,column:o-(c>0?i[c-1]:0)+1,offset:o};c++}}}function u(o){if(o&&typeof o.line=="number"&&typeof o.column=="number"&&!Number.isNaN(o.line)&&!Number.isNaN(o.column)){for(;i.length<o.line;){const h=i[i.length-1],p=gy(t,h),g=p===-1?t.length+1:p+1;if(h===g)break;i.push(g)}const c=(o.line>1?i[o.line-2]:0)+o.column-1;if(c<i[o.line-1])return c}}}function gy(e,t){const i=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?i:i===-1||i+1===r?r:i<r?i:r}const Ja={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},pS={}.hasOwnProperty,h5=Object.prototype;function m5(e,t){const i=t||{};return bm({file:i.file||void 0,location:!1,schema:i.space==="svg"?bs:Ic,verbose:i.verbose||!1},e)}function bm(e,t){let i;switch(t.nodeName){case"#comment":{const r=t;return i={type:"comment",value:r.data},Go(e,r,i),i}case"#document":case"#document-fragment":{const r=t,u="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(i={type:"root",children:gS(e,t.childNodes),data:{quirksMode:u}},e.file&&e.location){const o=String(e.file),c=d5(o),h=c.toPoint(0),p=c.toPoint(o.length);i.position={start:h,end:p}}return i}case"#documentType":{const r=t;return i={type:"doctype"},Go(e,r,i),i}case"#text":{const r=t;return i={type:"text",value:r.value},Go(e,r,i),i}default:return i=p5(e,t),i}}function gS(e,t){let i=-1;const r=[];for(;++i<t.length;){const u=bm(e,t[i]);r.push(u)}return r}function p5(e,t){const i=e.schema;e.schema=t.namespaceURI===Ja.svg?bs:Ic;let r=-1;const u={};for(;++r<t.attrs.length;){const h=t.attrs[r],p=(h.prefix?h.prefix+":":"")+h.name;pS.call(h5,p)||(u[p]=h.value)}const c=(e.schema.space==="svg"?f5:c5)(t.tagName,u,gS(e,t.childNodes));if(Go(e,t,c),c.tagName==="template"){const h=t,p=h.sourceCodeLocation,g=p&&p.startTag&&es(p.startTag),_=p&&p.endTag&&es(p.endTag),T=bm(e,h.content);g&&_&&e.file&&(T.position={start:g.end,end:_.start}),c.content=T}return e.schema=i,c}function Go(e,t,i){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=g5(e,i,t.sourceCodeLocation);r&&(e.location=!0,i.position=r)}}function g5(e,t,i){const r=es(i);if(t.type==="element"){const u=t.children[t.children.length-1];if(r&&!i.endTag&&u&&u.position&&u.position.end&&(r.end=Object.assign({},u.position.end)),e.verbose){const o={};let c;if(i.attrs)for(c in i.attrs)pS.call(i.attrs,c)&&(o[lm(e.schema,c).property]=es(i.attrs[c]));i.startTag;const h=es(i.startTag),p=i.endTag?es(i.endTag):void 0,g={opening:h};p&&(g.closing=p),g.properties=o,t.data={position:g}}}return r}function es(e){const t=Ey({line:e.startLine,column:e.startCol,offset:e.startOffset}),i=Ey({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||i?{start:t,end:i}:void 0}function Ey(e){return e.line&&e.column?e:void 0}class pl{constructor(t,i,r){this.property=t,this.normal=i,r&&(this.space=r)}}pl.prototype.property={};pl.prototype.normal={};pl.prototype.space=null;function ES(e,t){const i={},r={};let u=-1;for(;++u<e.length;)Object.assign(i,e[u].property),Object.assign(r,e[u].normal);return new pl(i,r,t)}function c0(e){return e.toLowerCase()}class $n{constructor(t,i){this.property=t,this.attribute=i}}$n.prototype.space=null;$n.prototype.boolean=!1;$n.prototype.booleanish=!1;$n.prototype.overloadedBoolean=!1;$n.prototype.number=!1;$n.prototype.commaSeparated=!1;$n.prototype.spaceSeparated=!1;$n.prototype.commaOrSpaceSeparated=!1;$n.prototype.mustUseProperty=!1;$n.prototype.defined=!1;let E5=0;const Pe=lr(),Ht=lr(),_S=lr(),ce=lr(),gt=lr(),us=lr(),Bn=lr();function lr(){return 2**++E5}const f0=Object.freeze(Object.defineProperty({__proto__:null,boolean:Pe,booleanish:Ht,commaOrSpaceSeparated:Bn,commaSeparated:us,number:ce,overloadedBoolean:_S,spaceSeparated:gt},Symbol.toStringTag,{value:"Module"})),Oh=Object.keys(f0);class Sm extends $n{constructor(t,i,r,u){let o=-1;if(super(t,i),_y(this,"space",u),typeof r=="number")for(;++o<Oh.length;){const c=Oh[o];_y(this,Oh[o],(r&f0[c])===f0[c])}}}Sm.prototype.defined=!0;function _y(e,t,i){i&&(e[t]=i)}const _5={}.hasOwnProperty;function Cs(e){const t={},i={};let r;for(r in e.properties)if(_5.call(e.properties,r)){const u=e.properties[r],o=new Sm(r,e.transform(e.attributes||{},r),u,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,i[c0(r)]=r,i[c0(o.attribute)]=r}return new pl(t,i,e.space)}const yS=Cs({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),TS=Cs({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function bS(e,t){return t in e?e[t]:t}function SS(e,t){return bS(e,t.toLowerCase())}const CS=Cs({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:SS,properties:{xmlns:null,xmlnsXLink:null}}),AS=Cs({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Ht,ariaAutoComplete:null,ariaBusy:Ht,ariaChecked:Ht,ariaColCount:ce,ariaColIndex:ce,ariaColSpan:ce,ariaControls:gt,ariaCurrent:null,ariaDescribedBy:gt,ariaDetails:null,ariaDisabled:Ht,ariaDropEffect:gt,ariaErrorMessage:null,ariaExpanded:Ht,ariaFlowTo:gt,ariaGrabbed:Ht,ariaHasPopup:null,ariaHidden:Ht,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:gt,ariaLevel:ce,ariaLive:null,ariaModal:Ht,ariaMultiLine:Ht,ariaMultiSelectable:Ht,ariaOrientation:null,ariaOwns:gt,ariaPlaceholder:null,ariaPosInSet:ce,ariaPressed:Ht,ariaReadOnly:Ht,ariaRelevant:null,ariaRequired:Ht,ariaRoleDescription:gt,ariaRowCount:ce,ariaRowIndex:ce,ariaRowSpan:ce,ariaSelected:Ht,ariaSetSize:ce,ariaSort:null,ariaValueMax:ce,ariaValueMin:ce,ariaValueNow:ce,ariaValueText:null,role:null}}),y5=Cs({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:SS,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:us,acceptCharset:gt,accessKey:gt,action:null,allow:null,allowFullScreen:Pe,allowPaymentRequest:Pe,allowUserMedia:Pe,alt:null,as:null,async:Pe,autoCapitalize:null,autoComplete:gt,autoFocus:Pe,autoPlay:Pe,blocking:gt,capture:null,charSet:null,checked:Pe,cite:null,className:gt,cols:ce,colSpan:null,content:null,contentEditable:Ht,controls:Pe,controlsList:gt,coords:ce|us,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Pe,defer:Pe,dir:null,dirName:null,disabled:Pe,download:_S,draggable:Ht,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Pe,formTarget:null,headers:gt,height:ce,hidden:Pe,high:ce,href:null,hrefLang:null,htmlFor:gt,httpEquiv:gt,id:null,imageSizes:null,imageSrcSet:null,inert:Pe,inputMode:null,integrity:null,is:null,isMap:Pe,itemId:null,itemProp:gt,itemRef:gt,itemScope:Pe,itemType:gt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Pe,low:ce,manifest:null,max:null,maxLength:ce,media:null,method:null,min:null,minLength:ce,multiple:Pe,muted:Pe,name:null,nonce:null,noModule:Pe,noValidate:Pe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Pe,optimum:ce,pattern:null,ping:gt,placeholder:null,playsInline:Pe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Pe,referrerPolicy:null,rel:gt,required:Pe,reversed:Pe,rows:ce,rowSpan:ce,sandbox:gt,scope:null,scoped:Pe,seamless:Pe,selected:Pe,shadowRootClonable:Pe,shadowRootDelegatesFocus:Pe,shadowRootMode:null,shape:null,size:ce,sizes:null,slot:null,span:ce,spellCheck:Ht,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ce,step:null,style:null,tabIndex:ce,target:null,title:null,translate:null,type:null,typeMustMatch:Pe,useMap:null,value:Ht,width:ce,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:gt,axis:null,background:null,bgColor:null,border:ce,borderColor:null,bottomMargin:ce,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Pe,declare:Pe,event:null,face:null,frame:null,frameBorder:null,hSpace:ce,leftMargin:ce,link:null,longDesc:null,lowSrc:null,marginHeight:ce,marginWidth:ce,noResize:Pe,noHref:Pe,noShade:Pe,noWrap:Pe,object:null,profile:null,prompt:null,rev:null,rightMargin:ce,rules:null,scheme:null,scrolling:Ht,standby:null,summary:null,text:null,topMargin:ce,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ce,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Pe,disableRemotePlayback:Pe,prefix:null,property:null,results:ce,security:null,unselectable:null}}),T5=Cs({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:bS,properties:{about:Bn,accentHeight:ce,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ce,amplitude:ce,arabicForm:null,ascent:ce,attributeName:null,attributeType:null,azimuth:ce,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ce,by:null,calcMode:null,capHeight:ce,className:gt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ce,diffuseConstant:ce,direction:null,display:null,dur:null,divisor:ce,dominantBaseline:null,download:Pe,dx:null,dy:null,edgeMode:null,editable:null,elevation:ce,enableBackground:null,end:null,event:null,exponent:ce,externalResourcesRequired:null,fill:null,fillOpacity:ce,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:us,g2:us,glyphName:us,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ce,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ce,horizOriginX:ce,horizOriginY:ce,id:null,ideographic:ce,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ce,k:ce,k1:ce,k2:ce,k3:ce,k4:ce,kernelMatrix:Bn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ce,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ce,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ce,overlineThickness:ce,paintOrder:null,panose1:null,path:null,pathLength:ce,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:gt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ce,pointsAtY:ce,pointsAtZ:ce,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Bn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Bn,rev:Bn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Bn,requiredFeatures:Bn,requiredFonts:Bn,requiredFormats:Bn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ce,specularExponent:ce,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ce,strikethroughThickness:ce,string:null,stroke:null,strokeDashArray:Bn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ce,strokeOpacity:ce,strokeWidth:null,style:null,surfaceScale:ce,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Bn,tabIndex:ce,tableValues:null,target:null,targetX:ce,targetY:ce,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Bn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ce,underlineThickness:ce,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ce,values:null,vAlphabetic:ce,vMathematical:ce,vectorEffect:null,vHanging:ce,vIdeographic:ce,version:null,vertAdvY:ce,vertOriginX:ce,vertOriginY:ce,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ce,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),b5=/^data[-\w.:]+$/i,yy=/-[a-z]/g,S5=/[A-Z]/g;function C5(e,t){const i=c0(t);let r=t,u=$n;if(i in e.normal)return e.property[e.normal[i]];if(i.length>4&&i.slice(0,4)==="data"&&b5.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(yy,v5);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!yy.test(o)){let c=o.replace(S5,A5);c.charAt(0)!=="-"&&(c="-"+c),t="data"+c}}u=Sm}return new u(r,t)}function A5(e){return"-"+e.toLowerCase()}function v5(e){return e.charAt(1).toUpperCase()}const x5=ES([TS,yS,CS,AS,y5],"html"),vS=ES([TS,yS,CS,AS,T5],"svg"),Ty={}.hasOwnProperty;function xS(e,t){const i=t||{};function r(u,...o){let c=r.invalid;const h=r.handlers;if(u&&Ty.call(u,e)){const p=String(u[e]);c=Ty.call(h,p)?h[p]:r.unknown}if(c)return c.call(this,u,...o)}return r.handlers=i.handlers||{},r.invalid=i.invalid,r.unknown=i.unknown,r}const N5={},R5={}.hasOwnProperty,NS=xS("type",{handlers:{root:D5,element:M5,text:k5,comment:w5,doctype:L5}});function O5(e,t){const r=(t||N5).space;return NS(e,r==="svg"?vS:x5)}function D5(e,t){const i={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return i.childNodes=Cm(e.children,i,t),As(e,i),i}function I5(e,t){const i={nodeName:"#document-fragment",childNodes:[]};return i.childNodes=Cm(e.children,i,t),As(e,i),i}function L5(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return As(e,t),t}function k5(e){const t={nodeName:"#text",value:e.value,parentNode:null};return As(e,t),t}function w5(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return As(e,t),t}function M5(e,t){const i=t;let r=i;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=vS);const u=[];let o;if(e.properties){for(o in e.properties)if(o!=="children"&&R5.call(e.properties,o)){const p=B5(r,o,e.properties[o]);p&&u.push(p)}}const c=r.space,h={nodeName:e.tagName,tagName:e.tagName,attrs:u,namespaceURI:Ja[c],childNodes:[],parentNode:null};return h.childNodes=Cm(e.children,h,r),As(e,h),e.tagName==="template"&&e.content&&(h.content=I5(e.content,r)),h}function B5(e,t,i){const r=C5(e,t);if(i===!1||i===null||i===void 0||typeof i=="number"&&Number.isNaN(i)||!i&&r.boolean)return;Array.isArray(i)&&(i=r.commaSeparated?k2(i):z2(i));const u={name:r.attribute,value:i===!0?"":String(i)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const o=u.name.indexOf(":");o<0?u.prefix="":(u.name=u.name.slice(o+1),u.prefix=r.attribute.slice(0,o)),u.namespace=Ja[r.space]}return u}function Cm(e,t,i){let r=-1;const u=[];if(e)for(;++r<e.length;){const o=NS(e[r],i);o.parentNode=t,u.push(o)}return u}function As(e,t){const i=e.position;i&&i.start&&i.end&&(i.start.offset,i.end.offset,t.sourceCodeLocation={startLine:i.start.line,startCol:i.start.column,startOffset:i.start.offset,endLine:i.end.line,endCol:i.end.column,endOffset:i.end.offset})}const P5=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],U5=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),vt="";var A;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(A||(A={}));const bn={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function RS(e){return e>=55296&&e<=57343}function H5(e){return e>=56320&&e<=57343}function F5(e,t){return(e-55296)*1024+9216+t}function OS(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function DS(e){return e>=64976&&e<=65007||U5.has(e)}var K;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(K||(K={}));const z5=65536;class j5{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=z5,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,i){const{line:r,col:u,offset:o}=this,c=u+i,h=o+i;return{code:t,startLine:r,endLine:r,startCol:c,endCol:c,startOffset:h,endOffset:h}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const i=this.html.charCodeAt(this.pos+1);if(H5(i))return this.pos++,this._addGap(),F5(t,i)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,A.EOF;return this._err(K.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,i){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=i}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,i){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(i)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const i=this.pos+t;if(i>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,A.EOF;const r=this.html.charCodeAt(i);return r===A.CARRIAGE_RETURN?A.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,A.EOF;let t=this.html.charCodeAt(this.pos);return t===A.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,A.LINE_FEED):t===A.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,RS(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===A.LINE_FEED||t===A.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){OS(t)?this._err(K.controlCharacterInInputStream):DS(t)&&this._err(K.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var ze;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(ze||(ze={}));function IS(e,t){for(let i=e.attrs.length-1;i>=0;i--)if(e.attrs[i].name===t)return e.attrs[i].value;return null}const Y5=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),q5=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function V5(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=q5.get(e))!==null&&t!==void 0?t:e}var $t;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})($t||($t={}));const G5=32;var Sa;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Sa||(Sa={}));function d0(e){return e>=$t.ZERO&&e<=$t.NINE}function X5(e){return e>=$t.UPPER_A&&e<=$t.UPPER_F||e>=$t.LOWER_A&&e<=$t.LOWER_F}function Q5(e){return e>=$t.UPPER_A&&e<=$t.UPPER_Z||e>=$t.LOWER_A&&e<=$t.LOWER_Z||d0(e)}function K5(e){return e===$t.EQUALS||Q5(e)}var Gt;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Gt||(Gt={}));var Fi;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Fi||(Fi={}));class W5{constructor(t,i,r){this.decodeTree=t,this.emitCodePoint=i,this.errors=r,this.state=Gt.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Fi.Strict}startEntity(t){this.decodeMode=t,this.state=Gt.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,i){switch(this.state){case Gt.EntityStart:return t.charCodeAt(i)===$t.NUM?(this.state=Gt.NumericStart,this.consumed+=1,this.stateNumericStart(t,i+1)):(this.state=Gt.NamedEntity,this.stateNamedEntity(t,i));case Gt.NumericStart:return this.stateNumericStart(t,i);case Gt.NumericDecimal:return this.stateNumericDecimal(t,i);case Gt.NumericHex:return this.stateNumericHex(t,i);case Gt.NamedEntity:return this.stateNamedEntity(t,i)}}stateNumericStart(t,i){return i>=t.length?-1:(t.charCodeAt(i)|G5)===$t.LOWER_X?(this.state=Gt.NumericHex,this.consumed+=1,this.stateNumericHex(t,i+1)):(this.state=Gt.NumericDecimal,this.stateNumericDecimal(t,i))}addToNumericResult(t,i,r,u){if(i!==r){const o=r-i;this.result=this.result*Math.pow(u,o)+Number.parseInt(t.substr(i,o),u),this.consumed+=o}}stateNumericHex(t,i){const r=i;for(;i<t.length;){const u=t.charCodeAt(i);if(d0(u)||X5(u))i+=1;else return this.addToNumericResult(t,r,i,16),this.emitNumericEntity(u,3)}return this.addToNumericResult(t,r,i,16),-1}stateNumericDecimal(t,i){const r=i;for(;i<t.length;){const u=t.charCodeAt(i);if(d0(u))i+=1;else return this.addToNumericResult(t,r,i,10),this.emitNumericEntity(u,2)}return this.addToNumericResult(t,r,i,10),-1}emitNumericEntity(t,i){var r;if(this.consumed<=i)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===$t.SEMI)this.consumed+=1;else if(this.decodeMode===Fi.Strict)return 0;return this.emitCodePoint(V5(this.result),this.consumed),this.errors&&(t!==$t.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,i){const{decodeTree:r}=this;let u=r[this.treeIndex],o=(u&Sa.VALUE_LENGTH)>>14;for(;i<t.length;i++,this.excess++){const c=t.charCodeAt(i);if(this.treeIndex=$5(r,u,this.treeIndex+Math.max(1,o),c),this.treeIndex<0)return this.result===0||this.decodeMode===Fi.Attribute&&(o===0||K5(c))?0:this.emitNotTerminatedNamedEntity();if(u=r[this.treeIndex],o=(u&Sa.VALUE_LENGTH)>>14,o!==0){if(c===$t.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==Fi.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:i,decodeTree:r}=this,u=(r[i]&Sa.VALUE_LENGTH)>>14;return this.emitNamedEntityData(i,u,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,i,r){const{decodeTree:u}=this;return this.emitCodePoint(i===1?u[t]&~Sa.VALUE_LENGTH:u[t+1],r),i===3&&this.emitCodePoint(u[t+2],r),r}end(){var t;switch(this.state){case Gt.NamedEntity:return this.result!==0&&(this.decodeMode!==Fi.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Gt.NumericDecimal:return this.emitNumericEntity(0,2);case Gt.NumericHex:return this.emitNumericEntity(0,3);case Gt.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Gt.EntityStart:return 0}}}function $5(e,t,i,r){const u=(t&Sa.BRANCH_LENGTH)>>7,o=t&Sa.JUMP_TABLE;if(u===0)return o!==0&&r===o?i:-1;if(o){const p=r-o;return p<0||p>=u?-1:e[i+p]-1}let c=i,h=c+u-1;for(;c<=h;){const p=c+h>>>1,g=e[p];if(g<r)c=p+1;else if(g>r)h=p-1;else return e[p+u]}return-1}var se;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(se||(se={}));var er;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(er||(er={}));var Kn;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Kn||(Kn={}));var H;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(H||(H={}));var m;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(m||(m={}));const Z5=new Map([[H.A,m.A],[H.ADDRESS,m.ADDRESS],[H.ANNOTATION_XML,m.ANNOTATION_XML],[H.APPLET,m.APPLET],[H.AREA,m.AREA],[H.ARTICLE,m.ARTICLE],[H.ASIDE,m.ASIDE],[H.B,m.B],[H.BASE,m.BASE],[H.BASEFONT,m.BASEFONT],[H.BGSOUND,m.BGSOUND],[H.BIG,m.BIG],[H.BLOCKQUOTE,m.BLOCKQUOTE],[H.BODY,m.BODY],[H.BR,m.BR],[H.BUTTON,m.BUTTON],[H.CAPTION,m.CAPTION],[H.CENTER,m.CENTER],[H.CODE,m.CODE],[H.COL,m.COL],[H.COLGROUP,m.COLGROUP],[H.DD,m.DD],[H.DESC,m.DESC],[H.DETAILS,m.DETAILS],[H.DIALOG,m.DIALOG],[H.DIR,m.DIR],[H.DIV,m.DIV],[H.DL,m.DL],[H.DT,m.DT],[H.EM,m.EM],[H.EMBED,m.EMBED],[H.FIELDSET,m.FIELDSET],[H.FIGCAPTION,m.FIGCAPTION],[H.FIGURE,m.FIGURE],[H.FONT,m.FONT],[H.FOOTER,m.FOOTER],[H.FOREIGN_OBJECT,m.FOREIGN_OBJECT],[H.FORM,m.FORM],[H.FRAME,m.FRAME],[H.FRAMESET,m.FRAMESET],[H.H1,m.H1],[H.H2,m.H2],[H.H3,m.H3],[H.H4,m.H4],[H.H5,m.H5],[H.H6,m.H6],[H.HEAD,m.HEAD],[H.HEADER,m.HEADER],[H.HGROUP,m.HGROUP],[H.HR,m.HR],[H.HTML,m.HTML],[H.I,m.I],[H.IMG,m.IMG],[H.IMAGE,m.IMAGE],[H.INPUT,m.INPUT],[H.IFRAME,m.IFRAME],[H.KEYGEN,m.KEYGEN],[H.LABEL,m.LABEL],[H.LI,m.LI],[H.LINK,m.LINK],[H.LISTING,m.LISTING],[H.MAIN,m.MAIN],[H.MALIGNMARK,m.MALIGNMARK],[H.MARQUEE,m.MARQUEE],[H.MATH,m.MATH],[H.MENU,m.MENU],[H.META,m.META],[H.MGLYPH,m.MGLYPH],[H.MI,m.MI],[H.MO,m.MO],[H.MN,m.MN],[H.MS,m.MS],[H.MTEXT,m.MTEXT],[H.NAV,m.NAV],[H.NOBR,m.NOBR],[H.NOFRAMES,m.NOFRAMES],[H.NOEMBED,m.NOEMBED],[H.NOSCRIPT,m.NOSCRIPT],[H.OBJECT,m.OBJECT],[H.OL,m.OL],[H.OPTGROUP,m.OPTGROUP],[H.OPTION,m.OPTION],[H.P,m.P],[H.PARAM,m.PARAM],[H.PLAINTEXT,m.PLAINTEXT],[H.PRE,m.PRE],[H.RB,m.RB],[H.RP,m.RP],[H.RT,m.RT],[H.RTC,m.RTC],[H.RUBY,m.RUBY],[H.S,m.S],[H.SCRIPT,m.SCRIPT],[H.SEARCH,m.SEARCH],[H.SECTION,m.SECTION],[H.SELECT,m.SELECT],[H.SOURCE,m.SOURCE],[H.SMALL,m.SMALL],[H.SPAN,m.SPAN],[H.STRIKE,m.STRIKE],[H.STRONG,m.STRONG],[H.STYLE,m.STYLE],[H.SUB,m.SUB],[H.SUMMARY,m.SUMMARY],[H.SUP,m.SUP],[H.TABLE,m.TABLE],[H.TBODY,m.TBODY],[H.TEMPLATE,m.TEMPLATE],[H.TEXTAREA,m.TEXTAREA],[H.TFOOT,m.TFOOT],[H.TD,m.TD],[H.TH,m.TH],[H.THEAD,m.THEAD],[H.TITLE,m.TITLE],[H.TR,m.TR],[H.TRACK,m.TRACK],[H.TT,m.TT],[H.U,m.U],[H.UL,m.UL],[H.SVG,m.SVG],[H.VAR,m.VAR],[H.WBR,m.WBR],[H.XMP,m.XMP]]);function vs(e){var t;return(t=Z5.get(e))!==null&&t!==void 0?t:m.UNKNOWN}const le=m,J5={[se.HTML]:new Set([le.ADDRESS,le.APPLET,le.AREA,le.ARTICLE,le.ASIDE,le.BASE,le.BASEFONT,le.BGSOUND,le.BLOCKQUOTE,le.BODY,le.BR,le.BUTTON,le.CAPTION,le.CENTER,le.COL,le.COLGROUP,le.DD,le.DETAILS,le.DIR,le.DIV,le.DL,le.DT,le.EMBED,le.FIELDSET,le.FIGCAPTION,le.FIGURE,le.FOOTER,le.FORM,le.FRAME,le.FRAMESET,le.H1,le.H2,le.H3,le.H4,le.H5,le.H6,le.HEAD,le.HEADER,le.HGROUP,le.HR,le.HTML,le.IFRAME,le.IMG,le.INPUT,le.LI,le.LINK,le.LISTING,le.MAIN,le.MARQUEE,le.MENU,le.META,le.NAV,le.NOEMBED,le.NOFRAMES,le.NOSCRIPT,le.OBJECT,le.OL,le.P,le.PARAM,le.PLAINTEXT,le.PRE,le.SCRIPT,le.SECTION,le.SELECT,le.SOURCE,le.STYLE,le.SUMMARY,le.TABLE,le.TBODY,le.TD,le.TEMPLATE,le.TEXTAREA,le.TFOOT,le.TH,le.THEAD,le.TITLE,le.TR,le.TRACK,le.UL,le.WBR,le.XMP]),[se.MATHML]:new Set([le.MI,le.MO,le.MN,le.MS,le.MTEXT,le.ANNOTATION_XML]),[se.SVG]:new Set([le.TITLE,le.FOREIGN_OBJECT,le.DESC]),[se.XLINK]:new Set,[se.XML]:new Set,[se.XMLNS]:new Set},h0=new Set([le.H1,le.H2,le.H3,le.H4,le.H5,le.H6]);H.STYLE,H.SCRIPT,H.XMP,H.IFRAME,H.NOEMBED,H.NOFRAMES,H.PLAINTEXT;var N;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(N||(N={}));const kt={DATA:N.DATA,RCDATA:N.RCDATA,RAWTEXT:N.RAWTEXT,SCRIPT_DATA:N.SCRIPT_DATA,PLAINTEXT:N.PLAINTEXT,CDATA_SECTION:N.CDATA_SECTION};function eL(e){return e>=A.DIGIT_0&&e<=A.DIGIT_9}function Lu(e){return e>=A.LATIN_CAPITAL_A&&e<=A.LATIN_CAPITAL_Z}function tL(e){return e>=A.LATIN_SMALL_A&&e<=A.LATIN_SMALL_Z}function ya(e){return tL(e)||Lu(e)}function by(e){return ya(e)||eL(e)}function Fo(e){return e+32}function LS(e){return e===A.SPACE||e===A.LINE_FEED||e===A.TABULATION||e===A.FORM_FEED}function Sy(e){return LS(e)||e===A.SOLIDUS||e===A.GREATER_THAN_SIGN}function nL(e){return e===A.NULL?K.nullCharacterReference:e>1114111?K.characterReferenceOutsideUnicodeRange:RS(e)?K.surrogateCharacterReference:DS(e)?K.noncharacterCharacterReference:OS(e)||e===A.CARRIAGE_RETURN?K.controlCharacterReference:null}class iL{constructor(t,i){this.options=t,this.handler=i,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=N.DATA,this.returnState=N.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new j5(i),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new W5(Y5,(r,u)=>{this.preprocessor.pos=this.entityStartPos+u-1,this._flushCodePointConsumedAsCharacterReference(r)},i.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(K.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(K.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const u=nL(r);u&&this._err(u,1)}}:void 0)}_err(t,i=0){var r,u;(u=(r=this.handler).onParseError)===null||u===void 0||u.call(r,this.preprocessor.getError(t,i))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,i,r){this.active=!0,this.preprocessor.write(t,i),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let i=0;i<t;i++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,i){return this.preprocessor.startsWith(t,i)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:ze.START_TAG,tagName:"",tagID:m.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:ze.END_TAG,tagName:"",tagID:m.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:ze.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:ze.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,i){this.currentCharacterToken={type:t,chars:i,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,i;const r=this.currentToken;if(IS(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const u=(t=(i=r.location).attrs)!==null&&t!==void 0?t:i.attrs=Object.create(null);u[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(K.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=vs(t.tagName),t.type===ze.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(K.endTagWithAttributes),t.selfClosing&&this._err(K.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case ze.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case ze.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case ze.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:ze.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,i){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=i;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,i)}_emitCodePoint(t){const i=LS(t)?ze.WHITESPACE_CHARACTER:t===A.NULL?ze.NULL_CHARACTER:ze.CHARACTER;this._appendCharToCurrentCharacterToken(i,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(ze.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=N.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Fi.Attribute:Fi.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===N.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===N.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===N.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case N.DATA:{this._stateData(t);break}case N.RCDATA:{this._stateRcdata(t);break}case N.RAWTEXT:{this._stateRawtext(t);break}case N.SCRIPT_DATA:{this._stateScriptData(t);break}case N.PLAINTEXT:{this._statePlaintext(t);break}case N.TAG_OPEN:{this._stateTagOpen(t);break}case N.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case N.TAG_NAME:{this._stateTagName(t);break}case N.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case N.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case N.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case N.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case N.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case N.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case N.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case N.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case N.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case N.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case N.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case N.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case N.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case N.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case N.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case N.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case N.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case N.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case N.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case N.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case N.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case N.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case N.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case N.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case N.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case N.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case N.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case N.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case N.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case N.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case N.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case N.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case N.BOGUS_COMMENT:{this._stateBogusComment(t);break}case N.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case N.COMMENT_START:{this._stateCommentStart(t);break}case N.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case N.COMMENT:{this._stateComment(t);break}case N.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case N.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case N.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case N.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case N.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case N.COMMENT_END:{this._stateCommentEnd(t);break}case N.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case N.DOCTYPE:{this._stateDoctype(t);break}case N.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case N.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case N.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case N.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case N.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case N.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case N.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case N.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case N.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case N.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case N.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case N.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case N.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case N.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case N.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case N.CDATA_SECTION:{this._stateCdataSection(t);break}case N.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case N.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case N.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case N.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case A.LESS_THAN_SIGN:{this.state=N.TAG_OPEN;break}case A.AMPERSAND:{this._startCharacterReference();break}case A.NULL:{this._err(K.unexpectedNullCharacter),this._emitCodePoint(t);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case A.AMPERSAND:{this._startCharacterReference();break}case A.LESS_THAN_SIGN:{this.state=N.RCDATA_LESS_THAN_SIGN;break}case A.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(vt);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case A.LESS_THAN_SIGN:{this.state=N.RAWTEXT_LESS_THAN_SIGN;break}case A.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(vt);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_LESS_THAN_SIGN;break}case A.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(vt);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case A.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(vt);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(ya(t))this._createStartTagToken(),this.state=N.TAG_NAME,this._stateTagName(t);else switch(t){case A.EXCLAMATION_MARK:{this.state=N.MARKUP_DECLARATION_OPEN;break}case A.SOLIDUS:{this.state=N.END_TAG_OPEN;break}case A.QUESTION_MARK:{this._err(K.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=N.BOGUS_COMMENT,this._stateBogusComment(t);break}case A.EOF:{this._err(K.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(K.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=N.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(ya(t))this._createEndTagToken(),this.state=N.TAG_NAME,this._stateTagName(t);else switch(t){case A.GREATER_THAN_SIGN:{this._err(K.missingEndTagName),this.state=N.DATA;break}case A.EOF:{this._err(K.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(K.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=N.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=N.BEFORE_ATTRIBUTE_NAME;break}case A.SOLIDUS:{this.state=N.SELF_CLOSING_START_TAG;break}case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentTagToken();break}case A.NULL:{this._err(K.unexpectedNullCharacter),i.tagName+=vt;break}case A.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:i.tagName+=String.fromCodePoint(Lu(t)?Fo(t):t)}}_stateRcdataLessThanSign(t){t===A.SOLIDUS?this.state=N.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=N.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){ya(t)?(this.state=N.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=N.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const i=this.currentToken;switch(i.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=N.BEFORE_ATTRIBUTE_NAME,!1;case A.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=N.SELF_CLOSING_START_TAG,!1;case A.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=N.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=N.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===A.SOLIDUS?this.state=N.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=N.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){ya(t)?(this.state=N.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=N.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=N.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case A.SOLIDUS:{this.state=N.SCRIPT_DATA_END_TAG_OPEN;break}case A.EXCLAMATION_MARK:{this.state=N.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=N.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){ya(t)?(this.state=N.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=N.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=N.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===A.HYPHEN_MINUS?(this.state=N.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=N.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===A.HYPHEN_MINUS?(this.state=N.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=N.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case A.HYPHEN_MINUS:{this.state=N.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case A.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(vt);break}case A.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case A.HYPHEN_MINUS:{this.state=N.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case A.NULL:{this._err(K.unexpectedNullCharacter),this.state=N.SCRIPT_DATA_ESCAPED,this._emitChars(vt);break}case A.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=N.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case A.HYPHEN_MINUS:{this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case A.GREATER_THAN_SIGN:{this.state=N.SCRIPT_DATA,this._emitChars(">");break}case A.NULL:{this._err(K.unexpectedNullCharacter),this.state=N.SCRIPT_DATA_ESCAPED,this._emitChars(vt);break}case A.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=N.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===A.SOLIDUS?this.state=N.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:ya(t)?(this._emitChars("<"),this.state=N.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=N.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){ya(t)?(this.state=N.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=N.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=N.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(bn.SCRIPT,!1)&&Sy(this.preprocessor.peek(bn.SCRIPT.length))){this._emitCodePoint(t);for(let i=0;i<bn.SCRIPT.length;i++)this._emitCodePoint(this._consume());this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=N.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case A.HYPHEN_MINUS:{this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case A.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(vt);break}case A.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case A.HYPHEN_MINUS:{this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case A.NULL:{this._err(K.unexpectedNullCharacter),this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(vt);break}case A.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case A.HYPHEN_MINUS:{this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case A.GREATER_THAN_SIGN:{this.state=N.SCRIPT_DATA,this._emitChars(">");break}case A.NULL:{this._err(K.unexpectedNullCharacter),this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(vt);break}case A.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===A.SOLIDUS?(this.state=N.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(bn.SCRIPT,!1)&&Sy(this.preprocessor.peek(bn.SCRIPT.length))){this._emitCodePoint(t);for(let i=0;i<bn.SCRIPT.length;i++)this._emitCodePoint(this._consume());this.state=N.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.SOLIDUS:case A.GREATER_THAN_SIGN:case A.EOF:{this.state=N.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case A.EQUALS_SIGN:{this._err(K.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=N.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=N.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:case A.SOLIDUS:case A.GREATER_THAN_SIGN:case A.EOF:{this._leaveAttrName(),this.state=N.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case A.EQUALS_SIGN:{this._leaveAttrName(),this.state=N.BEFORE_ATTRIBUTE_VALUE;break}case A.QUOTATION_MARK:case A.APOSTROPHE:case A.LESS_THAN_SIGN:{this._err(K.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case A.NULL:{this._err(K.unexpectedNullCharacter),this.currentAttr.name+=vt;break}default:this.currentAttr.name+=String.fromCodePoint(Lu(t)?Fo(t):t)}}_stateAfterAttributeName(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.SOLIDUS:{this.state=N.SELF_CLOSING_START_TAG;break}case A.EQUALS_SIGN:{this.state=N.BEFORE_ATTRIBUTE_VALUE;break}case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentTagToken();break}case A.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=N.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.QUOTATION_MARK:{this.state=N.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this.state=N.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(K.missingAttributeValue),this.state=N.DATA,this.emitCurrentTagToken();break}default:this.state=N.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case A.QUOTATION_MARK:{this.state=N.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case A.AMPERSAND:{this._startCharacterReference();break}case A.NULL:{this._err(K.unexpectedNullCharacter),this.currentAttr.value+=vt;break}case A.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case A.APOSTROPHE:{this.state=N.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case A.AMPERSAND:{this._startCharacterReference();break}case A.NULL:{this._err(K.unexpectedNullCharacter),this.currentAttr.value+=vt;break}case A.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this._leaveAttrValue(),this.state=N.BEFORE_ATTRIBUTE_NAME;break}case A.AMPERSAND:{this._startCharacterReference();break}case A.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=N.DATA,this.emitCurrentTagToken();break}case A.NULL:{this._err(K.unexpectedNullCharacter),this.currentAttr.value+=vt;break}case A.QUOTATION_MARK:case A.APOSTROPHE:case A.LESS_THAN_SIGN:case A.EQUALS_SIGN:case A.GRAVE_ACCENT:{this._err(K.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case A.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this._leaveAttrValue(),this.state=N.BEFORE_ATTRIBUTE_NAME;break}case A.SOLIDUS:{this._leaveAttrValue(),this.state=N.SELF_CLOSING_START_TAG;break}case A.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=N.DATA,this.emitCurrentTagToken();break}case A.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this._err(K.missingWhitespaceBetweenAttributes),this.state=N.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case A.GREATER_THAN_SIGN:{const i=this.currentToken;i.selfClosing=!0,this.state=N.DATA,this.emitCurrentTagToken();break}case A.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this._err(K.unexpectedSolidusInTag),this.state=N.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const i=this.currentToken;switch(t){case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentComment(i);break}case A.EOF:{this.emitCurrentComment(i),this._emitEOFToken();break}case A.NULL:{this._err(K.unexpectedNullCharacter),i.data+=vt;break}default:i.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(bn.DASH_DASH,!0)?(this._createCommentToken(bn.DASH_DASH.length+1),this.state=N.COMMENT_START):this._consumeSequenceIfMatch(bn.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(bn.DOCTYPE.length+1),this.state=N.DOCTYPE):this._consumeSequenceIfMatch(bn.CDATA_START,!0)?this.inForeignNode?this.state=N.CDATA_SECTION:(this._err(K.cdataInHtmlContent),this._createCommentToken(bn.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=N.BOGUS_COMMENT):this._ensureHibernation()||(this._err(K.incorrectlyOpenedComment),this._createCommentToken(2),this.state=N.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case A.HYPHEN_MINUS:{this.state=N.COMMENT_START_DASH;break}case A.GREATER_THAN_SIGN:{this._err(K.abruptClosingOfEmptyComment),this.state=N.DATA;const i=this.currentToken;this.emitCurrentComment(i);break}default:this.state=N.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const i=this.currentToken;switch(t){case A.HYPHEN_MINUS:{this.state=N.COMMENT_END;break}case A.GREATER_THAN_SIGN:{this._err(K.abruptClosingOfEmptyComment),this.state=N.DATA,this.emitCurrentComment(i);break}case A.EOF:{this._err(K.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+="-",this.state=N.COMMENT,this._stateComment(t)}}_stateComment(t){const i=this.currentToken;switch(t){case A.HYPHEN_MINUS:{this.state=N.COMMENT_END_DASH;break}case A.LESS_THAN_SIGN:{i.data+="<",this.state=N.COMMENT_LESS_THAN_SIGN;break}case A.NULL:{this._err(K.unexpectedNullCharacter),i.data+=vt;break}case A.EOF:{this._err(K.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const i=this.currentToken;switch(t){case A.EXCLAMATION_MARK:{i.data+="!",this.state=N.COMMENT_LESS_THAN_SIGN_BANG;break}case A.LESS_THAN_SIGN:{i.data+="<";break}default:this.state=N.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===A.HYPHEN_MINUS?this.state=N.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=N.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===A.HYPHEN_MINUS?this.state=N.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=N.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==A.GREATER_THAN_SIGN&&t!==A.EOF&&this._err(K.nestedComment),this.state=N.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const i=this.currentToken;switch(t){case A.HYPHEN_MINUS:{this.state=N.COMMENT_END;break}case A.EOF:{this._err(K.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+="-",this.state=N.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const i=this.currentToken;switch(t){case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentComment(i);break}case A.EXCLAMATION_MARK:{this.state=N.COMMENT_END_BANG;break}case A.HYPHEN_MINUS:{i.data+="-";break}case A.EOF:{this._err(K.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+="--",this.state=N.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const i=this.currentToken;switch(t){case A.HYPHEN_MINUS:{i.data+="--!",this.state=N.COMMENT_END_DASH;break}case A.GREATER_THAN_SIGN:{this._err(K.incorrectlyClosedComment),this.state=N.DATA,this.emitCurrentComment(i);break}case A.EOF:{this._err(K.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+="--!",this.state=N.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=N.BEFORE_DOCTYPE_NAME;break}case A.GREATER_THAN_SIGN:{this.state=N.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case A.EOF:{this._err(K.eofInDoctype),this._createDoctypeToken(null);const i=this.currentToken;i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(K.missingWhitespaceBeforeDoctypeName),this.state=N.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Lu(t))this._createDoctypeToken(String.fromCharCode(Fo(t))),this.state=N.DOCTYPE_NAME;else switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.NULL:{this._err(K.unexpectedNullCharacter),this._createDoctypeToken(vt),this.state=N.DOCTYPE_NAME;break}case A.GREATER_THAN_SIGN:{this._err(K.missingDoctypeName),this._createDoctypeToken(null);const i=this.currentToken;i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=N.DATA;break}case A.EOF:{this._err(K.eofInDoctype),this._createDoctypeToken(null);const i=this.currentToken;i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=N.DOCTYPE_NAME}}_stateDoctypeName(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=N.AFTER_DOCTYPE_NAME;break}case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentDoctype(i);break}case A.NULL:{this._err(K.unexpectedNullCharacter),i.name+=vt;break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.name+=String.fromCodePoint(Lu(t)?Fo(t):t)}}_stateAfterDoctypeName(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentDoctype(i);break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(bn.PUBLIC,!1)?this.state=N.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(bn.SYSTEM,!1)?this.state=N.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(K.invalidCharacterSequenceAfterDoctypeName),i.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=N.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case A.QUOTATION_MARK:{this._err(K.missingWhitespaceAfterDoctypePublicKeyword),i.publicId="",this.state=N.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this._err(K.missingWhitespaceAfterDoctypePublicKeyword),i.publicId="",this.state=N.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(K.missingDoctypePublicIdentifier),i.forceQuirks=!0,this.state=N.DATA,this.emitCurrentDoctype(i);break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypePublicIdentifier),i.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.QUOTATION_MARK:{i.publicId="",this.state=N.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{i.publicId="",this.state=N.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(K.missingDoctypePublicIdentifier),i.forceQuirks=!0,this.state=N.DATA,this.emitCurrentDoctype(i);break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypePublicIdentifier),i.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const i=this.currentToken;switch(t){case A.QUOTATION_MARK:{this.state=N.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case A.NULL:{this._err(K.unexpectedNullCharacter),i.publicId+=vt;break}case A.GREATER_THAN_SIGN:{this._err(K.abruptDoctypePublicIdentifier),i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=N.DATA;break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const i=this.currentToken;switch(t){case A.APOSTROPHE:{this.state=N.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case A.NULL:{this._err(K.unexpectedNullCharacter),i.publicId+=vt;break}case A.GREATER_THAN_SIGN:{this._err(K.abruptDoctypePublicIdentifier),i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=N.DATA;break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=N.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentDoctype(i);break}case A.QUOTATION_MARK:{this._err(K.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),i.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this._err(K.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),i.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.GREATER_THAN_SIGN:{this.emitCurrentDoctype(i),this.state=N.DATA;break}case A.QUOTATION_MARK:{i.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{i.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=N.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case A.QUOTATION_MARK:{this._err(K.missingWhitespaceAfterDoctypeSystemKeyword),i.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this._err(K.missingWhitespaceAfterDoctypeSystemKeyword),i.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(K.missingDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=N.DATA,this.emitCurrentDoctype(i);break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.QUOTATION_MARK:{i.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{i.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(K.missingDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=N.DATA,this.emitCurrentDoctype(i);break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const i=this.currentToken;switch(t){case A.QUOTATION_MARK:{this.state=N.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case A.NULL:{this._err(K.unexpectedNullCharacter),i.systemId+=vt;break}case A.GREATER_THAN_SIGN:{this._err(K.abruptDoctypeSystemIdentifier),i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=N.DATA;break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const i=this.currentToken;switch(t){case A.APOSTROPHE:{this.state=N.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case A.NULL:{this._err(K.unexpectedNullCharacter),i.systemId+=vt;break}case A.GREATER_THAN_SIGN:{this._err(K.abruptDoctypeSystemIdentifier),i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=N.DATA;break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.GREATER_THAN_SIGN:{this.emitCurrentDoctype(i),this.state=N.DATA;break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(K.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const i=this.currentToken;switch(t){case A.GREATER_THAN_SIGN:{this.emitCurrentDoctype(i),this.state=N.DATA;break}case A.NULL:{this._err(K.unexpectedNullCharacter);break}case A.EOF:{this.emitCurrentDoctype(i),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case A.RIGHT_SQUARE_BRACKET:{this.state=N.CDATA_SECTION_BRACKET;break}case A.EOF:{this._err(K.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===A.RIGHT_SQUARE_BRACKET?this.state=N.CDATA_SECTION_END:(this._emitChars("]"),this.state=N.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case A.GREATER_THAN_SIGN:{this.state=N.DATA;break}case A.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=N.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(A.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&by(this.preprocessor.peek(1))?N.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){by(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===A.SEMICOLON&&this._err(K.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const kS=new Set([m.DD,m.DT,m.LI,m.OPTGROUP,m.OPTION,m.P,m.RB,m.RP,m.RT,m.RTC]),Cy=new Set([...kS,m.CAPTION,m.COLGROUP,m.TBODY,m.TD,m.TFOOT,m.TH,m.THEAD,m.TR]),hc=new Set([m.APPLET,m.CAPTION,m.HTML,m.MARQUEE,m.OBJECT,m.TABLE,m.TD,m.TEMPLATE,m.TH]),aL=new Set([...hc,m.OL,m.UL]),rL=new Set([...hc,m.BUTTON]),Ay=new Set([m.ANNOTATION_XML,m.MI,m.MN,m.MO,m.MS,m.MTEXT]),vy=new Set([m.DESC,m.FOREIGN_OBJECT,m.TITLE]),sL=new Set([m.TR,m.TEMPLATE,m.HTML]),uL=new Set([m.TBODY,m.TFOOT,m.THEAD,m.TEMPLATE,m.HTML]),lL=new Set([m.TABLE,m.TEMPLATE,m.HTML]),oL=new Set([m.TD,m.TH]);class cL{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,i,r){this.treeAdapter=i,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=m.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===m.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===se.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,i){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=i,this.currentTagId=i,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,i,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,i){const r=this._indexOf(t);this.items[r]=i,r===this.stackTop&&(this.current=i)}insertAfter(t,i,r){const u=this._indexOf(t)+1;this.items.splice(u,0,i),this.tagIDs.splice(u,0,r),this.stackTop++,u===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,u===this.stackTop)}popUntilTagNamePopped(t){let i=this.stackTop+1;do i=this.tagIDs.lastIndexOf(t,i-1);while(i>0&&this.treeAdapter.getNamespaceURI(this.items[i])!==se.HTML);this.shortenToLength(Math.max(i,0))}shortenToLength(t){for(;this.stackTop>=t;){const i=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(i,this.stackTop<t)}}popUntilElementPopped(t){const i=this._indexOf(t);this.shortenToLength(Math.max(i,0))}popUntilPopped(t,i){const r=this._indexOfTagNames(t,i);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(h0,se.HTML)}popUntilTableCellPopped(){this.popUntilPopped(oL,se.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,i){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===i)return r;return-1}clearBackTo(t,i){const r=this._indexOfTagNames(t,i);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(lL,se.HTML)}clearBackToTableBodyContext(){this.clearBackTo(uL,se.HTML)}clearBackToTableRowContext(){this.clearBackTo(sL,se.HTML)}remove(t){const i=this._indexOf(t);i>=0&&(i===this.stackTop?this.pop():(this.items.splice(i,1),this.tagIDs.splice(i,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===m.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const i=this._indexOf(t)-1;return i>=0?this.items[i]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===m.HTML}hasInDynamicScope(t,i){for(let r=this.stackTop;r>=0;r--){const u=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case se.HTML:{if(u===t)return!0;if(i.has(u))return!1;break}case se.SVG:{if(vy.has(u))return!1;break}case se.MATHML:{if(Ay.has(u))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,hc)}hasInListItemScope(t){return this.hasInDynamicScope(t,aL)}hasInButtonScope(t){return this.hasInDynamicScope(t,rL)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const i=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case se.HTML:{if(h0.has(i))return!0;if(hc.has(i))return!1;break}case se.SVG:{if(vy.has(i))return!1;break}case se.MATHML:{if(Ay.has(i))return!1;break}}}return!0}hasInTableScope(t){for(let i=this.stackTop;i>=0;i--)if(this.treeAdapter.getNamespaceURI(this.items[i])===se.HTML)switch(this.tagIDs[i]){case t:return!0;case m.TABLE:case m.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===se.HTML)switch(this.tagIDs[t]){case m.TBODY:case m.THEAD:case m.TFOOT:return!0;case m.TABLE:case m.HTML:return!1}return!0}hasInSelectScope(t){for(let i=this.stackTop;i>=0;i--)if(this.treeAdapter.getNamespaceURI(this.items[i])===se.HTML)switch(this.tagIDs[i]){case t:return!0;case m.OPTION:case m.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&kS.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&Cy.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&Cy.has(this.currentTagId);)this.pop()}}const Dh=3;var hi;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(hi||(hi={}));const xy={type:hi.Marker};class fL{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,i){const r=[],u=i.length,o=this.treeAdapter.getTagName(t),c=this.treeAdapter.getNamespaceURI(t);for(let h=0;h<this.entries.length;h++){const p=this.entries[h];if(p.type===hi.Marker)break;const{element:g}=p;if(this.treeAdapter.getTagName(g)===o&&this.treeAdapter.getNamespaceURI(g)===c){const _=this.treeAdapter.getAttrList(g);_.length===u&&r.push({idx:h,attrs:_})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<Dh)return;const i=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,i);if(r.length<Dh)return;const u=new Map(i.map(c=>[c.name,c.value]));let o=0;for(let c=0;c<r.length;c++){const h=r[c];h.attrs.every(p=>u.get(p.name)===p.value)&&(o+=1,o>=Dh&&this.entries.splice(h.idx,1))}}insertMarker(){this.entries.unshift(xy)}pushElement(t,i){this._ensureNoahArkCondition(t),this.entries.unshift({type:hi.Element,element:t,token:i})}insertElementAfterBookmark(t,i){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:hi.Element,element:t,token:i})}removeEntry(t){const i=this.entries.indexOf(t);i!==-1&&this.entries.splice(i,1)}clearToLastMarker(){const t=this.entries.indexOf(xy);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const i=this.entries.find(r=>r.type===hi.Marker||this.treeAdapter.getTagName(r.element)===t);return i&&i.type===hi.Element?i:null}getElementEntry(t){return this.entries.find(i=>i.type===hi.Element&&i.element===t)}}const Ta={createDocument(){return{nodeName:"#document",mode:Kn.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,i){return{nodeName:e,tagName:e,attrs:i,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,i){const r=e.childNodes.indexOf(i);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,i,r){const u=e.childNodes.find(o=>o.nodeName==="#documentType");if(u)u.name=t,u.publicId=i,u.systemId=r;else{const o={nodeName:"#documentType",name:t,publicId:i,systemId:r,parentNode:null};Ta.appendChild(e,o)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const i=e.childNodes[e.childNodes.length-1];if(Ta.isTextNode(i)){i.value+=t;return}}Ta.appendChild(e,Ta.createTextNode(t))},insertTextBefore(e,t,i){const r=e.childNodes[e.childNodes.indexOf(i)-1];r&&Ta.isTextNode(r)?r.value+=t:Ta.insertBefore(e,Ta.createTextNode(t),i)},adoptAttributes(e,t){const i=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)i.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},wS="html",dL="about:legacy-compat",hL="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",MS=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],mL=[...MS,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],pL=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),BS=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],gL=[...BS,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Ny(e,t){return t.some(i=>e.startsWith(i))}function EL(e){return e.name===wS&&e.publicId===null&&(e.systemId===null||e.systemId===dL)}function _L(e){if(e.name!==wS)return Kn.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===hL)return Kn.QUIRKS;let{publicId:i}=e;if(i!==null){if(i=i.toLowerCase(),pL.has(i))return Kn.QUIRKS;let r=t===null?mL:MS;if(Ny(i,r))return Kn.QUIRKS;if(r=t===null?BS:gL,Ny(i,r))return Kn.LIMITED_QUIRKS}return Kn.NO_QUIRKS}const Ry={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},yL="definitionurl",TL="definitionURL",bL=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),SL=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:se.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:se.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:se.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:se.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:se.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:se.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:se.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:se.XML}],["xml:space",{prefix:"xml",name:"space",namespace:se.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:se.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:se.XMLNS}]]),CL=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),AL=new Set([m.B,m.BIG,m.BLOCKQUOTE,m.BODY,m.BR,m.CENTER,m.CODE,m.DD,m.DIV,m.DL,m.DT,m.EM,m.EMBED,m.H1,m.H2,m.H3,m.H4,m.H5,m.H6,m.HEAD,m.HR,m.I,m.IMG,m.LI,m.LISTING,m.MENU,m.META,m.NOBR,m.OL,m.P,m.PRE,m.RUBY,m.S,m.SMALL,m.SPAN,m.STRONG,m.STRIKE,m.SUB,m.SUP,m.TABLE,m.TT,m.U,m.UL,m.VAR]);function vL(e){const t=e.tagID;return t===m.FONT&&e.attrs.some(({name:r})=>r===er.COLOR||r===er.SIZE||r===er.FACE)||AL.has(t)}function PS(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===yL){e.attrs[t].name=TL;break}}function US(e){for(let t=0;t<e.attrs.length;t++){const i=bL.get(e.attrs[t].name);i!=null&&(e.attrs[t].name=i)}}function Am(e){for(let t=0;t<e.attrs.length;t++){const i=SL.get(e.attrs[t].name);i&&(e.attrs[t].prefix=i.prefix,e.attrs[t].name=i.name,e.attrs[t].namespace=i.namespace)}}function xL(e){const t=CL.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=vs(e.tagName))}function NL(e,t){return t===se.MATHML&&(e===m.MI||e===m.MO||e===m.MN||e===m.MS||e===m.MTEXT)}function RL(e,t,i){if(t===se.MATHML&&e===m.ANNOTATION_XML){for(let r=0;r<i.length;r++)if(i[r].name===er.ENCODING){const u=i[r].value.toLowerCase();return u===Ry.TEXT_HTML||u===Ry.APPLICATION_XML}}return t===se.SVG&&(e===m.FOREIGN_OBJECT||e===m.DESC||e===m.TITLE)}function OL(e,t,i,r){return(!r||r===se.HTML)&&RL(e,t,i)||(!r||r===se.MATHML)&&NL(e,t)}const DL="hidden",IL=8,LL=3;var D;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(D||(D={}));const kL={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},HS=new Set([m.TABLE,m.TBODY,m.TFOOT,m.THEAD,m.TR]),Oy={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Ta,onParseError:null};class Dy{constructor(t,i,r=null,u=null){this.fragmentContext=r,this.scriptHandler=u,this.currentToken=null,this.stopped=!1,this.insertionMode=D.INITIAL,this.originalInsertionMode=D.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Oy,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=i??this.treeAdapter.createDocument(),this.tokenizer=new iL(this.options,this),this.activeFormattingElements=new fL(this.treeAdapter),this.fragmentContextID=r?vs(this.treeAdapter.getTagName(r)):m.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new cL(this.document,this.treeAdapter,this)}static parse(t,i){const r=new this(i);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,i){const r={...Oy,...i};t??(t=r.treeAdapter.createElement(H.TEMPLATE,se.HTML,[]));const u=r.treeAdapter.createElement("documentmock",se.HTML,[]),o=new this(r,u,t);return o.fragmentContextID===m.TEMPLATE&&o.tmplInsertionModeStack.unshift(D.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),i=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,i),i}_err(t,i,r){var u;if(!this.onParseError)return;const o=(u=t.location)!==null&&u!==void 0?u:kL,c={code:i,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:r?o.startLine:o.endLine,endCol:r?o.startCol:o.endCol,endOffset:r?o.startOffset:o.endOffset};this.onParseError(c)}onItemPush(t,i,r){var u,o;(o=(u=this.treeAdapter).onItemPush)===null||o===void 0||o.call(u,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,i)}onItemPop(t,i){var r,u;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(u=(r=this.treeAdapter).onItemPop)===null||u===void 0||u.call(r,t,this.openElements.current),i){let o,c;this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,c=this.fragmentContextID):{current:o,currentTagId:c}=this.openElements,this._setContextModes(o,c)}}_setContextModes(t,i){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===se.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&i!==void 0&&!this._isIntegrationPoint(i,t)}_switchToTextParsing(t,i){this._insertElement(t,se.HTML),this.tokenizer.state=i,this.originalInsertionMode=this.insertionMode,this.insertionMode=D.TEXT}switchToPlaintextParsing(){this.insertionMode=D.TEXT,this.originalInsertionMode=D.IN_BODY,this.tokenizer.state=kt.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===H.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==se.HTML))switch(this.fragmentContextID){case m.TITLE:case m.TEXTAREA:{this.tokenizer.state=kt.RCDATA;break}case m.STYLE:case m.XMP:case m.IFRAME:case m.NOEMBED:case m.NOFRAMES:case m.NOSCRIPT:{this.tokenizer.state=kt.RAWTEXT;break}case m.SCRIPT:{this.tokenizer.state=kt.SCRIPT_DATA;break}case m.PLAINTEXT:{this.tokenizer.state=kt.PLAINTEXT;break}}}_setDocumentType(t){const i=t.name||"",r=t.publicId||"",u=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,i,r,u),t.location){const c=this.treeAdapter.getChildNodes(this.document).find(h=>this.treeAdapter.isDocumentTypeNode(h));c&&this.treeAdapter.setNodeSourceCodeLocation(c,t.location)}}_attachElementToTree(t,i){if(this.options.sourceCodeLocationInfo){const r=i&&{...i,startTag:i};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,t)}}_appendElement(t,i){const r=this.treeAdapter.createElement(t.tagName,i,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,i){const r=this.treeAdapter.createElement(t.tagName,i,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,i){const r=this.treeAdapter.createElement(t,se.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,i)}_insertTemplate(t){const i=this.treeAdapter.createElement(t.tagName,se.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(i,r),this._attachElementToTree(i,t.location),this.openElements.push(i,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(H.HTML,se.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,m.HTML)}_appendCommentNode(t,i){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(i,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let i,r;if(this._shouldFosterParentOnInsertion()?({parent:i,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(i,t.chars,r):this.treeAdapter.insertText(i,t.chars)):(i=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(i,t.chars)),!t.location)return;const u=this.treeAdapter.getChildNodes(i),o=r?u.lastIndexOf(r):u.length,c=u[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(c)){const{endLine:p,endCol:g,endOffset:_}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(c,{endLine:p,endCol:g,endOffset:_})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(c,t.location)}_adoptNodes(t,i){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(i,r)}_setEndLocation(t,i){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&i.location){const r=i.location,u=this.treeAdapter.getTagName(t),o=i.type===ze.END_TAG&&u===i.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,o)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let i,r;return this.openElements.stackTop===0&&this.fragmentContext?(i=this.fragmentContext,r=this.fragmentContextID):{current:i,currentTagId:r}=this.openElements,t.tagID===m.SVG&&this.treeAdapter.getTagName(i)===H.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(i)===se.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===m.MGLYPH||t.tagID===m.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,i,se.HTML)}_processToken(t){switch(t.type){case ze.CHARACTER:{this.onCharacter(t);break}case ze.NULL_CHARACTER:{this.onNullCharacter(t);break}case ze.COMMENT:{this.onComment(t);break}case ze.DOCTYPE:{this.onDoctype(t);break}case ze.START_TAG:{this._processStartTag(t);break}case ze.END_TAG:{this.onEndTag(t);break}case ze.EOF:{this.onEof(t);break}case ze.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,i,r){const u=this.treeAdapter.getNamespaceURI(i),o=this.treeAdapter.getAttrList(i);return OL(t,u,o,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const i=this.activeFormattingElements.entries.findIndex(u=>u.type===hi.Marker||this.openElements.contains(u.element)),r=i===-1?t-1:i-1;for(let u=r;u>=0;u--){const o=this.activeFormattingElements.entries[u];this._insertElement(o.token,this.treeAdapter.getNamespaceURI(o.element)),o.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=D.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(m.P),this.openElements.popUntilTagNamePopped(m.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case m.TR:{this.insertionMode=D.IN_ROW;return}case m.TBODY:case m.THEAD:case m.TFOOT:{this.insertionMode=D.IN_TABLE_BODY;return}case m.CAPTION:{this.insertionMode=D.IN_CAPTION;return}case m.COLGROUP:{this.insertionMode=D.IN_COLUMN_GROUP;return}case m.TABLE:{this.insertionMode=D.IN_TABLE;return}case m.BODY:{this.insertionMode=D.IN_BODY;return}case m.FRAMESET:{this.insertionMode=D.IN_FRAMESET;return}case m.SELECT:{this._resetInsertionModeForSelect(t);return}case m.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case m.HTML:{this.insertionMode=this.headElement?D.AFTER_HEAD:D.BEFORE_HEAD;return}case m.TD:case m.TH:{if(t>0){this.insertionMode=D.IN_CELL;return}break}case m.HEAD:{if(t>0){this.insertionMode=D.IN_HEAD;return}break}}this.insertionMode=D.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let i=t-1;i>0;i--){const r=this.openElements.tagIDs[i];if(r===m.TEMPLATE)break;if(r===m.TABLE){this.insertionMode=D.IN_SELECT_IN_TABLE;return}}this.insertionMode=D.IN_SELECT}_isElementCausesFosterParenting(t){return HS.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const i=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case m.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(i)===se.HTML)return{parent:this.treeAdapter.getTemplateContent(i),beforeElement:null};break}case m.TABLE:{const r=this.treeAdapter.getParentNode(i);return r?{parent:r,beforeElement:i}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const i=this._findFosterParentingLocation();i.beforeElement?this.treeAdapter.insertBefore(i.parent,t,i.beforeElement):this.treeAdapter.appendChild(i.parent,t)}_isSpecialElement(t,i){const r=this.treeAdapter.getNamespaceURI(t);return J5[r].has(i)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){ok(this,t);return}switch(this.insertionMode){case D.INITIAL:{Ru(this,t);break}case D.BEFORE_HTML:{ju(this,t);break}case D.BEFORE_HEAD:{Yu(this,t);break}case D.IN_HEAD:{qu(this,t);break}case D.IN_HEAD_NO_SCRIPT:{Vu(this,t);break}case D.AFTER_HEAD:{Gu(this,t);break}case D.IN_BODY:case D.IN_CAPTION:case D.IN_CELL:case D.IN_TEMPLATE:{zS(this,t);break}case D.TEXT:case D.IN_SELECT:case D.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case D.IN_TABLE:case D.IN_TABLE_BODY:case D.IN_ROW:{Ih(this,t);break}case D.IN_TABLE_TEXT:{XS(this,t);break}case D.IN_COLUMN_GROUP:{mc(this,t);break}case D.AFTER_BODY:{pc(this,t);break}case D.AFTER_AFTER_BODY:{Xo(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){lk(this,t);return}switch(this.insertionMode){case D.INITIAL:{Ru(this,t);break}case D.BEFORE_HTML:{ju(this,t);break}case D.BEFORE_HEAD:{Yu(this,t);break}case D.IN_HEAD:{qu(this,t);break}case D.IN_HEAD_NO_SCRIPT:{Vu(this,t);break}case D.AFTER_HEAD:{Gu(this,t);break}case D.TEXT:{this._insertCharacters(t);break}case D.IN_TABLE:case D.IN_TABLE_BODY:case D.IN_ROW:{Ih(this,t);break}case D.IN_COLUMN_GROUP:{mc(this,t);break}case D.AFTER_BODY:{pc(this,t);break}case D.AFTER_AFTER_BODY:{Xo(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){m0(this,t);return}switch(this.insertionMode){case D.INITIAL:case D.BEFORE_HTML:case D.BEFORE_HEAD:case D.IN_HEAD:case D.IN_HEAD_NO_SCRIPT:case D.AFTER_HEAD:case D.IN_BODY:case D.IN_TABLE:case D.IN_CAPTION:case D.IN_COLUMN_GROUP:case D.IN_TABLE_BODY:case D.IN_ROW:case D.IN_CELL:case D.IN_SELECT:case D.IN_SELECT_IN_TABLE:case D.IN_TEMPLATE:case D.IN_FRAMESET:case D.AFTER_FRAMESET:{m0(this,t);break}case D.IN_TABLE_TEXT:{Ou(this,t);break}case D.AFTER_BODY:{FL(this,t);break}case D.AFTER_AFTER_BODY:case D.AFTER_AFTER_FRAMESET:{zL(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case D.INITIAL:{jL(this,t);break}case D.BEFORE_HEAD:case D.IN_HEAD:case D.IN_HEAD_NO_SCRIPT:case D.AFTER_HEAD:{this._err(t,K.misplacedDoctype);break}case D.IN_TABLE_TEXT:{Ou(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,K.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?ck(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case D.INITIAL:{Ru(this,t);break}case D.BEFORE_HTML:{YL(this,t);break}case D.BEFORE_HEAD:{VL(this,t);break}case D.IN_HEAD:{ui(this,t);break}case D.IN_HEAD_NO_SCRIPT:{QL(this,t);break}case D.AFTER_HEAD:{WL(this,t);break}case D.IN_BODY:{on(this,t);break}case D.IN_TABLE:{ps(this,t);break}case D.IN_TABLE_TEXT:{Ou(this,t);break}case D.IN_CAPTION:{G8(this,t);break}case D.IN_COLUMN_GROUP:{Nm(this,t);break}case D.IN_TABLE_BODY:{Uc(this,t);break}case D.IN_ROW:{Hc(this,t);break}case D.IN_CELL:{K8(this,t);break}case D.IN_SELECT:{WS(this,t);break}case D.IN_SELECT_IN_TABLE:{$8(this,t);break}case D.IN_TEMPLATE:{J8(this,t);break}case D.AFTER_BODY:{tk(this,t);break}case D.IN_FRAMESET:{nk(this,t);break}case D.AFTER_FRAMESET:{ak(this,t);break}case D.AFTER_AFTER_BODY:{sk(this,t);break}case D.AFTER_AFTER_FRAMESET:{uk(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?fk(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case D.INITIAL:{Ru(this,t);break}case D.BEFORE_HTML:{qL(this,t);break}case D.BEFORE_HEAD:{GL(this,t);break}case D.IN_HEAD:{XL(this,t);break}case D.IN_HEAD_NO_SCRIPT:{KL(this,t);break}case D.AFTER_HEAD:{$L(this,t);break}case D.IN_BODY:{Pc(this,t);break}case D.TEXT:{B8(this,t);break}case D.IN_TABLE:{rl(this,t);break}case D.IN_TABLE_TEXT:{Ou(this,t);break}case D.IN_CAPTION:{X8(this,t);break}case D.IN_COLUMN_GROUP:{Q8(this,t);break}case D.IN_TABLE_BODY:{p0(this,t);break}case D.IN_ROW:{KS(this,t);break}case D.IN_CELL:{W8(this,t);break}case D.IN_SELECT:{$S(this,t);break}case D.IN_SELECT_IN_TABLE:{Z8(this,t);break}case D.IN_TEMPLATE:{ek(this,t);break}case D.AFTER_BODY:{JS(this,t);break}case D.IN_FRAMESET:{ik(this,t);break}case D.AFTER_FRAMESET:{rk(this,t);break}case D.AFTER_AFTER_BODY:{Xo(this,t);break}}}onEof(t){switch(this.insertionMode){case D.INITIAL:{Ru(this,t);break}case D.BEFORE_HTML:{ju(this,t);break}case D.BEFORE_HEAD:{Yu(this,t);break}case D.IN_HEAD:{qu(this,t);break}case D.IN_HEAD_NO_SCRIPT:{Vu(this,t);break}case D.AFTER_HEAD:{Gu(this,t);break}case D.IN_BODY:case D.IN_TABLE:case D.IN_CAPTION:case D.IN_COLUMN_GROUP:case D.IN_TABLE_BODY:case D.IN_ROW:case D.IN_CELL:case D.IN_SELECT:case D.IN_SELECT_IN_TABLE:{VS(this,t);break}case D.TEXT:{P8(this,t);break}case D.IN_TABLE_TEXT:{Ou(this,t);break}case D.IN_TEMPLATE:{ZS(this,t);break}case D.AFTER_BODY:case D.IN_FRAMESET:case D.AFTER_FRAMESET:case D.AFTER_AFTER_BODY:case D.AFTER_AFTER_FRAMESET:{xm(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===A.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case D.IN_HEAD:case D.IN_HEAD_NO_SCRIPT:case D.AFTER_HEAD:case D.TEXT:case D.IN_COLUMN_GROUP:case D.IN_SELECT:case D.IN_SELECT_IN_TABLE:case D.IN_FRAMESET:case D.AFTER_FRAMESET:{this._insertCharacters(t);break}case D.IN_BODY:case D.IN_CAPTION:case D.IN_CELL:case D.IN_TEMPLATE:case D.AFTER_BODY:case D.AFTER_AFTER_BODY:case D.AFTER_AFTER_FRAMESET:{FS(this,t);break}case D.IN_TABLE:case D.IN_TABLE_BODY:case D.IN_ROW:{Ih(this,t);break}case D.IN_TABLE_TEXT:{GS(this,t);break}}}}function wL(e,t){let i=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return i?e.openElements.contains(i.element)?e.openElements.hasInScope(t.tagID)||(i=null):(e.activeFormattingElements.removeEntry(i),i=null):qS(e,t),i}function ML(e,t){let i=null,r=e.openElements.stackTop;for(;r>=0;r--){const u=e.openElements.items[r];if(u===t.element)break;e._isSpecialElement(u,e.openElements.tagIDs[r])&&(i=u)}return i||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),i}function BL(e,t,i){let r=t,u=e.openElements.getCommonAncestor(t);for(let o=0,c=u;c!==i;o++,c=u){u=e.openElements.getCommonAncestor(c);const h=e.activeFormattingElements.getElementEntry(c),p=h&&o>=LL;!h||p?(p&&e.activeFormattingElements.removeEntry(h),e.openElements.remove(c)):(c=PL(e,h),r===t&&(e.activeFormattingElements.bookmark=h),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(c,r),r=c)}return r}function PL(e,t){const i=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,i,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function UL(e,t,i){const r=e.treeAdapter.getTagName(t),u=vs(r);if(e._isElementCausesFosterParenting(u))e._fosterParentElement(i);else{const o=e.treeAdapter.getNamespaceURI(t);u===m.TEMPLATE&&o===se.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,i)}}function HL(e,t,i){const r=e.treeAdapter.getNamespaceURI(i.element),{token:u}=i,o=e.treeAdapter.createElement(u.tagName,r,u.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,u),e.activeFormattingElements.removeEntry(i),e.openElements.remove(i.element),e.openElements.insertAfter(t,o,u.tagID)}function vm(e,t){for(let i=0;i<IL;i++){const r=wL(e,t);if(!r)break;const u=ML(e,r);if(!u)break;e.activeFormattingElements.bookmark=r;const o=BL(e,u,r.element),c=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(o),c&&UL(e,c,o),HL(e,u,r)}}function m0(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function FL(e,t){e._appendCommentNode(t,e.openElements.items[0])}function zL(e,t){e._appendCommentNode(t,e.document)}function xm(e,t){if(e.stopped=!0,t.location){const i=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=i;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],u=e.treeAdapter.getNodeSourceCodeLocation(r);if(u&&!u.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const o=e.openElements.items[1],c=e.treeAdapter.getNodeSourceCodeLocation(o);c&&!c.endTag&&e._setEndLocation(o,t)}}}}function jL(e,t){e._setDocumentType(t);const i=t.forceQuirks?Kn.QUIRKS:_L(t);EL(t)||e._err(t,K.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,i),e.insertionMode=D.BEFORE_HTML}function Ru(e,t){e._err(t,K.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Kn.QUIRKS),e.insertionMode=D.BEFORE_HTML,e._processToken(t)}function YL(e,t){t.tagID===m.HTML?(e._insertElement(t,se.HTML),e.insertionMode=D.BEFORE_HEAD):ju(e,t)}function qL(e,t){const i=t.tagID;(i===m.HTML||i===m.HEAD||i===m.BODY||i===m.BR)&&ju(e,t)}function ju(e,t){e._insertFakeRootElement(),e.insertionMode=D.BEFORE_HEAD,e._processToken(t)}function VL(e,t){switch(t.tagID){case m.HTML:{on(e,t);break}case m.HEAD:{e._insertElement(t,se.HTML),e.headElement=e.openElements.current,e.insertionMode=D.IN_HEAD;break}default:Yu(e,t)}}function GL(e,t){const i=t.tagID;i===m.HEAD||i===m.BODY||i===m.HTML||i===m.BR?Yu(e,t):e._err(t,K.endTagWithoutMatchingOpenElement)}function Yu(e,t){e._insertFakeElement(H.HEAD,m.HEAD),e.headElement=e.openElements.current,e.insertionMode=D.IN_HEAD,e._processToken(t)}function ui(e,t){switch(t.tagID){case m.HTML:{on(e,t);break}case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:{e._appendElement(t,se.HTML),t.ackSelfClosing=!0;break}case m.TITLE:{e._switchToTextParsing(t,kt.RCDATA);break}case m.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,kt.RAWTEXT):(e._insertElement(t,se.HTML),e.insertionMode=D.IN_HEAD_NO_SCRIPT);break}case m.NOFRAMES:case m.STYLE:{e._switchToTextParsing(t,kt.RAWTEXT);break}case m.SCRIPT:{e._switchToTextParsing(t,kt.SCRIPT_DATA);break}case m.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=D.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(D.IN_TEMPLATE);break}case m.HEAD:{e._err(t,K.misplacedStartTagForHeadElement);break}default:qu(e,t)}}function XL(e,t){switch(t.tagID){case m.HEAD:{e.openElements.pop(),e.insertionMode=D.AFTER_HEAD;break}case m.BODY:case m.BR:case m.HTML:{qu(e,t);break}case m.TEMPLATE:{or(e,t);break}default:e._err(t,K.endTagWithoutMatchingOpenElement)}}function or(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==m.TEMPLATE&&e._err(t,K.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(m.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,K.endTagWithoutMatchingOpenElement)}function qu(e,t){e.openElements.pop(),e.insertionMode=D.AFTER_HEAD,e._processToken(t)}function QL(e,t){switch(t.tagID){case m.HTML:{on(e,t);break}case m.BASEFONT:case m.BGSOUND:case m.HEAD:case m.LINK:case m.META:case m.NOFRAMES:case m.STYLE:{ui(e,t);break}case m.NOSCRIPT:{e._err(t,K.nestedNoscriptInHead);break}default:Vu(e,t)}}function KL(e,t){switch(t.tagID){case m.NOSCRIPT:{e.openElements.pop(),e.insertionMode=D.IN_HEAD;break}case m.BR:{Vu(e,t);break}default:e._err(t,K.endTagWithoutMatchingOpenElement)}}function Vu(e,t){const i=t.type===ze.EOF?K.openElementsLeftAfterEof:K.disallowedContentInNoscriptInHead;e._err(t,i),e.openElements.pop(),e.insertionMode=D.IN_HEAD,e._processToken(t)}function WL(e,t){switch(t.tagID){case m.HTML:{on(e,t);break}case m.BODY:{e._insertElement(t,se.HTML),e.framesetOk=!1,e.insertionMode=D.IN_BODY;break}case m.FRAMESET:{e._insertElement(t,se.HTML),e.insertionMode=D.IN_FRAMESET;break}case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:case m.NOFRAMES:case m.SCRIPT:case m.STYLE:case m.TEMPLATE:case m.TITLE:{e._err(t,K.abandonedHeadElementChild),e.openElements.push(e.headElement,m.HEAD),ui(e,t),e.openElements.remove(e.headElement);break}case m.HEAD:{e._err(t,K.misplacedStartTagForHeadElement);break}default:Gu(e,t)}}function $L(e,t){switch(t.tagID){case m.BODY:case m.HTML:case m.BR:{Gu(e,t);break}case m.TEMPLATE:{or(e,t);break}default:e._err(t,K.endTagWithoutMatchingOpenElement)}}function Gu(e,t){e._insertFakeElement(H.BODY,m.BODY),e.insertionMode=D.IN_BODY,Bc(e,t)}function Bc(e,t){switch(t.type){case ze.CHARACTER:{zS(e,t);break}case ze.WHITESPACE_CHARACTER:{FS(e,t);break}case ze.COMMENT:{m0(e,t);break}case ze.START_TAG:{on(e,t);break}case ze.END_TAG:{Pc(e,t);break}case ze.EOF:{VS(e,t);break}}}function FS(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function zS(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function ZL(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function JL(e,t){const i=e.openElements.tryPeekProperlyNestedBodyElement();i&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(i,t.attrs))}function e8(e,t){const i=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&i&&(e.treeAdapter.detachNode(i),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,se.HTML),e.insertionMode=D.IN_FRAMESET)}function t8(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,se.HTML)}function n8(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&h0.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,se.HTML)}function i8(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,se.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function a8(e,t){const i=e.openElements.tmplCount>0;(!e.formElement||i)&&(e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,se.HTML),i||(e.formElement=e.openElements.current))}function r8(e,t){e.framesetOk=!1;const i=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const u=e.openElements.tagIDs[r];if(i===m.LI&&u===m.LI||(i===m.DD||i===m.DT)&&(u===m.DD||u===m.DT)){e.openElements.generateImpliedEndTagsWithExclusion(u),e.openElements.popUntilTagNamePopped(u);break}if(u!==m.ADDRESS&&u!==m.DIV&&u!==m.P&&e._isSpecialElement(e.openElements.items[r],u))break}e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,se.HTML)}function s8(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,se.HTML),e.tokenizer.state=kt.PLAINTEXT}function u8(e,t){e.openElements.hasInScope(m.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,se.HTML),e.framesetOk=!1}function l8(e,t){const i=e.activeFormattingElements.getElementEntryInScopeWithTagName(H.A);i&&(vm(e,t),e.openElements.remove(i.element),e.activeFormattingElements.removeEntry(i)),e._reconstructActiveFormattingElements(),e._insertElement(t,se.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function o8(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,se.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function c8(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(m.NOBR)&&(vm(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,se.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function f8(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,se.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function d8(e,t){e.treeAdapter.getDocumentMode(e.document)!==Kn.QUIRKS&&e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,se.HTML),e.framesetOk=!1,e.insertionMode=D.IN_TABLE}function jS(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,se.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function YS(e){const t=IS(e,er.TYPE);return t!=null&&t.toLowerCase()===DL}function h8(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,se.HTML),YS(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function m8(e,t){e._appendElement(t,se.HTML),t.ackSelfClosing=!0}function p8(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._appendElement(t,se.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function g8(e,t){t.tagName=H.IMG,t.tagID=m.IMG,jS(e,t)}function E8(e,t){e._insertElement(t,se.HTML),e.skipNextNewLine=!0,e.tokenizer.state=kt.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=D.TEXT}function _8(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,kt.RAWTEXT)}function y8(e,t){e.framesetOk=!1,e._switchToTextParsing(t,kt.RAWTEXT)}function Iy(e,t){e._switchToTextParsing(t,kt.RAWTEXT)}function T8(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,se.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===D.IN_TABLE||e.insertionMode===D.IN_CAPTION||e.insertionMode===D.IN_TABLE_BODY||e.insertionMode===D.IN_ROW||e.insertionMode===D.IN_CELL?D.IN_SELECT_IN_TABLE:D.IN_SELECT}function b8(e,t){e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,se.HTML)}function S8(e,t){e.openElements.hasInScope(m.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,se.HTML)}function C8(e,t){e.openElements.hasInScope(m.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(m.RTC),e._insertElement(t,se.HTML)}function A8(e,t){e._reconstructActiveFormattingElements(),PS(t),Am(t),t.selfClosing?e._appendElement(t,se.MATHML):e._insertElement(t,se.MATHML),t.ackSelfClosing=!0}function v8(e,t){e._reconstructActiveFormattingElements(),US(t),Am(t),t.selfClosing?e._appendElement(t,se.SVG):e._insertElement(t,se.SVG),t.ackSelfClosing=!0}function Ly(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,se.HTML)}function on(e,t){switch(t.tagID){case m.I:case m.S:case m.B:case m.U:case m.EM:case m.TT:case m.BIG:case m.CODE:case m.FONT:case m.SMALL:case m.STRIKE:case m.STRONG:{o8(e,t);break}case m.A:{l8(e,t);break}case m.H1:case m.H2:case m.H3:case m.H4:case m.H5:case m.H6:{n8(e,t);break}case m.P:case m.DL:case m.OL:case m.UL:case m.DIV:case m.DIR:case m.NAV:case m.MAIN:case m.MENU:case m.ASIDE:case m.CENTER:case m.FIGURE:case m.FOOTER:case m.HEADER:case m.HGROUP:case m.DIALOG:case m.DETAILS:case m.ADDRESS:case m.ARTICLE:case m.SEARCH:case m.SECTION:case m.SUMMARY:case m.FIELDSET:case m.BLOCKQUOTE:case m.FIGCAPTION:{t8(e,t);break}case m.LI:case m.DD:case m.DT:{r8(e,t);break}case m.BR:case m.IMG:case m.WBR:case m.AREA:case m.EMBED:case m.KEYGEN:{jS(e,t);break}case m.HR:{p8(e,t);break}case m.RB:case m.RTC:{S8(e,t);break}case m.RT:case m.RP:{C8(e,t);break}case m.PRE:case m.LISTING:{i8(e,t);break}case m.XMP:{_8(e,t);break}case m.SVG:{v8(e,t);break}case m.HTML:{ZL(e,t);break}case m.BASE:case m.LINK:case m.META:case m.STYLE:case m.TITLE:case m.SCRIPT:case m.BGSOUND:case m.BASEFONT:case m.TEMPLATE:{ui(e,t);break}case m.BODY:{JL(e,t);break}case m.FORM:{a8(e,t);break}case m.NOBR:{c8(e,t);break}case m.MATH:{A8(e,t);break}case m.TABLE:{d8(e,t);break}case m.INPUT:{h8(e,t);break}case m.PARAM:case m.TRACK:case m.SOURCE:{m8(e,t);break}case m.IMAGE:{g8(e,t);break}case m.BUTTON:{u8(e,t);break}case m.APPLET:case m.OBJECT:case m.MARQUEE:{f8(e,t);break}case m.IFRAME:{y8(e,t);break}case m.SELECT:{T8(e,t);break}case m.OPTION:case m.OPTGROUP:{b8(e,t);break}case m.NOEMBED:case m.NOFRAMES:{Iy(e,t);break}case m.FRAMESET:{e8(e,t);break}case m.TEXTAREA:{E8(e,t);break}case m.NOSCRIPT:{e.options.scriptingEnabled?Iy(e,t):Ly(e,t);break}case m.PLAINTEXT:{s8(e,t);break}case m.COL:case m.TH:case m.TD:case m.TR:case m.HEAD:case m.FRAME:case m.TBODY:case m.TFOOT:case m.THEAD:case m.CAPTION:case m.COLGROUP:break;default:Ly(e,t)}}function x8(e,t){if(e.openElements.hasInScope(m.BODY)&&(e.insertionMode=D.AFTER_BODY,e.options.sourceCodeLocationInfo)){const i=e.openElements.tryPeekProperlyNestedBodyElement();i&&e._setEndLocation(i,t)}}function N8(e,t){e.openElements.hasInScope(m.BODY)&&(e.insertionMode=D.AFTER_BODY,JS(e,t))}function R8(e,t){const i=t.tagID;e.openElements.hasInScope(i)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(i))}function O8(e){const t=e.openElements.tmplCount>0,{formElement:i}=e;t||(e.formElement=null),(i||t)&&e.openElements.hasInScope(m.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(m.FORM):i&&e.openElements.remove(i))}function D8(e){e.openElements.hasInButtonScope(m.P)||e._insertFakeElement(H.P,m.P),e._closePElement()}function I8(e){e.openElements.hasInListItemScope(m.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(m.LI),e.openElements.popUntilTagNamePopped(m.LI))}function L8(e,t){const i=t.tagID;e.openElements.hasInScope(i)&&(e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i))}function k8(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function w8(e,t){const i=t.tagID;e.openElements.hasInScope(i)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(i),e.activeFormattingElements.clearToLastMarker())}function M8(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(H.BR,m.BR),e.openElements.pop(),e.framesetOk=!1}function qS(e,t){const i=t.tagName,r=t.tagID;for(let u=e.openElements.stackTop;u>0;u--){const o=e.openElements.items[u],c=e.openElements.tagIDs[u];if(r===c&&(r!==m.UNKNOWN||e.treeAdapter.getTagName(o)===i)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=u&&e.openElements.shortenToLength(u);break}if(e._isSpecialElement(o,c))break}}function Pc(e,t){switch(t.tagID){case m.A:case m.B:case m.I:case m.S:case m.U:case m.EM:case m.TT:case m.BIG:case m.CODE:case m.FONT:case m.NOBR:case m.SMALL:case m.STRIKE:case m.STRONG:{vm(e,t);break}case m.P:{D8(e);break}case m.DL:case m.UL:case m.OL:case m.DIR:case m.DIV:case m.NAV:case m.PRE:case m.MAIN:case m.MENU:case m.ASIDE:case m.BUTTON:case m.CENTER:case m.FIGURE:case m.FOOTER:case m.HEADER:case m.HGROUP:case m.DIALOG:case m.ADDRESS:case m.ARTICLE:case m.DETAILS:case m.SEARCH:case m.SECTION:case m.SUMMARY:case m.LISTING:case m.FIELDSET:case m.BLOCKQUOTE:case m.FIGCAPTION:{R8(e,t);break}case m.LI:{I8(e);break}case m.DD:case m.DT:{L8(e,t);break}case m.H1:case m.H2:case m.H3:case m.H4:case m.H5:case m.H6:{k8(e);break}case m.BR:{M8(e);break}case m.BODY:{x8(e,t);break}case m.HTML:{N8(e,t);break}case m.FORM:{O8(e);break}case m.APPLET:case m.OBJECT:case m.MARQUEE:{w8(e,t);break}case m.TEMPLATE:{or(e,t);break}default:qS(e,t)}}function VS(e,t){e.tmplInsertionModeStack.length>0?ZS(e,t):xm(e,t)}function B8(e,t){var i;t.tagID===m.SCRIPT&&((i=e.scriptHandler)===null||i===void 0||i.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function P8(e,t){e._err(t,K.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Ih(e,t){if(e.openElements.currentTagId!==void 0&&HS.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=D.IN_TABLE_TEXT,t.type){case ze.CHARACTER:{XS(e,t);break}case ze.WHITESPACE_CHARACTER:{GS(e,t);break}}else gl(e,t)}function U8(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,se.HTML),e.insertionMode=D.IN_CAPTION}function H8(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,se.HTML),e.insertionMode=D.IN_COLUMN_GROUP}function F8(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(H.COLGROUP,m.COLGROUP),e.insertionMode=D.IN_COLUMN_GROUP,Nm(e,t)}function z8(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,se.HTML),e.insertionMode=D.IN_TABLE_BODY}function j8(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(H.TBODY,m.TBODY),e.insertionMode=D.IN_TABLE_BODY,Uc(e,t)}function Y8(e,t){e.openElements.hasInTableScope(m.TABLE)&&(e.openElements.popUntilTagNamePopped(m.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function q8(e,t){YS(t)?e._appendElement(t,se.HTML):gl(e,t),t.ackSelfClosing=!0}function V8(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,se.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function ps(e,t){switch(t.tagID){case m.TD:case m.TH:case m.TR:{j8(e,t);break}case m.STYLE:case m.SCRIPT:case m.TEMPLATE:{ui(e,t);break}case m.COL:{F8(e,t);break}case m.FORM:{V8(e,t);break}case m.TABLE:{Y8(e,t);break}case m.TBODY:case m.TFOOT:case m.THEAD:{z8(e,t);break}case m.INPUT:{q8(e,t);break}case m.CAPTION:{U8(e,t);break}case m.COLGROUP:{H8(e,t);break}default:gl(e,t)}}function rl(e,t){switch(t.tagID){case m.TABLE:{e.openElements.hasInTableScope(m.TABLE)&&(e.openElements.popUntilTagNamePopped(m.TABLE),e._resetInsertionMode());break}case m.TEMPLATE:{or(e,t);break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TBODY:case m.TD:case m.TFOOT:case m.TH:case m.THEAD:case m.TR:break;default:gl(e,t)}}function gl(e,t){const i=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Bc(e,t),e.fosterParentingEnabled=i}function GS(e,t){e.pendingCharacterTokens.push(t)}function XS(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Ou(e,t){let i=0;if(e.hasNonWhitespacePendingCharacterToken)for(;i<e.pendingCharacterTokens.length;i++)gl(e,e.pendingCharacterTokens[i]);else for(;i<e.pendingCharacterTokens.length;i++)e._insertCharacters(e.pendingCharacterTokens[i]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const QS=new Set([m.CAPTION,m.COL,m.COLGROUP,m.TBODY,m.TD,m.TFOOT,m.TH,m.THEAD,m.TR]);function G8(e,t){const i=t.tagID;QS.has(i)?e.openElements.hasInTableScope(m.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=D.IN_TABLE,ps(e,t)):on(e,t)}function X8(e,t){const i=t.tagID;switch(i){case m.CAPTION:case m.TABLE:{e.openElements.hasInTableScope(m.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=D.IN_TABLE,i===m.TABLE&&rl(e,t));break}case m.BODY:case m.COL:case m.COLGROUP:case m.HTML:case m.TBODY:case m.TD:case m.TFOOT:case m.TH:case m.THEAD:case m.TR:break;default:Pc(e,t)}}function Nm(e,t){switch(t.tagID){case m.HTML:{on(e,t);break}case m.COL:{e._appendElement(t,se.HTML),t.ackSelfClosing=!0;break}case m.TEMPLATE:{ui(e,t);break}default:mc(e,t)}}function Q8(e,t){switch(t.tagID){case m.COLGROUP:{e.openElements.currentTagId===m.COLGROUP&&(e.openElements.pop(),e.insertionMode=D.IN_TABLE);break}case m.TEMPLATE:{or(e,t);break}case m.COL:break;default:mc(e,t)}}function mc(e,t){e.openElements.currentTagId===m.COLGROUP&&(e.openElements.pop(),e.insertionMode=D.IN_TABLE,e._processToken(t))}function Uc(e,t){switch(t.tagID){case m.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,se.HTML),e.insertionMode=D.IN_ROW;break}case m.TH:case m.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(H.TR,m.TR),e.insertionMode=D.IN_ROW,Hc(e,t);break}case m.CAPTION:case m.COL:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=D.IN_TABLE,ps(e,t));break}default:ps(e,t)}}function p0(e,t){const i=t.tagID;switch(t.tagID){case m.TBODY:case m.TFOOT:case m.THEAD:{e.openElements.hasInTableScope(i)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=D.IN_TABLE);break}case m.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=D.IN_TABLE,rl(e,t));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TD:case m.TH:case m.TR:break;default:rl(e,t)}}function Hc(e,t){switch(t.tagID){case m.TH:case m.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,se.HTML),e.insertionMode=D.IN_CELL,e.activeFormattingElements.insertMarker();break}case m.CAPTION:case m.COL:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:case m.TR:{e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=D.IN_TABLE_BODY,Uc(e,t));break}default:ps(e,t)}}function KS(e,t){switch(t.tagID){case m.TR:{e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=D.IN_TABLE_BODY);break}case m.TABLE:{e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=D.IN_TABLE_BODY,p0(e,t));break}case m.TBODY:case m.TFOOT:case m.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(m.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=D.IN_TABLE_BODY,p0(e,t));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TD:case m.TH:break;default:rl(e,t)}}function K8(e,t){const i=t.tagID;QS.has(i)?(e.openElements.hasInTableScope(m.TD)||e.openElements.hasInTableScope(m.TH))&&(e._closeTableCell(),Hc(e,t)):on(e,t)}function W8(e,t){const i=t.tagID;switch(i){case m.TD:case m.TH:{e.openElements.hasInTableScope(i)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(i),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=D.IN_ROW);break}case m.TABLE:case m.TBODY:case m.TFOOT:case m.THEAD:case m.TR:{e.openElements.hasInTableScope(i)&&(e._closeTableCell(),KS(e,t));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:break;default:Pc(e,t)}}function WS(e,t){switch(t.tagID){case m.HTML:{on(e,t);break}case m.OPTION:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e._insertElement(t,se.HTML);break}case m.OPTGROUP:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e.openElements.currentTagId===m.OPTGROUP&&e.openElements.pop(),e._insertElement(t,se.HTML);break}case m.HR:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e.openElements.currentTagId===m.OPTGROUP&&e.openElements.pop(),e._appendElement(t,se.HTML),t.ackSelfClosing=!0;break}case m.INPUT:case m.KEYGEN:case m.TEXTAREA:case m.SELECT:{e.openElements.hasInSelectScope(m.SELECT)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),t.tagID!==m.SELECT&&e._processStartTag(t));break}case m.SCRIPT:case m.TEMPLATE:{ui(e,t);break}}}function $S(e,t){switch(t.tagID){case m.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===m.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===m.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===m.OPTGROUP&&e.openElements.pop();break}case m.OPTION:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop();break}case m.SELECT:{e.openElements.hasInSelectScope(m.SELECT)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode());break}case m.TEMPLATE:{or(e,t);break}}}function $8(e,t){const i=t.tagID;i===m.CAPTION||i===m.TABLE||i===m.TBODY||i===m.TFOOT||i===m.THEAD||i===m.TR||i===m.TD||i===m.TH?(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),e._processStartTag(t)):WS(e,t)}function Z8(e,t){const i=t.tagID;i===m.CAPTION||i===m.TABLE||i===m.TBODY||i===m.TFOOT||i===m.THEAD||i===m.TR||i===m.TD||i===m.TH?e.openElements.hasInTableScope(i)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),e.onEndTag(t)):$S(e,t)}function J8(e,t){switch(t.tagID){case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:case m.NOFRAMES:case m.SCRIPT:case m.STYLE:case m.TEMPLATE:case m.TITLE:{ui(e,t);break}case m.CAPTION:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:{e.tmplInsertionModeStack[0]=D.IN_TABLE,e.insertionMode=D.IN_TABLE,ps(e,t);break}case m.COL:{e.tmplInsertionModeStack[0]=D.IN_COLUMN_GROUP,e.insertionMode=D.IN_COLUMN_GROUP,Nm(e,t);break}case m.TR:{e.tmplInsertionModeStack[0]=D.IN_TABLE_BODY,e.insertionMode=D.IN_TABLE_BODY,Uc(e,t);break}case m.TD:case m.TH:{e.tmplInsertionModeStack[0]=D.IN_ROW,e.insertionMode=D.IN_ROW,Hc(e,t);break}default:e.tmplInsertionModeStack[0]=D.IN_BODY,e.insertionMode=D.IN_BODY,on(e,t)}}function ek(e,t){t.tagID===m.TEMPLATE&&or(e,t)}function ZS(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(m.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):xm(e,t)}function tk(e,t){t.tagID===m.HTML?on(e,t):pc(e,t)}function JS(e,t){var i;if(t.tagID===m.HTML){if(e.fragmentContext||(e.insertionMode=D.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===m.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((i=e.treeAdapter.getNodeSourceCodeLocation(r))===null||i===void 0)&&i.endTag)&&e._setEndLocation(r,t)}}else pc(e,t)}function pc(e,t){e.insertionMode=D.IN_BODY,Bc(e,t)}function nk(e,t){switch(t.tagID){case m.HTML:{on(e,t);break}case m.FRAMESET:{e._insertElement(t,se.HTML);break}case m.FRAME:{e._appendElement(t,se.HTML),t.ackSelfClosing=!0;break}case m.NOFRAMES:{ui(e,t);break}}}function ik(e,t){t.tagID===m.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==m.FRAMESET&&(e.insertionMode=D.AFTER_FRAMESET))}function ak(e,t){switch(t.tagID){case m.HTML:{on(e,t);break}case m.NOFRAMES:{ui(e,t);break}}}function rk(e,t){t.tagID===m.HTML&&(e.insertionMode=D.AFTER_AFTER_FRAMESET)}function sk(e,t){t.tagID===m.HTML?on(e,t):Xo(e,t)}function Xo(e,t){e.insertionMode=D.IN_BODY,Bc(e,t)}function uk(e,t){switch(t.tagID){case m.HTML:{on(e,t);break}case m.NOFRAMES:{ui(e,t);break}}}function lk(e,t){t.chars=vt,e._insertCharacters(t)}function ok(e,t){e._insertCharacters(t),e.framesetOk=!1}function eC(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==se.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function ck(e,t){if(vL(t))eC(e),e._startTagOutsideForeignContent(t);else{const i=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(i);r===se.MATHML?PS(t):r===se.SVG&&(xL(t),US(t)),Am(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function fk(e,t){if(t.tagID===m.P||t.tagID===m.BR){eC(e),e._endTagOutsideForeignContent(t);return}for(let i=e.openElements.stackTop;i>0;i--){const r=e.openElements.items[i];if(e.treeAdapter.getNamespaceURI(r)===se.HTML){e._endTagOutsideForeignContent(t);break}const u=e.treeAdapter.getTagName(r);if(u.toLowerCase()===t.tagName){t.tagName=u,e.openElements.shortenToLength(i);break}}}H.AREA,H.BASE,H.BASEFONT,H.BGSOUND,H.BR,H.COL,H.EMBED,H.FRAME,H.HR,H.IMG,H.INPUT,H.KEYGEN,H.LINK,H.META,H.PARAM,H.SOURCE,H.TRACK,H.WBR;const dk=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,hk=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),ky={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function tC(e,t){const i=Ck(e),r=xS("type",{handlers:{root:mk,element:pk,text:gk,comment:iC,doctype:Ek,raw:yk},unknown:Tk}),u={parser:i?new Dy(ky):Dy.getFragmentParser(void 0,ky),handle(h){r(h,u)},stitches:!1,options:t||{}};r(e,u),xs(u,Ei());const o=i?u.parser.document:u.parser.getFragment(),c=m5(o,{file:u.options.file});return u.stitches&&ym(c,"comment",function(h,p,g){const _=h;if(_.value.stitch&&g&&p!==void 0){const T=g.children;return T[p]=_.value.stitch,p}}),c.type==="root"&&c.children.length===1&&c.children[0].type===e.type?c.children[0]:c}function nC(e,t){let i=-1;if(e)for(;++i<e.length;)t.handle(e[i])}function mk(e,t){nC(e.children,t)}function pk(e,t){bk(e,t),nC(e.children,t),Sk(e,t)}function gk(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const i={type:ze.CHARACTER,chars:e.value,location:El(e)};xs(t,Ei(e)),t.parser.currentToken=i,t.parser._processToken(t.parser.currentToken)}function Ek(e,t){const i={type:ze.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:El(e)};xs(t,Ei(e)),t.parser.currentToken=i,t.parser._processToken(t.parser.currentToken)}function _k(e,t){t.stitches=!0;const i=Ak(e);if("children"in e&&"children"in i){const r=tC({type:"root",children:e.children},t.options);i.children=r.children}iC({type:"comment",value:{stitch:i}},t)}function iC(e,t){const i=e.value,r={type:ze.COMMENT,data:i,location:El(e)};xs(t,Ei(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function yk(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,aC(t,Ei(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(dk,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const i=t.parser.tokenizer._consume();t.parser.tokenizer._callState(i)}}function Tk(e,t){const i=e;if(t.options.passThrough&&t.options.passThrough.includes(i.type))_k(i,t);else{let r="";throw hk.has(i.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+i.type+"` node"+r)}}function xs(e,t){aC(e,t);const i=e.parser.tokenizer.currentCharacterToken;i&&i.location&&(i.location.endLine=e.parser.tokenizer.preprocessor.line,i.location.endCol=e.parser.tokenizer.preprocessor.col+1,i.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=i,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=kt.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function aC(e,t){if(t&&t.offset!==void 0){const i={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=i}}function bk(e,t){const i=e.tagName.toLowerCase();if(t.parser.tokenizer.state===kt.PLAINTEXT)return;xs(t,Ei(e));const r=t.parser.openElements.current;let u="namespaceURI"in r?r.namespaceURI:Ja.html;u===Ja.html&&i==="svg"&&(u=Ja.svg);const o=O5({...e,children:[]},{space:u===Ja.svg?"svg":"html"}),c={type:ze.START_TAG,tagName:i,tagID:vs(i),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in o?o.attrs:[],location:El(e)};t.parser.currentToken=c,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=i}function Sk(e,t){const i=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&P5.includes(i)||t.parser.tokenizer.state===kt.PLAINTEXT)return;xs(t,Lc(e));const r={type:ze.END_TAG,tagName:i,tagID:vs(i),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:El(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),i===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===kt.RCDATA||t.parser.tokenizer.state===kt.RAWTEXT||t.parser.tokenizer.state===kt.SCRIPT_DATA)&&(t.parser.tokenizer.state=kt.DATA)}function Ck(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function El(e){const t=Ei(e)||{line:void 0,column:void 0,offset:void 0},i=Lc(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:i.line,endCol:i.column,endOffset:i.offset}}function Ak(e){return"children"in e?ms({...e,children:[]}):ms(e)}function vk(e){return function(t,i){return tC(t,{...e,file:i})}}const xk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Nk=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),wy=e=>{const t=Nk(e);return t.charAt(0).toUpperCase()+t.slice(1)},rC=(...e)=>e.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),Rk=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Ok={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Dk=re.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:u="",children:o,iconNode:c,...h},p)=>re.createElement("svg",{ref:p,...Ok,width:t,height:t,stroke:e,strokeWidth:r?Number(i)*24/Number(t):i,className:rC("lucide",u),...!o&&!Rk(h)&&{"aria-hidden":"true"},...h},[...c.map(([g,_])=>re.createElement(g,_)),...Array.isArray(o)?o:[o]]));const Ft=(e,t)=>{const i=re.forwardRef(({className:r,...u},o)=>re.createElement(Dk,{ref:o,iconNode:t,className:rC(`lucide-${xk(wy(e))}`,`lucide-${e}`,r),...u}));return i.displayName=wy(e),i};const Ik=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Lk=Ft("book",Ik);const kk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],wk=Ft("circle-alert",kk);const Mk=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Bk=Ft("eye-off",Mk);const Pk=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Uk=Ft("eye",Pk);const Hk=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Fk=Ft("folder-open",Hk);const zk=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],jk=Ft("pen",zk);const Yk=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],qk=Ft("play",Yk);const Vk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],g0=Ft("plus",Vk);const Gk=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Xk=Ft("refresh-cw",Gk);const Qk=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],My=Ft("rotate-ccw",Qk);const Kk=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Wk=Ft("save",Kk);const $k=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],Zk=Ft("scroll",$k);const Jk=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ew=Ft("settings",Jk);const tw=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],nw=Ft("shield",tw);const iw=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],aw=Ft("shopping-cart",iw);const rw=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],sw=Ft("skip-forward",rw);const uw=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],lw=Ft("skull",uw);const ow=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],cw=Ft("sword",ow);const fw=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],By=Ft("trash-2",fw);const dw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],E0=Ft("users",dw),hw="Move additional distance equal to your movement speed this turn.",mw="Your movement doesn't provoke Opportunity attacks for the rest of the turn.",pw="Until the start of your next turn, attack rolls against you have Disadvantage, and you make Dexterity saving throws with Advantage. You lose this benfit if you have the Incapacitated condition or if your Speed is 0.",gw="Help another creatures ability check or attack roll, or administer first aid.",Ew="Make a Dexterity (Stealth) check.",_w="Make a Charisma (Deception, Intimidation, Performance, or Persuasion) or Wisdom (Animal Handling) check to alter a creatures attitude.",yw="Prepare to take an action in response to a trigger you define.",Tw="Make a Wisdom (Insight, Medicine, Perception, or Survival) check.",bw="Make an Intelligence (Arcana, History, Investigation, Nature, or Religion) check",Sw="Use a nonmagical object.",Cw={Dash:hw,Disengage:mw,Dodge:pw,Help:gw,Hide:Ew,Influence:_w,Ready:yw,Search:Tw,Study:bw,Utilise:Sw},Py=Cw,Aw={0:10,.125:25,.25:50,.5:100,1:200,2:450,3:700,4:1100,5:1800,6:2300,7:2900,8:3900,9:5e3,10:5900,11:7200,12:8400,13:1e4,14:11500,15:13e3,16:15e3,17:18e3,18:2e4,19:22e3,20:25e3,21:33e3,22:41e3,23:5e4,24:62e3,25:75e3,26:9e4,27:105e3,28:12e4,29:135e3,30:155e3},Uy=e=>e!==void 0?e.toLocaleString():"N/A",Hy=e=>e>=0?`+${e}`:e.toString(),vw=e=>({"0.125":"1/8","0.25":"1/4","0.5":"1/2"})[String(e)]??e?.toString()??"N/A";function gc(e){if(!e)return null;const t=Object.keys(Py).map(u=>u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"));if(!t.length)return E.jsx(hy,{children:e});const i=new RegExp(`\\b(${t.join("|")})\\b`,"gi"),r=e.replace(i,u=>{const o=Py[u];return o?`<span title="${o}" style="text-decoration:underline dotted;cursor:help;">${u}</span>`:u});return E.jsx(hy,{rehypePlugins:[vk],components:{p:({...u})=>E.jsx("p",{style:{margin:"2px 0"},...u})},children:r})}const zo=e=>e&&e.length?e.map((t,i)=>E.jsxs("div",{style:{marginBottom:4},children:[t.name&&E.jsx("div",{style:{fontWeight:"bold"},children:gc(t.name)}),E.jsx("div",{children:gc(t.desc)})]},i)):"None",xw=e=>{if(!e)return null;const t=["str","dex","con","int","wis","cha"];return E.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:4,marginTop:4},children:t.map(i=>{const r=e[i];return r?E.jsxs("div",{style:{border:"1px solid #999",borderRadius:4,padding:4,fontSize:"1em",textAlign:"center",background:"#f7f7f7"},children:[E.jsx("div",{style:{fontWeight:"bold"},children:i.toUpperCase()}),E.jsxs("div",{children:[r.score," (",Hy(r.mod),")"]}),E.jsxs("div",{children:["Save: ",Hy(r.save)]})]},i):null})})},Du=({title:e,visible:t,toggle:i,children:r})=>E.jsxs("div",{style:{marginTop:4},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",cursor:"pointer",gap:4,fontWeight:"bold"},onClick:i,children:[E.jsx("span",{children:e}),t?E.jsx(Uk,{size:14}):E.jsx(Bk,{size:14})]}),E.jsx("div",{style:{height:1,backgroundColor:"#999",margin:"2px 0 2px"}}),t&&E.jsx("div",{children:r})]});function Nw({monster:e}){const[t,i]=re.useState(!0),[r,u]=re.useState(!0),[o,c]=re.useState(!0),[h,p]=re.useState(!0),[g,_]=re.useState(!0),T=Aw[e.challengeRating]??0,b=e.xp??T,S=Uy(b),B=Uy(e.lairXp),X=J=>J&&J.length?J.join(", "):"None";return E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12,border:"2px solid #333",borderRadius:8,padding:8,width:"99%",fontSize:"0.75em",lineHeight:1.2,background:"#fff"},children:[e.image&&E.jsx("div",{style:{textAlign:"center",marginBottom:8},children:E.jsx("img",{src:e.image,alt:e.name,style:{maxWidth:"100%",height:"auto",borderRadius:4}})}),E.jsxs("div",{style:{display:"flex",gap:12,width:"100%"},children:[E.jsxs("div",{style:{flex:"1 1 0",display:"flex",flexDirection:"column",gap:4},children:[E.jsx("h2",{style:{margin:0,fontSize:"1.2em"},children:e.name}),E.jsxs("div",{style:{fontSize:"0.8em",opacity:.8},children:[e.size?`${e.size} `:"",e.type,e.tags?`  ${e.tags.join(", ")}`:"",e.alignment?`  ${e.alignment}`:""]}),E.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",marginTop:2},children:[E.jsxs("div",{children:[E.jsx("strong",{children:"AC:"})," ",e.armorClass??"N/A"]}),E.jsxs("div",{children:[E.jsx("strong",{children:"HP:"})," ",e.hitPoints??"N/A"," ",e.hitDice&&`(${e.hitDice})`]}),e.initiative!==void 0&&E.jsxs("div",{children:[E.jsx("strong",{children:"Init:"})," +",e.initiative,e.initiativeAverage!==void 0&&` (${e.initiativeAverage})`]})]}),E.jsxs("div",{style:{marginTop:2},children:[E.jsx("strong",{children:"CR:"})," ",vw(e.challengeRating)," (",S,e.lairXp!==void 0&&` / ${B} in lair`,")"]}),e.speed&&E.jsxs("div",{style:{marginTop:2},children:[E.jsx("strong",{children:"Speed:"})," ",Object.entries(e.speed).filter(([,J])=>J!==null).map(([J,G])=>`${J} ${G} ft.`).join(", ")]}),xw(e.abilities),E.jsxs("div",{style:{marginTop:4},children:[e.skills&&E.jsxs("div",{children:[E.jsx("strong",{children:"Skills:"})," ",X(Object.entries(e.skills).map(([J,G])=>`${J} +${G}`))]}),e.senses&&E.jsxs("div",{children:[E.jsx("strong",{children:"Senses:"})," ",X(e.senses)]}),e.languages&&E.jsxs("div",{children:[E.jsx("strong",{children:"Languages:"})," ",X(e.languages)]}),e.immunities&&E.jsxs("div",{children:[E.jsx("strong",{children:"Immunities:"})," ",X(e.immunities)]})]}),e.traits?.length>0&&E.jsx(Du,{title:"Traits",visible:t,toggle:()=>i(!t),children:zo(e.traits)}),e.actions?.length>0&&E.jsx(Du,{title:"Actions",visible:r,toggle:()=>u(!r),children:zo(e.actions)})]}),E.jsxs("div",{style:{flex:"1 1 0",display:"flex",flexDirection:"column",gap:4},children:[e.bonusActions?.length>0&&E.jsx(Du,{title:"Bonus Actions",visible:o,toggle:()=>c(!o),children:zo(e.bonusActions)}),e.reactions?.length>0&&E.jsx(Du,{title:"Reactions",visible:h,toggle:()=>p(!h),children:zo(e.reactions)}),e.legendaryActions?.length>0&&E.jsxs(Du,{title:"Legendary Actions",visible:g,toggle:()=>_(!g),children:[e.legendarySubtitle&&E.jsx("div",{style:{fontStyle:"italic",marginBottom:4},children:e.legendarySubtitle}),e.legendaryActions.map((J,G)=>E.jsxs("div",{style:{marginBottom:4},children:[J.name&&E.jsx("div",{style:{fontWeight:"bold"},children:gc(J.name)}),E.jsx("div",{children:gc(J.desc)})]},G))]})]})]})]})}function Rw(){const t=Object.values(Object.assign({"./StatBlocks/axebeak-matriarch.json":am,"./StatBlocks/dragon-black-adult.json":rm,"./StatBlocks/goblin-minion.json":sm})).map(j=>j.default),[i,r]=re.useState(""),[u,o]=re.useState(null),[c,h]=re.useState("All"),[p,g]=re.useState("All"),[_,T]=re.useState("All"),[b,S]=re.useState("All"),[B,X]=re.useState(!1),J=re.useMemo(()=>t.filter(j=>{const Te=j.name.toLowerCase().includes(i.toLowerCase())||j.type.toLowerCase().includes(i.toLowerCase())||(j.alignment?.toLowerCase().includes(i.toLowerCase())??!1),Ae=c==="All"||j.size===c,V=p==="All"||j.challengeRating!==void 0&&j.challengeRating.toString()===p,fe=_==="All"||j.type===_,Se=b==="All"||j.alignment===b;return Te&&Ae&&V&&fe&&Se}),[i,c,p,_,b,t]),G=j=>Array.from(new Set(t.map(Te=>Te[j]).filter(Boolean))),Ee=Array.from(new Set(t.map(j=>j.challengeRating!==void 0?j.challengeRating.toString():null).filter(Boolean))).sort((j,Te)=>Number(j)-Number(Te));return E.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",gap:10,padding:10},children:[E.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:10,alignItems:"center",padding:"6px 10px",borderRadius:6,background:"#f5f5f5",border:"1px solid #ccc",width:"100%",boxSizing:"border-box"},children:[E.jsxs("select",{value:u?.name||"",onChange:j=>{const Te=t.find(Ae=>Ae.name===j.target.value);o(Te??null)},style:{padding:"6px 8px",borderRadius:4,minWidth:180},children:[E.jsx("option",{value:"",children:"Select Monster"}),J.map(j=>E.jsx("option",{value:j.name,children:j.name},j.name))]}),E.jsx("input",{type:"text",placeholder:"Search by name, type, alignment",value:i,onChange:j=>r(j.target.value),style:{padding:"6px 8px",borderRadius:4,flex:1,minWidth:200}}),E.jsx("button",{style:{padding:"6px 12px",borderRadius:4,cursor:"pointer"},onClick:()=>X(!B),children:B?"Hide Filters":"Show Filters"})]}),B&&E.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:10,padding:"6px 10px",borderRadius:6,background:"#fafafa",border:"1px solid #ddd"},children:[E.jsxs("select",{value:c,onChange:j=>h(j.target.value),children:[E.jsx("option",{value:"All",children:"All Sizes"}),G("size").map(j=>E.jsx("option",{value:j,children:j},j))]}),E.jsxs("select",{value:p,onChange:j=>g(j.target.value),children:[E.jsx("option",{value:"All",children:"All CRs"}),Ee.map(j=>E.jsx("option",{value:j??"",children:j},j??""))]}),E.jsxs("select",{value:_,onChange:j=>T(j.target.value),children:[E.jsx("option",{value:"All",children:"All Types"}),G("type").map(j=>E.jsx("option",{value:j,children:j},j))]}),E.jsxs("select",{value:b,onChange:j=>S(j.target.value),children:[E.jsx("option",{value:"All",children:"All Alignments"}),G("alignment").map(j=>E.jsx("option",{value:j,children:j},j))]})]}),E.jsx("div",{style:{display:"flex",flexDirection:"column",flex:1,gap:10,width:"100%"},children:u?E.jsxs(E.Fragment,{children:[E.jsx("div",{style:{flex:"1 1 auto",minWidth:0},children:E.jsx(Nw,{monster:u})}),u.imageUrl&&E.jsx("div",{style:{textAlign:"center",marginTop:10},children:E.jsx("img",{src:u.imageUrl,alt:u.name,style:{maxWidth:"100%",height:"auto",borderRadius:4}})})]}):E.jsx("p",{children:"Select a monster from the dropdown above."})})]})}const Hi={saveCharacter:async(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},loadCharacter:async e=>{const t=localStorage.getItem(e);return t?JSON.parse(t):null},listCharacters:async()=>Object.keys(localStorage).filter(e=>e.endsWith(".json")),deleteCharacter:async e=>(localStorage.removeItem(e),!0)},jo=[0,300,900,2700,6500,14e3,23e3,34e3,48e3,64e3,85e3,1e5,12e4,14e4,165e3,195e3,225e3,265e3,305e3,355e3];function Ow(){const[e,t]=re.useState([]),[i,r]=re.useState(null),[u,o]=re.useState(!1),[c,h]=re.useState(!1),[p,g]=re.useState(""),[_,T]=re.useState("All"),[b,S]=re.useState("All"),[B,X]=re.useState("All"),J={name:"",playerName:"",species:"",class:"",party:"",level:1,currentHP:10,maxHP:10,ac:10,initiative:0,proficiency:2,stats:{str:10,dex:10,con:10,int:10,wis:10,cha:10},savingThrows:{str:0,dex:0,con:0,int:0,wis:0,cha:0},passives:{perception:10,investigation:10,insight:10},xp:0,imageUrl:""},G=x=>{for(let U=jo.length-1;U>=0;U--)if(x>=jo[U])return U+1;return 1},Ee=x=>{localStorage.setItem("characterSheets_all",JSON.stringify(x))},j=async()=>{try{const x=await Hi.listCharacters(),U=[];for(const te of x){const he=await Hi.loadCharacter(te);he&&U.push({...he,filename:te})}console.log("Reloaded characters:",U),t(U)}catch(x){console.error(x)}};re.useEffect(()=>{j();const x=()=>{console.log("Character update event received, reloading..."),setTimeout(()=>{j()},100)};window.addEventListener("characterSheetsUpdated",x);const U=te=>{te.key==="characterSheets_all"&&(console.log("Storage change detected, reloading characters..."),j())};return window.addEventListener("storage",U),()=>{window.removeEventListener("characterSheetsUpdated",x),window.removeEventListener("storage",U)}},[]),re.useEffect(()=>{Ee(e)},[e]);const Te=async()=>{const x=`Unnamed_${Date.now()}.json`,U={...J,filename:x};await Hi.saveCharacter(x,U),t(te=>[...te,U]),r(U.filename||null),o(!1)},Ae=async()=>{q&&(q.filename&&await Hi.deleteCharacter(q.filename),t(x=>x.filter(U=>U.filename!==q.filename)),r(null))},V=(x,U)=>{q&&t(te=>{const he=te.map(Ue=>Ue.filename===q.filename?{...Ue,[x]:U}:Ue),qe=he.find(Ue=>Ue.filename===q.filename);return q.filename&&qe&&Hi.saveCharacter(q.filename,qe),he})},fe=(x,U,te)=>{q&&t(he=>{const qe=he.map(Ct=>Ct.filename===q.filename?{...Ct,[x]:{...Ct[x],[U]:te}}:Ct),Ue=qe.find(Ct=>Ct.filename===q.filename);return q.filename&&Ue&&Hi.saveCharacter(q.filename,Ue),qe})},Se=x=>{q&&t(U=>{const te=U.map(qe=>{if(qe.filename!==q.filename)return qe;const Ue=Math.max(0,x);return{...qe,xp:Ue,level:G(Ue)}}),he=te.find(qe=>qe.filename===q.filename);return q.filename&&he&&Hi.saveCharacter(q.filename,he),te})},ve=x=>{if(!q)return;const U=Math.max(1,Math.min(x,jo.length)),te=jo[U-1];t(he=>{const qe=he.map(Ct=>Ct.filename===q.filename?{...Ct,level:U,xp:te}:Ct),Ue=qe.find(Ct=>Ct.filename===q.filename);return q.filename&&Ue&&Hi.saveCharacter(q.filename,Ue),qe})},xe=()=>{if(!q){alert("Please select a character first!");return}const x=new Blob([JSON.stringify(q,null,2)],{type:"application/json"}),U=URL.createObjectURL(x),te=document.createElement("a");te.href=U,te.download=`${q.name||"Unnamed"}.json`,te.click(),URL.revokeObjectURL(U)},_e=x=>{const U=x.target.files?.[0];if(!U)return;const te=new FileReader;te.onload=async he=>{try{const qe=JSON.parse(he.target?.result),Ue=`Imported_${Date.now()}.json`,Ct={...J,...qe,filename:Ue};await Hi.saveCharacter(Ue,Ct),t(Vi=>[...Vi,Ct]),r(Ct.filename||null),o(!1)}catch(qe){alert("Invalid JSON file."),console.error(qe)}},te.readAsText(U),x.target.value=""},q=e.find(x=>x.filename===i)||null,Le=x=>x>=0?`+${x}`:x.toString(),ue=e.filter(x=>{const U=x.name.toLowerCase().includes(p.toLowerCase())||x.species.toLowerCase().includes(p.toLowerCase())||x.party.toLowerCase().includes(p.toLowerCase()),te=_==="All"||x.species===_,he=b==="All"||x.level.toString()===b,qe=B==="All"||x.party===B;return U&&te&&he&&qe}),ie={width:"100%",minWidth:200,maxWidth:600,margin:"0 auto",padding:20,border:"2px solid #333",borderRadius:8,background:"#fafafa",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},P={display:"flex",gap:10,flexWrap:"wrap",justifyContent:"center"},ee={flex:"1 1 45%",minWidth:120,textAlign:"center"},ye={flex:"1 1 30%",minWidth:80,textAlign:"center"},Oe={fontWeight:"bold"},O={padding:6,border:"1px solid #ccc",borderRadius:4,width:"100%"},L={padding:4,border:"1px solid #ccc",borderRadius:4,width:60,textAlign:"center"},W={fontWeight:"bold",fontSize:16,borderBottom:"1px solid #aaa",marginBottom:6,paddingBottom:4,textAlign:"center"},v={padding:"6px 12px",borderRadius:4,border:"1px solid #333",cursor:"pointer",background:"#f0f0f0",textAlign:"center",fontFamily:"inherit",fontSize:"inherit"},pe={...v,background:"#ff4d4f",color:"#fff",border:"1px solid #ff0000"},R={display:"flex",gap:10,justifyContent:"center",flexWrap:"nowrap"};return E.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",boxSizing:"border-box"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,padding:10,background:"#fafafa",borderBottom:"2px solid #333",flexWrap:"wrap"},children:[E.jsxs("select",{value:i||"",onChange:x=>r(x.target.value),style:{padding:6,borderRadius:4},children:[E.jsx("option",{value:"",children:"Select Character"}),ue.map(x=>E.jsx("option",{value:x.filename,children:x.name||"Unnamed"},x.filename))]}),E.jsx("button",{style:v,onClick:()=>h(!c),children:c?"Hide Filters":"Show Filters"}),c&&E.jsxs(E.Fragment,{children:[E.jsx("input",{type:"text",placeholder:"Search",value:p,onChange:x=>g(x.target.value),style:{padding:6,borderRadius:4,border:"1px solid #ccc"}}),E.jsxs("select",{value:_,onChange:x=>T(x.target.value),style:{padding:6,borderRadius:4},children:[E.jsx("option",{value:"All",children:"All Species"}),Array.from(new Set(e.map(x=>x.species).filter(Boolean))).map(x=>E.jsx("option",{value:x,children:x},x))]}),E.jsxs("select",{value:b,onChange:x=>S(x.target.value),style:{padding:6,borderRadius:4},children:[E.jsx("option",{value:"All",children:"All Levels"}),Array.from(new Set(e.map(x=>x.level))).sort((x,U)=>x-U).map(x=>E.jsx("option",{value:x,children:x},x))]}),E.jsxs("select",{value:B,onChange:x=>X(x.target.value),style:{padding:6,borderRadius:4},children:[E.jsx("option",{value:"All",children:"All Parties"}),Array.from(new Set(e.map(x=>x.party).filter(Boolean))).map(x=>E.jsx("option",{value:x,children:x},x))]})]}),E.jsx("button",{onClick:Te,style:v,children:"Add"}),E.jsx("button",{onClick:xe,style:v,children:"Export"}),E.jsx("label",{htmlFor:"import-file",style:v,children:"Import"}),E.jsx("input",{id:"import-file",type:"file",accept:".json",style:{display:"none"},onChange:_e})]}),E.jsxs("div",{style:{display:"flex",flexGrow:1,overflow:"hidden"},children:[E.jsx("div",{style:{flex:1,padding:10,overflow:"auto",fontSize:"clamp(10px, 1.15vw, 16px)",lineHeight:1.15},children:E.jsxs("div",{style:ie,children:[!q&&E.jsx("h2",{children:"No character selected"}),q&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{style:{display:"flex",gap:20,justifyContent:"center",marginBottom:10},children:[E.jsx("button",{onClick:()=>o(!u),style:v,children:u?"Lock":"Edit"}),u&&E.jsx("button",{onClick:Ae,style:pe,children:"Delete"})]}),E.jsx("div",{style:{marginBottom:10,textAlign:"center"},children:u?E.jsx("input",{style:O,value:q.name,onChange:x=>V("name",x.target.value),placeholder:"Name"}):E.jsx("h2",{children:q.name})}),E.jsx("div",{style:{display:"flex",gap:10,marginBottom:6,textAlign:"center"},children:u?E.jsxs(E.Fragment,{children:[E.jsx("input",{style:{...O,flex:1},value:q.species,onChange:x=>V("species",x.target.value),placeholder:"Species"}),E.jsx("input",{style:{...O,flex:1},value:q.class,onChange:x=>V("class",x.target.value),placeholder:"Class"})]}):E.jsxs("div",{style:{fontStyle:"italic",width:"100%"},children:[q.species,", ",q.class]})}),E.jsx("div",{style:{display:"flex",gap:10,marginBottom:10,textAlign:"center"},children:u?E.jsxs(E.Fragment,{children:[E.jsx("input",{style:{...O,flex:1},value:q.party,onChange:x=>V("party",x.target.value),placeholder:"Party"}),E.jsx("input",{style:{...O,flex:1},value:q.playerName,onChange:x=>V("playerName",x.target.value),placeholder:"Player Name"})]}):E.jsxs("div",{style:{fontStyle:"italic",width:"100%"},children:[q.party,"  ",q.playerName]})}),E.jsx("div",{style:{marginBottom:10,textAlign:"center"},children:u?E.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:10,alignItems:"center"},children:[E.jsx("label",{style:{fontWeight:"bold"},children:"Level"}),E.jsx("input",{type:"number",style:L,value:q.level,onChange:x=>ve(Number(x.target.value))}),E.jsx("label",{style:{fontWeight:"bold"},children:"XP"}),E.jsx("input",{type:"number",style:{...L,fontStyle:"italic"},value:q.xp,onChange:x=>Se(Number(x.target.value))})]}):E.jsxs("div",{children:[E.jsxs("span",{style:{fontWeight:"bold"},children:["Level ",q.level]})," ","(",E.jsxs("span",{style:{fontStyle:"italic"},children:[q.xp.toLocaleString()," xp"]}),")"]})}),E.jsxs("div",{style:{marginBottom:10},children:[E.jsx("div",{style:W,children:"Stats Overview"}),E.jsxs("div",{style:P,children:[E.jsxs("div",{style:ee,children:[E.jsx("div",{style:Oe,children:"HP"}),u?E.jsxs("div",{style:{display:"flex",gap:6,justifyContent:"center"},children:[E.jsx("input",{type:"number",style:L,value:q.currentHP,onChange:x=>V("currentHP",Number(x.target.value))}),E.jsx("input",{type:"number",style:L,value:q.maxHP,onChange:x=>V("maxHP",Number(x.target.value))})]}):E.jsxs("div",{children:[q.currentHP,"/",q.maxHP]})]}),E.jsxs("div",{style:ee,children:[E.jsx("div",{style:Oe,children:"AC"}),u?E.jsx("input",{type:"number",style:L,value:q.ac,onChange:x=>V("ac",Number(x.target.value))}):E.jsx("div",{children:q.ac})]}),E.jsxs("div",{style:ee,children:[E.jsx("div",{style:Oe,children:"Initiative"}),u?E.jsx("input",{type:"number",style:L,value:q.initiative,onChange:x=>V("initiative",Number(x.target.value))}):E.jsx("div",{children:Le(q.initiative)})]}),E.jsxs("div",{style:ee,children:[E.jsx("div",{style:Oe,children:"Proficiency"}),u?E.jsx("input",{type:"number",style:L,value:q.proficiency,onChange:x=>V("proficiency",Number(x.target.value))}):E.jsx("div",{children:Le(q.proficiency)})]})]})]}),E.jsxs("div",{style:{marginBottom:10},children:[E.jsx("div",{style:W,children:"Stats"}),E.jsx("div",{style:P,children:["str","dex","con","int","wis","cha"].map(x=>E.jsxs("div",{style:ye,children:[E.jsx("div",{style:Oe,children:x.toUpperCase()}),u?E.jsx("input",{type:"number",style:L,value:q.stats[x],onChange:U=>fe("stats",x,Number(U.target.value))}):E.jsxs("div",{children:[q.stats[x]," (",Le(Math.floor((q.stats[x]-10)/2)),")"]})]},x))})]}),E.jsxs("div",{style:{marginBottom:10},children:[E.jsx("div",{style:W,children:"Saving Throws"}),E.jsx("div",{style:P,children:["str","dex","con","int","wis","cha"].map(x=>E.jsxs("div",{style:ye,children:[E.jsx("div",{style:Oe,children:x.toUpperCase()}),u?E.jsx("input",{type:"number",style:L,value:q.savingThrows[x],onChange:U=>fe("savingThrows",x,Number(U.target.value))}):E.jsx("div",{children:Le(q.savingThrows[x])})]},x))})]}),E.jsxs("div",{style:{marginBottom:10},children:[E.jsx("div",{style:W,children:"Passive Skills"}),E.jsx("div",{style:R,children:["perception","investigation","insight"].map(x=>E.jsxs("div",{style:ye,children:[E.jsx("div",{style:Oe,children:x.charAt(0).toUpperCase()+x.slice(1)}),u?E.jsx("input",{type:"number",style:L,value:q.passives[x],onChange:U=>fe("passives",x,Number(U.target.value))}):E.jsx("div",{children:q.passives[x]})]},x))})]})]})]})}),E.jsxs("div",{style:{width:300,padding:10,display:"flex",flexDirection:"column",alignItems:"center",flexShrink:0},children:[q?.imageUrl?E.jsx("img",{src:q.imageUrl,alt:`${q.name} portrait`,style:{maxWidth:"100%",maxHeight:"80vh",borderRadius:6,objectFit:"contain"}}):E.jsx("div",{style:{width:"100%",height:"80vh",borderRadius:6,background:"#ddd",display:"flex",justifyContent:"center",alignItems:"center",color:"#666",fontStyle:"italic"},children:"No Portrait"}),u&&E.jsx("input",{type:"text",placeholder:"Image URL",style:{marginTop:10,width:"100%",padding:6},value:q?.imageUrl||"",onChange:x=>V("imageUrl",x.target.value)})]})]})]})}const Dw={1:{low:50,moderate:75,high:150},2:{low:100,moderate:150,high:300},3:{low:150,moderate:225,high:450},4:{low:250,moderate:375,high:750},5:{low:500,moderate:750,high:1500},6:{low:600,moderate:900,high:1800},7:{low:750,moderate:1100,high:2200},8:{low:1e3,moderate:1500,high:3e3},9:{low:1250,moderate:1900,high:3800},10:{low:1500,moderate:2200,high:4400},11:{low:1800,moderate:2700,high:5400},12:{low:2100,moderate:3200,high:6400},13:{low:2500,moderate:3800,high:7600},14:{low:2900,moderate:4300,high:8600},15:{low:3300,moderate:4900,high:9800},16:{low:3750,moderate:5600,high:11200},17:{low:4500,moderate:6700,high:13400},18:{low:5e3,moderate:7500,high:15e3},19:{low:5500,moderate:8300,high:16600},20:{low:6250,moderate:9400,high:18800}},Iu={0:10,.125:25,.25:50,.5:100,1:200,2:450,3:700,4:1100,5:1800,6:2300,7:2900,8:3900,9:5e3,10:5900,11:7200,12:8400,13:1e4,14:11500,15:13e3,16:15e3,17:18e3,18:2e4,19:22e3,20:25e3,21:33e3,22:41e3,23:5e4,24:62e3,25:75e3,26:9e4,27:105e3,28:12e4,29:135e3,30:155e3},Lh=e=>({"0.125":"1/8","0.25":"1/4","0.5":"1/2"})[String(e)]??e.toString();function Iw(){const t=Object.values(Object.assign({"../statBlockViewer/StatBlocks/axebeak-matriarch.json":am,"../statBlockViewer/StatBlocks/dragon-black-adult.json":rm,"../statBlockViewer/StatBlocks/goblin-minion.json":sm})).map(R=>R.default),[i,r]=re.useState(1),[u,o]=re.useState(4),[c,h]=re.useState("moderate"),[p,g]=re.useState([]),[_,T]=re.useState(""),[b,S]=re.useState("All"),[B,X]=re.useState("All"),[J,G]=re.useState([]),[Ee,j]=re.useState(""),[Te,Ae]=re.useState(!1),[V,fe]=re.useState(!1),[Se,ve]=re.useState("");re.useEffect(()=>{const x=JSON.parse(localStorage.getItem("partyData")||"{}").partyCode||"";ve(x);const U=JSON.parse(localStorage.getItem("savedEncounters")||"[]");G(U)},[]),re.useEffect(()=>{if(!Se)return;const R=xa(Na,`parties/${Se}/encounters`),x=im(R,U=>{const te=U.val();if(!te)return;const he=Object.values(te);G(he),localStorage.setItem("savedEncounters",JSON.stringify(he))});return()=>x()},[Se]);const xe=re.useMemo(()=>{const R=Dw[i];return R?{low:R.low*u,moderate:R.moderate*u,high:R.high*u}:{low:0,moderate:0,high:0}},[i,u]),_e=re.useMemo(()=>p.reduce((R,x)=>{const U=Iu[x.monster.challengeRating]||0;return R+U*x.count},0),[p]),q=re.useMemo(()=>_e===0||_e<xe.low?"trivial":_e<xe.moderate?"low":_e<xe.high?"moderate":"deadly",[_e,xe]),Le=re.useMemo(()=>t.filter(R=>{const x=R.name.toLowerCase().includes(_.toLowerCase())||R.type.toLowerCase().includes(_.toLowerCase()),U=b==="All"||R.challengeRating.toString()===b,te=B==="All"||R.type===B;return x&&U&&te}),[t,_,b,B]),ue=Array.from(new Set(t.map(R=>R.challengeRating.toString()))).sort((R,x)=>Number(R)-Number(x)),ie=Array.from(new Set(t.map(R=>R.type))).sort(),P=R=>{const x=p.find(U=>U.monster.name===R.name);g(x?p.map(U=>U.monster.name===R.name?{...U,count:U.count+1}:U):[...p,{monster:R,count:1}])},ee=R=>{g(p.filter(x=>x.monster.name!==R))},ye=(R,x)=>{if(x<1){ee(R);return}g(p.map(U=>U.monster.name===R?{...U,count:x}:U))},Oe=()=>{g([])},O=R=>{switch(R){case"trivial":return"#90EE90";case"low":return"#FFD700";case"moderate":return"#FFA500";case"high":return"#FF6347";case"deadly":return"#8B0000";default:return"#ccc"}},L=()=>{const R={partyLevel:i,partySize:u,targetDifficulty:c,xpBudget:xe,totalXP:_e,currentDifficulty:q,monsters:p.map(he=>({name:he.monster.name,cr:he.monster.challengeRating,count:he.count,xpEach:Iu[he.monster.challengeRating]||0,totalXP:(Iu[he.monster.challengeRating]||0)*he.count}))},x=new Blob([JSON.stringify(R,null,2)],{type:"application/json"}),U=URL.createObjectURL(x),te=document.createElement("a");te.href=U,te.download=`encounter_lvl${i}_${q}.json`,te.click(),URL.revokeObjectURL(U)},W=()=>{if(!Ee.trim()){alert("Please enter a name for the encounter");return}if(p.length===0){alert("Cannot save an empty encounter");return}const R={id:Date.now().toString(),name:Ee.trim(),partyLevel:i,partySize:u,targetDifficulty:c,monsters:p.map(U=>({monsterName:U.monster.name,count:U.count})),totalXP:_e,difficulty:q,timestamp:Date.now()},x=[...J,R];if(G(x),localStorage.setItem("savedEncounters",JSON.stringify(x)),Se){const U=xa(Na,`parties/${Se}/encounters/${R.id}`);fc(U,R).catch(te=>{console.error("Error saving to Firebase:",te)})}j(""),Ae(!1),alert(`Encounter "${R.name}" saved!`)},v=R=>{r(R.partyLevel),o(R.partySize),h(R.targetDifficulty);const x=[];R.monsters.forEach(U=>{const te=t.find(he=>he.name===U.monsterName);te&&x.push({monster:te,count:U.count})}),g(x),fe(!1),alert(`Encounter "${R.name}" loaded!`)},pe=R=>{if(!confirm("Delete this encounter?"))return;const x=J.filter(U=>U.id!==R);if(G(x),localStorage.setItem("savedEncounters",JSON.stringify(x)),Se){const U=xa(Na,`parties/${Se}/encounters/${R}`);C4(U).catch(te=>{console.error("Error deleting from Firebase:",te)})}};return E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:15,padding:20,height:"100%"},children:[E.jsx("h2",{style:{margin:0},children:"Encounter Builder (2024 DMG)"}),E.jsxs("div",{style:{display:"flex",gap:15,padding:15,background:"#f5f5f5",borderRadius:8,alignItems:"center",flexWrap:"wrap"},children:[E.jsxs("label",{children:["Party Level:"," ",E.jsx("select",{value:i,onChange:R=>r(Number(R.target.value)),children:Array.from({length:20},(R,x)=>x+1).map(R=>E.jsx("option",{value:R,children:R},R))})]}),E.jsxs("label",{children:["Party Size:"," ",E.jsx("select",{value:u,onChange:R=>o(Number(R.target.value)),children:Array.from({length:10},(R,x)=>x+1).map(R=>E.jsx("option",{value:R,children:R},R))})]}),E.jsxs("label",{children:["Target Difficulty:"," ",E.jsxs("select",{value:c,onChange:R=>h(R.target.value),children:[E.jsx("option",{value:"low",children:"Low"}),E.jsx("option",{value:"moderate",children:"Moderate"}),E.jsx("option",{value:"high",children:"High"})]})]})]}),E.jsxs("div",{style:{display:"flex",gap:10,padding:15,background:"#e8f5e9",borderRadius:8,border:"2px solid #4caf50"},children:[E.jsxs("div",{style:{flex:1},children:[E.jsx("strong",{children:"XP Budget (Low):"})," ",xe.low.toLocaleString()]}),E.jsxs("div",{style:{flex:1},children:[E.jsx("strong",{children:"XP Budget (Moderate):"})," ",xe.moderate.toLocaleString()]}),E.jsxs("div",{style:{flex:1},children:[E.jsx("strong",{children:"XP Budget (High):"})," ",xe.high.toLocaleString()]})]}),E.jsxs("div",{style:{padding:15,background:O(q),borderRadius:8,border:"2px solid #333",display:"flex",alignItems:"center",gap:10},children:[E.jsx(wk,{size:24}),E.jsxs("div",{children:[E.jsx("strong",{children:"Total XP:"})," ",_e.toLocaleString()," |"," ",E.jsx("strong",{children:"Difficulty:"})," ",q.toUpperCase()]}),E.jsxs("div",{style:{marginLeft:"auto"},children:[E.jsxs(Yt,{onClick:()=>Ae(!0),children:[E.jsx(Wk,{size:16,style:{marginRight:5}}),"Save Encounter"]}),E.jsxs(Yt,{onClick:()=>fe(!0),style:{marginLeft:10},children:[E.jsx(Fk,{size:16,style:{marginRight:5}}),"Load Encounter"]}),E.jsx(Yt,{onClick:Oe,type:"danger",style:{marginLeft:10},children:"Clear Encounter"}),E.jsx(Yt,{onClick:L,style:{marginLeft:10},children:"Export JSON"})]})]}),E.jsxs("div",{style:{display:"flex",gap:15,flex:1,minHeight:0},children:[E.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:10,padding:15,background:"#fff",border:"1px solid #ccc",borderRadius:8,overflow:"hidden"},children:[E.jsx("h3",{style:{margin:0},children:"Available Monsters"}),E.jsx("input",{type:"text",placeholder:"Search monsters...",value:_,onChange:R=>T(R.target.value),style:{padding:8,borderRadius:4,border:"1px solid #ccc"}}),E.jsxs("div",{style:{display:"flex",gap:10},children:[E.jsxs("select",{value:b,onChange:R=>S(R.target.value),style:{flex:1},children:[E.jsx("option",{value:"All",children:"All CRs"}),ue.map(R=>E.jsxs("option",{value:R,children:["CR ",Lh(Number(R))]},R))]}),E.jsxs("select",{value:B,onChange:R=>X(R.target.value),style:{flex:1},children:[E.jsx("option",{value:"All",children:"All Types"}),ie.map(R=>E.jsx("option",{value:R,children:R},R))]})]}),E.jsx("div",{style:{flex:1,overflowY:"auto",border:"1px solid #ddd",borderRadius:4,padding:5},children:Le.map(R=>{const x=Iu[R.challengeRating]||0;return E.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 10px",borderBottom:"1px solid #eee",cursor:"pointer",transition:"background 0.2s"},onMouseEnter:U=>U.currentTarget.style.background="#f0f0f0",onMouseLeave:U=>U.currentTarget.style.background="transparent",onClick:()=>P(R),children:[E.jsxs("div",{children:[E.jsx("strong",{children:R.name}),E.jsxs("div",{style:{fontSize:"0.85em",color:"#666"},children:["CR ",Lh(R.challengeRating),"  ",R.type,"  ",x.toLocaleString()," XP"]})]}),E.jsx(g0,{size:20,style:{color:"#4caf50"}})]},R.name)})})]}),E.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:10,padding:15,background:"#fff",border:"1px solid #ccc",borderRadius:8,overflow:"hidden"},children:[E.jsx("h3",{style:{margin:0},children:"Current Encounter"}),p.length===0?E.jsxs("div",{style:{textAlign:"center",color:"#999",marginTop:50},children:[E.jsx("p",{children:"No monsters added yet."}),E.jsx("p",{style:{fontSize:"0.9em"},children:"Click on monsters from the left to add them."})]}):E.jsx("div",{style:{flex:1,overflowY:"auto"},children:p.map(R=>{const x=Iu[R.monster.challengeRating]||0,U=x*R.count;return E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,padding:10,borderBottom:"1px solid #eee",background:"#fafafa",borderRadius:4,marginBottom:5},children:[E.jsxs("div",{style:{flex:1},children:[E.jsx("strong",{children:R.monster.name}),E.jsxs("div",{style:{fontSize:"0.85em",color:"#666"},children:["CR ",Lh(R.monster.challengeRating),"  ",R.monster.type]}),E.jsxs("div",{style:{fontSize:"0.85em",color:"#333"},children:[x.toLocaleString()," XP each  ",R.count," = ",U.toLocaleString()," XP"]})]}),E.jsx("input",{type:"number",value:R.count,min:1,onChange:te=>ye(R.monster.name,Number(te.target.value)),style:{width:60,padding:5,textAlign:"center"}}),E.jsx("button",{onClick:()=>ee(R.monster.name),style:{background:"transparent",border:"none",cursor:"pointer",color:"#dc2626"},children:E.jsx(By,{size:20})})]},R.monster.name)})})]})]}),Te&&E.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>Ae(!1),children:E.jsxs("div",{style:{background:"white",padding:30,borderRadius:8,minWidth:400,boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},onClick:R=>R.stopPropagation(),children:[E.jsx("h3",{style:{marginTop:0},children:"Save Encounter"}),E.jsxs("label",{style:{display:"block",marginBottom:15},children:["Encounter Name:",E.jsx("input",{type:"text",value:Ee,onChange:R=>j(R.target.value),placeholder:"e.g., Goblin Ambush",style:{width:"100%",padding:8,marginTop:5,borderRadius:4,border:"1px solid #ccc"},autoFocus:!0})]}),E.jsxs("div",{style:{display:"flex",gap:10,justifyContent:"flex-end"},children:[E.jsx(Yt,{onClick:()=>Ae(!1),type:"danger",children:"Cancel"}),E.jsx(Yt,{onClick:W,children:"Save"})]})]})}),V&&E.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>fe(!1),children:E.jsxs("div",{style:{background:"white",padding:30,borderRadius:8,minWidth:500,maxHeight:"80vh",overflow:"auto",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},onClick:R=>R.stopPropagation(),children:[E.jsx("h3",{style:{marginTop:0},children:"Load Saved Encounter"}),J.length===0?E.jsx("p",{style:{color:"#666",textAlign:"center",margin:"20px 0"},children:"No saved encounters yet."}):E.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:J.sort((R,x)=>x.timestamp-R.timestamp).map(R=>E.jsxs("div",{style:{padding:15,border:"1px solid #ddd",borderRadius:4,background:"#fafafa",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsxs("div",{style:{flex:1},children:[E.jsx("strong",{children:R.name}),E.jsxs("div",{style:{fontSize:"0.85em",color:"#666",marginTop:5},children:["Level ",R.partyLevel,"  ",R.partySize," players "," ",R.difficulty.toUpperCase()]}),E.jsxs("div",{style:{fontSize:"0.85em",color:"#666"},children:[R.monsters.length," monster type(s)  ",R.totalXP.toLocaleString()," XP"]}),E.jsx("div",{style:{fontSize:"0.75em",color:"#999",marginTop:3},children:new Date(R.timestamp).toLocaleString()})]}),E.jsxs("div",{style:{display:"flex",gap:10},children:[E.jsx(Yt,{onClick:()=>v(R),children:"Load"}),E.jsx("button",{onClick:()=>pe(R.id),style:{background:"transparent",border:"none",cursor:"pointer",color:"#dc2626"},children:E.jsx(By,{size:20})})]})]},R.id))}),E.jsx("div",{style:{marginTop:20,textAlign:"right"},children:E.jsx(Yt,{onClick:()=>fe(!1),children:"Close"})})]})})]})}const Lw=["Blinded","Charmed","Deafened","Frightened","Grappled","Incapacitated","Invisible","Paralyzed","Petrified","Poisoned","Prone","Restrained","Stunned","Unconscious"];function kw(){const[e,t]=re.useState([]),[i,r]=re.useState(1),[u,o]=re.useState(0),[c,h]=re.useState(!1),[p,g]=re.useState(()=>{const w=localStorage.getItem("combat_session");if(w)return w;const ge=Math.random().toString(36).substring(2,8).toUpperCase();return localStorage.setItem("combat_session",ge),ge}),[_,T]=re.useState(""),[b,S]=re.useState(""),[B,X]=re.useState(!1),[J,G]=re.useState(!1),[Ee,j]=re.useState(!1),[Te,Ae]=re.useState(!1),[V,fe]=re.useState(""),[Se,ve]=re.useState(!1),[xe,_e]=re.useState({}),[q,Le]=re.useState(""),[ue,ie]=re.useState(""),[P,ee]=re.useState([]),[ye,Oe]=re.useState([]);re.useEffect(()=>{const w=localStorage.getItem("combat_state");if(w){const ge=JSON.parse(w);t(ge.combatants||[]),r(ge.round||1),o(ge.currentIndex||0),h(ge.combatStarted||!1)}},[]),re.useEffect(()=>{const w={combatants:e,round:i,currentIndex:u,combatStarted:c};localStorage.setItem("combat_state",JSON.stringify(w)),O(w)},[e,i,u,c,p]),re.useEffect(()=>{if(c&&e.length>0){const w=e[u];w&&w.type==="player"&&w.hp<=0&&w.deathSaves.successes<3&&w.deathSaves.failures<3&&!Se&&(Ae(!0),fe(""))}},[u,c,e,Se]),re.useEffect(()=>{try{const w=JSON.parse(localStorage.getItem("characterSheets_all")||"[]");ee(w);const Re=Object.values(Object.assign({"../statBlockViewer/StatBlocks/axebeak-matriarch.json":am,"../statBlockViewer/StatBlocks/dragon-black-adult.json":rm,"../statBlockViewer/StatBlocks/goblin-minion.json":sm})).map(it=>it.default);Oe(Re)}catch(w){console.error("Error loading data:",w)}},[J,Ee]);const O=async w=>{try{(await fetch(`https://anansi-party-tracker-default-rtdb.firebaseio.com/combat/${p}/state.json`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)})).ok||console.error("Firebase sync failed")}catch(ge){console.error("Firebase error:",ge)}},L=()=>{if(confirm("Generate a new session code? This will disconnect current players.")){const w=Math.random().toString(36).substring(2,8).toUpperCase();localStorage.setItem("combat_session",w),g(w)}},W=()=>!c||e.length===0?e:[...e.slice(u),...e.slice(0,u)],v=w=>{const ge={...w,id:`${Date.now()}-${Math.random()}`};t([...e,ge])},pe=w=>{v({name:w.name,type:"player",initiative:0,initiativeBonus:w.initiative||0,hp:w.currentHP||w.maxHP,maxHp:w.maxHP,tempHp:0,ac:w.ac,conditions:[],visible:!0,deathSaves:{successes:0,failures:0},notes:""})},R=()=>{try{const w=JSON.parse(localStorage.getItem("characterSheets_all")||"[]"),Re=JSON.parse(localStorage.getItem("partyData")||"{}").partyName;if(!Re){alert("No party loaded in Party Tracker!");return}const it=w.filter(ht=>ht.party===Re);if(it.length===0){alert("No characters found for this party!");return}it.forEach(pe),alert(`Added ${it.length} party members!`)}catch(w){console.error("Error adding party:",w),alert("Failed to add party")}},x=(w,ge,Re,it,ht,mt="monster")=>{for(let Z=0;Z<ht;Z++){const me=e.filter(Ie=>Ie.name.startsWith(w)).length+1;v({name:`${w} ${me}`,type:mt,initiative:0,initiativeBonus:it,hp:ge,maxHp:ge,tempHp:0,ac:Re,conditions:[],visible:mt==="ally",deathSaves:{successes:0,failures:0},notes:""})}},U=()=>{if(e.length===0){alert("Add combatants first!");return}const w={};e.forEach(ge=>w[ge.id]=0),_e(w),X(!0)},te=()=>{const ge=[...e.map(Re=>({...Re,initiative:(xe[Re.id]||0)+Re.initiativeBonus}))].sort((Re,it)=>it.initiative!==Re.initiative?it.initiative-Re.initiative:it.initiativeBonus-Re.initiativeBonus);t(ge),h(!0),o(0),r(1),X(!1),ve(!1)},he=()=>{const w=Number(V);if(!w||w<1||w>20){alert("Please enter a valid d20 roll (1-20)");return}const ge=e[u],Re={...ge.deathSaves};w===20?(Ue(ge.id,{hp:1,deathSaves:{successes:0,failures:0}}),alert(`Natural 20! ${ge.name} recovers 1 HP!`)):w===1?(Re.failures=Math.min(3,Re.failures+2),Ue(ge.id,{deathSaves:Re}),Re.failures>=3?alert(`Natural 1! ${ge.name} has DIED!`):alert(`Natural 1! 2 death save failures for ${ge.name}.`)):w>=10?(Re.successes=Math.min(3,Re.successes+1),Ue(ge.id,{deathSaves:Re}),Re.successes>=3&&alert(`${ge.name} is stabilized at 0 HP!`)):(Re.failures=Math.min(3,Re.failures+1),Ue(ge.id,{deathSaves:Re}),Re.failures>=3&&alert(`${ge.name} has DIED!`)),Ae(!1),fe(""),ve(!0)},qe=()=>{let w=u+1;for(;w<e.length;){const ge=e[w];if(!(ge.type==="player"?ge.hp<=0&&ge.deathSaves.failures>=3:ge.hp<=0))break;w++}if(w>=e.length)for(r(i+1),w=0;w<e.length;){const ge=e[w];if(!(ge.type==="player"?ge.hp<=0&&ge.deathSaves.failures>=3:ge.hp<=0))break;w++}o(w),ve(!1)},Ue=(w,ge)=>{t(e.map(Re=>{if(Re.id===w){const it={...Re,...ge};return it.hp>0&&Re.hp<=0&&(it.deathSaves={successes:0,failures:0}),it}return Re}))},Ct=w=>{t(e.filter(ge=>ge.id!==w))},Vi=()=>{if(!_||!b)return;const w=e.find(ht=>ht.id===_);if(!w)return;let ge=Number(b),Re=w.tempHp,it=w.hp;Re>0&&(ge>=Re?(ge-=Re,Re=0):(Re-=ge,ge=0)),ge>0&&(it=Math.max(0,it-ge)),w.type==="player"&&w.hp>0&&it<=0&&ge>=w.maxHp&&alert(`WARNING: ${w.name} took massive damage! If damage exceeds max HP, they die instantly!`),Ue(_,{hp:it,tempHp:Re}),S("")},Zn=()=>{if(!_||!b)return;const w=e.find(ge=>ge.id===_);w&&(Ue(_,{hp:Math.min(w.maxHp,w.hp+Number(b))}),S(""))},Gi=()=>{if(!_||!b)return;const w=e.find(ge=>ge.id===_);w&&(Ue(_,{tempHp:Math.max(w.tempHp,Number(b))}),S(""))},_i=()=>{confirm("Clear all combatants?")&&(t([]),r(1),o(0),h(!1))},cr=()=>{const w=window.location.href.replace(/\/[^/]*$/,"/ct-pv.html")+`?code=${p}`;window.open(w,"_blank")},fr=(w,ge)=>{Le(w),ie(ge)},yi=()=>{ue.trim()&&Ue(q,{name:ue.trim()}),Le(""),ie("")};return E.jsxs("div",{style:{padding:15,maxWidth:1400,margin:"0 auto"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:15},children:[E.jsx("h2",{style:{margin:0,fontSize:22},children:"Combat Tracker"}),E.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[E.jsxs("span",{style:{fontSize:13,color:"#666"},children:["Session: ",E.jsx("strong",{children:p})]}),E.jsx("button",{onClick:L,style:Lt,title:"Generate new session code",children:E.jsx(Xk,{size:14})}),E.jsxs("button",{onClick:cr,style:Lt,children:[E.jsx(E0,{size:14})," Player View"]})]})]}),E.jsx("div",{style:{display:"flex",gap:8,marginBottom:15,flexWrap:"wrap",padding:12,background:"#f5f5f5",borderRadius:6,alignItems:"center"},children:c?E.jsxs(E.Fragment,{children:[E.jsxs("button",{onClick:qe,style:{...Lt,background:"#2196f3",color:"white"},children:[E.jsx(sw,{size:14})," Next Turn"]}),E.jsxs("div",{style:{padding:"6px 12px",background:"#e3f2fd",borderRadius:4,fontWeight:"bold",fontSize:13},children:["Round ",i]}),E.jsx("div",{style:{width:1,height:30,background:"#ddd",margin:"0 5px"}}),E.jsxs("select",{value:_,onChange:w=>T(w.target.value),style:{padding:"5px 8px",fontSize:13,minWidth:140},children:[E.jsx("option",{value:"",children:"Select..."}),e.map(w=>E.jsx("option",{value:w.id,children:w.name},w.id))]}),E.jsx("input",{type:"number",placeholder:"Amount",value:b,onChange:w=>S(w.target.value),style:{width:70,padding:"5px 8px",fontSize:13}}),_&&E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:Vi,style:{...Lt,background:"#f44336",color:"white"},children:"Damage"}),E.jsx("button",{onClick:Zn,style:{...Lt,background:"#4caf50",color:"white"},children:"Heal"}),E.jsx("button",{onClick:Gi,style:Lt,children:"Temp HP"}),E.jsxs("select",{value:"",onChange:w=>{if(w.target.value){const ge=e.find(Re=>Re.id===_);ge&&Ue(_,{conditions:[...ge.conditions,w.target.value]})}},style:{padding:"5px 8px",fontSize:13},children:[E.jsx("option",{value:"",children:"Add Condition"}),Lw.filter(w=>{const ge=e.find(Re=>Re.id===_);return ge&&!ge.conditions.includes(w)}).map(w=>E.jsx("option",{value:w,children:w},w))]}),e.find(w=>w.id===_)?.type==="monster"&&E.jsxs("label",{style:{display:"flex",alignItems:"center",gap:5,fontSize:13},children:[E.jsx("input",{type:"checkbox",checked:e.find(w=>w.id===_)?.visible,onChange:w=>Ue(_,{visible:w.target.checked})}),"Visible"]})]}),E.jsx("div",{style:{flex:1}}),E.jsx("button",{onClick:()=>h(!1),style:Lt,children:"End Combat"}),E.jsxs("button",{onClick:_i,style:{...Lt,background:"#f44336",color:"white"},children:[E.jsx(My,{size:14})," Clear"]})]}):E.jsxs(E.Fragment,{children:[E.jsxs("button",{onClick:()=>G(!0),style:Lt,children:[E.jsx(g0,{size:14})," Add Player"]}),E.jsxs("button",{onClick:R,style:Lt,children:[E.jsx(E0,{size:14})," Add Party"]}),E.jsxs("button",{onClick:()=>j(!0),style:Lt,children:[E.jsx(g0,{size:14})," Add Monster/Ally"]}),E.jsx("div",{style:{flex:1}}),E.jsxs("button",{onClick:U,style:{...Lt,background:"#4caf50",color:"white"},children:[E.jsx(qk,{size:14})," Start Combat"]}),E.jsxs("button",{onClick:_i,style:{...Lt,background:"#f44336",color:"white"},children:[E.jsx(My,{size:14})," Clear"]})]})}),E.jsx("div",{children:e.length===0?E.jsx("div",{style:{textAlign:"center",padding:30,color:"#999"},children:E.jsx("p",{children:"No combatants yet. Add players and monsters to begin!"})}):W().map((w,ge)=>{const Re=c&&ge===0,it=w.hp<=0,ht=w.type==="player"&&it&&w.deathSaves.successes>=3;return E.jsxs("div",{style:{padding:12,marginBottom:8,border:Re?"3px solid #fbc02d":"1px solid #ddd",borderRadius:6,background:Re?"#fff9c4":"white",opacity:!w.visible&&w.type==="monster"?.6:1},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsx("div",{style:{display:"flex",alignItems:"center",gap:10,flex:1},children:q===w.id?E.jsx("input",{value:ue,onChange:mt=>ie(mt.target.value),onBlur:yi,onKeyDown:mt=>mt.key==="Enter"&&yi(),autoFocus:!0,style:{fontSize:15,fontWeight:"bold",padding:"4px 8px",flex:1,maxWidth:300}}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[E.jsx("strong",{style:{fontSize:16},children:w.name}),w.type==="monster"&&E.jsx("button",{onClick:()=>fr(w.id,w.name),style:{background:"transparent",border:"none",cursor:"pointer",padding:2},children:E.jsx(jk,{size:12,color:"#666"})}),it&&!ht&&E.jsx(lw,{size:14}),ht&&E.jsx("span",{style:{fontSize:11,color:"#4caf50",fontWeight:"bold"},children:"STABLE"})]}),E.jsx("span",{style:{fontSize:11,color:"#666",background:w.type==="monster"?"#ffebee":w.type==="ally"?"#e8f5e9":"#e3f2fd",padding:"2px 8px",borderRadius:3},children:w.type==="player"?"Player":w.type==="ally"?"Ally":"Enemy"})]})}),E.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center",fontSize:13},children:[E.jsxs("div",{children:["HP: ",E.jsx("input",{type:"number",value:w.hp,onChange:mt=>Ue(w.id,{hp:Number(mt.target.value)}),style:{width:45,padding:3,fontSize:13}})," / ",w.maxHp]}),w.tempHp>0&&E.jsxs("div",{children:["Temp: ",w.tempHp]}),E.jsxs("div",{children:["AC: ",w.ac]}),!c&&E.jsxs(E.Fragment,{children:[w.type==="monster"&&E.jsxs("label",{style:{display:"flex",alignItems:"center",gap:5,fontSize:12},children:[E.jsx("input",{type:"checkbox",checked:w.visible,onChange:mt=>Ue(w.id,{visible:mt.target.checked})}),"Visible"]}),E.jsx("button",{onClick:()=>Ct(w.id),style:{background:"transparent",border:"none",cursor:"pointer",color:"#f44336",padding:4,fontSize:20},children:""})]})]})]}),w.conditions.length>0&&E.jsx("div",{style:{display:"flex",gap:5,flexWrap:"wrap",marginTop:8},children:w.conditions.map(mt=>E.jsxs("span",{onClick:()=>Ue(w.id,{conditions:w.conditions.filter(Z=>Z!==mt)}),style:{padding:"3px 8px",background:"#ff9800",color:"white",borderRadius:3,fontSize:11,cursor:"pointer"},children:[mt," "]},mt))}),it&&w.type==="player"&&E.jsx("div",{style:{marginTop:8,padding:8,background:"#ffebee",borderRadius:4,fontSize:12},children:E.jsxs("div",{style:{display:"flex",gap:15},children:[E.jsxs("div",{style:{flex:1},children:[E.jsx("div",{style:{marginBottom:4,fontWeight:500},children:"Successes:"}),E.jsx("div",{style:{display:"flex",gap:4},children:[1,2,3].map(mt=>E.jsx("div",{style:{width:24,height:24,borderRadius:"50%",border:"2px solid #ddd",background:mt<=w.deathSaves.successes?"#4caf50":"white"}},mt))})]}),E.jsxs("div",{style:{flex:1},children:[E.jsx("div",{style:{marginBottom:4,fontWeight:500},children:"Failures:"}),E.jsx("div",{style:{display:"flex",gap:4},children:[1,2,3].map(mt=>E.jsx("div",{style:{width:24,height:24,borderRadius:"50%",border:"2px solid #ddd",background:mt<=w.deathSaves.failures?"#f44336":"white"}},mt))})]})]})})]},w.id)})}),Te&&e[u]&&!Se&&E.jsx(Yo,{onClose:()=>{},title:`Death Saving Throw - ${e[u].name}`,children:E.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[E.jsxs("p",{style:{fontSize:14,marginBottom:20,color:"#666"},children:["Roll a d20 for ",e[u].name,"'s death saving throw"]}),E.jsx("div",{style:{marginBottom:20},children:E.jsx("input",{type:"number",min:"1",max:"20",placeholder:"Roll d20",value:V,onChange:w=>fe(w.target.value),autoFocus:!0,onKeyDown:w=>w.key==="Enter"&&he(),style:{width:100,padding:12,fontSize:18,textAlign:"center",border:"2px solid #ddd",borderRadius:6}})}),E.jsxs("div",{style:{background:"#f5f5f5",padding:15,borderRadius:6,marginBottom:20,fontSize:13,textAlign:"left"},children:[E.jsx("div",{style:{fontWeight:"bold",marginBottom:8},children:"Death Save Rules:"}),E.jsxs("div",{style:{marginBottom:4},children:[" ",E.jsx("strong",{children:"10 or higher:"})," Success"]}),E.jsxs("div",{style:{marginBottom:4},children:[" ",E.jsx("strong",{children:"9 or lower:"})," Failure"]}),E.jsxs("div",{style:{marginBottom:4},children:[" ",E.jsx("strong",{children:"Natural 20:"})," Recover 1 HP"]}),E.jsxs("div",{style:{marginBottom:4},children:[" ",E.jsx("strong",{children:"Natural 1:"})," 2 Failures"]}),E.jsxs("div",{style:{marginTop:10,paddingTop:10,borderTop:"1px solid #ddd"},children:[E.jsx("strong",{children:"Current:"})," ",e[u].deathSaves.successes," successes, ",e[u].deathSaves.failures," failures"]})]}),E.jsx("button",{onClick:he,style:{...Lt,background:"#2196f3",color:"white",width:"100%",padding:"10px 15px",fontSize:14,justifyContent:"center"},children:"Process Roll"})]})}),B&&E.jsxs(Yo,{onClose:()=>X(!1),title:"Roll Initiative",children:[e.map(w=>E.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:8,padding:8,border:"1px solid #ddd",borderRadius:4},children:[E.jsxs("div",{style:{flex:1},children:[E.jsx("strong",{style:{fontSize:14},children:w.name}),E.jsxs("div",{style:{fontSize:11,color:"#666"},children:["+",w.initiativeBonus," bonus"]})]}),E.jsx("input",{type:"number",placeholder:"d20",value:xe[w.id]||"",onChange:ge=>_e({...xe,[w.id]:Number(ge.target.value)}),style:{width:55,padding:5,textAlign:"center",fontSize:13}}),E.jsxs("span",{style:{width:35,fontSize:13},children:["= ",(xe[w.id]||0)+w.initiativeBonus]})]},w.id)),E.jsx("button",{onClick:te,style:{...Lt,background:"#4caf50",color:"white",width:"100%",marginTop:10},children:"Start Combat"})]}),J&&E.jsx(Yo,{onClose:()=>G(!1),title:"Add Player",children:P.length===0?E.jsx("p",{style:{textAlign:"center",color:"#666",fontSize:13},children:"No character sheets found"}):P.map((w,ge)=>E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:8,border:"1px solid #ddd",borderRadius:4,marginBottom:8},children:[E.jsxs("div",{children:[E.jsx("strong",{style:{fontSize:14},children:w.name}),E.jsxs("div",{style:{fontSize:11,color:"#666"},children:["HP: ",w.maxHP,"  AC: ",w.ac,"  Init: +",w.initiative||0]})]}),E.jsx("button",{onClick:()=>{pe(w),G(!1)},style:Lt,children:"Add"})]},ge))}),Ee&&E.jsxs(Yo,{onClose:()=>j(!1),title:"Add Monster or Ally",children:[E.jsxs("div",{style:{marginBottom:15},children:[E.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:14},children:"From Stat Blocks:"}),E.jsx("div",{style:{maxHeight:250,overflowY:"auto"},children:ye.map((w,ge)=>E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:8,border:"1px solid #ddd",borderRadius:4,marginBottom:8},children:[E.jsxs("div",{children:[E.jsx("strong",{style:{fontSize:13},children:w.name}),E.jsxs("div",{style:{fontSize:11,color:"#666"},children:["HP: ",w.hitPoints,"  AC: ",w.armorClass]})]}),E.jsxs("div",{style:{display:"flex",gap:4},children:[E.jsx("button",{onClick:()=>x(w.name,w.hitPoints,w.armorClass,w.initiative||0,1,"monster"),style:{...Lt,fontSize:11,padding:"4px 8px"},children:"+1 Enemy"}),E.jsx("button",{onClick:()=>x(w.name,w.hitPoints,w.armorClass,w.initiative||0,1,"ally"),style:{...Lt,fontSize:11,padding:"4px 8px"},children:"+1 Ally"})]})]},ge))})]}),E.jsx(ww,{onAdd:(w,ge,Re,it,ht,mt)=>{x(w,ge,Re,it,ht,mt),j(!1)}})]})]})}function Yo({onClose:e,title:t,children:i}){return E.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:e,children:E.jsxs("div",{style:{background:"white",padding:20,borderRadius:8,minWidth:450,maxWidth:600,maxHeight:"80vh",overflow:"auto"},onClick:r=>r.stopPropagation(),children:[E.jsx("h3",{style:{marginTop:0,fontSize:16},children:t}),i,E.jsx("button",{onClick:e,style:{...Lt,marginTop:15},children:"Close"})]})})}function ww({onAdd:e}){const[t,i]=re.useState(""),[r,u]=re.useState(10),[o,c]=re.useState(10),[h,p]=re.useState(0),[g,_]=re.useState(1),T=b=>{t.trim()&&(e(t,r,o,h,g,b),i(""),u(10),c(10),p(0),_(1))};return E.jsxs("div",{style:{borderTop:"2px solid #ddd",paddingTop:15},children:[E.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:14},children:"Custom:"}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[E.jsx("input",{value:t,onChange:b=>i(b.target.value),placeholder:"Name",style:{padding:6,fontSize:13}}),E.jsxs("div",{style:{display:"flex",gap:8},children:[E.jsx("input",{type:"number",value:r,onChange:b=>u(Number(b.target.value)),placeholder:"HP",style:{padding:6,flex:1,fontSize:13}}),E.jsx("input",{type:"number",value:o,onChange:b=>c(Number(b.target.value)),placeholder:"AC",style:{padding:6,flex:1,fontSize:13}}),E.jsx("input",{type:"number",value:h,onChange:b=>p(Number(b.target.value)),placeholder:"Init",style:{padding:6,flex:1,fontSize:13}}),E.jsx("input",{type:"number",value:g,onChange:b=>_(Number(b.target.value)),placeholder:"Count",style:{padding:6,width:55,fontSize:13}})]}),E.jsxs("div",{style:{display:"flex",gap:8},children:[E.jsx("button",{onClick:()=>T("monster"),style:{...Lt,flex:1},children:"Add as Enemy"}),E.jsx("button",{onClick:()=>T("ally"),style:{...Lt,flex:1},children:"Add as Ally"})]})]})]})}const Lt={display:"flex",alignItems:"center",gap:5,padding:"6px 12px",border:"1px solid #ddd",borderRadius:4,background:"white",cursor:"pointer",fontSize:13},Mw=({name:e,icon:t,active:i,onClick:r})=>E.jsxs("button",{onClick:r,style:{display:"flex",alignItems:"center",gap:6,cursor:"pointer",fontWeight:i?"bold":"normal",color:i?"#ffd700":"white",background:"transparent",border:"none",padding:"6px 10px",borderRadius:4,transition:"background-color 0.2s, color 0.3s",flexShrink:0},onMouseEnter:u=>u.currentTarget.style.backgroundColor="rgba(255,255,255,0.1)",onMouseLeave:u=>u.currentTarget.style.backgroundColor="transparent",children:[t,E.jsx("span",{children:e})]});function Bw(){const[e,t]=re.useState("Party Tracker"),[i,r]=re.useState(window.innerWidth);re.useEffect(()=>{const c=()=>r(window.innerWidth);return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const u=[{name:"Party Tracker",icon:E.jsx(E0,{size:20})},{name:"Combat Tracker",icon:E.jsx(cw,{size:20})},{name:"Encounter Builder",icon:E.jsx(Zk,{size:20})},{name:"Character Sheets",icon:E.jsx(Lk,{size:20})},{name:"Stat Blocks",icon:E.jsx(nw,{size:20})},{name:"Randomized Shops",icon:E.jsx(aw,{size:20})},{name:"Settings",icon:E.jsx(ew,{size:20})}],o={"Party Tracker":U4,"Combat Tracker":kw,"Encounter Builder":Iw,"Stat Blocks":Rw,"Character Sheets":Ow,Settings:H4};return E.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",fontFamily:"sans-serif"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",width:i-30,maxWidth:"100%",padding:"10px 15px",backgroundColor:"#222",color:"white",gap:12,flexShrink:0},children:[E.jsx("h2",{style:{margin:0,fontSize:18,flexShrink:0},children:"Anansi - The DM Toolkit"}),E.jsx("div",{style:{display:"flex",gap:12,flexGrow:1,justifyContent:"flex-start",flexWrap:"wrap"},children:u.map(c=>E.jsx(Mw,{name:c.name,icon:c.icon,active:e===c.name,onClick:()=>t(c.name)},c.name))})]}),E.jsx("div",{style:{flex:1,display:"flex",width:i-40,overflow:"hidden",padding:20},children:E.jsx("div",{style:{flex:1,overflow:"auto",minWidth:0},children:Object.entries(o).map(([c,h])=>E.jsx("div",{style:{display:e===c?"block":"none",height:"100%"},children:E.jsx(h,{})},c))})})]})}const Pw=()=>E.jsx("div",{className:"App",children:E.jsx(Bw,{})});I3.createRoot(document.getElementById("root")).render(E.jsx(C3.StrictMode,{children:E.jsx(Pw,{})}));
