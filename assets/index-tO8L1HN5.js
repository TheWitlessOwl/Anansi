(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const o of u)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(u){const o={};return u.integrity&&(o.integrity=u.integrity),u.referrerPolicy&&(o.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?o.credentials="include":u.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(u){if(u.ep)return;u.ep=!0;const o=i(u);fetch(u.href,o)}})();function hc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gd={exports:{}},hu={};var mE;function _A(){if(mE)return hu;mE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,u,o){var c=null;if(o!==void 0&&(c=""+o),u.key!==void 0&&(c=""+u.key),"key"in u){o={};for(var h in u)h!=="key"&&(o[h]=u[h])}else o=u;return u=o.ref,{$$typeof:e,type:r,key:c,ref:u!==void 0?u:null,props:o}}return hu.Fragment=t,hu.jsx=i,hu.jsxs=i,hu}var pE;function yA(){return pE||(pE=1,Gd.exports=_A()),Gd.exports}var _=yA(),Xd={exports:{}},Me={};var gE;function TA(){if(gE)return Me;gE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function S(R){return R===null||typeof R!="object"?null:(R=b&&R[b]||R["@@iterator"],typeof R=="function"?R:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,Z={};function q(R,W,v){this.props=R,this.context=W,this.refs=Z,this.updater=v||w}q.prototype.isReactComponent={},q.prototype.setState=function(R,W){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,W,"setState")},q.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function oe(){}oe.prototype=q.prototype;function F(R,W,v){this.props=R,this.context=W,this.refs=Z,this.updater=v||w}var ye=F.prototype=new oe;ye.constructor=F,Q(ye,q.prototype),ye.isPureReactComponent=!0;var ve=Array.isArray;function G(){}var de={H:null,A:null,T:null,S:null},Se=Object.prototype.hasOwnProperty;function Oe(R,W,v){var _e=v.ref;return{$$typeof:e,type:R,key:W,ref:_e!==void 0?_e:null,props:v}}function xe(R,W){return Oe(R.type,W,R.props)}function Ee(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function V(R){var W={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(v){return W[v]})}var Le=/\/+/g;function re(R,W){return typeof R=="object"&&R!==null&&R.key!=null?V(""+R.key):W.toString(36)}function ie(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(G,G):(R.status="pending",R.then(function(W){R.status==="pending"&&(R.status="fulfilled",R.value=W)},function(W){R.status==="pending"&&(R.status="rejected",R.reason=W)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function P(R,W,v,_e,U){var D=typeof R;(D==="undefined"||D==="boolean")&&(R=null);var ee=!1;if(R===null)ee=!0;else switch(D){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(R.$$typeof){case e:case t:ee=!0;break;case E:return ee=R._init,P(ee(R._payload),W,v,_e,U)}}if(ee)return U=U(R),ee=_e===""?"."+re(R,0):_e,ve(U)?(v="",ee!=null&&(v=ee.replace(Le,"$&/")+"/"),P(U,W,v,"",function(We){return We})):U!=null&&(Ee(U)&&(U=xe(U,v+(U.key==null||R&&R.key===U.key?"":(""+U.key).replace(Le,"$&/")+"/")+ee)),W.push(U)),1;ee=0;var Te=_e===""?".":_e+":";if(ve(R))for(var Ae=0;Ae<R.length;Ae++)_e=R[Ae],D=Te+re(_e,Ae),ee+=P(_e,W,v,D,U);else if(Ae=S(R),typeof Ae=="function")for(R=Ae.call(R),Ae=0;!(_e=R.next()).done;)_e=_e.value,D=Te+re(_e,Ae++),ee+=P(_e,W,v,D,U);else if(D==="object"){if(typeof R.then=="function")return P(ie(R),W,v,_e,U);throw W=String(R),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ee}function k(R,W,v){if(R==null)return R;var _e=[],U=0;return P(R,_e,"","",function(D){return W.call(v,D,U++)}),_e}function te(R){if(R._status===-1){var W=R._result;W=W(),W.then(function(v){(R._status===0||R._status===-1)&&(R._status=1,R._result=v)},function(v){(R._status===0||R._status===-1)&&(R._status=2,R._result=v)}),R._status===-1&&(R._status=0,R._result=W)}if(R._status===1)return R._result.default;throw R._result}var he=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},x={map:k,forEach:function(R,W,v){k(R,function(){W.apply(this,arguments)},v)},count:function(R){var W=0;return k(R,function(){W++}),W},toArray:function(R){return k(R,function(W){return W})||[]},only:function(R){if(!Ee(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Me.Activity=T,Me.Children=x,Me.Component=q,Me.Fragment=i,Me.Profiler=u,Me.PureComponent=F,Me.StrictMode=r,Me.Suspense=p,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=de,Me.__COMPILER_RUNTIME={__proto__:null,c:function(R){return de.H.useMemoCache(R)}},Me.cache=function(R){return function(){return R.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(R,W,v){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var _e=Q({},R.props),U=R.key;if(W!=null)for(D in W.key!==void 0&&(U=""+W.key),W)!Se.call(W,D)||D==="key"||D==="__self"||D==="__source"||D==="ref"&&W.ref===void 0||(_e[D]=W[D]);var D=arguments.length-2;if(D===1)_e.children=v;else if(1<D){for(var ee=Array(D),Te=0;Te<D;Te++)ee[Te]=arguments[Te+2];_e.children=ee}return Oe(R.type,U,_e)},Me.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:o,_context:R},R},Me.createElement=function(R,W,v){var _e,U={},D=null;if(W!=null)for(_e in W.key!==void 0&&(D=""+W.key),W)Se.call(W,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(U[_e]=W[_e]);var ee=arguments.length-2;if(ee===1)U.children=v;else if(1<ee){for(var Te=Array(ee),Ae=0;Ae<ee;Ae++)Te[Ae]=arguments[Ae+2];U.children=Te}if(R&&R.defaultProps)for(_e in ee=R.defaultProps,ee)U[_e]===void 0&&(U[_e]=ee[_e]);return Oe(R,D,U)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(R){return{$$typeof:h,render:R}},Me.isValidElement=Ee,Me.lazy=function(R){return{$$typeof:E,_payload:{_status:-1,_result:R},_init:te}},Me.memo=function(R,W){return{$$typeof:g,type:R,compare:W===void 0?null:W}},Me.startTransition=function(R){var W=de.T,v={};de.T=v;try{var _e=R(),U=de.S;U!==null&&U(v,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(G,he)}catch(D){he(D)}finally{W!==null&&v.types!==null&&(W.types=v.types),de.T=W}},Me.unstable_useCacheRefresh=function(){return de.H.useCacheRefresh()},Me.use=function(R){return de.H.use(R)},Me.useActionState=function(R,W,v){return de.H.useActionState(R,W,v)},Me.useCallback=function(R,W){return de.H.useCallback(R,W)},Me.useContext=function(R){return de.H.useContext(R)},Me.useDebugValue=function(){},Me.useDeferredValue=function(R,W){return de.H.useDeferredValue(R,W)},Me.useEffect=function(R,W){return de.H.useEffect(R,W)},Me.useEffectEvent=function(R){return de.H.useEffectEvent(R)},Me.useId=function(){return de.H.useId()},Me.useImperativeHandle=function(R,W,v){return de.H.useImperativeHandle(R,W,v)},Me.useInsertionEffect=function(R,W){return de.H.useInsertionEffect(R,W)},Me.useLayoutEffect=function(R,W){return de.H.useLayoutEffect(R,W)},Me.useMemo=function(R,W){return de.H.useMemo(R,W)},Me.useOptimistic=function(R,W){return de.H.useOptimistic(R,W)},Me.useReducer=function(R,W,v){return de.H.useReducer(R,W,v)},Me.useRef=function(R){return de.H.useRef(R)},Me.useState=function(R){return de.H.useState(R)},Me.useSyncExternalStore=function(R,W,v){return de.H.useSyncExternalStore(R,W,v)},Me.useTransition=function(){return de.H.useTransition()},Me.version="19.2.0",Me}var EE;function o0(){return EE||(EE=1,Xd.exports=TA()),Xd.exports}var ue=o0();const bA=hc(ue);var Qd={exports:{}},mu={},Kd={exports:{}},Wd={};var _E;function SA(){return _E||(_E=1,(function(e){function t(P,k){var te=P.length;P.push(k);e:for(;0<te;){var he=te-1>>>1,x=P[he];if(0<u(x,k))P[he]=k,P[te]=x,te=he;else break e}}function i(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var k=P[0],te=P.pop();if(te!==k){P[0]=te;e:for(var he=0,x=P.length,R=x>>>1;he<R;){var W=2*(he+1)-1,v=P[W],_e=W+1,U=P[_e];if(0>u(v,te))_e<x&&0>u(U,v)?(P[he]=U,P[_e]=te,he=_e):(P[he]=v,P[W]=te,he=W);else if(_e<x&&0>u(U,te))P[he]=U,P[_e]=te,he=_e;else break e}}return k}function u(P,k){var te=P.sortIndex-k.sortIndex;return te!==0?te:P.id-k.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();e.unstable_now=function(){return c.now()-h}}var p=[],g=[],E=1,T=null,b=3,S=!1,w=!1,Q=!1,Z=!1,q=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function ye(P){for(var k=i(g);k!==null;){if(k.callback===null)r(g);else if(k.startTime<=P)r(g),k.sortIndex=k.expirationTime,t(p,k);else break;k=i(g)}}function ve(P){if(Q=!1,ye(P),!w)if(i(p)!==null)w=!0,G||(G=!0,V());else{var k=i(g);k!==null&&ie(ve,k.startTime-P)}}var G=!1,de=-1,Se=5,Oe=-1;function xe(){return Z?!0:!(e.unstable_now()-Oe<Se)}function Ee(){if(Z=!1,G){var P=e.unstable_now();Oe=P;var k=!0;try{e:{w=!1,Q&&(Q=!1,oe(de),de=-1),S=!0;var te=b;try{t:{for(ye(P),T=i(p);T!==null&&!(T.expirationTime>P&&xe());){var he=T.callback;if(typeof he=="function"){T.callback=null,b=T.priorityLevel;var x=he(T.expirationTime<=P);if(P=e.unstable_now(),typeof x=="function"){T.callback=x,ye(P),k=!0;break t}T===i(p)&&r(p),ye(P)}else r(p);T=i(p)}if(T!==null)k=!0;else{var R=i(g);R!==null&&ie(ve,R.startTime-P),k=!1}}break e}finally{T=null,b=te,S=!1}k=void 0}}finally{k?V():G=!1}}}var V;if(typeof F=="function")V=function(){F(Ee)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,re=Le.port2;Le.port1.onmessage=Ee,V=function(){re.postMessage(null)}}else V=function(){q(Ee,0)};function ie(P,k){de=q(function(){P(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Se=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(P){switch(b){case 1:case 2:case 3:var k=3;break;default:k=b}var te=b;b=k;try{return P()}finally{b=te}},e.unstable_requestPaint=function(){Z=!0},e.unstable_runWithPriority=function(P,k){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var te=b;b=P;try{return k()}finally{b=te}},e.unstable_scheduleCallback=function(P,k,te){var he=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?he+te:he):te=he,P){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=te+x,P={id:E++,callback:k,priorityLevel:P,startTime:te,expirationTime:x,sortIndex:-1},te>he?(P.sortIndex=te,t(g,P),i(p)===null&&P===i(g)&&(Q?(oe(de),de=-1):Q=!0,ie(ve,te-he))):(P.sortIndex=x,t(p,P),w||S||(w=!0,G||(G=!0,V()))),P},e.unstable_shouldYield=xe,e.unstable_wrapCallback=function(P){var k=b;return function(){var te=b;b=k;try{return P.apply(this,arguments)}finally{b=te}}}})(Wd)),Wd}var yE;function CA(){return yE||(yE=1,Kd.exports=SA()),Kd.exports}var Zd={exports:{}},an={};var TE;function AA(){if(TE)return an;TE=1;var e=o0();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function o(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,an.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(p,g,null,E)},an.flushSync=function(p){var g=c.T,E=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=E,r.d.f()}},an.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},an.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},an.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=h(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:S}):E==="script"&&r.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},an.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=h(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},an.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=h(E,g.crossOrigin);r.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},an.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=h(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},an.requestFormReset=function(p){r.d.r(p)},an.unstable_batchedUpdates=function(p,g){return p(g)},an.useFormState=function(p,g,E){return c.H.useFormState(p,g,E)},an.useFormStatus=function(){return c.H.useHostTransitionStatus()},an.version="19.2.0",an}var bE;function vA(){if(bE)return Zd.exports;bE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Zd.exports=AA(),Zd.exports}var SE;function xA(){if(SE)return mu;SE=1;var e=CA(),t=o0(),i=vA();function r(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var a=n,s=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(s=a.return),n=a.return;while(n)}return a.tag===3?s:null}function c(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function h(n){if(n.tag===31){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function p(n){if(o(n)!==n)throw Error(r(188))}function g(n){var a=n.alternate;if(!a){if(a=o(n),a===null)throw Error(r(188));return a!==n?null:n}for(var s=n,l=a;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return p(f),n;if(d===l)return p(f),a;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=f,l=d;else{for(var y=!1,C=f.child;C;){if(C===s){y=!0,s=f,l=d;break}if(C===l){y=!0,l=f,s=d;break}C=C.sibling}if(!y){for(C=d.child;C;){if(C===s){y=!0,s=d,l=f;break}if(C===l){y=!0,l=d,s=f;break}C=C.sibling}if(!y)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?n:a}function E(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=E(n),a!==null)return a;n=n.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),oe=Symbol.for("react.consumer"),F=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),de=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),Oe=Symbol.for("react.activity"),xe=Symbol.for("react.memo_cache_sentinel"),Ee=Symbol.iterator;function V(n){return n===null||typeof n!="object"?null:(n=Ee&&n[Ee]||n["@@iterator"],typeof n=="function"?n:null)}var Le=Symbol.for("react.client.reference");function re(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Le?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Q:return"Fragment";case q:return"Profiler";case Z:return"StrictMode";case ve:return"Suspense";case G:return"SuspenseList";case Oe:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case F:return n.displayName||"Context";case oe:return(n._context.displayName||"Context")+".Consumer";case ye:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case de:return a=n.displayName||null,a!==null?a:re(n.type)||"Memo";case Se:a=n._payload,n=n._init;try{return re(n(a))}catch{}}return null}var ie=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},he=[],x=-1;function R(n){return{current:n}}function W(n){0>x||(n.current=he[x],he[x]=null,x--)}function v(n,a){x++,he[x]=n.current,n.current=a}var _e=R(null),U=R(null),D=R(null),ee=R(null);function Te(n,a){switch(v(D,a),v(U,n),v(_e,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?P1(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=P1(a),n=U1(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}W(_e),v(_e,n)}function Ae(){W(_e),W(U),W(D)}function We(n){n.memoizedState!==null&&v(ee,n);var a=_e.current,s=U1(a,n.type);a!==s&&(v(U,n),v(_e,s))}function Ue(n){U.current===n&&(W(_e),W(U)),ee.current===n&&(W(ee),ou._currentValue=te)}var Ct,Vi;function Zn(n){if(Ct===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Ct=a&&a[1]||"",Vi=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ct+n+Vi}var Gi=!1;function gi(n,a){if(!n||Gi)return"";Gi=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(a){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(X){var Y=X}Reflect.construct(n,[],ae)}else{try{ae.call()}catch(X){Y=X}n.call(ae.prototype)}}else{try{throw Error()}catch(X){Y=X}(ae=n())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],C=d[1];if(y&&C){var I=y.split(`
`),j=C.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===j.length)for(l=I.length-1,f=j.length-1;1<=l&&0<=f&&I[l]!==j[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==j[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==j[f]){var $=`
`+I[l].replace(" at new "," at ");return n.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",n.displayName)),$}while(1<=l&&0<=f);break}}}finally{Gi=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?Zn(s):""}function ur(n,a){switch(n.tag){case 26:case 27:case 5:return Zn(n.type);case 16:return Zn("Lazy");case 13:return n.child!==a&&a!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return gi(n.type,!1);case 11:return gi(n.type.render,!1);case 1:return gi(n.type,!0);case 31:return Zn("Activity");default:return""}}function lr(n){try{var a="",s=null;do a+=ur(n,s),s=n,n=n.return;while(n);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ei=Object.prototype.hasOwnProperty,M=e.unstable_scheduleCallback,ge=e.unstable_cancelCallback,Re=e.unstable_shouldYield,it=e.unstable_requestPaint,ht=e.unstable_now,mt=e.unstable_getCurrentPriorityLevel,J=e.unstable_ImmediatePriority,me=e.unstable_UserBlockingPriority,De=e.unstable_NormalPriority,qe=e.unstable_LowPriority,at=e.unstable_IdlePriority,Nn=e.log,_i=e.unstable_setDisableYieldValue,on=null,Ft=null;function fn(n){if(typeof Nn=="function"&&_i(n),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(on,n)}catch{}}var ct=Math.clz32?Math.clz32:aC,Xi=Math.log,$n=Math.LN2;function aC(n){return n>>>=0,n===0?32:31-(Xi(n)/$n|0)|0}var pl=256,gl=262144,El=4194304;function Oa(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function _l(n,a,s){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,y=n.pingedLanes;n=n.warmLanes;var C=l&134217727;return C!==0?(l=C&~d,l!==0?f=Oa(l):(y&=C,y!==0?f=Oa(y):s||(s=C&~n,s!==0&&(f=Oa(s))))):(C=l&~d,C!==0?f=Oa(C):y!==0?f=Oa(y):s||(s=l&~n,s!==0&&(f=Oa(s)))),f===0?0:a!==0&&a!==f&&(a&d)===0&&(d=f&-f,s=a&-a,d>=s||d===32&&(s&4194048)!==0)?a:f}function Ss(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function rC(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _m(){var n=El;return El<<=1,(El&62914560)===0&&(El=4194304),n}function kc(n){for(var a=[],s=0;31>s;s++)a.push(n);return a}function Cs(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function sC(n,a,s,l,f,d){var y=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var C=n.entanglements,I=n.expirationTimes,j=n.hiddenUpdates;for(s=y&~s;0<s;){var $=31-ct(s),ae=1<<$;C[$]=0,I[$]=-1;var Y=j[$];if(Y!==null)for(j[$]=null,$=0;$<Y.length;$++){var X=Y[$];X!==null&&(X.lane&=-536870913)}s&=~ae}l!==0&&ym(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(y&~a))}function ym(n,a,s){n.pendingLanes|=a,n.suspendedLanes&=~a;var l=31-ct(a);n.entangledLanes|=a,n.entanglements[l]=n.entanglements[l]|1073741824|s&261930}function Tm(n,a){var s=n.entangledLanes|=a;for(n=n.entanglements;s;){var l=31-ct(s),f=1<<l;f&a|n[l]&a&&(n[l]|=a),s&=~f}}function bm(n,a){var s=a&-a;return s=(s&42)!==0?1:wc(s),(s&(n.suspendedLanes|a))!==0?0:s}function wc(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Mc(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Sm(){var n=k.p;return n!==0?n:(n=window.event,n===void 0?32:uE(n.type))}function Cm(n,a){var s=k.p;try{return k.p=n,a()}finally{k.p=s}}var Qi=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Qi,dn="__reactProps$"+Qi,or="__reactContainer$"+Qi,Bc="__reactEvents$"+Qi,uC="__reactListeners$"+Qi,lC="__reactHandles$"+Qi,Am="__reactResources$"+Qi,As="__reactMarker$"+Qi;function Pc(n){delete n[Wt],delete n[dn],delete n[Bc],delete n[uC],delete n[lC]}function cr(n){var a=n[Wt];if(a)return a;for(var s=n.parentNode;s;){if(a=s[or]||s[Wt]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(n=V1(n);n!==null;){if(s=n[Wt])return s;n=V1(n)}return a}n=s,s=n.parentNode}return null}function fr(n){if(n=n[Wt]||n[or]){var a=n.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return n}return null}function vs(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(r(33))}function dr(n){var a=n[Am];return a||(a=n[Am]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Yt(n){n[As]=!0}var vm=new Set,xm={};function Ia(n,a){hr(n,a),hr(n+"Capture",a)}function hr(n,a){for(xm[n]=a,n=0;n<a.length;n++)vm.add(a[n])}var oC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nm={},Rm={};function cC(n){return Ei.call(Rm,n)?!0:Ei.call(Nm,n)?!1:oC.test(n)?Rm[n]=!0:(Nm[n]=!0,!1)}function yl(n,a,s){if(cC(a))if(s===null)n.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var l=a.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+s)}}function Tl(n,a,s){if(s===null)n.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+s)}}function yi(n,a,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(a,s,""+l)}}function Un(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Om(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function fC(n,a,s){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,a);if(!n.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return f.call(this)},set:function(y){s=""+y,d.call(this,y)}}),Object.defineProperty(n,a,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Uc(n){if(!n._valueTracker){var a=Om(n)?"checked":"value";n._valueTracker=fC(n,a,""+n[a])}}function Im(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var s=a.getValue(),l="";return n&&(l=Om(n)?n.checked?"true":"false":n.value),n=l,n!==s?(a.setValue(n),!0):!1}function bl(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var dC=/[\n"\\]/g;function Hn(n){return n.replace(dC,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Hc(n,a,s,l,f,d,y,C){n.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?n.type=y:n.removeAttribute("type"),a!=null?y==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+Un(a)):n.value!==""+Un(a)&&(n.value=""+Un(a)):y!=="submit"&&y!=="reset"||n.removeAttribute("value"),a!=null?Fc(n,y,Un(a)):s!=null?Fc(n,y,Un(s)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+Un(C):n.removeAttribute("name")}function Dm(n,a,s,l,f,d,y,C){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),a!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||a!=null)){Uc(n);return}s=s!=null?""+Un(s):"",a=a!=null?""+Un(a):s,C||a===n.value||(n.value=a),n.defaultValue=a}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=C?n.checked:!!l,n.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.name=y),Uc(n)}function Fc(n,a,s){a==="number"&&bl(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function mr(n,a,s,l){if(n=n.options,a){a={};for(var f=0;f<s.length;f++)a["$"+s[f]]=!0;for(s=0;s<n.length;s++)f=a.hasOwnProperty("$"+n[s].value),n[s].selected!==f&&(n[s].selected=f),f&&l&&(n[s].defaultSelected=!0)}else{for(s=""+Un(s),a=null,f=0;f<n.length;f++){if(n[f].value===s){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}a!==null||n[f].disabled||(a=n[f])}a!==null&&(a.selected=!0)}}function Lm(n,a,s){if(a!=null&&(a=""+Un(a),a!==n.value&&(n.value=a),s==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=s!=null?""+Un(s):""}function km(n,a,s,l){if(a==null){if(l!=null){if(s!=null)throw Error(r(92));if(ie(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),a=s}s=Un(a),n.defaultValue=s,l=n.textContent,l===s&&l!==""&&l!==null&&(n.value=l),Uc(n)}function pr(n,a){if(a){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=a;return}}n.textContent=a}var hC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wm(n,a,s){var l=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":l?n.setProperty(a,s):typeof s!="number"||s===0||hC.has(a)?a==="float"?n.cssFloat=s:n[a]=(""+s).trim():n[a]=s+"px"}function Mm(n,a,s){if(a!=null&&typeof a!="object")throw Error(r(62));if(n=n.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||a!=null&&a.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in a)l=a[f],a.hasOwnProperty(f)&&s[f]!==l&&wm(n,f,l)}else for(var d in a)a.hasOwnProperty(d)&&wm(n,d,a[d])}function zc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sl(n){return pC.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Ti(){}var jc=null;function Yc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var gr=null,Er=null;function Bm(n){var a=fr(n);if(a&&(n=a.stateNode)){var s=n[dn]||null;e:switch(n=a.stateNode,a.type){case"input":if(Hc(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Hn(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var l=s[a];if(l!==n&&l.form===n.form){var f=l[dn]||null;if(!f)throw Error(r(90));Hc(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<s.length;a++)l=s[a],l.form===n.form&&Im(l)}break e;case"textarea":Lm(n,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&mr(n,!!s.multiple,a,!1)}}}var qc=!1;function Pm(n,a,s){if(qc)return n(a,s);qc=!0;try{var l=n(a);return l}finally{if(qc=!1,(gr!==null||Er!==null)&&(oo(),gr&&(a=gr,n=Er,Er=gr=null,Bm(a),n)))for(a=0;a<n.length;a++)Bm(n[a])}}function xs(n,a){var s=n.stateNode;if(s===null)return null;var l=s[dn]||null;if(l===null)return null;s=l[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(r(231,a,typeof s));return s}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vc=!1;if(bi)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){Vc=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{Vc=!1}var Ki=null,Gc=null,Cl=null;function Um(){if(Cl)return Cl;var n,a=Gc,s=a.length,l,f="value"in Ki?Ki.value:Ki.textContent,d=f.length;for(n=0;n<s&&a[n]===f[n];n++);var y=s-n;for(l=1;l<=y&&a[s-l]===f[d-l];l++);return Cl=f.slice(n,1<l?1-l:void 0)}function Al(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function vl(){return!0}function Hm(){return!1}function hn(n){function a(s,l,f,d,y){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(s=n[C],this[C]=s?s(d):d[C]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?vl:Hm,this.isPropagationStopped=Hm,this}return T(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=vl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=vl)},persist:function(){},isPersistent:vl}),a}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xl=hn(Da),Rs=T({},Da,{view:0,detail:0}),gC=hn(Rs),Xc,Qc,Os,Nl=T({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Os&&(Os&&n.type==="mousemove"?(Xc=n.screenX-Os.screenX,Qc=n.screenY-Os.screenY):Qc=Xc=0,Os=n),Xc)},movementY:function(n){return"movementY"in n?n.movementY:Qc}}),Fm=hn(Nl),EC=T({},Nl,{dataTransfer:0}),_C=hn(EC),yC=T({},Rs,{relatedTarget:0}),Kc=hn(yC),TC=T({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),bC=hn(TC),SC=T({},Da,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),CC=hn(SC),AC=T({},Da,{data:0}),zm=hn(AC),vC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RC(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=NC[n])?!!a[n]:!1}function Wc(){return RC}var OC=T({},Rs,{key:function(n){if(n.key){var a=vC[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=Al(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?xC[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wc,charCode:function(n){return n.type==="keypress"?Al(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Al(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),IC=hn(OC),DC=T({},Nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jm=hn(DC),LC=T({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wc}),kC=hn(LC),wC=T({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),MC=hn(wC),BC=T({},Nl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),PC=hn(BC),UC=T({},Da,{newState:0,oldState:0}),HC=hn(UC),FC=[9,13,27,32],Zc=bi&&"CompositionEvent"in window,Is=null;bi&&"documentMode"in document&&(Is=document.documentMode);var zC=bi&&"TextEvent"in window&&!Is,Ym=bi&&(!Zc||Is&&8<Is&&11>=Is),qm=" ",Vm=!1;function Gm(n,a){switch(n){case"keyup":return FC.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xm(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var _r=!1;function jC(n,a){switch(n){case"compositionend":return Xm(a);case"keypress":return a.which!==32?null:(Vm=!0,qm);case"textInput":return n=a.data,n===qm&&Vm?null:n;default:return null}}function YC(n,a){if(_r)return n==="compositionend"||!Zc&&Gm(n,a)?(n=Um(),Cl=Gc=Ki=null,_r=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ym&&a.locale!=="ko"?null:a.data;default:return null}}var qC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qm(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!qC[n.type]:a==="textarea"}function Km(n,a,s,l){gr?Er?Er.push(l):Er=[l]:gr=l,a=Eo(a,"onChange"),0<a.length&&(s=new xl("onChange","change",null,s,l),n.push({event:s,listeners:a}))}var Ds=null,Ls=null;function VC(n){D1(n,0)}function Rl(n){var a=vs(n);if(Im(a))return n}function Wm(n,a){if(n==="change")return a}var Zm=!1;if(bi){var $c;if(bi){var Jc="oninput"in document;if(!Jc){var $m=document.createElement("div");$m.setAttribute("oninput","return;"),Jc=typeof $m.oninput=="function"}$c=Jc}else $c=!1;Zm=$c&&(!document.documentMode||9<document.documentMode)}function Jm(){Ds&&(Ds.detachEvent("onpropertychange",ep),Ls=Ds=null)}function ep(n){if(n.propertyName==="value"&&Rl(Ls)){var a=[];Km(a,Ls,n,Yc(n)),Pm(VC,a)}}function GC(n,a,s){n==="focusin"?(Jm(),Ds=a,Ls=s,Ds.attachEvent("onpropertychange",ep)):n==="focusout"&&Jm()}function XC(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Rl(Ls)}function QC(n,a){if(n==="click")return Rl(a)}function KC(n,a){if(n==="input"||n==="change")return Rl(a)}function WC(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var Rn=typeof Object.is=="function"?Object.is:WC;function ks(n,a){if(Rn(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var s=Object.keys(n),l=Object.keys(a);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!Ei.call(a,f)||!Rn(n[f],a[f]))return!1}return!0}function tp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function np(n,a){var s=tp(n);n=0;for(var l;s;){if(s.nodeType===3){if(l=n+s.textContent.length,n<=a&&l>=a)return{node:s,offset:a-n};n=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=tp(s)}}function ip(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?ip(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function ap(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=bl(n.document);a instanceof n.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)n=a.contentWindow;else break;a=bl(n.document)}return a}function ef(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var ZC=bi&&"documentMode"in document&&11>=document.documentMode,yr=null,tf=null,ws=null,nf=!1;function rp(n,a,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;nf||yr==null||yr!==bl(l)||(l=yr,"selectionStart"in l&&ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ws&&ks(ws,l)||(ws=l,l=Eo(tf,"onSelect"),0<l.length&&(a=new xl("onSelect","select",null,a,s),n.push({event:a,listeners:l}),a.target=yr)))}function La(n,a){var s={};return s[n.toLowerCase()]=a.toLowerCase(),s["Webkit"+n]="webkit"+a,s["Moz"+n]="moz"+a,s}var Tr={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionrun:La("Transition","TransitionRun"),transitionstart:La("Transition","TransitionStart"),transitioncancel:La("Transition","TransitionCancel"),transitionend:La("Transition","TransitionEnd")},af={},sp={};bi&&(sp=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);function ka(n){if(af[n])return af[n];if(!Tr[n])return n;var a=Tr[n],s;for(s in a)if(a.hasOwnProperty(s)&&s in sp)return af[n]=a[s];return n}var up=ka("animationend"),lp=ka("animationiteration"),op=ka("animationstart"),$C=ka("transitionrun"),JC=ka("transitionstart"),e3=ka("transitioncancel"),cp=ka("transitionend"),fp=new Map,rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rf.push("scrollEnd");function Jn(n,a){fp.set(n,a),Ia(a,[n])}var Ol=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Fn=[],br=0,sf=0;function Il(){for(var n=br,a=sf=br=0;a<n;){var s=Fn[a];Fn[a++]=null;var l=Fn[a];Fn[a++]=null;var f=Fn[a];Fn[a++]=null;var d=Fn[a];if(Fn[a++]=null,l!==null&&f!==null){var y=l.pending;y===null?f.next=f:(f.next=y.next,y.next=f),l.pending=f}d!==0&&dp(s,f,d)}}function Dl(n,a,s,l){Fn[br++]=n,Fn[br++]=a,Fn[br++]=s,Fn[br++]=l,sf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function uf(n,a,s,l){return Dl(n,a,s,l),Ll(n)}function wa(n,a){return Dl(n,null,null,a),Ll(n)}function dp(n,a,s){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s);for(var f=!1,d=n.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&a!==null&&(f=31-ct(s),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[a]:l.push(a),a.lane=s|536870912),d):null}function Ll(n){if(50<nu)throw nu=0,gd=null,Error(r(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var Sr={};function t3(n,a,s,l){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(n,a,s,l){return new t3(n,a,s,l)}function lf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Si(n,a){var s=n.alternate;return s===null?(s=On(n.tag,a,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=a,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,a=n.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function hp(n,a){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,a=s.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function kl(n,a,s,l,f,d){var y=0;if(l=n,typeof n=="function")lf(n)&&(y=1);else if(typeof n=="string")y=sA(n,s,_e.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Oe:return n=On(31,s,a,f),n.elementType=Oe,n.lanes=d,n;case Q:return Ma(s.children,f,d,a);case Z:y=8,f|=24;break;case q:return n=On(12,s,a,f|2),n.elementType=q,n.lanes=d,n;case ve:return n=On(13,s,a,f),n.elementType=ve,n.lanes=d,n;case G:return n=On(19,s,a,f),n.elementType=G,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case F:y=10;break e;case oe:y=9;break e;case ye:y=11;break e;case de:y=14;break e;case Se:y=16,l=null;break e}y=29,s=Error(r(130,n===null?"null":typeof n,"")),l=null}return a=On(y,s,a,f),a.elementType=n,a.type=l,a.lanes=d,a}function Ma(n,a,s,l){return n=On(7,n,l,a),n.lanes=s,n}function of(n,a,s){return n=On(6,n,null,a),n.lanes=s,n}function mp(n){var a=On(18,null,null,0);return a.stateNode=n,a}function cf(n,a,s){return a=On(4,n.children!==null?n.children:[],n.key,a),a.lanes=s,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var pp=new WeakMap;function zn(n,a){if(typeof n=="object"&&n!==null){var s=pp.get(n);return s!==void 0?s:(a={value:n,source:a,stack:lr(a)},pp.set(n,a),a)}return{value:n,source:a,stack:lr(a)}}var Cr=[],Ar=0,wl=null,Ms=0,jn=[],Yn=0,Wi=null,ui=1,li="";function Ci(n,a){Cr[Ar++]=Ms,Cr[Ar++]=wl,wl=n,Ms=a}function gp(n,a,s){jn[Yn++]=ui,jn[Yn++]=li,jn[Yn++]=Wi,Wi=n;var l=ui;n=li;var f=32-ct(l)-1;l&=~(1<<f),s+=1;var d=32-ct(a)+f;if(30<d){var y=f-f%5;d=(l&(1<<y)-1).toString(32),l>>=y,f-=y,ui=1<<32-ct(a)+f|s<<f|l,li=d+n}else ui=1<<d|s<<f|l,li=n}function ff(n){n.return!==null&&(Ci(n,1),gp(n,1,0))}function df(n){for(;n===wl;)wl=Cr[--Ar],Cr[Ar]=null,Ms=Cr[--Ar],Cr[Ar]=null;for(;n===Wi;)Wi=jn[--Yn],jn[Yn]=null,li=jn[--Yn],jn[Yn]=null,ui=jn[--Yn],jn[Yn]=null}function Ep(n,a){jn[Yn++]=ui,jn[Yn++]=li,jn[Yn++]=Wi,ui=a.id,li=a.overflow,Wi=n}var Zt=null,Tt=null,Ze=!1,Zi=null,qn=!1,hf=Error(r(519));function $i(n){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bs(zn(a,n)),hf}function _p(n){var a=n.stateNode,s=n.type,l=n.memoizedProps;switch(a[Wt]=n,a[dn]=l,s){case"dialog":Ge("cancel",a),Ge("close",a);break;case"iframe":case"object":case"embed":Ge("load",a);break;case"video":case"audio":for(s=0;s<au.length;s++)Ge(au[s],a);break;case"source":Ge("error",a);break;case"img":case"image":case"link":Ge("error",a),Ge("load",a);break;case"details":Ge("toggle",a);break;case"input":Ge("invalid",a),Dm(a,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ge("invalid",a);break;case"textarea":Ge("invalid",a),km(a,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||l.suppressHydrationWarning===!0||M1(a.textContent,s)?(l.popover!=null&&(Ge("beforetoggle",a),Ge("toggle",a)),l.onScroll!=null&&Ge("scroll",a),l.onScrollEnd!=null&&Ge("scrollend",a),l.onClick!=null&&(a.onclick=Ti),a=!0):a=!1,a||$i(n,!0)}function yp(n){for(Zt=n.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Zt=Zt.return}}function vr(n){if(n!==Zt)return!1;if(!Ze)return yp(n),Ze=!0,!1;var a=n.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Dd(n.type,n.memoizedProps)),s=!s),s&&Tt&&$i(n),yp(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Tt=q1(n)}else if(a===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Tt=q1(n)}else a===27?(a=Tt,da(n.type)?(n=Bd,Bd=null,Tt=n):Tt=a):Tt=Zt?Gn(n.stateNode.nextSibling):null;return!0}function Ba(){Tt=Zt=null,Ze=!1}function mf(){var n=Zi;return n!==null&&(En===null?En=n:En.push.apply(En,n),Zi=null),n}function Bs(n){Zi===null?Zi=[n]:Zi.push(n)}var pf=R(null),Pa=null,Ai=null;function Ji(n,a,s){v(pf,a._currentValue),a._currentValue=s}function vi(n){n._currentValue=pf.current,W(pf)}function gf(n,a,s){for(;n!==null;){var l=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,l!==null&&(l.childLanes|=a)):l!==null&&(l.childLanes&a)!==a&&(l.childLanes|=a),n===s)break;n=n.return}}function Ef(n,a,s,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var y=f.child;d=d.firstContext;e:for(;d!==null;){var C=d;d=f;for(var I=0;I<a.length;I++)if(C.context===a[I]){d.lanes|=s,C=d.alternate,C!==null&&(C.lanes|=s),gf(d.return,s,n),l||(y=null);break e}d=C.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(r(341));y.lanes|=s,d=y.alternate,d!==null&&(d.lanes|=s),gf(y,s,n),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===n){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function xr(n,a,s,l){n=null;for(var f=a,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var C=f.type;Rn(f.pendingProps.value,y.value)||(n!==null?n.push(C):n=[C])}}else if(f===ee.current){if(y=f.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(ou):n=[ou])}f=f.return}n!==null&&Ef(a,n,s,l),a.flags|=262144}function Ml(n){for(n=n.firstContext;n!==null;){if(!Rn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ua(n){Pa=n,Ai=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function $t(n){return Tp(Pa,n)}function Bl(n,a){return Pa===null&&Ua(n),Tp(n,a)}function Tp(n,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},Ai===null){if(n===null)throw Error(r(308));Ai=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else Ai=Ai.next=a;return s}var n3=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(s,l){n.push(l)}};this.abort=function(){a.aborted=!0,n.forEach(function(s){return s()})}},i3=e.unstable_scheduleCallback,a3=e.unstable_NormalPriority,kt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _f(){return{controller:new n3,data:new Map,refCount:0}}function Ps(n){n.refCount--,n.refCount===0&&i3(a3,function(){n.controller.abort()})}var Us=null,yf=0,Nr=0,Rr=null;function r3(n,a){if(Us===null){var s=Us=[];yf=0,Nr=Sd(),Rr={status:"pending",value:void 0,then:function(l){s.push(l)}}}return yf++,a.then(bp,bp),a}function bp(){if(--yf===0&&Us!==null){Rr!==null&&(Rr.status="fulfilled");var n=Us;Us=null,Nr=0,Rr=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function s3(n,a){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return n.then(function(){l.status="fulfilled",l.value=a;for(var f=0;f<s.length;f++)(0,s[f])(a)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var Sp=P.S;P.S=function(n,a){r1=ht(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&r3(n,a),Sp!==null&&Sp(n,a)};var Ha=R(null);function Tf(){var n=Ha.current;return n!==null?n:ft.pooledCache}function Pl(n,a){a===null?v(Ha,Ha.current):v(Ha,a.pool)}function Cp(){var n=Tf();return n===null?null:{parent:kt._currentValue,pool:n}}var Or=Error(r(460)),bf=Error(r(474)),Ul=Error(r(542)),Hl={then:function(){}};function Ap(n){return n=n.status,n==="fulfilled"||n==="rejected"}function vp(n,a,s){switch(s=n[s],s===void 0?n.push(a):s!==a&&(a.then(Ti,Ti),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Np(n),n;default:if(typeof a.status=="string")a.then(Ti,Ti);else{if(n=ft,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=a,n.status="pending",n.then(function(l){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=l}},function(l){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=l}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Np(n),n}throw za=a,Or}}function Fa(n){try{var a=n._init;return a(n._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(za=s,Or):s}}var za=null;function xp(){if(za===null)throw Error(r(459));var n=za;return za=null,n}function Np(n){if(n===Or||n===Ul)throw Error(r(483))}var Ir=null,Hs=0;function Fl(n){var a=Hs;return Hs+=1,Ir===null&&(Ir=[]),vp(Ir,n,a)}function Fs(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function zl(n,a){throw a.$$typeof===b?Error(r(525)):(n=Object.prototype.toString.call(a),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function Rp(n){function a(B,L){if(n){var z=B.deletions;z===null?(B.deletions=[L],B.flags|=16):z.push(L)}}function s(B,L){if(!n)return null;for(;L!==null;)a(B,L),L=L.sibling;return null}function l(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function f(B,L){return B=Si(B,L),B.index=0,B.sibling=null,B}function d(B,L,z){return B.index=z,n?(z=B.alternate,z!==null?(z=z.index,z<L?(B.flags|=67108866,L):z):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function y(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function C(B,L,z,ne){return L===null||L.tag!==6?(L=of(z,B.mode,ne),L.return=B,L):(L=f(L,z),L.return=B,L)}function I(B,L,z,ne){var Ne=z.type;return Ne===Q?$(B,L,z.props.children,ne,z.key):L!==null&&(L.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===Se&&Fa(Ne)===L.type)?(L=f(L,z.props),Fs(L,z),L.return=B,L):(L=kl(z.type,z.key,z.props,null,B.mode,ne),Fs(L,z),L.return=B,L)}function j(B,L,z,ne){return L===null||L.tag!==4||L.stateNode.containerInfo!==z.containerInfo||L.stateNode.implementation!==z.implementation?(L=cf(z,B.mode,ne),L.return=B,L):(L=f(L,z.children||[]),L.return=B,L)}function $(B,L,z,ne,Ne){return L===null||L.tag!==7?(L=Ma(z,B.mode,ne,Ne),L.return=B,L):(L=f(L,z),L.return=B,L)}function ae(B,L,z){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=of(""+L,B.mode,z),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case S:return z=kl(L.type,L.key,L.props,null,B.mode,z),Fs(z,L),z.return=B,z;case w:return L=cf(L,B.mode,z),L.return=B,L;case Se:return L=Fa(L),ae(B,L,z)}if(ie(L)||V(L))return L=Ma(L,B.mode,z,null),L.return=B,L;if(typeof L.then=="function")return ae(B,Fl(L),z);if(L.$$typeof===F)return ae(B,Bl(B,L),z);zl(B,L)}return null}function Y(B,L,z,ne){var Ne=L!==null?L.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return Ne!==null?null:C(B,L,""+z,ne);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return z.key===Ne?I(B,L,z,ne):null;case w:return z.key===Ne?j(B,L,z,ne):null;case Se:return z=Fa(z),Y(B,L,z,ne)}if(ie(z)||V(z))return Ne!==null?null:$(B,L,z,ne,null);if(typeof z.then=="function")return Y(B,L,Fl(z),ne);if(z.$$typeof===F)return Y(B,L,Bl(B,z),ne);zl(B,z)}return null}function X(B,L,z,ne,Ne){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return B=B.get(z)||null,C(L,B,""+ne,Ne);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case S:return B=B.get(ne.key===null?z:ne.key)||null,I(L,B,ne,Ne);case w:return B=B.get(ne.key===null?z:ne.key)||null,j(L,B,ne,Ne);case Se:return ne=Fa(ne),X(B,L,z,ne,Ne)}if(ie(ne)||V(ne))return B=B.get(z)||null,$(L,B,ne,Ne,null);if(typeof ne.then=="function")return X(B,L,z,Fl(ne),Ne);if(ne.$$typeof===F)return X(B,L,z,Bl(L,ne),Ne);zl(L,ne)}return null}function be(B,L,z,ne){for(var Ne=null,$e=null,Ce=L,He=L=0,Ke=null;Ce!==null&&He<z.length;He++){Ce.index>He?(Ke=Ce,Ce=null):Ke=Ce.sibling;var Je=Y(B,Ce,z[He],ne);if(Je===null){Ce===null&&(Ce=Ke);break}n&&Ce&&Je.alternate===null&&a(B,Ce),L=d(Je,L,He),$e===null?Ne=Je:$e.sibling=Je,$e=Je,Ce=Ke}if(He===z.length)return s(B,Ce),Ze&&Ci(B,He),Ne;if(Ce===null){for(;He<z.length;He++)Ce=ae(B,z[He],ne),Ce!==null&&(L=d(Ce,L,He),$e===null?Ne=Ce:$e.sibling=Ce,$e=Ce);return Ze&&Ci(B,He),Ne}for(Ce=l(Ce);He<z.length;He++)Ke=X(Ce,B,He,z[He],ne),Ke!==null&&(n&&Ke.alternate!==null&&Ce.delete(Ke.key===null?He:Ke.key),L=d(Ke,L,He),$e===null?Ne=Ke:$e.sibling=Ke,$e=Ke);return n&&Ce.forEach(function(Ea){return a(B,Ea)}),Ze&&Ci(B,He),Ne}function Ie(B,L,z,ne){if(z==null)throw Error(r(151));for(var Ne=null,$e=null,Ce=L,He=L=0,Ke=null,Je=z.next();Ce!==null&&!Je.done;He++,Je=z.next()){Ce.index>He?(Ke=Ce,Ce=null):Ke=Ce.sibling;var Ea=Y(B,Ce,Je.value,ne);if(Ea===null){Ce===null&&(Ce=Ke);break}n&&Ce&&Ea.alternate===null&&a(B,Ce),L=d(Ea,L,He),$e===null?Ne=Ea:$e.sibling=Ea,$e=Ea,Ce=Ke}if(Je.done)return s(B,Ce),Ze&&Ci(B,He),Ne;if(Ce===null){for(;!Je.done;He++,Je=z.next())Je=ae(B,Je.value,ne),Je!==null&&(L=d(Je,L,He),$e===null?Ne=Je:$e.sibling=Je,$e=Je);return Ze&&Ci(B,He),Ne}for(Ce=l(Ce);!Je.done;He++,Je=z.next())Je=X(Ce,B,He,Je.value,ne),Je!==null&&(n&&Je.alternate!==null&&Ce.delete(Je.key===null?He:Je.key),L=d(Je,L,He),$e===null?Ne=Je:$e.sibling=Je,$e=Je);return n&&Ce.forEach(function(EA){return a(B,EA)}),Ze&&Ci(B,He),Ne}function ot(B,L,z,ne){if(typeof z=="object"&&z!==null&&z.type===Q&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case S:e:{for(var Ne=z.key;L!==null;){if(L.key===Ne){if(Ne=z.type,Ne===Q){if(L.tag===7){s(B,L.sibling),ne=f(L,z.props.children),ne.return=B,B=ne;break e}}else if(L.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===Se&&Fa(Ne)===L.type){s(B,L.sibling),ne=f(L,z.props),Fs(ne,z),ne.return=B,B=ne;break e}s(B,L);break}else a(B,L);L=L.sibling}z.type===Q?(ne=Ma(z.props.children,B.mode,ne,z.key),ne.return=B,B=ne):(ne=kl(z.type,z.key,z.props,null,B.mode,ne),Fs(ne,z),ne.return=B,B=ne)}return y(B);case w:e:{for(Ne=z.key;L!==null;){if(L.key===Ne)if(L.tag===4&&L.stateNode.containerInfo===z.containerInfo&&L.stateNode.implementation===z.implementation){s(B,L.sibling),ne=f(L,z.children||[]),ne.return=B,B=ne;break e}else{s(B,L);break}else a(B,L);L=L.sibling}ne=cf(z,B.mode,ne),ne.return=B,B=ne}return y(B);case Se:return z=Fa(z),ot(B,L,z,ne)}if(ie(z))return be(B,L,z,ne);if(V(z)){if(Ne=V(z),typeof Ne!="function")throw Error(r(150));return z=Ne.call(z),Ie(B,L,z,ne)}if(typeof z.then=="function")return ot(B,L,Fl(z),ne);if(z.$$typeof===F)return ot(B,L,Bl(B,z),ne);zl(B,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,L!==null&&L.tag===6?(s(B,L.sibling),ne=f(L,z),ne.return=B,B=ne):(s(B,L),ne=of(z,B.mode,ne),ne.return=B,B=ne),y(B)):s(B,L)}return function(B,L,z,ne){try{Hs=0;var Ne=ot(B,L,z,ne);return Ir=null,Ne}catch(Ce){if(Ce===Or||Ce===Ul)throw Ce;var $e=On(29,Ce,null,B.mode);return $e.lanes=ne,$e.return=B,$e}finally{}}}var ja=Rp(!0),Op=Rp(!1),ea=!1;function Sf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cf(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ta(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function na(n,a,s){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var f=l.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),l.pending=a,a=Ll(n),dp(n,null,s),a}return Dl(n,l,a,s),Ll(n)}function zs(n,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var l=a.lanes;l&=n.pendingLanes,s|=l,a.lanes=s,Tm(n,s)}}function Af(n,a){var s=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=y:d=d.next=y,s=s.next}while(s!==null);d===null?f=d=a:d=d.next=a}else f=d=a;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=a:n.next=a,s.lastBaseUpdate=a}var vf=!1;function js(){if(vf){var n=Rr;if(n!==null)throw n}}function Ys(n,a,s,l){vf=!1;var f=n.updateQueue;ea=!1;var d=f.firstBaseUpdate,y=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var I=C,j=I.next;I.next=null,y===null?d=j:y.next=j,y=I;var $=n.alternate;$!==null&&($=$.updateQueue,C=$.lastBaseUpdate,C!==y&&(C===null?$.firstBaseUpdate=j:C.next=j,$.lastBaseUpdate=I))}if(d!==null){var ae=f.baseState;y=0,$=j=I=null,C=d;do{var Y=C.lane&-536870913,X=Y!==C.lane;if(X?(Qe&Y)===Y:(l&Y)===Y){Y!==0&&Y===Nr&&(vf=!0),$!==null&&($=$.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var be=n,Ie=C;Y=a;var ot=s;switch(Ie.tag){case 1:if(be=Ie.payload,typeof be=="function"){ae=be.call(ot,ae,Y);break e}ae=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ie.payload,Y=typeof be=="function"?be.call(ot,ae,Y):be,Y==null)break e;ae=T({},ae,Y);break e;case 2:ea=!0}}Y=C.callback,Y!==null&&(n.flags|=64,X&&(n.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:C.tag,payload:C.payload,callback:C.callback,next:null},$===null?(j=$=X,I=ae):$=$.next=X,y|=Y;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;X=C,C=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);$===null&&(I=ae),f.baseState=I,f.firstBaseUpdate=j,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),ua|=y,n.lanes=y,n.memoizedState=ae}}function Ip(n,a){if(typeof n!="function")throw Error(r(191,n));n.call(a)}function Dp(n,a){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)Ip(s[n],a)}var Dr=R(null),jl=R(0);function Lp(n,a){n=wi,v(jl,n),v(Dr,a),wi=n|a.baseLanes}function xf(){v(jl,wi),v(Dr,Dr.current)}function Nf(){wi=jl.current,W(Dr),W(jl)}var In=R(null),Vn=null;function ia(n){var a=n.alternate;v(Ot,Ot.current&1),v(In,n),Vn===null&&(a===null||Dr.current!==null||a.memoizedState!==null)&&(Vn=n)}function Rf(n){v(Ot,Ot.current),v(In,n),Vn===null&&(Vn=n)}function kp(n){n.tag===22?(v(Ot,Ot.current),v(In,n),Vn===null&&(Vn=n)):aa()}function aa(){v(Ot,Ot.current),v(In,In.current)}function Dn(n){W(In),Vn===n&&(Vn=null),W(Ot)}var Ot=R(0);function Yl(n){for(var a=n;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||wd(s)||Md(s)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var xi=0,Be=null,ut=null,wt=null,ql=!1,Lr=!1,Ya=!1,Vl=0,qs=0,kr=null,u3=0;function xt(){throw Error(r(321))}function Of(n,a){if(a===null)return!1;for(var s=0;s<a.length&&s<n.length;s++)if(!Rn(n[s],a[s]))return!1;return!0}function If(n,a,s,l,f,d){return xi=d,Be=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,P.H=n===null||n.memoizedState===null?gg:Vf,Ya=!1,d=s(l,f),Ya=!1,Lr&&(d=Mp(a,s,l,f)),wp(n),d}function wp(n){P.H=Xs;var a=ut!==null&&ut.next!==null;if(xi=0,wt=ut=Be=null,ql=!1,qs=0,kr=null,a)throw Error(r(300));n===null||Mt||(n=n.dependencies,n!==null&&Ml(n)&&(Mt=!0))}function Mp(n,a,s,l){Be=n;var f=0;do{if(Lr&&(kr=null),qs=0,Lr=!1,25<=f)throw Error(r(301));if(f+=1,wt=ut=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}P.H=Eg,d=a(s,l)}while(Lr);return d}function l3(){var n=P.H,a=n.useState()[0];return a=typeof a.then=="function"?Vs(a):a,n=n.useState()[0],(ut!==null?ut.memoizedState:null)!==n&&(Be.flags|=1024),a}function Df(){var n=Vl!==0;return Vl=0,n}function Lf(n,a,s){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~s}function kf(n){if(ql){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ql=!1}xi=0,wt=ut=Be=null,Lr=!1,qs=Vl=0,kr=null}function cn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Be.memoizedState=wt=n:wt=wt.next=n,wt}function It(){if(ut===null){var n=Be.alternate;n=n!==null?n.memoizedState:null}else n=ut.next;var a=wt===null?Be.memoizedState:wt.next;if(a!==null)wt=a,ut=n;else{if(n===null)throw Be.alternate===null?Error(r(467)):Error(r(310));ut=n,n={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},wt===null?Be.memoizedState=wt=n:wt=wt.next=n}return wt}function Gl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vs(n){var a=qs;return qs+=1,kr===null&&(kr=[]),n=vp(kr,n,a),a=Be,(wt===null?a.memoizedState:wt.next)===null&&(a=a.alternate,P.H=a===null||a.memoizedState===null?gg:Vf),n}function Xl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Vs(n);if(n.$$typeof===F)return $t(n)}throw Error(r(438,String(n)))}function wf(n){var a=null,s=Be.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var l=Be.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(a={data:l.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=Gl(),Be.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(n),l=0;l<n;l++)s[l]=xe;return a.index++,s}function Ni(n,a){return typeof a=="function"?a(n):a}function Ql(n){var a=It();return Mf(a,ut,n)}function Mf(n,a,s){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var y=f.next;f.next=d.next,d.next=y}a.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{a=f.next;var C=y=null,I=null,j=a,$=!1;do{var ae=j.lane&-536870913;if(ae!==j.lane?(Qe&ae)===ae:(xi&ae)===ae){var Y=j.revertLane;if(Y===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),ae===Nr&&($=!0);else if((xi&Y)===Y){j=j.next,Y===Nr&&($=!0);continue}else ae={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(C=I=ae,y=d):I=I.next=ae,Be.lanes|=Y,ua|=Y;ae=j.action,Ya&&s(d,ae),d=j.hasEagerState?j.eagerState:s(d,ae)}else Y={lane:ae,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(C=I=Y,y=d):I=I.next=Y,Be.lanes|=ae,ua|=ae;j=j.next}while(j!==null&&j!==a);if(I===null?y=d:I.next=C,!Rn(d,n.memoizedState)&&(Mt=!0,$&&(s=Rr,s!==null)))throw s;n.memoizedState=d,n.baseState=y,n.baseQueue=I,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Bf(n){var a=It(),s=a.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=n;var l=s.dispatch,f=s.pending,d=a.memoizedState;if(f!==null){s.pending=null;var y=f=f.next;do d=n(d,y.action),y=y.next;while(y!==f);Rn(d,a.memoizedState)||(Mt=!0),a.memoizedState=d,a.baseQueue===null&&(a.baseState=d),s.lastRenderedState=d}return[d,l]}function Bp(n,a,s){var l=Be,f=It(),d=Ze;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=a();var y=!Rn((ut||f).memoizedState,s);if(y&&(f.memoizedState=s,Mt=!0),f=f.queue,Hf(Hp.bind(null,l,f,n),[n]),f.getSnapshot!==a||y||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,wr(9,{destroy:void 0},Up.bind(null,l,f,s,a),null),ft===null)throw Error(r(349));d||(xi&127)!==0||Pp(l,a,s)}return s}function Pp(n,a,s){n.flags|=16384,n={getSnapshot:a,value:s},a=Be.updateQueue,a===null?(a=Gl(),Be.updateQueue=a,a.stores=[n]):(s=a.stores,s===null?a.stores=[n]:s.push(n))}function Up(n,a,s,l){a.value=s,a.getSnapshot=l,Fp(a)&&zp(n)}function Hp(n,a,s){return s(function(){Fp(a)&&zp(n)})}function Fp(n){var a=n.getSnapshot;n=n.value;try{var s=a();return!Rn(n,s)}catch{return!0}}function zp(n){var a=wa(n,2);a!==null&&_n(a,n,2)}function Pf(n){var a=cn();if(typeof n=="function"){var s=n;if(n=s(),Ya){fn(!0);try{s()}finally{fn(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:n},a}function jp(n,a,s,l){return n.baseState=s,Mf(n,ut,typeof l=="function"?l:Ni)}function o3(n,a,s,l,f){if(Zl(n))throw Error(r(485));if(n=a.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};P.T!==null?s(!0):d.isTransition=!1,l(d),s=a.pending,s===null?(d.next=a.pending=d,Yp(a,d)):(d.next=s.next,a.pending=s.next=d)}}function Yp(n,a){var s=a.action,l=a.payload,f=n.state;if(a.isTransition){var d=P.T,y={};P.T=y;try{var C=s(f,l),I=P.S;I!==null&&I(y,C),qp(n,a,C)}catch(j){Uf(n,a,j)}finally{d!==null&&y.types!==null&&(d.types=y.types),P.T=d}}else try{d=s(f,l),qp(n,a,d)}catch(j){Uf(n,a,j)}}function qp(n,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Vp(n,a,l)},function(l){return Uf(n,a,l)}):Vp(n,a,s)}function Vp(n,a,s){a.status="fulfilled",a.value=s,Gp(a),n.state=s,a=n.pending,a!==null&&(s=a.next,s===a?n.pending=null:(s=s.next,a.next=s,Yp(n,s)))}function Uf(n,a,s){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do a.status="rejected",a.reason=s,Gp(a),a=a.next;while(a!==l)}n.action=null}function Gp(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function Xp(n,a){return a}function Qp(n,a){if(Ze){var s=ft.formState;if(s!==null){e:{var l=Be;if(Ze){if(Tt){t:{for(var f=Tt,d=qn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Gn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Tt=Gn(f.nextSibling),l=f.data==="F!";break e}}$i(l)}l=!1}l&&(a=s[0])}}return s=cn(),s.memoizedState=s.baseState=a,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xp,lastRenderedState:a},s.queue=l,s=hg.bind(null,Be,l),l.dispatch=s,l=Pf(!1),d=qf.bind(null,Be,!1,l.queue),l=cn(),f={state:a,dispatch:null,action:n,pending:null},l.queue=f,s=o3.bind(null,Be,f,d,s),f.dispatch=s,l.memoizedState=n,[a,s,!1]}function Kp(n){var a=It();return Wp(a,ut,n)}function Wp(n,a,s){if(a=Mf(n,a,Xp)[0],n=Ql(Ni)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var l=Vs(a)}catch(y){throw y===Or?Ul:y}else l=a;a=It();var f=a.queue,d=f.dispatch;return s!==a.memoizedState&&(Be.flags|=2048,wr(9,{destroy:void 0},c3.bind(null,f,s),null)),[l,d,n]}function c3(n,a){n.action=a}function Zp(n){var a=It(),s=ut;if(s!==null)return Wp(a,s,n);It(),a=a.memoizedState,s=It();var l=s.queue.dispatch;return s.memoizedState=n,[a,l,!1]}function wr(n,a,s,l){return n={tag:n,create:s,deps:l,inst:a,next:null},a=Be.updateQueue,a===null&&(a=Gl(),Be.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=n.next=n:(l=s.next,s.next=n,n.next=l,a.lastEffect=n),n}function $p(){return It().memoizedState}function Kl(n,a,s,l){var f=cn();Be.flags|=n,f.memoizedState=wr(1|a,{destroy:void 0},s,l===void 0?null:l)}function Wl(n,a,s,l){var f=It();l=l===void 0?null:l;var d=f.memoizedState.inst;ut!==null&&l!==null&&Of(l,ut.memoizedState.deps)?f.memoizedState=wr(a,d,s,l):(Be.flags|=n,f.memoizedState=wr(1|a,d,s,l))}function Jp(n,a){Kl(8390656,8,n,a)}function Hf(n,a){Wl(2048,8,n,a)}function f3(n){Be.flags|=4;var a=Be.updateQueue;if(a===null)a=Gl(),Be.updateQueue=a,a.events=[n];else{var s=a.events;s===null?a.events=[n]:s.push(n)}}function eg(n){var a=It().memoizedState;return f3({ref:a,nextImpl:n}),function(){if((et&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function tg(n,a){return Wl(4,2,n,a)}function ng(n,a){return Wl(4,4,n,a)}function ig(n,a){if(typeof a=="function"){n=n();var s=a(n);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function ag(n,a,s){s=s!=null?s.concat([n]):null,Wl(4,4,ig.bind(null,a,n),s)}function Ff(){}function rg(n,a){var s=It();a=a===void 0?null:a;var l=s.memoizedState;return a!==null&&Of(a,l[1])?l[0]:(s.memoizedState=[n,a],n)}function sg(n,a){var s=It();a=a===void 0?null:a;var l=s.memoizedState;if(a!==null&&Of(a,l[1]))return l[0];if(l=n(),Ya){fn(!0);try{n()}finally{fn(!1)}}return s.memoizedState=[l,a],l}function zf(n,a,s){return s===void 0||(xi&1073741824)!==0&&(Qe&261930)===0?n.memoizedState=a:(n.memoizedState=s,n=u1(),Be.lanes|=n,ua|=n,s)}function ug(n,a,s,l){return Rn(s,a)?s:Dr.current!==null?(n=zf(n,s,l),Rn(n,a)||(Mt=!0),n):(xi&42)===0||(xi&1073741824)!==0&&(Qe&261930)===0?(Mt=!0,n.memoizedState=s):(n=u1(),Be.lanes|=n,ua|=n,a)}function lg(n,a,s,l,f){var d=k.p;k.p=d!==0&&8>d?d:8;var y=P.T,C={};P.T=C,qf(n,!1,a,s);try{var I=f(),j=P.S;if(j!==null&&j(C,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var $=s3(I,l);Gs(n,a,$,wn(n))}else Gs(n,a,l,wn(n))}catch(ae){Gs(n,a,{then:function(){},status:"rejected",reason:ae},wn())}finally{k.p=d,y!==null&&C.types!==null&&(y.types=C.types),P.T=y}}function d3(){}function jf(n,a,s,l){if(n.tag!==5)throw Error(r(476));var f=og(n).queue;lg(n,f,a,te,s===null?d3:function(){return cg(n),s(l)})}function og(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:te},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:s},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function cg(n){var a=og(n);a.next===null&&(a=n.alternate.memoizedState),Gs(n,a.next.queue,{},wn())}function Yf(){return $t(ou)}function fg(){return It().memoizedState}function dg(){return It().memoizedState}function h3(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var s=wn();n=ta(s);var l=na(a,n,s);l!==null&&(_n(l,a,s),zs(l,a,s)),a={cache:_f()},n.payload=a;return}a=a.return}}function m3(n,a,s){var l=wn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Zl(n)?mg(a,s):(s=uf(n,a,s,l),s!==null&&(_n(s,n,l),pg(s,a,l)))}function hg(n,a,s){var l=wn();Gs(n,a,s,l)}function Gs(n,a,s,l){var f={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Zl(n))mg(a,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=a.lastRenderedReducer,d!==null))try{var y=a.lastRenderedState,C=d(y,s);if(f.hasEagerState=!0,f.eagerState=C,Rn(C,y))return Dl(n,a,f,0),ft===null&&Il(),!1}catch{}finally{}if(s=uf(n,a,f,l),s!==null)return _n(s,n,l),pg(s,a,l),!0}return!1}function qf(n,a,s,l){if(l={lane:2,revertLane:Sd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Zl(n)){if(a)throw Error(r(479))}else a=uf(n,s,l,2),a!==null&&_n(a,n,2)}function Zl(n){var a=n.alternate;return n===Be||a!==null&&a===Be}function mg(n,a){Lr=ql=!0;var s=n.pending;s===null?a.next=a:(a.next=s.next,s.next=a),n.pending=a}function pg(n,a,s){if((s&4194048)!==0){var l=a.lanes;l&=n.pendingLanes,s|=l,a.lanes=s,Tm(n,s)}}var Xs={readContext:$t,use:Xl,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};Xs.useEffectEvent=xt;var gg={readContext:$t,use:Xl,useCallback:function(n,a){return cn().memoizedState=[n,a===void 0?null:a],n},useContext:$t,useEffect:Jp,useImperativeHandle:function(n,a,s){s=s!=null?s.concat([n]):null,Kl(4194308,4,ig.bind(null,a,n),s)},useLayoutEffect:function(n,a){return Kl(4194308,4,n,a)},useInsertionEffect:function(n,a){Kl(4,2,n,a)},useMemo:function(n,a){var s=cn();a=a===void 0?null:a;var l=n();if(Ya){fn(!0);try{n()}finally{fn(!1)}}return s.memoizedState=[l,a],l},useReducer:function(n,a,s){var l=cn();if(s!==void 0){var f=s(a);if(Ya){fn(!0);try{s(a)}finally{fn(!1)}}}else f=a;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=m3.bind(null,Be,n),[l.memoizedState,n]},useRef:function(n){var a=cn();return n={current:n},a.memoizedState=n},useState:function(n){n=Pf(n);var a=n.queue,s=hg.bind(null,Be,a);return a.dispatch=s,[n.memoizedState,s]},useDebugValue:Ff,useDeferredValue:function(n,a){var s=cn();return zf(s,n,a)},useTransition:function(){var n=Pf(!1);return n=lg.bind(null,Be,n.queue,!0,!1),cn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,s){var l=Be,f=cn();if(Ze){if(s===void 0)throw Error(r(407));s=s()}else{if(s=a(),ft===null)throw Error(r(349));(Qe&127)!==0||Pp(l,a,s)}f.memoizedState=s;var d={value:s,getSnapshot:a};return f.queue=d,Jp(Hp.bind(null,l,d,n),[n]),l.flags|=2048,wr(9,{destroy:void 0},Up.bind(null,l,d,s,a),null),s},useId:function(){var n=cn(),a=ft.identifierPrefix;if(Ze){var s=li,l=ui;s=(l&~(1<<32-ct(l)-1)).toString(32)+s,a="_"+a+"R_"+s,s=Vl++,0<s&&(a+="H"+s.toString(32)),a+="_"}else s=u3++,a="_"+a+"r_"+s.toString(32)+"_";return n.memoizedState=a},useHostTransitionStatus:Yf,useFormState:Qp,useActionState:Qp,useOptimistic:function(n){var a=cn();a.memoizedState=a.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=qf.bind(null,Be,!0,s),s.dispatch=a,[n,a]},useMemoCache:wf,useCacheRefresh:function(){return cn().memoizedState=h3.bind(null,Be)},useEffectEvent:function(n){var a=cn(),s={impl:n};return a.memoizedState=s,function(){if((et&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Vf={readContext:$t,use:Xl,useCallback:rg,useContext:$t,useEffect:Hf,useImperativeHandle:ag,useInsertionEffect:tg,useLayoutEffect:ng,useMemo:sg,useReducer:Ql,useRef:$p,useState:function(){return Ql(Ni)},useDebugValue:Ff,useDeferredValue:function(n,a){var s=It();return ug(s,ut.memoizedState,n,a)},useTransition:function(){var n=Ql(Ni)[0],a=It().memoizedState;return[typeof n=="boolean"?n:Vs(n),a]},useSyncExternalStore:Bp,useId:fg,useHostTransitionStatus:Yf,useFormState:Kp,useActionState:Kp,useOptimistic:function(n,a){var s=It();return jp(s,ut,n,a)},useMemoCache:wf,useCacheRefresh:dg};Vf.useEffectEvent=eg;var Eg={readContext:$t,use:Xl,useCallback:rg,useContext:$t,useEffect:Hf,useImperativeHandle:ag,useInsertionEffect:tg,useLayoutEffect:ng,useMemo:sg,useReducer:Bf,useRef:$p,useState:function(){return Bf(Ni)},useDebugValue:Ff,useDeferredValue:function(n,a){var s=It();return ut===null?zf(s,n,a):ug(s,ut.memoizedState,n,a)},useTransition:function(){var n=Bf(Ni)[0],a=It().memoizedState;return[typeof n=="boolean"?n:Vs(n),a]},useSyncExternalStore:Bp,useId:fg,useHostTransitionStatus:Yf,useFormState:Zp,useActionState:Zp,useOptimistic:function(n,a){var s=It();return ut!==null?jp(s,ut,n,a):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:wf,useCacheRefresh:dg};Eg.useEffectEvent=eg;function Gf(n,a,s,l){a=n.memoizedState,s=s(l,a),s=s==null?a:T({},a,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var Xf={enqueueSetState:function(n,a,s){n=n._reactInternals;var l=wn(),f=ta(l);f.payload=a,s!=null&&(f.callback=s),a=na(n,f,l),a!==null&&(_n(a,n,l),zs(a,n,l))},enqueueReplaceState:function(n,a,s){n=n._reactInternals;var l=wn(),f=ta(l);f.tag=1,f.payload=a,s!=null&&(f.callback=s),a=na(n,f,l),a!==null&&(_n(a,n,l),zs(a,n,l))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var s=wn(),l=ta(s);l.tag=2,a!=null&&(l.callback=a),a=na(n,l,s),a!==null&&(_n(a,n,s),zs(a,n,s))}};function _g(n,a,s,l,f,d,y){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,y):a.prototype&&a.prototype.isPureReactComponent?!ks(s,l)||!ks(f,d):!0}function yg(n,a,s,l){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,l),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,l),a.state!==n&&Xf.enqueueReplaceState(a,a.state,null)}function qa(n,a){var s=a;if("ref"in a){s={};for(var l in a)l!=="ref"&&(s[l]=a[l])}if(n=n.defaultProps){s===a&&(s=T({},s));for(var f in n)s[f]===void 0&&(s[f]=n[f])}return s}function Tg(n){Ol(n)}function bg(n){console.error(n)}function Sg(n){Ol(n)}function $l(n,a){try{var s=n.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(l){setTimeout(function(){throw l})}}function Cg(n,a,s){try{var l=n.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Qf(n,a,s){return s=ta(s),s.tag=3,s.payload={element:null},s.callback=function(){$l(n,a)},s}function Ag(n){return n=ta(n),n.tag=3,n}function vg(n,a,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){Cg(a,s,l)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(n.callback=function(){Cg(a,s,l),typeof f!="function"&&(la===null?la=new Set([this]):la.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function p3(n,a,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(a=s.alternate,a!==null&&xr(a,s,f,!0),s=In.current,s!==null){switch(s.tag){case 31:case 13:return Vn===null?co():s.alternate===null&&Nt===0&&(Nt=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===Hl?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([l]):a.add(l),yd(n,l,f)),!1;case 22:return s.flags|=65536,l===Hl?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([l]):s.add(l)),yd(n,l,f)),!1}throw Error(r(435,s.tag))}return yd(n,l,f),co(),!1}if(Ze)return a=In.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,l!==hf&&(n=Error(r(422),{cause:l}),Bs(zn(n,s)))):(l!==hf&&(a=Error(r(423),{cause:l}),Bs(zn(a,s))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=zn(l,s),f=Qf(n.stateNode,l,f),Af(n,f),Nt!==4&&(Nt=2)),!1;var d=Error(r(520),{cause:l});if(d=zn(d,s),tu===null?tu=[d]:tu.push(d),Nt!==4&&(Nt=2),a===null)return!0;l=zn(l,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,n=f&-f,s.lanes|=n,n=Qf(s.stateNode,l,n),Af(s,n),!1;case 1:if(a=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(la===null||!la.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Ag(f),vg(f,n,s,l),Af(s,f),!1}s=s.return}while(s!==null);return!1}var Kf=Error(r(461)),Mt=!1;function Jt(n,a,s,l){a.child=n===null?Op(a,null,s,l):ja(a,n.child,s,l)}function xg(n,a,s,l,f){s=s.render;var d=a.ref;if("ref"in l){var y={};for(var C in l)C!=="ref"&&(y[C]=l[C])}else y=l;return Ua(a),l=If(n,a,s,y,d,f),C=Df(),n!==null&&!Mt?(Lf(n,a,f),Ri(n,a,f)):(Ze&&C&&ff(a),a.flags|=1,Jt(n,a,l,f),a.child)}function Ng(n,a,s,l,f){if(n===null){var d=s.type;return typeof d=="function"&&!lf(d)&&d.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=d,Rg(n,a,d,l,f)):(n=kl(s.type,null,l,a,a.mode,f),n.ref=a.ref,n.return=a,a.child=n)}if(d=n.child,!id(n,f)){var y=d.memoizedProps;if(s=s.compare,s=s!==null?s:ks,s(y,l)&&n.ref===a.ref)return Ri(n,a,f)}return a.flags|=1,n=Si(d,l),n.ref=a.ref,n.return=a,a.child=n}function Rg(n,a,s,l,f){if(n!==null){var d=n.memoizedProps;if(ks(d,l)&&n.ref===a.ref)if(Mt=!1,a.pendingProps=l=d,id(n,f))(n.flags&131072)!==0&&(Mt=!0);else return a.lanes=n.lanes,Ri(n,a,f)}return Wf(n,a,s,l,f)}function Og(n,a,s,l){var f=l.children,d=n!==null?n.memoizedState:null;if(n===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((a.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,n!==null){for(l=a.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,a.child=null;return Ig(n,a,d,s,l)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&Pl(a,d!==null?d.cachePool:null),d!==null?Lp(a,d):xf(),kp(a);else return l=a.lanes=536870912,Ig(n,a,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(Pl(a,d.cachePool),Lp(a,d),aa(),a.memoizedState=null):(n!==null&&Pl(a,null),xf(),aa());return Jt(n,a,f,s),a.child}function Qs(n,a){return n!==null&&n.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Ig(n,a,s,l,f){var d=Tf();return d=d===null?null:{parent:kt._currentValue,pool:d},a.memoizedState={baseLanes:s,cachePool:d},n!==null&&Pl(a,null),xf(),kp(a),n!==null&&xr(n,a,l,!0),a.childLanes=f,null}function Jl(n,a){return a=to({mode:a.mode,children:a.children},n.mode),a.ref=n.ref,n.child=a,a.return=n,a}function Dg(n,a,s){return ja(a,n.child,null,s),n=Jl(a,a.pendingProps),n.flags|=2,Dn(a),a.memoizedState=null,n}function g3(n,a,s){var l=a.pendingProps,f=(a.flags&128)!==0;if(a.flags&=-129,n===null){if(Ze){if(l.mode==="hidden")return n=Jl(a,l),a.lanes=536870912,Qs(null,n);if(Rf(a),(n=Tt)?(n=Y1(n,qn),n=n!==null&&n.data==="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:Wi!==null?{id:ui,overflow:li}:null,retryLane:536870912,hydrationErrors:null},s=mp(n),s.return=a,a.child=s,Zt=a,Tt=null)):n=null,n===null)throw $i(a);return a.lanes=536870912,null}return Jl(a,l)}var d=n.memoizedState;if(d!==null){var y=d.dehydrated;if(Rf(a),f)if(a.flags&256)a.flags&=-257,a=Dg(n,a,s);else if(a.memoizedState!==null)a.child=n.child,a.flags|=128,a=null;else throw Error(r(558));else if(Mt||xr(n,a,s,!1),f=(s&n.childLanes)!==0,Mt||f){if(l=ft,l!==null&&(y=bm(l,s),y!==0&&y!==d.retryLane))throw d.retryLane=y,wa(n,y),_n(l,n,y),Kf;co(),a=Dg(n,a,s)}else n=d.treeContext,Tt=Gn(y.nextSibling),Zt=a,Ze=!0,Zi=null,qn=!1,n!==null&&Ep(a,n),a=Jl(a,l),a.flags|=4096;return a}return n=Si(n.child,{mode:l.mode,children:l.children}),n.ref=a.ref,a.child=n,n.return=a,n}function eo(n,a){var s=a.ref;if(s===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(n===null||n.ref!==s)&&(a.flags|=4194816)}}function Wf(n,a,s,l,f){return Ua(a),s=If(n,a,s,l,void 0,f),l=Df(),n!==null&&!Mt?(Lf(n,a,f),Ri(n,a,f)):(Ze&&l&&ff(a),a.flags|=1,Jt(n,a,s,f),a.child)}function Lg(n,a,s,l,f,d){return Ua(a),a.updateQueue=null,s=Mp(a,l,s,f),wp(n),l=Df(),n!==null&&!Mt?(Lf(n,a,d),Ri(n,a,d)):(Ze&&l&&ff(a),a.flags|=1,Jt(n,a,s,d),a.child)}function kg(n,a,s,l,f){if(Ua(a),a.stateNode===null){var d=Sr,y=s.contextType;typeof y=="object"&&y!==null&&(d=$t(y)),d=new s(l,d),a.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Xf,a.stateNode=d,d._reactInternals=a,d=a.stateNode,d.props=l,d.state=a.memoizedState,d.refs={},Sf(a),y=s.contextType,d.context=typeof y=="object"&&y!==null?$t(y):Sr,d.state=a.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Gf(a,s,y,l),d.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Xf.enqueueReplaceState(d,d.state,null),Ys(a,l,d,f),js(),d.state=a.memoizedState),typeof d.componentDidMount=="function"&&(a.flags|=4194308),l=!0}else if(n===null){d=a.stateNode;var C=a.memoizedProps,I=qa(s,C);d.props=I;var j=d.context,$=s.contextType;y=Sr,typeof $=="object"&&$!==null&&(y=$t($));var ae=s.getDerivedStateFromProps;$=typeof ae=="function"||typeof d.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(C||j!==y)&&yg(a,d,l,y),ea=!1;var Y=a.memoizedState;d.state=Y,Ys(a,l,d,f),js(),j=a.memoizedState,C||Y!==j||ea?(typeof ae=="function"&&(Gf(a,s,ae,l),j=a.memoizedState),(I=ea||_g(a,s,I,l,Y,j,y))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(a.flags|=4194308)):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=l,a.memoizedState=j),d.props=l,d.state=j,d.context=y,l=I):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),l=!1)}else{d=a.stateNode,Cf(n,a),y=a.memoizedProps,$=qa(s,y),d.props=$,ae=a.pendingProps,Y=d.context,j=s.contextType,I=Sr,typeof j=="object"&&j!==null&&(I=$t(j)),C=s.getDerivedStateFromProps,(j=typeof C=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==ae||Y!==I)&&yg(a,d,l,I),ea=!1,Y=a.memoizedState,d.state=Y,Ys(a,l,d,f),js();var X=a.memoizedState;y!==ae||Y!==X||ea||n!==null&&n.dependencies!==null&&Ml(n.dependencies)?(typeof C=="function"&&(Gf(a,s,C,l),X=a.memoizedState),($=ea||_g(a,s,$,l,Y,X,I)||n!==null&&n.dependencies!==null&&Ml(n.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,I)),typeof d.componentDidUpdate=="function"&&(a.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===n.memoizedProps&&Y===n.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&Y===n.memoizedState||(a.flags|=1024),a.memoizedProps=l,a.memoizedState=X),d.props=l,d.state=X,d.context=I,l=$):(typeof d.componentDidUpdate!="function"||y===n.memoizedProps&&Y===n.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&Y===n.memoizedState||(a.flags|=1024),l=!1)}return d=l,eo(n,a),l=(a.flags&128)!==0,d||l?(d=a.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),a.flags|=1,n!==null&&l?(a.child=ja(a,n.child,null,f),a.child=ja(a,null,s,f)):Jt(n,a,s,f),a.memoizedState=d.state,n=a.child):n=Ri(n,a,f),n}function wg(n,a,s,l){return Ba(),a.flags|=256,Jt(n,a,s,l),a.child}var Zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $f(n){return{baseLanes:n,cachePool:Cp()}}function Jf(n,a,s){return n=n!==null?n.childLanes&~s:0,a&&(n|=kn),n}function Mg(n,a,s){var l=a.pendingProps,f=!1,d=(a.flags&128)!==0,y;if((y=d)||(y=n!==null&&n.memoizedState===null?!1:(Ot.current&2)!==0),y&&(f=!0,a.flags&=-129),y=(a.flags&32)!==0,a.flags&=-33,n===null){if(Ze){if(f?ia(a):aa(),(n=Tt)?(n=Y1(n,qn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:Wi!==null?{id:ui,overflow:li}:null,retryLane:536870912,hydrationErrors:null},s=mp(n),s.return=a,a.child=s,Zt=a,Tt=null)):n=null,n===null)throw $i(a);return Md(n)?a.lanes=32:a.lanes=536870912,null}var C=l.children;return l=l.fallback,f?(aa(),f=a.mode,C=to({mode:"hidden",children:C},f),l=Ma(l,f,s,null),C.return=a,l.return=a,C.sibling=l,a.child=C,l=a.child,l.memoizedState=$f(s),l.childLanes=Jf(n,y,s),a.memoizedState=Zf,Qs(null,l)):(ia(a),ed(a,C))}var I=n.memoizedState;if(I!==null&&(C=I.dehydrated,C!==null)){if(d)a.flags&256?(ia(a),a.flags&=-257,a=td(n,a,s)):a.memoizedState!==null?(aa(),a.child=n.child,a.flags|=128,a=null):(aa(),C=l.fallback,f=a.mode,l=to({mode:"visible",children:l.children},f),C=Ma(C,f,s,null),C.flags|=2,l.return=a,C.return=a,l.sibling=C,a.child=l,ja(a,n.child,null,s),l=a.child,l.memoizedState=$f(s),l.childLanes=Jf(n,y,s),a.memoizedState=Zf,a=Qs(null,l));else if(ia(a),Md(C)){if(y=C.nextSibling&&C.nextSibling.dataset,y)var j=y.dgst;y=j,l=Error(r(419)),l.stack="",l.digest=y,Bs({value:l,source:null,stack:null}),a=td(n,a,s)}else if(Mt||xr(n,a,s,!1),y=(s&n.childLanes)!==0,Mt||y){if(y=ft,y!==null&&(l=bm(y,s),l!==0&&l!==I.retryLane))throw I.retryLane=l,wa(n,l),_n(y,n,l),Kf;wd(C)||co(),a=td(n,a,s)}else wd(C)?(a.flags|=192,a.child=n.child,a=null):(n=I.treeContext,Tt=Gn(C.nextSibling),Zt=a,Ze=!0,Zi=null,qn=!1,n!==null&&Ep(a,n),a=ed(a,l.children),a.flags|=4096);return a}return f?(aa(),C=l.fallback,f=a.mode,I=n.child,j=I.sibling,l=Si(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,j!==null?C=Si(j,C):(C=Ma(C,f,s,null),C.flags|=2),C.return=a,l.return=a,l.sibling=C,a.child=l,Qs(null,l),l=a.child,C=n.child.memoizedState,C===null?C=$f(s):(f=C.cachePool,f!==null?(I=kt._currentValue,f=f.parent!==I?{parent:I,pool:I}:f):f=Cp(),C={baseLanes:C.baseLanes|s,cachePool:f}),l.memoizedState=C,l.childLanes=Jf(n,y,s),a.memoizedState=Zf,Qs(n.child,l)):(ia(a),s=n.child,n=s.sibling,s=Si(s,{mode:"visible",children:l.children}),s.return=a,s.sibling=null,n!==null&&(y=a.deletions,y===null?(a.deletions=[n],a.flags|=16):y.push(n)),a.child=s,a.memoizedState=null,s)}function ed(n,a){return a=to({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function to(n,a){return n=On(22,n,null,a),n.lanes=0,n}function td(n,a,s){return ja(a,n.child,null,s),n=ed(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function Bg(n,a,s){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a),gf(n.return,a,s)}function nd(n,a,s,l,f,d){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f,treeForkCount:d}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=s,y.tailMode=f,y.treeForkCount=d)}function Pg(n,a,s){var l=a.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var y=Ot.current,C=(y&2)!==0;if(C?(y=y&1|2,a.flags|=128):y&=1,v(Ot,y),Jt(n,a,l,s),l=Ze?Ms:0,!C&&n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Bg(n,s,a);else if(n.tag===19)Bg(n,s,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(s=a.child,f=null;s!==null;)n=s.alternate,n!==null&&Yl(n)===null&&(f=s),s=s.sibling;s=f,s===null?(f=a.child,a.child=null):(f=s.sibling,s.sibling=null),nd(a,!1,f,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=a.child,a.child=null;f!==null;){if(n=f.alternate,n!==null&&Yl(n)===null){a.child=f;break}n=f.sibling,f.sibling=s,s=f,f=n}nd(a,!0,s,null,d,l);break;case"together":nd(a,!1,null,null,void 0,l);break;default:a.memoizedState=null}return a.child}function Ri(n,a,s){if(n!==null&&(a.dependencies=n.dependencies),ua|=a.lanes,(s&a.childLanes)===0)if(n!==null){if(xr(n,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(r(153));if(a.child!==null){for(n=a.child,s=Si(n,n.pendingProps),a.child=s,s.return=a;n.sibling!==null;)n=n.sibling,s=s.sibling=Si(n,n.pendingProps),s.return=a;s.sibling=null}return a.child}function id(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&Ml(n)))}function E3(n,a,s){switch(a.tag){case 3:Te(a,a.stateNode.containerInfo),Ji(a,kt,n.memoizedState.cache),Ba();break;case 27:case 5:We(a);break;case 4:Te(a,a.stateNode.containerInfo);break;case 10:Ji(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Rf(a),null;break;case 13:var l=a.memoizedState;if(l!==null)return l.dehydrated!==null?(ia(a),a.flags|=128,null):(s&a.child.childLanes)!==0?Mg(n,a,s):(ia(a),n=Ri(n,a,s),n!==null?n.sibling:null);ia(a);break;case 19:var f=(n.flags&128)!==0;if(l=(s&a.childLanes)!==0,l||(xr(n,a,s,!1),l=(s&a.childLanes)!==0),f){if(l)return Pg(n,a,s);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),v(Ot,Ot.current),l)break;return null;case 22:return a.lanes=0,Og(n,a,s,a.pendingProps);case 24:Ji(a,kt,n.memoizedState.cache)}return Ri(n,a,s)}function Ug(n,a,s){if(n!==null)if(n.memoizedProps!==a.pendingProps)Mt=!0;else{if(!id(n,s)&&(a.flags&128)===0)return Mt=!1,E3(n,a,s);Mt=(n.flags&131072)!==0}else Mt=!1,Ze&&(a.flags&1048576)!==0&&gp(a,Ms,a.index);switch(a.lanes=0,a.tag){case 16:e:{var l=a.pendingProps;if(n=Fa(a.elementType),a.type=n,typeof n=="function")lf(n)?(l=qa(n,l),a.tag=1,a=kg(null,a,n,l,s)):(a.tag=0,a=Wf(null,a,n,l,s));else{if(n!=null){var f=n.$$typeof;if(f===ye){a.tag=11,a=xg(null,a,n,l,s);break e}else if(f===de){a.tag=14,a=Ng(null,a,n,l,s);break e}}throw a=re(n)||n,Error(r(306,a,""))}}return a;case 0:return Wf(n,a,a.type,a.pendingProps,s);case 1:return l=a.type,f=qa(l,a.pendingProps),kg(n,a,l,f,s);case 3:e:{if(Te(a,a.stateNode.containerInfo),n===null)throw Error(r(387));l=a.pendingProps;var d=a.memoizedState;f=d.element,Cf(n,a),Ys(a,l,null,s);var y=a.memoizedState;if(l=y.cache,Ji(a,kt,l),l!==d.cache&&Ef(a,[kt],s,!0),js(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},a.updateQueue.baseState=d,a.memoizedState=d,a.flags&256){a=wg(n,a,l,s);break e}else if(l!==f){f=zn(Error(r(424)),a),Bs(f),a=wg(n,a,l,s);break e}else{switch(n=a.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Tt=Gn(n.firstChild),Zt=a,Ze=!0,Zi=null,qn=!0,s=Op(a,null,l,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ba(),l===f){a=Ri(n,a,s);break e}Jt(n,a,l,s)}a=a.child}return a;case 26:return eo(n,a),n===null?(s=K1(a.type,null,a.pendingProps,null))?a.memoizedState=s:Ze||(s=a.type,n=a.pendingProps,l=_o(D.current).createElement(s),l[Wt]=a,l[dn]=n,en(l,s,n),Yt(l),a.stateNode=l):a.memoizedState=K1(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return We(a),n===null&&Ze&&(l=a.stateNode=G1(a.type,a.pendingProps,D.current),Zt=a,qn=!0,f=Tt,da(a.type)?(Bd=f,Tt=Gn(l.firstChild)):Tt=f),Jt(n,a,a.pendingProps.children,s),eo(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&Ze&&((f=l=Tt)&&(l=X3(l,a.type,a.pendingProps,qn),l!==null?(a.stateNode=l,Zt=a,Tt=Gn(l.firstChild),qn=!1,f=!0):f=!1),f||$i(a)),We(a),f=a.type,d=a.pendingProps,y=n!==null?n.memoizedProps:null,l=d.children,Dd(f,d)?l=null:y!==null&&Dd(f,y)&&(a.flags|=32),a.memoizedState!==null&&(f=If(n,a,l3,null,null,s),ou._currentValue=f),eo(n,a),Jt(n,a,l,s),a.child;case 6:return n===null&&Ze&&((n=s=Tt)&&(s=Q3(s,a.pendingProps,qn),s!==null?(a.stateNode=s,Zt=a,Tt=null,n=!0):n=!1),n||$i(a)),null;case 13:return Mg(n,a,s);case 4:return Te(a,a.stateNode.containerInfo),l=a.pendingProps,n===null?a.child=ja(a,null,l,s):Jt(n,a,l,s),a.child;case 11:return xg(n,a,a.type,a.pendingProps,s);case 7:return Jt(n,a,a.pendingProps,s),a.child;case 8:return Jt(n,a,a.pendingProps.children,s),a.child;case 12:return Jt(n,a,a.pendingProps.children,s),a.child;case 10:return l=a.pendingProps,Ji(a,a.type,l.value),Jt(n,a,l.children,s),a.child;case 9:return f=a.type._context,l=a.pendingProps.children,Ua(a),f=$t(f),l=l(f),a.flags|=1,Jt(n,a,l,s),a.child;case 14:return Ng(n,a,a.type,a.pendingProps,s);case 15:return Rg(n,a,a.type,a.pendingProps,s);case 19:return Pg(n,a,s);case 31:return g3(n,a,s);case 22:return Og(n,a,s,a.pendingProps);case 24:return Ua(a),l=$t(kt),n===null?(f=Tf(),f===null&&(f=ft,d=_f(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),a.memoizedState={parent:l,cache:f},Sf(a),Ji(a,kt,f)):((n.lanes&s)!==0&&(Cf(n,a),Ys(a,null,null,s),js()),f=n.memoizedState,d=a.memoizedState,f.parent!==l?(f={parent:l,cache:l},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),Ji(a,kt,l)):(l=d.cache,Ji(a,kt,l),l!==f.cache&&Ef(a,[kt],s,!0))),Jt(n,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Oi(n){n.flags|=4}function ad(n,a,s,l,f){if((a=(n.mode&32)!==0)&&(a=!1),a){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(f1())n.flags|=8192;else throw za=Hl,bf}else n.flags&=-16777217}function Hg(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!eE(a))if(f1())n.flags|=8192;else throw za=Hl,bf}function no(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?_m():536870912,n.lanes|=a,Ur|=a)}function Ks(n,a){if(!Ze)switch(n.tailMode){case"hidden":a=n.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function bt(n){var a=n.alternate!==null&&n.alternate.child===n.child,s=0,l=0;if(a)for(var f=n.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=s,a}function _3(n,a,s){var l=a.pendingProps;switch(df(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(a),null;case 1:return bt(a),null;case 3:return s=a.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),vi(kt),Ae(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(vr(a)?Oi(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,mf())),bt(a),null;case 26:var f=a.type,d=a.memoizedState;return n===null?(Oi(a),d!==null?(bt(a),Hg(a,d)):(bt(a),ad(a,f,null,l,s))):d?d!==n.memoizedState?(Oi(a),bt(a),Hg(a,d)):(bt(a),a.flags&=-16777217):(n=n.memoizedProps,n!==l&&Oi(a),bt(a),ad(a,f,n,l,s)),null;case 27:if(Ue(a),s=D.current,f=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==l&&Oi(a);else{if(!l){if(a.stateNode===null)throw Error(r(166));return bt(a),null}n=_e.current,vr(a)?_p(a):(n=G1(f,l,s),a.stateNode=n,Oi(a))}return bt(a),null;case 5:if(Ue(a),f=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==l&&Oi(a);else{if(!l){if(a.stateNode===null)throw Error(r(166));return bt(a),null}if(d=_e.current,vr(a))_p(a);else{var y=_o(D.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(f,{is:l.is}):y.createElement(f)}}d[Wt]=a,d[dn]=l;e:for(y=a.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===a)break e;for(;y.sibling===null;){if(y.return===null||y.return===a)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}a.stateNode=d;e:switch(en(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Oi(a)}}return bt(a),ad(a,a.type,n===null?null:n.memoizedProps,a.pendingProps,s),null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==l&&Oi(a);else{if(typeof l!="string"&&a.stateNode===null)throw Error(r(166));if(n=D.current,vr(a)){if(n=a.stateNode,s=a.memoizedProps,l=null,f=Zt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Wt]=a,n=!!(n.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||M1(n.nodeValue,s)),n||$i(a,!0)}else n=_o(n).createTextNode(l),n[Wt]=a,a.stateNode=n}return bt(a),null;case 31:if(s=a.memoizedState,n===null||n.memoizedState!==null){if(l=vr(a),s!==null){if(n===null){if(!l)throw Error(r(318));if(n=a.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[Wt]=a}else Ba(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;bt(a),n=!1}else s=mf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=s),n=!0;if(!n)return a.flags&256?(Dn(a),a):(Dn(a),null);if((a.flags&128)!==0)throw Error(r(558))}return bt(a),null;case 13:if(l=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=vr(a),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Wt]=a}else Ba(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;bt(a),f=!1}else f=mf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(Dn(a),a):(Dn(a),null)}return Dn(a),(a.flags&128)!==0?(a.lanes=s,a):(s=l!==null,n=n!==null&&n.memoizedState!==null,s&&(l=a.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),s!==n&&s&&(a.child.flags|=8192),no(a,a.updateQueue),bt(a),null);case 4:return Ae(),n===null&&xd(a.stateNode.containerInfo),bt(a),null;case 10:return vi(a.type),bt(a),null;case 19:if(W(Ot),l=a.memoizedState,l===null)return bt(a),null;if(f=(a.flags&128)!==0,d=l.rendering,d===null)if(f)Ks(l,!1);else{if(Nt!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(d=Yl(n),d!==null){for(a.flags|=128,Ks(l,!1),n=d.updateQueue,a.updateQueue=n,no(a,n),a.subtreeFlags=0,n=s,s=a.child;s!==null;)hp(s,n),s=s.sibling;return v(Ot,Ot.current&1|2),Ze&&Ci(a,l.treeForkCount),a.child}n=n.sibling}l.tail!==null&&ht()>uo&&(a.flags|=128,f=!0,Ks(l,!1),a.lanes=4194304)}else{if(!f)if(n=Yl(d),n!==null){if(a.flags|=128,f=!0,n=n.updateQueue,a.updateQueue=n,no(a,n),Ks(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ze)return bt(a),null}else 2*ht()-l.renderingStartTime>uo&&s!==536870912&&(a.flags|=128,f=!0,Ks(l,!1),a.lanes=4194304);l.isBackwards?(d.sibling=a.child,a.child=d):(n=l.last,n!==null?n.sibling=d:a.child=d,l.last=d)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=ht(),n.sibling=null,s=Ot.current,v(Ot,f?s&1|2:s&1),Ze&&Ci(a,l.treeForkCount),n):(bt(a),null);case 22:case 23:return Dn(a),Nf(),l=a.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(a.flags|=8192):l&&(a.flags|=8192),l?(s&536870912)!==0&&(a.flags&128)===0&&(bt(a),a.subtreeFlags&6&&(a.flags|=8192)):bt(a),s=a.updateQueue,s!==null&&no(a,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),l=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==s&&(a.flags|=2048),n!==null&&W(Ha),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),vi(kt),bt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function y3(n,a){switch(df(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return vi(kt),Ae(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return Ue(a),null;case 31:if(a.memoizedState!==null){if(Dn(a),a.alternate===null)throw Error(r(340));Ba()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 13:if(Dn(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Ba()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return W(Ot),null;case 4:return Ae(),null;case 10:return vi(a.type),null;case 22:case 23:return Dn(a),Nf(),n!==null&&W(Ha),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return vi(kt),null;case 25:return null;default:return null}}function Fg(n,a){switch(df(a),a.tag){case 3:vi(kt),Ae();break;case 26:case 27:case 5:Ue(a);break;case 4:Ae();break;case 31:a.memoizedState!==null&&Dn(a);break;case 13:Dn(a);break;case 19:W(Ot);break;case 10:vi(a.type);break;case 22:case 23:Dn(a),Nf(),n!==null&&W(Ha);break;case 24:vi(kt)}}function Ws(n,a){try{var s=a.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&n)===n){l=void 0;var d=s.create,y=s.inst;l=d(),y.destroy=l}s=s.next}while(s!==f)}}catch(C){st(a,a.return,C)}}function ra(n,a,s){try{var l=a.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var y=l.inst,C=y.destroy;if(C!==void 0){y.destroy=void 0,f=a;var I=s,j=C;try{j()}catch($){st(f,I,$)}}}l=l.next}while(l!==d)}}catch($){st(a,a.return,$)}}function zg(n){var a=n.updateQueue;if(a!==null){var s=n.stateNode;try{Dp(a,s)}catch(l){st(n,n.return,l)}}}function jg(n,a,s){s.props=qa(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(l){st(n,a,l)}}function Zs(n,a){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof s=="function"?n.refCleanup=s(l):s.current=l}}catch(f){st(n,a,f)}}function oi(n,a){var s=n.ref,l=n.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){st(n,a,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){st(n,a,f)}else s.current=null}function Yg(n){var a=n.type,s=n.memoizedProps,l=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){st(n,n.return,f)}}function rd(n,a,s){try{var l=n.stateNode;z3(l,n.type,s,a),l[dn]=a}catch(f){st(n,n.return,f)}}function qg(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&da(n.type)||n.tag===4}function sd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||qg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&da(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ud(n,a,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(n),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=Ti));else if(l!==4&&(l===27&&da(n.type)&&(s=n.stateNode,a=null),n=n.child,n!==null))for(ud(n,a,s),n=n.sibling;n!==null;)ud(n,a,s),n=n.sibling}function io(n,a,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,a?s.insertBefore(n,a):s.appendChild(n);else if(l!==4&&(l===27&&da(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(io(n,a,s),n=n.sibling;n!==null;)io(n,a,s),n=n.sibling}function Vg(n){var a=n.stateNode,s=n.memoizedProps;try{for(var l=n.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);en(a,l,s),a[Wt]=n,a[dn]=s}catch(d){st(n,n.return,d)}}var Ii=!1,Bt=!1,ld=!1,Gg=typeof WeakSet=="function"?WeakSet:Set,qt=null;function T3(n,a){if(n=n.containerInfo,Od=vo,n=ap(n),ef(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var y=0,C=-1,I=-1,j=0,$=0,ae=n,Y=null;t:for(;;){for(var X;ae!==s||f!==0&&ae.nodeType!==3||(C=y+f),ae!==d||l!==0&&ae.nodeType!==3||(I=y+l),ae.nodeType===3&&(y+=ae.nodeValue.length),(X=ae.firstChild)!==null;)Y=ae,ae=X;for(;;){if(ae===n)break t;if(Y===s&&++j===f&&(C=y),Y===d&&++$===l&&(I=y),(X=ae.nextSibling)!==null)break;ae=Y,Y=ae.parentNode}ae=X}s=C===-1||I===-1?null:{start:C,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Id={focusedElem:n,selectionRange:s},vo=!1,qt=a;qt!==null;)if(a=qt,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,qt=n;else for(;qt!==null;){switch(a=qt,d=a.alternate,n=a.flags,a.tag){case 0:if((n&4)!==0&&(n=a.updateQueue,n=n!==null?n.events:null,n!==null))for(s=0;s<n.length;s++)f=n[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,s=a,f=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var be=qa(s.type,f);n=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(Ie){st(s,s.return,Ie)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,s=n.nodeType,s===9)kd(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":kd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=a.sibling,n!==null){n.return=a.return,qt=n;break}qt=a.return}}function Xg(n,a,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Li(n,s),l&4&&Ws(5,s);break;case 1:if(Li(n,s),l&4)if(n=s.stateNode,a===null)try{n.componentDidMount()}catch(y){st(s,s.return,y)}else{var f=qa(s.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(f,a,n.__reactInternalSnapshotBeforeUpdate)}catch(y){st(s,s.return,y)}}l&64&&zg(s),l&512&&Zs(s,s.return);break;case 3:if(Li(n,s),l&64&&(n=s.updateQueue,n!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{Dp(n,a)}catch(y){st(s,s.return,y)}}break;case 27:a===null&&l&4&&Vg(s);case 26:case 5:Li(n,s),a===null&&l&4&&Yg(s),l&512&&Zs(s,s.return);break;case 12:Li(n,s);break;case 31:Li(n,s),l&4&&Wg(n,s);break;case 13:Li(n,s),l&4&&Zg(n,s),l&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=O3.bind(null,s),K3(n,s))));break;case 22:if(l=s.memoizedState!==null||Ii,!l){a=a!==null&&a.memoizedState!==null||Bt,f=Ii;var d=Bt;Ii=l,(Bt=a)&&!d?ki(n,s,(s.subtreeFlags&8772)!==0):Li(n,s),Ii=f,Bt=d}break;case 30:break;default:Li(n,s)}}function Qg(n){var a=n.alternate;a!==null&&(n.alternate=null,Qg(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&Pc(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var At=null,mn=!1;function Di(n,a,s){for(s=s.child;s!==null;)Kg(n,a,s),s=s.sibling}function Kg(n,a,s){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(on,s)}catch{}switch(s.tag){case 26:Bt||oi(s,a),Di(n,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Bt||oi(s,a);var l=At,f=mn;da(s.type)&&(At=s.stateNode,mn=!1),Di(n,a,s),su(s.stateNode),At=l,mn=f;break;case 5:Bt||oi(s,a);case 6:if(l=At,f=mn,At=null,Di(n,a,s),At=l,mn=f,At!==null)if(mn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(s.stateNode)}catch(d){st(s,a,d)}else try{At.removeChild(s.stateNode)}catch(d){st(s,a,d)}break;case 18:At!==null&&(mn?(n=At,z1(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),Gr(n)):z1(At,s.stateNode));break;case 4:l=At,f=mn,At=s.stateNode.containerInfo,mn=!0,Di(n,a,s),At=l,mn=f;break;case 0:case 11:case 14:case 15:ra(2,s,a),Bt||ra(4,s,a),Di(n,a,s);break;case 1:Bt||(oi(s,a),l=s.stateNode,typeof l.componentWillUnmount=="function"&&jg(s,a,l)),Di(n,a,s);break;case 21:Di(n,a,s);break;case 22:Bt=(l=Bt)||s.memoizedState!==null,Di(n,a,s),Bt=l;break;default:Di(n,a,s)}}function Wg(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Gr(n)}catch(s){st(a,a.return,s)}}}function Zg(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Gr(n)}catch(s){st(a,a.return,s)}}function b3(n){switch(n.tag){case 31:case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new Gg),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new Gg),a;default:throw Error(r(435,n.tag))}}function ao(n,a){var s=b3(n);a.forEach(function(l){if(!s.has(l)){s.add(l);var f=I3.bind(null,n,l);l.then(f,f)}})}function pn(n,a){var s=a.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],d=n,y=a,C=y;e:for(;C!==null;){switch(C.tag){case 27:if(da(C.type)){At=C.stateNode,mn=!1;break e}break;case 5:At=C.stateNode,mn=!1;break e;case 3:case 4:At=C.stateNode.containerInfo,mn=!0;break e}C=C.return}if(At===null)throw Error(r(160));Kg(d,y,f),At=null,mn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)$g(a,n),a=a.sibling}var ei=null;function $g(n,a){var s=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:pn(a,n),gn(n),l&4&&(ra(3,n,n.return),Ws(3,n),ra(5,n,n.return));break;case 1:pn(a,n),gn(n),l&512&&(Bt||s===null||oi(s,s.return)),l&64&&Ii&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=ei;if(pn(a,n),gn(n),l&512&&(Bt||s===null||oi(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=n.memoizedState,s===null)if(l===null)if(n.stateNode===null){e:{l=n.type,s=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[As]||d[Wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),en(d,l,s),d[Wt]=n,Yt(d),l=d;break e;case"link":var y=$1("link","href",f).get(l+(s.href||""));if(y){for(var C=0;C<y.length;C++)if(d=y[C],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(C,1);break t}}d=f.createElement(l),en(d,l,s),f.head.appendChild(d);break;case"meta":if(y=$1("meta","content",f).get(l+(s.content||""))){for(C=0;C<y.length;C++)if(d=y[C],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(C,1);break t}}d=f.createElement(l),en(d,l,s),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[Wt]=n,Yt(d),l=d}n.stateNode=l}else J1(f,n.type,n.stateNode);else n.stateNode=Z1(f,l,n.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?J1(f,n.type,n.stateNode):Z1(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&rd(n,n.memoizedProps,s.memoizedProps)}break;case 27:pn(a,n),gn(n),l&512&&(Bt||s===null||oi(s,s.return)),s!==null&&l&4&&rd(n,n.memoizedProps,s.memoizedProps);break;case 5:if(pn(a,n),gn(n),l&512&&(Bt||s===null||oi(s,s.return)),n.flags&32){f=n.stateNode;try{pr(f,"")}catch(be){st(n,n.return,be)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,rd(n,f,s!==null?s.memoizedProps:f)),l&1024&&(ld=!0);break;case 6:if(pn(a,n),gn(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,s=n.stateNode;try{s.nodeValue=l}catch(be){st(n,n.return,be)}}break;case 3:if(bo=null,f=ei,ei=yo(a.containerInfo),pn(a,n),ei=f,gn(n),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Gr(a.containerInfo)}catch(be){st(n,n.return,be)}ld&&(ld=!1,Jg(n));break;case 4:l=ei,ei=yo(n.stateNode.containerInfo),pn(a,n),gn(n),ei=l;break;case 12:pn(a,n),gn(n);break;case 31:pn(a,n),gn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,ao(n,l)));break;case 13:pn(a,n),gn(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(so=ht()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,ao(n,l)));break;case 22:f=n.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,j=Ii,$=Bt;if(Ii=j||f,Bt=$||I,pn(a,n),Bt=$,Ii=j,gn(n),l&8192)e:for(a=n.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(s===null||I||Ii||Bt||Va(n)),s=null,a=n;;){if(a.tag===5||a.tag===26){if(s===null){I=s=a;try{if(d=I.stateNode,f)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{C=I.stateNode;var ae=I.memoizedProps.style,Y=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;C.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(be){st(I,I.return,be)}}}else if(a.tag===6){if(s===null){I=a;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(be){st(I,I.return,be)}}}else if(a.tag===18){if(s===null){I=a;try{var X=I.stateNode;f?j1(X,!0):j1(I.stateNode,!1)}catch(be){st(I,I.return,be)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}l&4&&(l=n.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,ao(n,s))));break;case 19:pn(a,n),gn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,ao(n,l)));break;case 30:break;case 21:break;default:pn(a,n),gn(n)}}function gn(n){var a=n.flags;if(a&2){try{for(var s,l=n.return;l!==null;){if(qg(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var f=s.stateNode,d=sd(n);io(n,d,f);break;case 5:var y=s.stateNode;s.flags&32&&(pr(y,""),s.flags&=-33);var C=sd(n);io(n,C,y);break;case 3:case 4:var I=s.stateNode.containerInfo,j=sd(n);ud(n,j,I);break;default:throw Error(r(161))}}catch($){st(n,n.return,$)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function Jg(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;Jg(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function Li(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Xg(n,a.alternate,a),a=a.sibling}function Va(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:ra(4,a,a.return),Va(a);break;case 1:oi(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&jg(a,a.return,s),Va(a);break;case 27:su(a.stateNode);case 26:case 5:oi(a,a.return),Va(a);break;case 22:a.memoizedState===null&&Va(a);break;case 30:Va(a);break;default:Va(a)}n=n.sibling}}function ki(n,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var l=a.alternate,f=n,d=a,y=d.flags;switch(d.tag){case 0:case 11:case 15:ki(f,d,s),Ws(4,d);break;case 1:if(ki(f,d,s),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){st(l,l.return,j)}if(l=d,f=l.updateQueue,f!==null){var C=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)Ip(I[f],C)}catch(j){st(l,l.return,j)}}s&&y&64&&zg(d),Zs(d,d.return);break;case 27:Vg(d);case 26:case 5:ki(f,d,s),s&&l===null&&y&4&&Yg(d),Zs(d,d.return);break;case 12:ki(f,d,s);break;case 31:ki(f,d,s),s&&y&4&&Wg(f,d);break;case 13:ki(f,d,s),s&&y&4&&Zg(f,d);break;case 22:d.memoizedState===null&&ki(f,d,s),Zs(d,d.return);break;case 30:break;default:ki(f,d,s)}a=a.sibling}}function od(n,a){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&Ps(s))}function cd(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Ps(n))}function ti(n,a,s,l){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)e1(n,a,s,l),a=a.sibling}function e1(n,a,s,l){var f=a.flags;switch(a.tag){case 0:case 11:case 15:ti(n,a,s,l),f&2048&&Ws(9,a);break;case 1:ti(n,a,s,l);break;case 3:ti(n,a,s,l),f&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Ps(n)));break;case 12:if(f&2048){ti(n,a,s,l),n=a.stateNode;try{var d=a.memoizedProps,y=d.id,C=d.onPostCommit;typeof C=="function"&&C(y,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){st(a,a.return,I)}}else ti(n,a,s,l);break;case 31:ti(n,a,s,l);break;case 13:ti(n,a,s,l);break;case 23:break;case 22:d=a.stateNode,y=a.alternate,a.memoizedState!==null?d._visibility&2?ti(n,a,s,l):$s(n,a):d._visibility&2?ti(n,a,s,l):(d._visibility|=2,Mr(n,a,s,l,(a.subtreeFlags&10256)!==0||!1)),f&2048&&od(y,a);break;case 24:ti(n,a,s,l),f&2048&&cd(a.alternate,a);break;default:ti(n,a,s,l)}}function Mr(n,a,s,l,f){for(f=f&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var d=n,y=a,C=s,I=l,j=y.flags;switch(y.tag){case 0:case 11:case 15:Mr(d,y,C,I,f),Ws(8,y);break;case 23:break;case 22:var $=y.stateNode;y.memoizedState!==null?$._visibility&2?Mr(d,y,C,I,f):$s(d,y):($._visibility|=2,Mr(d,y,C,I,f)),f&&j&2048&&od(y.alternate,y);break;case 24:Mr(d,y,C,I,f),f&&j&2048&&cd(y.alternate,y);break;default:Mr(d,y,C,I,f)}a=a.sibling}}function $s(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=n,l=a,f=l.flags;switch(l.tag){case 22:$s(s,l),f&2048&&od(l.alternate,l);break;case 24:$s(s,l),f&2048&&cd(l.alternate,l);break;default:$s(s,l)}a=a.sibling}}var Js=8192;function Br(n,a,s){if(n.subtreeFlags&Js)for(n=n.child;n!==null;)t1(n,a,s),n=n.sibling}function t1(n,a,s){switch(n.tag){case 26:Br(n,a,s),n.flags&Js&&n.memoizedState!==null&&uA(s,ei,n.memoizedState,n.memoizedProps);break;case 5:Br(n,a,s);break;case 3:case 4:var l=ei;ei=yo(n.stateNode.containerInfo),Br(n,a,s),ei=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Js,Js=16777216,Br(n,a,s),Js=l):Br(n,a,s));break;default:Br(n,a,s)}}function n1(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function eu(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var l=a[s];qt=l,a1(l,n)}n1(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)i1(n),n=n.sibling}function i1(n){switch(n.tag){case 0:case 11:case 15:eu(n),n.flags&2048&&ra(9,n,n.return);break;case 3:eu(n);break;case 12:eu(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,ro(n)):eu(n);break;default:eu(n)}}function ro(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var l=a[s];qt=l,a1(l,n)}n1(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:ra(8,a,a.return),ro(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,ro(a));break;default:ro(a)}n=n.sibling}}function a1(n,a){for(;qt!==null;){var s=qt;switch(s.tag){case 0:case 11:case 15:ra(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ps(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,qt=l;else e:for(s=n;qt!==null;){l=qt;var f=l.sibling,d=l.return;if(Qg(l),l===s){qt=null;break e}if(f!==null){f.return=d,qt=f;break e}qt=d}}}var S3={getCacheForType:function(n){var a=$t(kt),s=a.data.get(n);return s===void 0&&(s=n(),a.data.set(n,s)),s},cacheSignal:function(){return $t(kt).controller.signal}},C3=typeof WeakMap=="function"?WeakMap:Map,et=0,ft=null,Ve=null,Qe=0,rt=0,Ln=null,sa=!1,Pr=!1,fd=!1,wi=0,Nt=0,ua=0,Ga=0,dd=0,kn=0,Ur=0,tu=null,En=null,hd=!1,so=0,r1=0,uo=1/0,lo=null,la=null,zt=0,oa=null,Hr=null,Mi=0,md=0,pd=null,s1=null,nu=0,gd=null;function wn(){return(et&2)!==0&&Qe!==0?Qe&-Qe:P.T!==null?Sd():Sm()}function u1(){if(kn===0)if((Qe&536870912)===0||Ze){var n=gl;gl<<=1,(gl&3932160)===0&&(gl=262144),kn=n}else kn=536870912;return n=In.current,n!==null&&(n.flags|=32),kn}function _n(n,a,s){(n===ft&&(rt===2||rt===9)||n.cancelPendingCommit!==null)&&(Fr(n,0),ca(n,Qe,kn,!1)),Cs(n,s),((et&2)===0||n!==ft)&&(n===ft&&((et&2)===0&&(Ga|=s),Nt===4&&ca(n,Qe,kn,!1)),ci(n))}function l1(n,a,s){if((et&6)!==0)throw Error(r(327));var l=!s&&(a&127)===0&&(a&n.expiredLanes)===0||Ss(n,a),f=l?x3(n,a):_d(n,a,!0),d=l;do{if(f===0){Pr&&!l&&ca(n,a,0,!1);break}else{if(s=n.current.alternate,d&&!A3(s)){f=_d(n,a,!1),d=!1;continue}if(f===2){if(d=a,n.errorRecoveryDisabledLanes&d)var y=0;else y=n.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){a=y;e:{var C=n;f=tu;var I=C.current.memoizedState.isDehydrated;if(I&&(Fr(C,y).flags|=256),y=_d(C,y,!1),y!==2){if(fd&&!I){C.errorRecoveryDisabledLanes|=d,Ga|=d,f=4;break e}d=En,En=f,d!==null&&(En===null?En=d:En.push.apply(En,d))}f=y}if(d=!1,f!==2)continue}}if(f===1){Fr(n,0),ca(n,a,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:ca(l,a,kn,!sa);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(f=so+300-ht(),10<f)){if(ca(l,a,kn,!sa),_l(l,0,!0)!==0)break e;Mi=a,l.timeoutHandle=H1(o1.bind(null,l,s,En,lo,hd,a,kn,Ga,Ur,sa,d,"Throttled",-0,0),f);break e}o1(l,s,En,lo,hd,a,kn,Ga,Ur,sa,d,null,-0,0)}}break}while(!0);ci(n)}function o1(n,a,s,l,f,d,y,C,I,j,$,ae,Y,X){if(n.timeoutHandle=-1,ae=a.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ti},t1(a,d,ae);var be=(d&62914560)===d?so-ht():(d&4194048)===d?r1-ht():0;if(be=lA(ae,be),be!==null){Mi=d,n.cancelPendingCommit=be(E1.bind(null,n,a,d,s,l,f,y,C,I,$,ae,null,Y,X)),ca(n,d,y,!j);return}}E1(n,a,d,s,l,f,y,C,I)}function A3(n){for(var a=n;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],d=f.getSnapshot;f=f.value;try{if(!Rn(d(),f))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ca(n,a,s,l){a&=~dd,a&=~Ga,n.suspendedLanes|=a,n.pingedLanes&=~a,l&&(n.warmLanes|=a),l=n.expirationTimes;for(var f=a;0<f;){var d=31-ct(f),y=1<<d;l[d]=-1,f&=~y}s!==0&&ym(n,s,a)}function oo(){return(et&6)===0?(iu(0),!1):!0}function Ed(){if(Ve!==null){if(rt===0)var n=Ve.return;else n=Ve,Ai=Pa=null,kf(n),Ir=null,Hs=0,n=Ve;for(;n!==null;)Fg(n.alternate,n),n=n.return;Ve=null}}function Fr(n,a){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,q3(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),Mi=0,Ed(),ft=n,Ve=s=Si(n.current,null),Qe=a,rt=0,Ln=null,sa=!1,Pr=Ss(n,a),fd=!1,Ur=kn=dd=Ga=ua=Nt=0,En=tu=null,hd=!1,(a&8)!==0&&(a|=a&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=a;0<l;){var f=31-ct(l),d=1<<f;a|=n[f],l&=~d}return wi=a,Il(),s}function c1(n,a){Be=null,P.H=Xs,a===Or||a===Ul?(a=xp(),rt=3):a===bf?(a=xp(),rt=4):rt=a===Kf?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ln=a,Ve===null&&(Nt=1,$l(n,zn(a,n.current)))}function f1(){var n=In.current;return n===null?!0:(Qe&4194048)===Qe?Vn===null:(Qe&62914560)===Qe||(Qe&536870912)!==0?n===Vn:!1}function d1(){var n=P.H;return P.H=Xs,n===null?Xs:n}function h1(){var n=P.A;return P.A=S3,n}function co(){Nt=4,sa||(Qe&4194048)!==Qe&&In.current!==null||(Pr=!0),(ua&134217727)===0&&(Ga&134217727)===0||ft===null||ca(ft,Qe,kn,!1)}function _d(n,a,s){var l=et;et|=2;var f=d1(),d=h1();(ft!==n||Qe!==a)&&(lo=null,Fr(n,a)),a=!1;var y=Nt;e:do try{if(rt!==0&&Ve!==null){var C=Ve,I=Ln;switch(rt){case 8:Ed(),y=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(a=!0);var j=rt;if(rt=0,Ln=null,zr(n,C,I,j),s&&Pr){y=0;break e}break;default:j=rt,rt=0,Ln=null,zr(n,C,I,j)}}v3(),y=Nt;break}catch($){c1(n,$)}while(!0);return a&&n.shellSuspendCounter++,Ai=Pa=null,et=l,P.H=f,P.A=d,Ve===null&&(ft=null,Qe=0,Il()),y}function v3(){for(;Ve!==null;)m1(Ve)}function x3(n,a){var s=et;et|=2;var l=d1(),f=h1();ft!==n||Qe!==a?(lo=null,uo=ht()+500,Fr(n,a)):Pr=Ss(n,a);e:do try{if(rt!==0&&Ve!==null){a=Ve;var d=Ln;t:switch(rt){case 1:rt=0,Ln=null,zr(n,a,d,1);break;case 2:case 9:if(Ap(d)){rt=0,Ln=null,p1(a);break}a=function(){rt!==2&&rt!==9||ft!==n||(rt=7),ci(n)},d.then(a,a);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Ap(d)?(rt=0,Ln=null,p1(a)):(rt=0,Ln=null,zr(n,a,d,7));break;case 5:var y=null;switch(Ve.tag){case 26:y=Ve.memoizedState;case 5:case 27:var C=Ve;if(y?eE(y):C.stateNode.complete){rt=0,Ln=null;var I=C.sibling;if(I!==null)Ve=I;else{var j=C.return;j!==null?(Ve=j,fo(j)):Ve=null}break t}}rt=0,Ln=null,zr(n,a,d,5);break;case 6:rt=0,Ln=null,zr(n,a,d,6);break;case 8:Ed(),Nt=6;break e;default:throw Error(r(462))}}N3();break}catch($){c1(n,$)}while(!0);return Ai=Pa=null,P.H=l,P.A=f,et=s,Ve!==null?0:(ft=null,Qe=0,Il(),Nt)}function N3(){for(;Ve!==null&&!Re();)m1(Ve)}function m1(n){var a=Ug(n.alternate,n,wi);n.memoizedProps=n.pendingProps,a===null?fo(n):Ve=a}function p1(n){var a=n,s=a.alternate;switch(a.tag){case 15:case 0:a=Lg(s,a,a.pendingProps,a.type,void 0,Qe);break;case 11:a=Lg(s,a,a.pendingProps,a.type.render,a.ref,Qe);break;case 5:kf(a);default:Fg(s,a),a=Ve=hp(a,wi),a=Ug(s,a,wi)}n.memoizedProps=n.pendingProps,a===null?fo(n):Ve=a}function zr(n,a,s,l){Ai=Pa=null,kf(a),Ir=null,Hs=0;var f=a.return;try{if(p3(n,f,a,s,Qe)){Nt=1,$l(n,zn(s,n.current)),Ve=null;return}}catch(d){if(f!==null)throw Ve=f,d;Nt=1,$l(n,zn(s,n.current)),Ve=null;return}a.flags&32768?(Ze||l===1?n=!0:Pr||(Qe&536870912)!==0?n=!1:(sa=n=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),g1(a,n)):fo(a)}function fo(n){var a=n;do{if((a.flags&32768)!==0){g1(a,sa);return}n=a.return;var s=_3(a.alternate,a,wi);if(s!==null){Ve=s;return}if(a=a.sibling,a!==null){Ve=a;return}Ve=a=n}while(a!==null);Nt===0&&(Nt=5)}function g1(n,a){do{var s=y3(n.alternate,n);if(s!==null){s.flags&=32767,Ve=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(n=n.sibling,n!==null)){Ve=n;return}Ve=n=s}while(n!==null);Nt=6,Ve=null}function E1(n,a,s,l,f,d,y,C,I){n.cancelPendingCommit=null;do ho();while(zt!==0);if((et&6)!==0)throw Error(r(327));if(a!==null){if(a===n.current)throw Error(r(177));if(d=a.lanes|a.childLanes,d|=sf,sC(n,s,d,y,C,I),n===ft&&(Ve=ft=null,Qe=0),Hr=a,oa=n,Mi=s,md=d,pd=f,s1=l,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,D3(De,function(){return S1(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||l){l=P.T,P.T=null,f=k.p,k.p=2,y=et,et|=4;try{T3(n,a,s)}finally{et=y,k.p=f,P.T=l}}zt=1,_1(),y1(),T1()}}function _1(){if(zt===1){zt=0;var n=oa,a=Hr,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=P.T,P.T=null;var l=k.p;k.p=2;var f=et;et|=4;try{$g(a,n);var d=Id,y=ap(n.containerInfo),C=d.focusedElem,I=d.selectionRange;if(y!==C&&C&&C.ownerDocument&&ip(C.ownerDocument.documentElement,C)){if(I!==null&&ef(C)){var j=I.start,$=I.end;if($===void 0&&($=j),"selectionStart"in C)C.selectionStart=j,C.selectionEnd=Math.min($,C.value.length);else{var ae=C.ownerDocument||document,Y=ae&&ae.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),be=C.textContent.length,Ie=Math.min(I.start,be),ot=I.end===void 0?Ie:Math.min(I.end,be);!X.extend&&Ie>ot&&(y=ot,ot=Ie,Ie=y);var B=np(C,Ie),L=np(C,ot);if(B&&L&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==L.node||X.focusOffset!==L.offset)){var z=ae.createRange();z.setStart(B.node,B.offset),X.removeAllRanges(),Ie>ot?(X.addRange(z),X.extend(L.node,L.offset)):(z.setEnd(L.node,L.offset),X.addRange(z))}}}}for(ae=[],X=C;X=X.parentNode;)X.nodeType===1&&ae.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ae.length;C++){var ne=ae[C];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}vo=!!Od,Id=Od=null}finally{et=f,k.p=l,P.T=s}}n.current=a,zt=2}}function y1(){if(zt===2){zt=0;var n=oa,a=Hr,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=P.T,P.T=null;var l=k.p;k.p=2;var f=et;et|=4;try{Xg(n,a.alternate,a)}finally{et=f,k.p=l,P.T=s}}zt=3}}function T1(){if(zt===4||zt===3){zt=0,it();var n=oa,a=Hr,s=Mi,l=s1;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?zt=5:(zt=0,Hr=oa=null,b1(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(la=null),Mc(s),a=a.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(on,a,void 0,(a.current.flags&128)===128)}catch{}if(l!==null){a=P.T,f=k.p,k.p=2,P.T=null;try{for(var d=n.onRecoverableError,y=0;y<l.length;y++){var C=l[y];d(C.value,{componentStack:C.stack})}}finally{P.T=a,k.p=f}}(Mi&3)!==0&&ho(),ci(n),f=n.pendingLanes,(s&261930)!==0&&(f&42)!==0?n===gd?nu++:(nu=0,gd=n):nu=0,iu(0)}}function b1(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,Ps(a)))}function ho(){return _1(),y1(),T1(),S1()}function S1(){if(zt!==5)return!1;var n=oa,a=md;md=0;var s=Mc(Mi),l=P.T,f=k.p;try{k.p=32>s?32:s,P.T=null,s=pd,pd=null;var d=oa,y=Mi;if(zt=0,Hr=oa=null,Mi=0,(et&6)!==0)throw Error(r(331));var C=et;if(et|=4,i1(d.current),e1(d,d.current,y,s),et=C,iu(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(on,d)}catch{}return!0}finally{k.p=f,P.T=l,b1(n,a)}}function C1(n,a,s){a=zn(s,a),a=Qf(n.stateNode,a,2),n=na(n,a,2),n!==null&&(Cs(n,2),ci(n))}function st(n,a,s){if(n.tag===3)C1(n,n,s);else for(;a!==null;){if(a.tag===3){C1(a,n,s);break}else if(a.tag===1){var l=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(la===null||!la.has(l))){n=zn(s,n),s=Ag(2),l=na(a,s,2),l!==null&&(vg(s,l,a,n),Cs(l,2),ci(l));break}}a=a.return}}function yd(n,a,s){var l=n.pingCache;if(l===null){l=n.pingCache=new C3;var f=new Set;l.set(a,f)}else f=l.get(a),f===void 0&&(f=new Set,l.set(a,f));f.has(s)||(fd=!0,f.add(s),n=R3.bind(null,n,a,s),a.then(n,n))}function R3(n,a,s){var l=n.pingCache;l!==null&&l.delete(a),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,ft===n&&(Qe&s)===s&&(Nt===4||Nt===3&&(Qe&62914560)===Qe&&300>ht()-so?(et&2)===0&&Fr(n,0):dd|=s,Ur===Qe&&(Ur=0)),ci(n)}function A1(n,a){a===0&&(a=_m()),n=wa(n,a),n!==null&&(Cs(n,a),ci(n))}function O3(n){var a=n.memoizedState,s=0;a!==null&&(s=a.retryLane),A1(n,s)}function I3(n,a){var s=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(a),A1(n,s)}function D3(n,a){return M(n,a)}var mo=null,jr=null,Td=!1,po=!1,bd=!1,fa=0;function ci(n){n!==jr&&n.next===null&&(jr===null?mo=jr=n:jr=jr.next=n),po=!0,Td||(Td=!0,k3())}function iu(n,a){if(!bd&&po){bd=!0;do for(var s=!1,l=mo;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var y=l.suspendedLanes,C=l.pingedLanes;d=(1<<31-ct(42|n)+1)-1,d&=f&~(y&~C),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,R1(l,d))}else d=Qe,d=_l(l,l===ft?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Ss(l,d)||(s=!0,R1(l,d));l=l.next}while(s);bd=!1}}function L3(){v1()}function v1(){po=Td=!1;var n=0;fa!==0&&Y3()&&(n=fa);for(var a=ht(),s=null,l=mo;l!==null;){var f=l.next,d=x1(l,a);d===0?(l.next=null,s===null?mo=f:s.next=f,f===null&&(jr=s)):(s=l,(n!==0||(d&3)!==0)&&(po=!0)),l=f}zt!==0&&zt!==5||iu(n),fa!==0&&(fa=0)}function x1(n,a){for(var s=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var y=31-ct(d),C=1<<y,I=f[y];I===-1?((C&s)===0||(C&l)!==0)&&(f[y]=rC(C,a)):I<=a&&(n.expiredLanes|=C),d&=~C}if(a=ft,s=Qe,s=_l(n,n===a?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,s===0||n===a&&(rt===2||rt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ge(l),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||Ss(n,s)){if(a=s&-s,a===n.callbackPriority)return a;switch(l!==null&&ge(l),Mc(s)){case 2:case 8:s=me;break;case 32:s=De;break;case 268435456:s=at;break;default:s=De}return l=N1.bind(null,n),s=M(s,l),n.callbackPriority=a,n.callbackNode=s,a}return l!==null&&l!==null&&ge(l),n.callbackPriority=2,n.callbackNode=null,2}function N1(n,a){if(zt!==0&&zt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(ho()&&n.callbackNode!==s)return null;var l=Qe;return l=_l(n,n===ft?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(l1(n,l,a),x1(n,ht()),n.callbackNode!=null&&n.callbackNode===s?N1.bind(null,n):null)}function R1(n,a){if(ho())return null;l1(n,a,!0)}function k3(){V3(function(){(et&6)!==0?M(J,L3):v1()})}function Sd(){if(fa===0){var n=Nr;n===0&&(n=pl,pl<<=1,(pl&261888)===0&&(pl=256)),fa=n}return fa}function O1(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Sl(""+n)}function I1(n,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,n.id&&s.setAttribute("form",n.id),a.parentNode.insertBefore(s,a),n=new FormData(n),s.parentNode.removeChild(s),n}function w3(n,a,s,l,f){if(a==="submit"&&s&&s.stateNode===f){var d=O1((f[dn]||null).action),y=l.submitter;y&&(a=(a=y[dn]||null)?O1(a.formAction):y.getAttribute("formAction"),a!==null&&(d=a,y=null));var C=new xl("action","action",null,l,f);n.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(fa!==0){var I=y?I1(f,y):new FormData(f);jf(s,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(C.preventDefault(),I=y?I1(f,y):new FormData(f),jf(s,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var Cd=0;Cd<rf.length;Cd++){var Ad=rf[Cd],M3=Ad.toLowerCase(),B3=Ad[0].toUpperCase()+Ad.slice(1);Jn(M3,"on"+B3)}Jn(up,"onAnimationEnd"),Jn(lp,"onAnimationIteration"),Jn(op,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn($C,"onTransitionRun"),Jn(JC,"onTransitionStart"),Jn(e3,"onTransitionCancel"),Jn(cp,"onTransitionEnd"),hr("onMouseEnter",["mouseout","mouseover"]),hr("onMouseLeave",["mouseout","mouseover"]),hr("onPointerEnter",["pointerout","pointerover"]),hr("onPointerLeave",["pointerout","pointerover"]),Ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ia("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(au));function D1(n,a){a=(a&4)!==0;for(var s=0;s<n.length;s++){var l=n[s],f=l.event;l=l.listeners;e:{var d=void 0;if(a)for(var y=l.length-1;0<=y;y--){var C=l[y],I=C.instance,j=C.currentTarget;if(C=C.listener,I!==d&&f.isPropagationStopped())break e;d=C,f.currentTarget=j;try{d(f)}catch($){Ol($)}f.currentTarget=null,d=I}else for(y=0;y<l.length;y++){if(C=l[y],I=C.instance,j=C.currentTarget,C=C.listener,I!==d&&f.isPropagationStopped())break e;d=C,f.currentTarget=j;try{d(f)}catch($){Ol($)}f.currentTarget=null,d=I}}}}function Ge(n,a){var s=a[Bc];s===void 0&&(s=a[Bc]=new Set);var l=n+"__bubble";s.has(l)||(L1(a,n,2,!1),s.add(l))}function vd(n,a,s){var l=0;a&&(l|=4),L1(s,n,l,a)}var go="_reactListening"+Math.random().toString(36).slice(2);function xd(n){if(!n[go]){n[go]=!0,vm.forEach(function(s){s!=="selectionchange"&&(P3.has(s)||vd(s,!1,n),vd(s,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[go]||(a[go]=!0,vd("selectionchange",!1,a))}}function L1(n,a,s,l){switch(uE(a)){case 2:var f=fA;break;case 8:f=dA;break;default:f=zd}s=f.bind(null,a,s,n),f=void 0,!Vc||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(a,s,{capture:!0,passive:f}):n.addEventListener(a,s,!0):f!==void 0?n.addEventListener(a,s,{passive:f}):n.addEventListener(a,s,!1)}function Nd(n,a,s,l,f){var d=l;if((a&1)===0&&(a&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var C=l.stateNode.containerInfo;if(C===f)break;if(y===4)for(y=l.return;y!==null;){var I=y.tag;if((I===3||I===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;C!==null;){if(y=cr(C),y===null)return;if(I=y.tag,I===5||I===6||I===26||I===27){l=d=y;continue e}C=C.parentNode}}l=l.return}Pm(function(){var j=d,$=Yc(s),ae=[];e:{var Y=fp.get(n);if(Y!==void 0){var X=xl,be=n;switch(n){case"keypress":if(Al(s)===0)break e;case"keydown":case"keyup":X=IC;break;case"focusin":be="focus",X=Kc;break;case"focusout":be="blur",X=Kc;break;case"beforeblur":case"afterblur":X=Kc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Fm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=_C;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=kC;break;case up:case lp:case op:X=bC;break;case cp:X=MC;break;case"scroll":case"scrollend":X=gC;break;case"wheel":X=PC;break;case"copy":case"cut":case"paste":X=CC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=jm;break;case"toggle":case"beforetoggle":X=HC}var Ie=(a&4)!==0,ot=!Ie&&(n==="scroll"||n==="scrollend"),B=Ie?Y!==null?Y+"Capture":null:Y;Ie=[];for(var L=j,z;L!==null;){var ne=L;if(z=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||z===null||B===null||(ne=xs(L,B),ne!=null&&Ie.push(ru(L,ne,z))),ot)break;L=L.return}0<Ie.length&&(Y=new X(Y,be,null,s,$),ae.push({event:Y,listeners:Ie}))}}if((a&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",Y&&s!==jc&&(be=s.relatedTarget||s.fromElement)&&(cr(be)||be[or]))break e;if((X||Y)&&(Y=$.window===$?$:(Y=$.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(be=s.relatedTarget||s.toElement,X=j,be=be?cr(be):null,be!==null&&(ot=o(be),Ie=be.tag,be!==ot||Ie!==5&&Ie!==27&&Ie!==6)&&(be=null)):(X=null,be=j),X!==be)){if(Ie=Fm,ne="onMouseLeave",B="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(Ie=jm,ne="onPointerLeave",B="onPointerEnter",L="pointer"),ot=X==null?Y:vs(X),z=be==null?Y:vs(be),Y=new Ie(ne,L+"leave",X,s,$),Y.target=ot,Y.relatedTarget=z,ne=null,cr($)===j&&(Ie=new Ie(B,L+"enter",be,s,$),Ie.target=z,Ie.relatedTarget=ot,ne=Ie),ot=ne,X&&be)t:{for(Ie=U3,B=X,L=be,z=0,ne=B;ne;ne=Ie(ne))z++;ne=0;for(var Ne=L;Ne;Ne=Ie(Ne))ne++;for(;0<z-ne;)B=Ie(B),z--;for(;0<ne-z;)L=Ie(L),ne--;for(;z--;){if(B===L||L!==null&&B===L.alternate){Ie=B;break t}B=Ie(B),L=Ie(L)}Ie=null}else Ie=null;X!==null&&k1(ae,Y,X,Ie,!1),be!==null&&ot!==null&&k1(ae,ot,be,Ie,!0)}}e:{if(Y=j?vs(j):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var $e=Wm;else if(Qm(Y))if(Zm)$e=KC;else{$e=XC;var Ce=GC}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?j&&zc(j.elementType)&&($e=Wm):$e=QC;if($e&&($e=$e(n,j))){Km(ae,$e,s,$);break e}Ce&&Ce(n,Y,j),n==="focusout"&&j&&Y.type==="number"&&j.memoizedProps.value!=null&&Fc(Y,"number",Y.value)}switch(Ce=j?vs(j):window,n){case"focusin":(Qm(Ce)||Ce.contentEditable==="true")&&(yr=Ce,tf=j,ws=null);break;case"focusout":ws=tf=yr=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,rp(ae,s,$);break;case"selectionchange":if(ZC)break;case"keydown":case"keyup":rp(ae,s,$)}var He;if(Zc)e:{switch(n){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else _r?Gm(n,s)&&(Ke="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(Ke="onCompositionStart");Ke&&(Ym&&s.locale!=="ko"&&(_r||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&_r&&(He=Um()):(Ki=$,Gc="value"in Ki?Ki.value:Ki.textContent,_r=!0)),Ce=Eo(j,Ke),0<Ce.length&&(Ke=new zm(Ke,n,null,s,$),ae.push({event:Ke,listeners:Ce}),He?Ke.data=He:(He=Xm(s),He!==null&&(Ke.data=He)))),(He=zC?jC(n,s):YC(n,s))&&(Ke=Eo(j,"onBeforeInput"),0<Ke.length&&(Ce=new zm("onBeforeInput","beforeinput",null,s,$),ae.push({event:Ce,listeners:Ke}),Ce.data=He)),w3(ae,n,j,s,$)}D1(ae,a)})}function ru(n,a,s){return{instance:n,listener:a,currentTarget:s}}function Eo(n,a){for(var s=a+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=xs(n,s),f!=null&&l.unshift(ru(n,f,d)),f=xs(n,a),f!=null&&l.push(ru(n,f,d))),n.tag===3)return l;n=n.return}return[]}function U3(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function k1(n,a,s,l,f){for(var d=a._reactName,y=[];s!==null&&s!==l;){var C=s,I=C.alternate,j=C.stateNode;if(C=C.tag,I!==null&&I===l)break;C!==5&&C!==26&&C!==27||j===null||(I=j,f?(j=xs(s,d),j!=null&&y.unshift(ru(s,j,I))):f||(j=xs(s,d),j!=null&&y.push(ru(s,j,I)))),s=s.return}y.length!==0&&n.push({event:a,listeners:y})}var H3=/\r\n?/g,F3=/\u0000|\uFFFD/g;function w1(n){return(typeof n=="string"?n:""+n).replace(H3,`
`).replace(F3,"")}function M1(n,a){return a=w1(a),w1(n)===a}function lt(n,a,s,l,f,d){switch(s){case"children":typeof l=="string"?a==="body"||a==="textarea"&&l===""||pr(n,l):(typeof l=="number"||typeof l=="bigint")&&a!=="body"&&pr(n,""+l);break;case"className":Tl(n,"class",l);break;case"tabIndex":Tl(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tl(n,s,l);break;case"style":Mm(n,l,d);break;case"data":if(a!=="object"){Tl(n,"data",l);break}case"src":case"href":if(l===""&&(a!=="a"||s!=="href")){n.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=Sl(""+l),n.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(a!=="input"&&lt(n,a,"name",f.name,f,null),lt(n,a,"formEncType",f.formEncType,f,null),lt(n,a,"formMethod",f.formMethod,f,null),lt(n,a,"formTarget",f.formTarget,f,null)):(lt(n,a,"encType",f.encType,f,null),lt(n,a,"method",f.method,f,null),lt(n,a,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=Sl(""+l),n.setAttribute(s,l);break;case"onClick":l!=null&&(n.onclick=Ti);break;case"onScroll":l!=null&&Ge("scroll",n);break;case"onScrollEnd":l!=null&&Ge("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=s}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}s=Sl(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""+l):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":l===!0?n.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,l):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(s,l):n.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(s):n.setAttribute(s,l);break;case"popover":Ge("beforetoggle",n),Ge("toggle",n),yl(n,"popover",l);break;case"xlinkActuate":yi(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":yi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":yi(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":yi(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":yi(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":yi(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":yi(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":yi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":yi(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":yl(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=mC.get(s)||s,yl(n,s,l))}}function Rd(n,a,s,l,f,d){switch(s){case"style":Mm(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=s}}break;case"children":typeof l=="string"?pr(n,l):(typeof l=="number"||typeof l=="bigint")&&pr(n,""+l);break;case"onScroll":l!=null&&Ge("scroll",n);break;case"onScrollEnd":l!=null&&Ge("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xm.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),a=s.slice(2,f?s.length-7:void 0),d=n[dn]||null,d=d!=null?d[s]:null,typeof d=="function"&&n.removeEventListener(a,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(a,l,f);break e}s in n?n[s]=l:l===!0?n.setAttribute(s,""):yl(n,s,l)}}}function en(n,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",n),Ge("load",n);var l=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var y=s[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:lt(n,a,d,y,s,null)}}f&&lt(n,a,"srcSet",s.srcSet,s,null),l&&lt(n,a,"src",s.src,s,null);return;case"input":Ge("invalid",n);var C=d=y=f=null,I=null,j=null;for(l in s)if(s.hasOwnProperty(l)){var $=s[l];if($!=null)switch(l){case"name":f=$;break;case"type":y=$;break;case"checked":I=$;break;case"defaultChecked":j=$;break;case"value":d=$;break;case"defaultValue":C=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,a));break;default:lt(n,a,l,$,s,null)}}Dm(n,d,C,I,j,y,f,!1);return;case"select":Ge("invalid",n),l=y=d=null;for(f in s)if(s.hasOwnProperty(f)&&(C=s[f],C!=null))switch(f){case"value":d=C;break;case"defaultValue":y=C;break;case"multiple":l=C;default:lt(n,a,f,C,s,null)}a=d,s=y,n.multiple=!!l,a!=null?mr(n,!!l,a,!1):s!=null&&mr(n,!!l,s,!0);return;case"textarea":Ge("invalid",n),d=f=l=null;for(y in s)if(s.hasOwnProperty(y)&&(C=s[y],C!=null))switch(y){case"value":l=C;break;case"defaultValue":f=C;break;case"children":d=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:lt(n,a,y,C,s,null)}km(n,l,f,d);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(l=s[I],l!=null))switch(I){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:lt(n,a,I,l,s,null)}return;case"dialog":Ge("beforetoggle",n),Ge("toggle",n),Ge("cancel",n),Ge("close",n);break;case"iframe":case"object":Ge("load",n);break;case"video":case"audio":for(l=0;l<au.length;l++)Ge(au[l],n);break;case"image":Ge("error",n),Ge("load",n);break;case"details":Ge("toggle",n);break;case"embed":case"source":case"link":Ge("error",n),Ge("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(l=s[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:lt(n,a,j,l,s,null)}return;default:if(zc(a)){for($ in s)s.hasOwnProperty($)&&(l=s[$],l!==void 0&&Rd(n,a,$,l,s,void 0));return}}for(C in s)s.hasOwnProperty(C)&&(l=s[C],l!=null&&lt(n,a,C,l,s,null))}function z3(n,a,s,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,y=null,C=null,I=null,j=null,$=null;for(X in s){var ae=s[X];if(s.hasOwnProperty(X)&&ae!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":I=ae;default:l.hasOwnProperty(X)||lt(n,a,X,null,l,ae)}}for(var Y in l){var X=l[Y];if(ae=s[Y],l.hasOwnProperty(Y)&&(X!=null||ae!=null))switch(Y){case"type":d=X;break;case"name":f=X;break;case"checked":j=X;break;case"defaultChecked":$=X;break;case"value":y=X;break;case"defaultValue":C=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,a));break;default:X!==ae&&lt(n,a,Y,X,l,ae)}}Hc(n,y,C,I,j,$,d,f);return;case"select":X=y=C=Y=null;for(d in s)if(I=s[d],s.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":X=I;default:l.hasOwnProperty(d)||lt(n,a,d,null,l,I)}for(f in l)if(d=l[f],I=s[f],l.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":Y=d;break;case"defaultValue":C=d;break;case"multiple":y=d;default:d!==I&&lt(n,a,f,d,l,I)}a=C,s=y,l=X,Y!=null?mr(n,!!s,Y,!1):!!l!=!!s&&(a!=null?mr(n,!!s,a,!0):mr(n,!!s,s?[]:"",!1));return;case"textarea":X=Y=null;for(C in s)if(f=s[C],s.hasOwnProperty(C)&&f!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:lt(n,a,C,null,l,f)}for(y in l)if(f=l[y],d=s[y],l.hasOwnProperty(y)&&(f!=null||d!=null))switch(y){case"value":Y=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&lt(n,a,y,f,l,d)}Lm(n,Y,X);return;case"option":for(var be in s)if(Y=s[be],s.hasOwnProperty(be)&&Y!=null&&!l.hasOwnProperty(be))switch(be){case"selected":n.selected=!1;break;default:lt(n,a,be,null,l,Y)}for(I in l)if(Y=l[I],X=s[I],l.hasOwnProperty(I)&&Y!==X&&(Y!=null||X!=null))switch(I){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:lt(n,a,I,Y,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in s)Y=s[Ie],s.hasOwnProperty(Ie)&&Y!=null&&!l.hasOwnProperty(Ie)&&lt(n,a,Ie,null,l,Y);for(j in l)if(Y=l[j],X=s[j],l.hasOwnProperty(j)&&Y!==X&&(Y!=null||X!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,a));break;default:lt(n,a,j,Y,l,X)}return;default:if(zc(a)){for(var ot in s)Y=s[ot],s.hasOwnProperty(ot)&&Y!==void 0&&!l.hasOwnProperty(ot)&&Rd(n,a,ot,void 0,l,Y);for($ in l)Y=l[$],X=s[$],!l.hasOwnProperty($)||Y===X||Y===void 0&&X===void 0||Rd(n,a,$,Y,l,X);return}}for(var B in s)Y=s[B],s.hasOwnProperty(B)&&Y!=null&&!l.hasOwnProperty(B)&&lt(n,a,B,null,l,Y);for(ae in l)Y=l[ae],X=s[ae],!l.hasOwnProperty(ae)||Y===X||Y==null&&X==null||lt(n,a,ae,Y,l,X)}function B1(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function j3(){if(typeof performance.getEntriesByType=="function"){for(var n=0,a=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var f=s[l],d=f.transferSize,y=f.initiatorType,C=f.duration;if(d&&C&&B1(y)){for(y=0,C=f.responseEnd,l+=1;l<s.length;l++){var I=s[l],j=I.startTime;if(j>C)break;var $=I.transferSize,ae=I.initiatorType;$&&B1(ae)&&(I=I.responseEnd,y+=$*(I<C?1:(C-j)/(I-j)))}if(--l,a+=8*(d+y)/(f.duration/1e3),n++,10<n)break}}if(0<n)return a/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Od=null,Id=null;function _o(n){return n.nodeType===9?n:n.ownerDocument}function P1(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U1(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function Dd(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ld=null;function Y3(){var n=window.event;return n&&n.type==="popstate"?n===Ld?!1:(Ld=n,!0):(Ld=null,!1)}var H1=typeof setTimeout=="function"?setTimeout:void 0,q3=typeof clearTimeout=="function"?clearTimeout:void 0,F1=typeof Promise=="function"?Promise:void 0,V3=typeof queueMicrotask=="function"?queueMicrotask:typeof F1<"u"?function(n){return F1.resolve(null).then(n).catch(G3)}:H1;function G3(n){setTimeout(function(){throw n})}function da(n){return n==="head"}function z1(n,a){var s=a,l=0;do{var f=s.nextSibling;if(n.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(l===0){n.removeChild(f),Gr(a);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")su(n.ownerDocument.documentElement);else if(s==="head"){s=n.ownerDocument.head,su(s);for(var d=s.firstChild;d;){var y=d.nextSibling,C=d.nodeName;d[As]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=y}}else s==="body"&&su(n.ownerDocument.body);s=f}while(s);Gr(a)}function j1(n,a){var s=n;n=0;do{var l=s.nextSibling;if(s.nodeType===1?a?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(a?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(n===0)break;n--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||n++;s=l}while(s)}function kd(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":kd(s),Pc(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function X3(n,a,s,l){for(;n.nodeType===1;){var f=s;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[As])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Gn(n.nextSibling),n===null)break}return null}function Q3(n,a,s){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Gn(n.nextSibling),n===null))return null;return n}function Y1(n,a){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Gn(n.nextSibling),n===null))return null;return n}function wd(n){return n.data==="$?"||n.data==="$~"}function Md(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function K3(n,a){var s=n.ownerDocument;if(n.data==="$~")n._reactRetry=a;else if(n.data!=="$?"||s.readyState!=="loading")a();else{var l=function(){a(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Gn(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return n}var Bd=null;function q1(n){n=n.nextSibling;for(var a=0;n;){if(n.nodeType===8){var s=n.data;if(s==="/$"||s==="/&"){if(a===0)return Gn(n.nextSibling);a--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||a++}n=n.nextSibling}return null}function V1(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(a===0)return n;a--}else s!=="/$"&&s!=="/&"||a++}n=n.previousSibling}return null}function G1(n,a,s){switch(a=_o(s),n){case"html":if(n=a.documentElement,!n)throw Error(r(452));return n;case"head":if(n=a.head,!n)throw Error(r(453));return n;case"body":if(n=a.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function su(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);Pc(n)}var Xn=new Map,X1=new Set;function yo(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Bi=k.d;k.d={f:W3,r:Z3,D:$3,C:J3,L:eA,m:tA,X:iA,S:nA,M:aA};function W3(){var n=Bi.f(),a=oo();return n||a}function Z3(n){var a=fr(n);a!==null&&a.tag===5&&a.type==="form"?cg(a):Bi.r(n)}var Yr=typeof document>"u"?null:document;function Q1(n,a,s){var l=Yr;if(l&&typeof a=="string"&&a){var f=Hn(a);f='link[rel="'+n+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),X1.has(f)||(X1.add(f),n={rel:n,crossOrigin:s,href:a},l.querySelector(f)===null&&(a=l.createElement("link"),en(a,"link",n),Yt(a),l.head.appendChild(a)))}}function $3(n){Bi.D(n),Q1("dns-prefetch",n,null)}function J3(n,a){Bi.C(n,a),Q1("preconnect",n,a)}function eA(n,a,s){Bi.L(n,a,s);var l=Yr;if(l&&n&&a){var f='link[rel="preload"][as="'+Hn(a)+'"]';a==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Hn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Hn(s.imageSizes)+'"]')):f+='[href="'+Hn(n)+'"]';var d=f;switch(a){case"style":d=qr(n);break;case"script":d=Vr(n)}Xn.has(d)||(n=T({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:n,as:a},s),Xn.set(d,n),l.querySelector(f)!==null||a==="style"&&l.querySelector(uu(d))||a==="script"&&l.querySelector(lu(d))||(a=l.createElement("link"),en(a,"link",n),Yt(a),l.head.appendChild(a)))}}function tA(n,a){Bi.m(n,a);var s=Yr;if(s&&n){var l=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+Hn(l)+'"][href="'+Hn(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Vr(n)}if(!Xn.has(d)&&(n=T({rel:"modulepreload",href:n},a),Xn.set(d,n),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(lu(d)))return}l=s.createElement("link"),en(l,"link",n),Yt(l),s.head.appendChild(l)}}}function nA(n,a,s){Bi.S(n,a,s);var l=Yr;if(l&&n){var f=dr(l).hoistableStyles,d=qr(n);a=a||"default";var y=f.get(d);if(!y){var C={loading:0,preload:null};if(y=l.querySelector(uu(d)))C.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":a},s),(s=Xn.get(d))&&Pd(n,s);var I=y=l.createElement("link");Yt(I),en(I,"link",n),I._p=new Promise(function(j,$){I.onload=j,I.onerror=$}),I.addEventListener("load",function(){C.loading|=1}),I.addEventListener("error",function(){C.loading|=2}),C.loading|=4,To(y,a,l)}y={type:"stylesheet",instance:y,count:1,state:C},f.set(d,y)}}}function iA(n,a){Bi.X(n,a);var s=Yr;if(s&&n){var l=dr(s).hoistableScripts,f=Vr(n),d=l.get(f);d||(d=s.querySelector(lu(f)),d||(n=T({src:n,async:!0},a),(a=Xn.get(f))&&Ud(n,a),d=s.createElement("script"),Yt(d),en(d,"link",n),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function aA(n,a){Bi.M(n,a);var s=Yr;if(s&&n){var l=dr(s).hoistableScripts,f=Vr(n),d=l.get(f);d||(d=s.querySelector(lu(f)),d||(n=T({src:n,async:!0,type:"module"},a),(a=Xn.get(f))&&Ud(n,a),d=s.createElement("script"),Yt(d),en(d,"link",n),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function K1(n,a,s,l){var f=(f=D.current)?yo(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=qr(s.href),s=dr(f).hoistableStyles,l=s.get(a),l||(l={type:"style",instance:null,count:0,state:null},s.set(a,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=qr(s.href);var d=dr(f).hoistableStyles,y=d.get(n);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,y),(d=f.querySelector(uu(n)))&&!d._p&&(y.instance=d,y.state.loading=5),Xn.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Xn.set(n,s),d||rA(f,n,s,y.state))),a&&l===null)throw Error(r(528,""));return y}if(a&&l!==null)throw Error(r(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Vr(s),s=dr(f).hoistableScripts,l=s.get(a),l||(l={type:"script",instance:null,count:0,state:null},s.set(a,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function qr(n){return'href="'+Hn(n)+'"'}function uu(n){return'link[rel="stylesheet"]['+n+"]"}function W1(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function rA(n,a,s,l){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=n.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),en(a,"link",s),Yt(a),n.head.appendChild(a))}function Vr(n){return'[src="'+Hn(n)+'"]'}function lu(n){return"script[async]"+n}function Z1(n,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var l=n.querySelector('style[data-href~="'+Hn(s.href)+'"]');if(l)return a.instance=l,Yt(l),l;var f=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Yt(l),en(l,"style",f),To(l,s.precedence,n),a.instance=l;case"stylesheet":f=qr(s.href);var d=n.querySelector(uu(f));if(d)return a.state.loading|=4,a.instance=d,Yt(d),d;l=W1(s),(f=Xn.get(f))&&Pd(l,f),d=(n.ownerDocument||n).createElement("link"),Yt(d);var y=d;return y._p=new Promise(function(C,I){y.onload=C,y.onerror=I}),en(d,"link",l),a.state.loading|=4,To(d,s.precedence,n),a.instance=d;case"script":return d=Vr(s.src),(f=n.querySelector(lu(d)))?(a.instance=f,Yt(f),f):(l=s,(f=Xn.get(d))&&(l=T({},s),Ud(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Yt(f),en(f,"link",l),n.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(l=a.instance,a.state.loading|=4,To(l,s.precedence,n));return a.instance}function To(n,a,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,y=0;y<l.length;y++){var C=l[y];if(C.dataset.precedence===a)d=C;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(n,a.firstChild))}function Pd(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function Ud(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var bo=null;function $1(n,a,s){if(bo===null){var l=new Map,f=bo=new Map;f.set(s,l)}else f=bo,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(n))return l;for(l.set(n,null),s=s.getElementsByTagName(n),f=0;f<s.length;f++){var d=s[f];if(!(d[As]||d[Wt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(a)||"";y=n+y;var C=l.get(y);C?C.push(d):l.set(y,[d])}}return l}function J1(n,a,s){n=n.ownerDocument||n,n.head.insertBefore(s,a==="title"?n.querySelector("head > title"):null)}function sA(n,a,s){if(s===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function eE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function uA(n,a,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=qr(l.href),d=a.querySelector(uu(f));if(d){a=d._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(n.count++,n=So.bind(n),a.then(n,n)),s.state.loading|=4,s.instance=d,Yt(d);return}d=a.ownerDocument||a,l=W1(l),(f=Xn.get(f))&&Pd(l,f),d=d.createElement("link"),Yt(d);var y=d;y._p=new Promise(function(C,I){y.onload=C,y.onerror=I}),en(d,"link",l),s.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(n.count++,s=So.bind(n),a.addEventListener("load",s),a.addEventListener("error",s))}}var Hd=0;function lA(n,a){return n.stylesheets&&n.count===0&&Ao(n,n.stylesheets),0<n.count||0<n.imgCount?function(s){var l=setTimeout(function(){if(n.stylesheets&&Ao(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+a);0<n.imgBytes&&Hd===0&&(Hd=62500*j3());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Ao(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>Hd?50:800)+a);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function So(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ao(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Co=null;function Ao(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Co=new Map,a.forEach(oA,n),Co=null,So.call(n))}function oA(n,a){if(!(a.state.loading&4)){var s=Co.get(n);if(s)var l=s.get(null);else{s=new Map,Co.set(n,s);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var y=f[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),l=y)}l&&s.set(null,l)}f=a.instance,y=f.getAttribute("data-precedence"),d=s.get(y)||l,d===l&&s.set(null,f),s.set(y,f),this.count++,l=So.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),a.state.loading|=4}}var ou={$$typeof:F,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function cA(n,a,s,l,f,d,y,C,I){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kc(0),this.hiddenUpdates=kc(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function tE(n,a,s,l,f,d,y,C,I,j,$,ae){return n=new cA(n,a,s,y,I,j,$,ae,C),a=1,d===!0&&(a|=24),d=On(3,null,null,a),n.current=d,d.stateNode=n,a=_f(),a.refCount++,n.pooledCache=a,a.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:a},Sf(d),n}function nE(n){return n?(n=Sr,n):Sr}function iE(n,a,s,l,f,d){f=nE(f),l.context===null?l.context=f:l.pendingContext=f,l=ta(a),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=na(n,l,a),s!==null&&(_n(s,n,a),zs(s,n,a))}function aE(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<a?s:a}}function Fd(n,a){aE(n,a),(n=n.alternate)&&aE(n,a)}function rE(n){if(n.tag===13||n.tag===31){var a=wa(n,67108864);a!==null&&_n(a,n,67108864),Fd(n,67108864)}}function sE(n){if(n.tag===13||n.tag===31){var a=wn();a=wc(a);var s=wa(n,a);s!==null&&_n(s,n,a),Fd(n,a)}}var vo=!0;function fA(n,a,s,l){var f=P.T;P.T=null;var d=k.p;try{k.p=2,zd(n,a,s,l)}finally{k.p=d,P.T=f}}function dA(n,a,s,l){var f=P.T;P.T=null;var d=k.p;try{k.p=8,zd(n,a,s,l)}finally{k.p=d,P.T=f}}function zd(n,a,s,l){if(vo){var f=jd(l);if(f===null)Nd(n,a,l,xo,s),lE(n,l);else if(mA(f,n,a,s,l))l.stopPropagation();else if(lE(n,l),a&4&&-1<hA.indexOf(n)){for(;f!==null;){var d=fr(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=Oa(d.pendingLanes);if(y!==0){var C=d;for(C.pendingLanes|=2,C.entangledLanes|=2;y;){var I=1<<31-ct(y);C.entanglements[1]|=I,y&=~I}ci(d),(et&6)===0&&(uo=ht()+500,iu(0))}}break;case 31:case 13:C=wa(d,2),C!==null&&_n(C,d,2),oo(),Fd(d,2)}if(d=jd(l),d===null&&Nd(n,a,l,xo,s),d===f)break;f=d}f!==null&&l.stopPropagation()}else Nd(n,a,l,null,s)}}function jd(n){return n=Yc(n),Yd(n)}var xo=null;function Yd(n){if(xo=null,n=cr(n),n!==null){var a=o(n);if(a===null)n=null;else{var s=a.tag;if(s===13){if(n=c(a),n!==null)return n;n=null}else if(s===31){if(n=h(a),n!==null)return n;n=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return xo=n,null}function uE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mt()){case J:return 2;case me:return 8;case De:case qe:return 32;case at:return 268435456;default:return 32}default:return 32}}var qd=!1,ha=null,ma=null,pa=null,cu=new Map,fu=new Map,ga=[],hA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lE(n,a){switch(n){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":cu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(a.pointerId)}}function du(n,a,s,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:a,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},a!==null&&(a=fr(a),a!==null&&rE(a)),n):(n.eventSystemFlags|=l,a=n.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),n)}function mA(n,a,s,l,f){switch(a){case"focusin":return ha=du(ha,n,a,s,l,f),!0;case"dragenter":return ma=du(ma,n,a,s,l,f),!0;case"mouseover":return pa=du(pa,n,a,s,l,f),!0;case"pointerover":var d=f.pointerId;return cu.set(d,du(cu.get(d)||null,n,a,s,l,f)),!0;case"gotpointercapture":return d=f.pointerId,fu.set(d,du(fu.get(d)||null,n,a,s,l,f)),!0}return!1}function oE(n){var a=cr(n.target);if(a!==null){var s=o(a);if(s!==null){if(a=s.tag,a===13){if(a=c(s),a!==null){n.blockedOn=a,Cm(n.priority,function(){sE(s)});return}}else if(a===31){if(a=h(s),a!==null){n.blockedOn=a,Cm(n.priority,function(){sE(s)});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function No(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var s=jd(n.nativeEvent);if(s===null){s=n.nativeEvent;var l=new s.constructor(s.type,s);jc=l,s.target.dispatchEvent(l),jc=null}else return a=fr(s),a!==null&&rE(a),n.blockedOn=s,!1;a.shift()}return!0}function cE(n,a,s){No(n)&&s.delete(a)}function pA(){qd=!1,ha!==null&&No(ha)&&(ha=null),ma!==null&&No(ma)&&(ma=null),pa!==null&&No(pa)&&(pa=null),cu.forEach(cE),fu.forEach(cE)}function Ro(n,a){n.blockedOn===a&&(n.blockedOn=null,qd||(qd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,pA)))}var Oo=null;function fE(n){Oo!==n&&(Oo=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Oo===n&&(Oo=null);for(var a=0;a<n.length;a+=3){var s=n[a],l=n[a+1],f=n[a+2];if(typeof l!="function"){if(Yd(l||s)===null)continue;break}var d=fr(s);d!==null&&(n.splice(a,3),a-=3,jf(d,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function Gr(n){function a(I){return Ro(I,n)}ha!==null&&Ro(ha,n),ma!==null&&Ro(ma,n),pa!==null&&Ro(pa,n),cu.forEach(a),fu.forEach(a);for(var s=0;s<ga.length;s++){var l=ga[s];l.blockedOn===n&&(l.blockedOn=null)}for(;0<ga.length&&(s=ga[0],s.blockedOn===null);)oE(s),s.blockedOn===null&&ga.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],d=s[l+1],y=f[dn]||null;if(typeof d=="function")y||fE(s);else if(y){var C=null;if(d&&d.hasAttribute("formAction")){if(f=d,y=d[dn]||null)C=y.formAction;else if(Yd(f)!==null)continue}else C=y.action;typeof C=="function"?s[l+1]=C:(s.splice(l,3),l-=3),fE(s)}}}function dE(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return f=y})},focusReset:"manual",scroll:"manual"})}function a(){f!==null&&(f(),f=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),f!==null&&(f(),f=null)}}}function Vd(n){this._internalRoot=n}Io.prototype.render=Vd.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(r(409));var s=a.current,l=wn();iE(s,l,n,a,null,null)},Io.prototype.unmount=Vd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;iE(n.current,2,null,n,null,null),oo(),a[or]=null}};function Io(n){this._internalRoot=n}Io.prototype.unstable_scheduleHydration=function(n){if(n){var a=Sm();n={blockedOn:null,target:n,priority:a};for(var s=0;s<ga.length&&a!==0&&a<ga[s].priority;s++);ga.splice(s,0,n),s===0&&oE(n)}};var hE=t.version;if(hE!=="19.2.0")throw Error(r(527,hE,"19.2.0"));k.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=g(a),n=n!==null?E(n):null,n=n===null?null:n.stateNode,n};var gA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Do=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Do.isDisabled&&Do.supportsFiber)try{on=Do.inject(gA),Ft=Do}catch{}}return mu.createRoot=function(n,a){if(!u(n))throw Error(r(299));var s=!1,l="",f=Tg,d=bg,y=Sg;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=tE(n,1,!1,null,null,s,l,null,f,d,y,dE),n[or]=a.current,xd(n),new Vd(a)},mu.hydrateRoot=function(n,a,s){if(!u(n))throw Error(r(299));var l=!1,f="",d=Tg,y=bg,C=Sg,I=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),a=tE(n,1,!0,a,s??null,l,f,I,d,y,C,dE),a.context=nE(null),s=a.current,l=wn(),l=wc(l),f=ta(l),f.callback=null,na(s,f,l),s=l,a.current.lanes=s,Cs(a,s),ci(a),n[or]=a.current,xd(n),new Io(a)},mu.version="19.2.0",mu}var CE;function NA(){if(CE)return Qd.exports;CE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Qd.exports=xA(),Qd.exports}var RA=NA();const OA=hc(RA),tn=({children:e,onClick:t,type:i="default",style:r,as:u="button"})=>{const o={padding:"8px 14px",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",background:"#777a7cff",color:"white",display:"inline-block"},c={...o,background:"#d9534f"},h=i==="danger"?c:o,p=u;return _.jsx(p,{style:{...h,...r},onClick:t,children:e})},rn=[0,300,900,2700,6500,14e3,23e3,34e3,48e3,64e3,85e3,1e5,12e4,14e4,165e3,195e3,225e3,265e3,305e3,355e3];function IA(){const[e,t]=ue.useState("XP"),[i,r]=ue.useState(0),[u,o]=ue.useState(1),[c,h]=ue.useState(""),[p,g]=ue.useState([]),[E,T]=ue.useState(1),[b,S]=ue.useState([""]),[w,Q]=ue.useState(0);ue.useEffect(()=>{const k=JSON.parse(localStorage.getItem("partyData")||"{}");k.totalXP!==void 0&&r(k.totalXP),k.level!==void 0&&o(k.level),k.mode!==void 0&&t(k.mode),k.partyName!==void 0&&h(k.partyName),Array.isArray(k.characterNames)&&S(k.characterNames),k.numPlayers!==void 0?T(k.numPlayers):Array.isArray(k.characterNames)&&T(k.characterNames.length||1)},[]);const Z=()=>{try{const k=JSON.parse(localStorage.getItem("characterSheets_all")||"[]");if(console.log("Loaded character sheets:",k),Array.isArray(k)){const te=k.map(he=>({...he,party:he.party?.trim()||""}));g(te),console.log("Normalized character sheets:",te)}}catch(k){console.error("Error loading character sheets:",k)}};ue.useEffect(()=>{Z();const k=he=>{he.key==="characterSheets_all"&&(console.log("Storage event detected, reloading..."),Z())};window.addEventListener("storage",k);const te=setInterval(()=>{Z()},2e3);return()=>{window.removeEventListener("storage",k),clearInterval(te)}},[]);const q=Array.from(new Set(p.map(k=>k.party).filter(Boolean)));console.log("Available parties:",q);const oe=()=>{if(window.playerViewWindow&&!window.playerViewWindow.closed){const k={totalXP:i,level:u,mode:e,partyName:c,characterNames:b,numPlayers:E};window.playerViewWindow.postMessage({type:"partyUpdate",data:k},"*")}};ue.useEffect(()=>{let k=1;for(let te=rn.length-1;te>=0;te--)if(i>=rn[te]){k=te+1;break}o(k),localStorage.setItem("partyData",JSON.stringify({totalXP:i,level:k,mode:e,characterNames:b,partyName:c,numPlayers:E})),oe()},[i,e,b,c,E]);const F=(k,te)=>{if(!(!c||c==="__custom"))try{const x=JSON.parse(localStorage.getItem("characterSheets_all")||"[]").map(R=>R.party===c?{...R,xp:k,level:te}:R);localStorage.setItem("characterSheets_all",JSON.stringify(x)),x.forEach(R=>{R.party===c&&R.filename&&localStorage.setItem(R.filename,JSON.stringify(R))}),g(x),window.dispatchEvent(new CustomEvent("characterSheetsUpdated")),console.log("Updated character sheets for party:",c,"to level:",te,"XP:",k),console.log("Updated characters:",x.filter(R=>R.party===c))}catch(he){console.error("Error updating character sheets:",he)}},ye=k=>{const te=Math.min(i+Math.floor(k/E),rn[19]);r(te);let he=1;for(let x=rn.length-1;x>=0;x--)if(te>=rn[x]){he=x+1;break}F(te,he)},ve=k=>{const te=Math.max(i-Math.floor(k/E),0);r(te);let he=1;for(let x=rn.length-1;x>=0;x--)if(te>=rn[x]){he=x+1;break}F(te,he)},G=k=>{const te=Math.max(0,Math.min(k,rn[19]));r(te);let he=1;for(let x=rn.length-1;x>=0;x--)if(te>=rn[x]){he=x+1;break}F(te,he)},de=()=>{if(u>=20)return;const k=rn[u],te=u+1;r(k),F(k,te)},Se=k=>{const te=Number(k.target.value);T(te),S(he=>{const x=[...he];for(;x.length<te;)x.push("");for(;x.length>te;)x.pop();return x})},Oe=(k,te)=>{const he=[...b];he[k]=te,S(he)},xe=k=>{if(console.log("Party selected:",k),h(k),k&&k!=="__custom"){const te=p.filter(x=>x.party===k);console.log("Party members found:",te);const he=te.map(x=>x.name);if(S(he.length?he:[""]),T(he.length||1),te.length>0){const x=Math.max(...te.map(W=>W.level)),R=rn[Math.min(x-1,rn.length-1)]||0;console.log("Setting party to level:",x,"with XP:",R),r(R)}}oe()},Ee=()=>{(!window.playerViewWindow||window.playerViewWindow.closed)&&(window.playerViewWindow=window.open("/pt-pv.html","partyTrackerView")),oe()},V=()=>{const k={totalXP:0,level:1,mode:"XP",partyName:"",characterNames:[""],numPlayers:1};localStorage.setItem("partyData",JSON.stringify(k)),t("XP"),r(0),o(1),h(""),T(1),S([""]),oe()},Le=()=>{const k={totalXP:i,level:u,mode:e,partyName:c,characterNames:b,numPlayers:E},te=new Blob([JSON.stringify(k,null,2)],{type:"application/json"}),he=URL.createObjectURL(te),x=document.createElement("a");x.href=he,x.download=`${c.replace(/\s+/g,"_")||"party"}_party.json`,x.click(),URL.revokeObjectURL(he)},re=k=>{const te=k.target.files?.[0];if(!te)return;const he=new FileReader;he.onload=x=>{try{const R=JSON.parse(x.target?.result);R.totalXP!==void 0&&G(R.totalXP),R.mode!==void 0&&t(R.mode),R.partyName&&h(R.partyName),Array.isArray(R.characterNames)&&S(R.characterNames),R.numPlayers&&T(R.numPlayers),oe()}catch{alert("Invalid JSON file.")}},he.readAsText(te),k.target.value=""},ie=Math.max(0,i-rn[u-1]),P=u<20?rn[u]-rn[u-1]:0;return _.jsxs("div",{children:[_.jsx("h2",{children:"Party Tracker"}),_.jsx(tn,{onClick:Ee,style:{marginBottom:10},children:"Open Player View"}),_.jsx(tn,{onClick:Z,style:{marginBottom:10,marginLeft:10},children:"Refresh Parties"}),_.jsxs("div",{children:[_.jsxs("label",{children:[_.jsx("input",{type:"radio",value:"XP",checked:e==="XP",onChange:()=>t("XP")})," XP Based"]}),_.jsxs("label",{style:{marginLeft:10},children:[_.jsx("input",{type:"radio",value:"Milestone",checked:e==="Milestone",onChange:()=>t("Milestone")})," Milestone Based"]})]}),e==="XP"?_.jsxs("div",{style:{marginTop:10},children:[_.jsx("input",{type:"number",placeholder:"XP amount",value:w,onChange:k=>Q(Number(k.target.value))}),_.jsx(tn,{onClick:()=>ye(w),style:{marginLeft:10},children:"Add XP"}),_.jsx(tn,{onClick:()=>ve(w),style:{marginLeft:10},children:"Subtract XP"}),_.jsx(tn,{onClick:()=>G(w),style:{marginLeft:10},children:"Set XP"})]}):_.jsx("div",{style:{marginTop:10},children:_.jsx(tn,{onClick:de,children:"Level Up"})}),_.jsx("div",{style:{marginTop:20},children:e==="XP"?_.jsxs("p",{children:["Level ",u," | XP to next level: ",ie," / ",P]}):_.jsxs("p",{children:["Level ",u]})}),_.jsxs("div",{style:{margin:"20px 0"},children:[_.jsxs("label",{children:["Select Party:"," ",_.jsxs("select",{value:c,onChange:k=>xe(k.target.value),children:[_.jsx("option",{value:"",children:"-- choose --"}),q.map(k=>_.jsx("option",{value:k,children:k},k)),_.jsx("option",{value:"__custom",children:"Custom..."})]})]}),(c==="__custom"||c&&!q.includes(c))&&_.jsx("div",{style:{marginTop:10},children:_.jsxs("label",{children:["Custom Name:"," ",_.jsx("input",{type:"text",placeholder:"Enter custom party name",value:c==="__custom"?"":c,onChange:k=>{h(k.target.value),oe()}})]})})]}),_.jsxs("div",{style:{marginTop:20,padding:10,background:"#f0f0f0",fontSize:"0.9em"},children:[_.jsx("strong",{children:"Debug Info:"}),_.jsxs("div",{children:["Character Sheets Loaded: ",p.length]}),_.jsxs("div",{children:["Parties Found: ",q.length>0?q.join(", "):"None"]})]}),_.jsxs("div",{style:{marginTop:20},children:[_.jsxs("label",{children:["Number of Players:"," ",_.jsx("select",{value:E,onChange:Se,children:[...Array(20)].map((k,te)=>_.jsx("option",{value:te+1,children:te+1},te+1))})]}),_.jsx("div",{style:{marginTop:10},children:b.map((k,te)=>_.jsx("input",{type:"text",placeholder:`Player ${te+1} Name`,value:k,onChange:he=>Oe(te,he.target.value),style:{fontSize:"1.1em",margin:5}},te))})]}),_.jsxs("div",{style:{marginTop:20},children:[_.jsx("div",{style:{marginBottom:10},children:_.jsx(tn,{onClick:V,type:"danger",children:"Reset Party"})}),_.jsxs("div",{children:[_.jsx(tn,{onClick:Le,style:{marginRight:10},children:"Export JSON"}),_.jsx(tn,{onClick:()=>document.getElementById("loadJsonInput")?.click(),children:"Load JSON"}),_.jsx("input",{id:"loadJsonInput",type:"file",accept:".json",style:{display:"none"},onChange:re})]})]})]})}const DA=()=>{};var AE={};const Dy={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const pe=function(e,t){if(!e)throw fs(t)},fs=function(e){return new Error("Firebase Database ("+Dy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};const Ly=function(e){const t=[];let i=0;for(let r=0;r<e.length;r++){let u=e.charCodeAt(r);u<128?t[i++]=u:u<2048?(t[i++]=u>>6|192,t[i++]=u&63|128):(u&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(e.charCodeAt(++r)&1023),t[i++]=u>>18|240,t[i++]=u>>12&63|128,t[i++]=u>>6&63|128,t[i++]=u&63|128):(t[i++]=u>>12|224,t[i++]=u>>6&63|128,t[i++]=u&63|128)}return t},LA=function(e){const t=[];let i=0,r=0;for(;i<e.length;){const u=e[i++];if(u<128)t[r++]=String.fromCharCode(u);else if(u>191&&u<224){const o=e[i++];t[r++]=String.fromCharCode((u&31)<<6|o&63)}else if(u>239&&u<365){const o=e[i++],c=e[i++],h=e[i++],p=((u&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const o=e[i++],c=e[i++];t[r++]=String.fromCharCode((u&15)<<12|(o&63)<<6|c&63)}}return t.join("")},c0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<e.length;u+=3){const o=e[u],c=u+1<e.length,h=c?e[u+1]:0,p=u+2<e.length,g=p?e[u+2]:0,E=o>>2,T=(o&3)<<4|h>>4;let b=(h&15)<<2|g>>6,S=g&63;p||(S=64,c||(b=64)),r.push(i[E],i[T],i[b],i[S])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ly(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):LA(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<e.length;){const o=i[e.charAt(u++)],h=u<e.length?i[e.charAt(u)]:0;++u;const g=u<e.length?i[e.charAt(u)]:64;++u;const T=u<e.length?i[e.charAt(u)]:64;if(++u,o==null||h==null||g==null||T==null)throw new kA;const b=o<<2|h>>4;if(r.push(b),g!==64){const S=h<<4&240|g>>2;if(r.push(S),T!==64){const w=g<<6&192|T;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class kA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ky=function(e){const t=Ly(e);return c0.encodeByteArray(t,!0)},Vo=function(e){return ky(e).replace(/\./g,"")},xh=function(e){try{return c0.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function wA(e){return wy(void 0,e)}function wy(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!MA(i)||(e[i]=wy(e[i],t[i]));return e}function MA(e){return e!=="__proto__"}function BA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const PA=()=>BA().__FIREBASE_DEFAULTS__,UA=()=>{if(typeof process>"u"||typeof AE>"u")return;const e=AE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},HA=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&xh(e[1]);return t&&JSON.parse(t)},My=()=>{try{return DA()||PA()||UA()||HA()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},FA=e=>My()?.emulatorHosts?.[e],zA=e=>{const t=FA(e);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},By=()=>My()?.config;class mc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function f0(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jA(e){return(await fetch(e,{credentials:"include"})).ok}function YA(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",u=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Vo(JSON.stringify(i)),Vo(JSON.stringify(c)),""].join(".")}const Ru={};function qA(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ru))Ru[t]?e.emulator.push(t):e.prod.push(t);return e}function VA(e){let t=document.getElementById(e),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),i=!0),{created:i,element:t}}let vE=!1;function GA(e,t){if(typeof window>"u"||typeof document>"u"||!f0(window.location.host)||Ru[e]===t||Ru[e]||vE)return;Ru[e]=t;function i(b){return`__firebase__banner__${b}`}const r="__firebase__banner",o=qA().prod.length>0;function c(){const b=document.getElementById(r);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,S){b.setAttribute("width","24"),b.setAttribute("id",S),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{vE=!0,c()},b}function E(b,S){b.setAttribute("id",S),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=VA(r),S=i("text"),w=document.getElementById(S)||document.createElement("span"),Q=i("learnmore"),Z=document.getElementById(Q)||document.createElement("a"),q=i("preprendIcon"),oe=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const F=b.element;h(F),E(Z,Q);const ye=g();p(oe,q),F.append(oe,w,Z,ye),document.body.appendChild(F)}o?(w.innerText="Preview backend disconnected.",oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function XA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Py(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(XA())}function QA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KA(){return Dy.NODE_ADMIN===!0}function WA(){try{return typeof indexedDB=="object"}catch{return!1}}function ZA(){return new Promise((e,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(r),e(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{t(u.error?.message||"")}}catch(i){t(i)}})}const $A="FirebaseError";class il extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=$A,Object.setPrototypeOf(this,il.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uy.prototype.create)}}class Uy{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},u=`${this.service}/${t}`,o=this.errors[t],c=o?JA(o,r):"Error",h=`${this.serviceName}: ${c} (${u}).`;return new il(u,h,r)}}function JA(e,t){return e.replace(ev,(i,r)=>{const u=t[r];return u!=null?String(u):`<${r}?>`})}const ev=/\{\$([^}]+)}/g;function qu(e){return JSON.parse(e)}function Qt(e){return JSON.stringify(e)}const Hy=function(e){let t={},i={},r={},u="";try{const o=e.split(".");t=qu(xh(o[0])||""),i=qu(xh(o[1])||""),u=o[2],r=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:r,signature:u}},tv=function(e){const t=Hy(e),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},nv=function(e){const t=Hy(e).claims;return typeof t=="object"&&t.admin===!0};function qi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function rs(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function xE(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Go(e,t,i){const r={};for(const u in e)Object.prototype.hasOwnProperty.call(e,u)&&(r[u]=t.call(i,e[u],u,e));return r}function Xo(e,t){if(e===t)return!0;const i=Object.keys(e),r=Object.keys(t);for(const u of i){if(!r.includes(u))return!1;const o=e[u],c=t[u];if(NE(o)&&NE(c)){if(!Xo(o,c))return!1}else if(o!==c)return!1}for(const u of r)if(!i.includes(u))return!1;return!0}function NE(e){return e!==null&&typeof e=="object"}function iv(e){const t=[];for(const[i,r]of Object.entries(e))Array.isArray(r)?r.forEach(u=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(u))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}class av{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const r=this.W_;if(typeof t=="string")for(let T=0;T<16;T++)r[T]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let T=0;T<16;T++)r[T]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let T=16;T<80;T++){const b=r[T-3]^r[T-8]^r[T-14]^r[T-16];r[T]=(b<<1|b>>>31)&4294967295}let u=this.chain_[0],o=this.chain_[1],c=this.chain_[2],h=this.chain_[3],p=this.chain_[4],g,E;for(let T=0;T<80;T++){T<40?T<20?(g=h^o&(c^h),E=1518500249):(g=o^c^h,E=1859775393):T<60?(g=o&c|h&(o|c),E=2400959708):(g=o^c^h,E=3395469782);const b=(u<<5|u>>>27)+g+p+E+r[T]&4294967295;p=h,h=c,c=(o<<30|o>>>2)&4294967295,o=u,u=b}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const r=i-this.blockSize;let u=0;const o=this.buf_;let c=this.inbuf_;for(;u<i;){if(c===0)for(;u<=r;)this.compress_(t,u),u+=this.blockSize;if(typeof t=="string"){for(;u<i;)if(o[c]=t.charCodeAt(u),++c,++u,c===this.blockSize){this.compress_(o),c=0;break}}else for(;u<i;)if(o[c]=t[u],++c,++u,c===this.blockSize){this.compress_(o),c=0;break}}this.inbuf_=c,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let u=this.blockSize-1;u>=56;u--)this.buf_[u]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let u=0;u<5;u++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[u]>>o&255,++r;return t}}function d0(e,t){return`${e} failed: ${t} argument `}const rv=function(e){const t=[];let i=0;for(let r=0;r<e.length;r++){let u=e.charCodeAt(r);if(u>=55296&&u<=56319){const o=u-55296;r++,pe(r<e.length,"Surrogate pair missing trail surrogate.");const c=e.charCodeAt(r)-56320;u=65536+(o<<10)+c}u<128?t[i++]=u:u<2048?(t[i++]=u>>6|192,t[i++]=u&63|128):u<65536?(t[i++]=u>>12|224,t[i++]=u>>6&63|128,t[i++]=u&63|128):(t[i++]=u>>18|240,t[i++]=u>>12&63|128,t[i++]=u>>6&63|128,t[i++]=u&63|128)}return t},pc=function(e){let t=0;for(let i=0;i<e.length;i++){const r=e.charCodeAt(i);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,i++):t+=3}return t};function al(e){return e&&e._delegate?e._delegate:e}class Vu{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Xa="[DEFAULT]";class sv{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new mc;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(r)return null;throw u}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(lv(t))try{this.getOrInitializeService({instanceIdentifier:Xa})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const o=this.getOrInitializeService({instanceIdentifier:u});r.resolve(o)}catch{}}}}clearInstance(t=Xa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xa){return this.instances.has(t)}getOptions(t=Xa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&c.resolve(u)}return u}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(r)??new Set;u.add(t),this.onInitCallbacks.set(r,u);const o=this.instances.get(r);return o&&t(o,r),()=>{u.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const u of r)try{u(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uv(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Xa){return this.component?this.component.multipleInstances?t:Xa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uv(e){return e===Xa?void 0:e}function lv(e){return e.instantiationMode==="EAGER"}class ov{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new sv(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Et;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Et||(Et={}));const cv={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},fv=Et.INFO,dv={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},hv=(e,t,...i)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),u=dv[t];if(u)console[u](`[${r}]  ${e.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Fy{constructor(t){this.name=t,this._logLevel=fv,this._logHandler=hv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Et))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?cv[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...t),this._logHandler(this,Et.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...t),this._logHandler(this,Et.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...t),this._logHandler(this,Et.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...t),this._logHandler(this,Et.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...t),this._logHandler(this,Et.ERROR,...t)}}const mv=(e,t)=>t.some(i=>e instanceof i);let RE,OE;function pv(){return RE||(RE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gv(){return OE||(OE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zy=new WeakMap,Nh=new WeakMap,jy=new WeakMap,$d=new WeakMap,h0=new WeakMap;function Ev(e){const t=new Promise((i,r)=>{const u=()=>{e.removeEventListener("success",o),e.removeEventListener("error",c)},o=()=>{i(Sa(e.result)),u()},c=()=>{r(e.error),u()};e.addEventListener("success",o),e.addEventListener("error",c)});return t.then(i=>{i instanceof IDBCursor&&zy.set(i,e)}).catch(()=>{}),h0.set(t,e),t}function _v(e){if(Nh.has(e))return;const t=new Promise((i,r)=>{const u=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",c),e.removeEventListener("abort",c)},o=()=>{i(),u()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),u()};e.addEventListener("complete",o),e.addEventListener("error",c),e.addEventListener("abort",c)});Nh.set(e,t)}let Rh={get(e,t,i){if(e instanceof IDBTransaction){if(t==="done")return Nh.get(e);if(t==="objectStoreNames")return e.objectStoreNames||jy.get(e);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Sa(e[t])},set(e,t,i){return e[t]=i,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function yv(e){Rh=e(Rh)}function Tv(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=e.call(Jd(this),t,...i);return jy.set(r,t.sort?t.sort():[t]),Sa(r)}:gv().includes(e)?function(...t){return e.apply(Jd(this),t),Sa(zy.get(this))}:function(...t){return Sa(e.apply(Jd(this),t))}}function bv(e){return typeof e=="function"?Tv(e):(e instanceof IDBTransaction&&_v(e),mv(e,pv())?new Proxy(e,Rh):e)}function Sa(e){if(e instanceof IDBRequest)return Ev(e);if($d.has(e))return $d.get(e);const t=bv(e);return t!==e&&($d.set(e,t),h0.set(t,e)),t}const Jd=e=>h0.get(e);function Sv(e,t,{blocked:i,upgrade:r,blocking:u,terminated:o}={}){const c=indexedDB.open(e,t),h=Sa(c);return r&&c.addEventListener("upgradeneeded",p=>{r(Sa(c.result),p.oldVersion,p.newVersion,Sa(c.transaction),p)}),i&&c.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),h.then(p=>{o&&p.addEventListener("close",()=>o()),u&&p.addEventListener("versionchange",g=>u(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const Cv=["get","getKey","getAll","getAllKeys","count"],Av=["put","add","delete","clear"],eh=new Map;function IE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(eh.get(t))return eh.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,u=Av.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(u||Cv.includes(i)))return;const o=async function(c,...h){const p=this.transaction(c,u?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(h.shift())),(await Promise.all([g[i](...h),u&&p.done]))[0]};return eh.set(t,o),o}yv(e=>({...e,get:(t,i,r)=>IE(t,i)||e.get(t,i,r),has:(t,i)=>!!IE(t,i)||e.has(t,i)}));class vv{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(xv(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function xv(e){return e.getComponent()?.type==="VERSION"}const Oh="@firebase/app",DE="0.14.6";const zi=new Fy("@firebase/app"),Nv="@firebase/app-compat",Rv="@firebase/analytics-compat",Ov="@firebase/analytics",Iv="@firebase/app-check-compat",Dv="@firebase/app-check",Lv="@firebase/auth",kv="@firebase/auth-compat",wv="@firebase/database",Mv="@firebase/data-connect",Bv="@firebase/database-compat",Pv="@firebase/functions",Uv="@firebase/functions-compat",Hv="@firebase/installations",Fv="@firebase/installations-compat",zv="@firebase/messaging",jv="@firebase/messaging-compat",Yv="@firebase/performance",qv="@firebase/performance-compat",Vv="@firebase/remote-config",Gv="@firebase/remote-config-compat",Xv="@firebase/storage",Qv="@firebase/storage-compat",Kv="@firebase/firestore",Wv="@firebase/ai",Zv="@firebase/firestore-compat",$v="firebase",Jv="12.6.0";const Ih="[DEFAULT]",ex={[Oh]:"fire-core",[Nv]:"fire-core-compat",[Ov]:"fire-analytics",[Rv]:"fire-analytics-compat",[Dv]:"fire-app-check",[Iv]:"fire-app-check-compat",[Lv]:"fire-auth",[kv]:"fire-auth-compat",[wv]:"fire-rtdb",[Mv]:"fire-data-connect",[Bv]:"fire-rtdb-compat",[Pv]:"fire-fn",[Uv]:"fire-fn-compat",[Hv]:"fire-iid",[Fv]:"fire-iid-compat",[zv]:"fire-fcm",[jv]:"fire-fcm-compat",[Yv]:"fire-perf",[qv]:"fire-perf-compat",[Vv]:"fire-rc",[Gv]:"fire-rc-compat",[Xv]:"fire-gcs",[Qv]:"fire-gcs-compat",[Kv]:"fire-fst",[Zv]:"fire-fst-compat",[Wv]:"fire-vertex","fire-js":"fire-js",[$v]:"fire-js-all"};const Gu=new Map,tx=new Map,Dh=new Map;function LE(e,t){try{e.container.addComponent(t)}catch(i){zi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,i)}}function Qo(e){const t=e.name;if(Dh.has(t))return zi.debug(`There were multiple attempts to register component ${t}.`),!1;Dh.set(t,e);for(const i of Gu.values())LE(i,e);for(const i of tx.values())LE(i,e);return!0}function nx(e,t){const i=e.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),e.container.getProvider(t)}function ix(e){return e==null?!1:e.settings!==void 0}const ax={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ca=new Uy("app","Firebase",ax);class rx{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ca.create("app-deleted",{appName:this._name})}}const sx=Jv;function Yy(e,t={}){let i=e;typeof t!="object"&&(t={name:t});const r={name:Ih,automaticDataCollectionEnabled:!0,...t},u=r.name;if(typeof u!="string"||!u)throw Ca.create("bad-app-name",{appName:String(u)});if(i||(i=By()),!i)throw Ca.create("no-options");const o=Gu.get(u);if(o){if(Xo(i,o.options)&&Xo(r,o.config))return o;throw Ca.create("duplicate-app",{appName:u})}const c=new ov(u);for(const p of Dh.values())c.addComponent(p);const h=new rx(i,r,c);return Gu.set(u,h),h}function qy(e=Ih){const t=Gu.get(e);if(!t&&e===Ih&&By())return Yy();if(!t)throw Ca.create("no-app",{appName:e});return t}function ux(){return Array.from(Gu.values())}function $r(e,t,i){let r=ex[e]??e;i&&(r+=`-${i}`);const u=r.match(/\s|\//),o=t.match(/\s|\//);if(u||o){const c=[`Unable to register library "${r}" with version "${t}":`];u&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),u&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zi.warn(c.join(" "));return}Qo(new Vu(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const lx="firebase-heartbeat-database",ox=1,Xu="firebase-heartbeat-store";let th=null;function Vy(){return th||(th=Sv(lx,ox,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Xu)}catch(i){console.warn(i)}}}}).catch(e=>{throw Ca.create("idb-open",{originalErrorMessage:e.message})})),th}async function cx(e){try{const i=(await Vy()).transaction(Xu),r=await i.objectStore(Xu).get(Gy(e));return await i.done,r}catch(t){if(t instanceof il)zi.warn(t.message);else{const i=Ca.create("idb-get",{originalErrorMessage:t?.message});zi.warn(i.message)}}}async function kE(e,t){try{const r=(await Vy()).transaction(Xu,"readwrite");await r.objectStore(Xu).put(t,Gy(e)),await r.done}catch(i){if(i instanceof il)zi.warn(i.message);else{const r=Ca.create("idb-set",{originalErrorMessage:i?.message});zi.warn(r.message)}}}function Gy(e){return`${e.name}!${e.options.appId}`}const fx=1024,dx=30;class hx{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new px(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=wE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(u=>u.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>dx){const u=gx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){zi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=wE(),{heartbeatsToSend:i,unsentEntries:r}=mx(this._heartbeatsCache.heartbeats),u=Vo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return zi.warn(t),""}}}function wE(){return new Date().toISOString().substring(0,10)}function mx(e,t=fx){const i=[];let r=e.slice();for(const u of e){const o=i.find(c=>c.agent===u.agent);if(o){if(o.dates.push(u.date),ME(i)>t){o.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),ME(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class px{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WA()?ZA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await cx(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return kE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return kE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function ME(e){return Vo(JSON.stringify({version:2,heartbeats:e})).length}function gx(e){if(e.length===0)return-1;let t=0,i=e[0].date;for(let r=1;r<e.length;r++)e[r].date<i&&(i=e[r].date,t=r);return t}function Ex(e){Qo(new Vu("platform-logger",t=>new vv(t),"PRIVATE")),Qo(new Vu("heartbeat",t=>new hx(t),"PRIVATE")),$r(Oh,DE,e),$r(Oh,DE,"esm2020"),$r("fire-js","")}Ex("");var _x="firebase",yx="12.6.0";$r(_x,yx,"app");var BE={};const PE="@firebase/database",UE="1.1.0";let Xy="";function Tx(e){Xy=e}class bx{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Qt(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:qu(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Sx{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return qi(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Qy=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new bx(t)}}catch{}return new Sx},Ka=Qy("localStorage"),Cx=Qy("sessionStorage");const Jr=new Fy("@firebase/database"),Ax=(function(){let e=1;return function(){return e++}})(),Ky=function(e){const t=rv(e),i=new av;i.update(t);const r=i.digest();return c0.encodeByteArray(r)},rl=function(...e){let t="";for(let i=0;i<e.length;i++){const r=e[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=rl.apply(null,r):typeof r=="object"?t+=Qt(r):t+=r,t+=" "}return t};let Ou=null,HE=!0;const vx=function(e,t){pe(!0,"Can't turn on custom loggers persistently."),Jr.logLevel=Et.VERBOSE,Ou=Jr.log.bind(Jr)},sn=function(...e){if(HE===!0&&(HE=!1,Ou===null&&Cx.get("logging_enabled")===!0&&vx()),Ou){const t=rl.apply(null,e);Ou(t)}},sl=function(e){return function(...t){sn(e,...t)}},Lh=function(...e){const t="FIREBASE INTERNAL ERROR: "+rl(...e);Jr.error(t)},ji=function(...e){const t=`FIREBASE FATAL ERROR: ${rl(...e)}`;throw Jr.error(t),new Error(t)},Cn=function(...e){const t="FIREBASE WARNING: "+rl(...e);Jr.warn(t)},xx=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Cn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Wy=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Nx=function(e){if(document.readyState==="complete")e();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},ss="[MIN_NAME]",Ja="[MAX_NAME]",ds=function(e,t){if(e===t)return 0;if(e===ss||t===Ja)return-1;if(t===ss||e===Ja)return 1;{const i=FE(e),r=FE(t);return i!==null?r!==null?i-r===0?e.length-t.length:i-r:-1:r!==null?1:e<t?-1:1}},Rx=function(e,t){return e===t?0:e<t?-1:1},pu=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Qt(t))},m0=function(e){if(typeof e!="object"||e===null)return Qt(e);const t=[];for(const r in e)t.push(r);t.sort();let i="{";for(let r=0;r<t.length;r++)r!==0&&(i+=","),i+=Qt(t[r]),i+=":",i+=m0(e[t[r]]);return i+="}",i},Zy=function(e,t){const i=e.length;if(i<=t)return[e];const r=[];for(let u=0;u<i;u+=t)u+t>i?r.push(e.substring(u,i)):r.push(e.substring(u,u+t));return r};function vn(e,t){for(const i in e)e.hasOwnProperty(i)&&t(i,e[i])}const $y=function(e){pe(!Wy(e),"Invalid JSON number");const t=11,i=52,r=(1<<t-1)-1;let u,o,c,h,p;e===0?(o=0,c=0,u=1/e===-1/0?1:0):(u=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=h+r,c=Math.round(e*Math.pow(2,i-h)-Math.pow(2,i))):(o=0,c=Math.round(e/Math.pow(2,1-r-i))));const g=[];for(p=i;p;p-=1)g.push(c%2?1:0),c=Math.floor(c/2);for(p=t;p;p-=1)g.push(o%2?1:0),o=Math.floor(o/2);g.push(u?1:0),g.reverse();const E=g.join("");let T="";for(p=0;p<64;p+=8){let b=parseInt(E.substr(p,8),2).toString(16);b.length===1&&(b="0"+b),T=T+b}return T.toLowerCase()},Ox=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Ix=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Dx(e,t){let i="Unknown Error";e==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?i="Client doesn't have permission to access the desired data.":e==="unavailable"&&(i="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+i);return r.code=e.toUpperCase(),r}const Lx=new RegExp("^-?(0*)\\d{1,10}$"),kx=-2147483648,wx=2147483647,FE=function(e){if(Lx.test(e)){const t=Number(e);if(t>=kx&&t<=wx)return t}return null},hs=function(e){try{e()}catch(t){setTimeout(()=>{const i=t.stack||"";throw Cn("Exception was thrown by user callback.",i),t},Math.floor(0))}},Mx=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Iu=function(e,t){const i=setTimeout(e,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};class Bx{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,ix(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,r):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Cn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Px{constructor(t,i,r){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(u=>this.auth_=u)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(sn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,r):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Cn(t)}}class zo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}zo.OWNER="owner";const p0="5",Jy="v",eT="s",tT="r",nT="f",iT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,aT="ls",rT="p",kh="ac",sT="websocket",uT="long_polling";class lT{constructor(t,i,r,u,o=!1,c="",h=!1,p=!1,g=null){this.secure=i,this.namespace=r,this.webSocketOnly=u,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this.emulatorOptions=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ka.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ka.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function Ux(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function oT(e,t,i){pe(typeof t=="string","typeof type must == string"),pe(typeof i=="object","typeof params must == object");let r;if(t===sT)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===uT)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Ux(e)&&(i.ns=e.namespace);const u=[];return vn(i,(o,c)=>{u.push(o+"="+c)}),r+u.join("&")}class Hx{constructor(){this.counters_={}}incrementCounter(t,i=1){qi(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return wA(this.counters_)}}const nh={},ih={};function g0(e){const t=e.toString();return nh[t]||(nh[t]=new Hx),nh[t]}function Fx(e,t){const i=e.toString();return ih[i]||(ih[i]=t()),ih[i]}class zx{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<r.length;++u)r[u]&&hs(()=>{this.onMessage_(r[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const zE="start",jx="close",Yx="pLPCommand",qx="pRTLPCB",cT="id",fT="pw",dT="ser",Vx="cb",Gx="seg",Xx="ts",Qx="d",Kx="dframe",hT=1870,mT=30,Wx=hT-mT,Zx=25e3,$x=3e4;class Wr{constructor(t,i,r,u,o,c,h){this.connId=t,this.repoInfo=i,this.applicationId=r,this.appCheckToken=u,this.authToken=o,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=sl(t),this.stats_=g0(i),this.urlFn=p=>(this.appCheckToken&&(p[kh]=this.appCheckToken),oT(i,uT,p))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new zx(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor($x)),Nx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new E0((...o)=>{const[c,h,p,g,E]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===zE)this.id=h,this.password=p;else if(c===jx)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...o)=>{const[c,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[zE]="t",r[dT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Vx]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Jy]=p0,this.transportSessionId&&(r[eT]=this.transportSessionId),this.lastSessionId&&(r[aT]=this.lastSessionId),this.applicationId&&(r[rT]=this.applicationId),this.appCheckToken&&(r[kh]=this.appCheckToken),typeof location<"u"&&location.hostname&&iT.test(location.hostname)&&(r[tT]=nT);const u=this.urlFn(r);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wr.forceAllow_=!0}static forceDisallow(){Wr.forceDisallow_=!0}static isAvailable(){return Wr.forceAllow_?!0:!Wr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Ox()&&!Ix()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=Qt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=ky(i),u=Zy(r,Wx);for(let o=0;o<u.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[o]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[Kx]="t",r[cT]=t,r[fT]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=Qt(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class E0{constructor(t,i,r,u){this.onDisconnect=r,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Ax(),window[Yx+this.uniqueCallbackIdentifier]=t,window[qx+this.uniqueCallbackIdentifier]=i,this.myIFrame=E0.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){sn("frame writing exception"),h.stack&&sn(h.stack),sn(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||sn("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[cT]=this.myID,t[fT]=this.myPW,t[dT]=this.currentSerial;let i=this.urlFn(t),r="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+mT+r.length<=hT;){const c=this.pendingSegs.shift();r=r+"&"+Gx+u+"="+c.seg+"&"+Xx+u+"="+c.ts+"&"+Qx+u+"="+c.d,u++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,r){this.pendingSegs.push({seg:t,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},u=setTimeout(r,Math.floor(Zx)),o=()=>{clearTimeout(u),r()};this.addTag(t,o)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const u=r.readyState;(!u||u==="loaded"||u==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{sn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}const Jx=16384,e6=45e3;let Ko=null;typeof MozWebSocket<"u"?Ko=MozWebSocket:typeof WebSocket<"u"&&(Ko=WebSocket);class ni{constructor(t,i,r,u,o,c,h){this.connId=t,this.applicationId=r,this.appCheckToken=u,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=sl(this.connId),this.stats_=g0(i),this.connURL=ni.connectionURL_(i,c,h,u,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,u,o){const c={};return c[Jy]=p0,typeof location<"u"&&location.hostname&&iT.test(location.hostname)&&(c[tT]=nT),i&&(c[eT]=i),r&&(c[aT]=r),u&&(c[kh]=u),o&&(c[rT]=o),oT(t,sT,c)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ka.set("previous_websocket_failure",!0);try{let r;KA(),this.mySock=new Ko(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const u=r.message||r.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const u=r.message||r.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){ni.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Ko!==null&&!ni.forceDisallow_}static previouslyFailed(){return Ka.isInMemoryStorage||Ka.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ka.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=qu(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(pe(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=Qt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Zy(i,Jx);r.length>1&&this.sendString_(String(r.length));for(let u=0;u<r.length;u++)this.sendString_(r[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(e6))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ni.responsesRequiredToBeHealthy=2;ni.healthyTimeout=3e4;class Qu{static get ALL_TRANSPORTS(){return[Wr,ni]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=ni&&ni.isAvailable();let r=i&&!ni.previouslyFailed();if(t.webSocketOnly&&(i||Cn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ni];else{const u=this.transports_=[];for(const o of Qu.ALL_TRANSPORTS)o&&o.isAvailable()&&u.push(o);Qu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Qu.globalTransportInitialized_=!1;const t6=6e4,n6=5e3,i6=10*1024,a6=100*1024,ah="t",jE="d",r6="s",YE="r",s6="e",qE="o",VE="a",GE="n",XE="p",u6="h";class l6{constructor(t,i,r,u,o,c,h,p,g,E){this.id=t,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=u,this.authToken_=o,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=sl("c:"+this.id+":"),this.transportManager_=new Qu(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const u=t.healthyTimeout||0;u>0&&(this.healthyTimeout_=Iu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>a6?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>i6?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(ah in t){const i=t[ah];i===VE?this.upgradeIfSecondaryHealthy_():i===YE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===qE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=pu("t",t),r=pu("d",t);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:XE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:VE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:GE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=pu("t",t),r=pu("d",t);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=pu(ah,t);if(jE in t){const r=t[jE];if(i===u6){const u={...r};this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if(i===GE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===r6?this.onConnectionShutdown_(r):i===YE?this.onReset_(r):i===s6?Lh("Server Error: "+r):i===qE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Lh("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,r=t.v,u=t.h;this.sessionId=t.s,this.repoInfo_.host=u,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),p0!==r&&Cn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),Iu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(t6))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Iu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(n6))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:XE,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ka.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class pT{put(t,i,r,u){}merge(t,i,r,u){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,r){}onDisconnectMerge(t,i,r){}onDisconnectCancel(t,i){}reportStats(t){}}class gT{constructor(t){this.allowedEvents_=t,this.listeners_={},pe(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let u=0;u<r.length;u++)r[u].callback.apply(r[u].context,i)}}on(t,i,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:r});const u=this.getInitialEvent(t);u&&i.apply(r,u)}off(t,i,r){this.validateEventType_(t);const u=this.listeners_[t]||[];for(let o=0;o<u.length;o++)if(u[o].callback===i&&(!r||r===u[o].context)){u.splice(o,1);return}}validateEventType_(t){pe(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}class Wo extends gT{static getInstance(){return new Wo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Py()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return pe(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const QE=32,KE=768;class dt{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let r=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[r]=this.pieces_[u],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function nt(){return new dt("")}function je(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function va(e){return e.pieces_.length-e.pieceNum_}function _t(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new dt(e.pieces_,t)}function ET(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function o6(e){let t="";for(let i=e.pieceNum_;i<e.pieces_.length;i++)e.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[i])));return t||"/"}function _T(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function yT(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let i=e.pieceNum_;i<e.pieces_.length-1;i++)t.push(e.pieces_[i]);return new dt(t,0)}function jt(e,t){const i=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)i.push(e.pieces_[r]);if(t instanceof dt)for(let r=t.pieceNum_;r<t.pieces_.length;r++)i.push(t.pieces_[r]);else{const r=t.split("/");for(let u=0;u<r.length;u++)r[u].length>0&&i.push(r[u])}return new dt(i,0)}function Xe(e){return e.pieceNum_>=e.pieces_.length}function bn(e,t){const i=je(e),r=je(t);if(i===null)return t;if(i===r)return bn(_t(e),_t(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function _0(e,t){if(va(e)!==va(t))return!1;for(let i=e.pieceNum_,r=t.pieceNum_;i<=e.pieces_.length;i++,r++)if(e.pieces_[i]!==t.pieces_[r])return!1;return!0}function ii(e,t){let i=e.pieceNum_,r=t.pieceNum_;if(va(e)>va(t))return!1;for(;i<e.pieces_.length;){if(e.pieces_[i]!==t.pieces_[r])return!1;++i,++r}return!0}class c6{constructor(t,i){this.errorPrefix_=i,this.parts_=_T(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=pc(this.parts_[r]);TT(this)}}function f6(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=pc(t),TT(e)}function d6(e){const t=e.parts_.pop();e.byteLength_-=pc(t),e.parts_.length>0&&(e.byteLength_-=1)}function TT(e){if(e.byteLength_>KE)throw new Error(e.errorPrefix_+"has a key path longer than "+KE+" bytes ("+e.byteLength_+").");if(e.parts_.length>QE)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+QE+") or object contains a cycle "+Qa(e))}function Qa(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}class y0 extends gT{static getInstance(){return new y0}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return pe(t==="visible","Unknown event type: "+t),[this.visible_]}}const gu=1e3,h6=300*1e3,WE=30*1e3,m6=1.3,p6=3e4,g6="server_kill",ZE=3;class Fi extends pT{constructor(t,i,r,u,o,c,h,p){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=u,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=Fi.nextPersistentConnectionId_++,this.log_=sl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=gu,this.maxReconnectDelay_=h6,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");y0.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Wo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const u=++this.requestNumber_,o={r:u,a:t,b:i};this.log_(Qt(o)),pe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[u]=r)}get(t){this.initConnection_();const i=new mc,u={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?i.resolve(h):i.reject(h)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),i.promise}listen(t,i,r,u){this.initConnection_();const o=t._queryIdentifier,c=t._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),pe(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),pe(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const h={onComplete:u,hashFn:i,query:t,tag:r};this.listens.get(c).set(o,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),u=i._queryIdentifier;this.log_("Listen on "+r+" for "+u);const o={p:r},c="q";t.tag&&(o.q=i._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest(c,o,h=>{const p=h.d,g=h.s;Fi.warnOnListenWarnings_(p,i),(this.listens.get(r)&&this.listens.get(r).get(u))===t&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(r,u),t.onComplete&&t.onComplete(g,p))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&qi(t,"w")){const r=rs(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const u='".indexOn": "'+i._queryParams.getIndex().toString()+'"',o=i._path.toString();Cn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||nv(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=WE)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=tv(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,u=>{const o=u.s,c=u.d||"error";this.authToken_===t&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),u=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+u),pe(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,u)&&this.connected_&&this.sendUnlisten_(r,u,t._queryObject,i)}sendUnlisten_(t,i,r,u){this.log_("Unlisten on "+t+" for "+i);const o={p:t},c="n";u&&(o.q=r,o.t=u),this.sendRequest(c,o)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,u){const o={p:i,d:r};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,c=>{u&&setTimeout(()=>{u(c.s,c.d)},Math.floor(0))})}put(t,i,r,u){this.putInternal("p",t,i,r,u)}merge(t,i,r,u){this.putInternal("m",t,i,r,u)}putInternal(t,i,r,u,o){this.initConnection_();const c={p:i,d:r};o!==void 0&&(c.h=o),this.outstandingPuts_.push({action:t,request:c,onComplete:u}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,u=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,o=>{this.log_(i+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),u&&u(o.s,o.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Qt(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):Lh("Unrecognized action received from server: "+Qt(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){pe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=gu,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=gu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>p6&&(this.reconnectDelay_=gu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*m6)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+Fi.nextConnectionId_++,o=this.lastSessionId;let c=!1,h=null;const p=function(){h?h.close():(c=!0,r())},g=function(T){pe(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(T)};this.realtime_={close:p,sendRequest:g};const E=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[T,b]=await Promise.all([this.authTokenProvider_.getToken(E),this.appCheckTokenProvider_.getToken(E)]);c?sn("getToken() completed but was canceled"):(sn("getToken() completed. Creating connection."),this.authToken_=T&&T.accessToken,this.appCheckToken_=b&&b.token,h=new l6(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,r,S=>{Cn(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(g6)},o))}catch(T){this.log_("Failed to get token: "+T),c||(this.repoInfo_.nodeAdmin&&Cn(T),p())}}}interrupt(t){sn("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){sn("Resuming connection for reason: "+t),delete this.interruptReasons_[t],xE(this.interruptReasons_)&&(this.reconnectDelay_=gu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;i?r=i.map(o=>m0(o)).join("$"):r="default";const u=this.removeListen_(t,r);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(t,i){const r=new dt(t).toString();let u;if(this.listens.has(r)){const o=this.listens.get(r);u=o.get(i),o.delete(i),o.size===0&&this.listens.delete(r)}else u=void 0;return u}onAuthRevoked_(t,i){sn("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ZE&&(this.reconnectDelay_=WE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){sn("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ZE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+Xy.replace(/\./g,"-")]=1,Py()?t["framework.cordova"]=1:QA()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Wo.getInstance().currentlyOnline();return xE(this.interruptReasons_)&&t}}Fi.nextPersistentConnectionId_=0;Fi.nextConnectionId_=0;class Ye{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new Ye(t,i)}}class gc{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const r=new Ye(ss,t),u=new Ye(ss,i);return this.compare(r,u)!==0}minPost(){return Ye.MIN}}let Lo;class bT extends gc{static get __EMPTY_NODE(){return Lo}static set __EMPTY_NODE(t){Lo=t}compare(t,i){return ds(t.name,i.name)}isDefinedOn(t){throw fs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return Ye.MIN}maxPost(){return new Ye(Ja,Lo)}makePost(t,i){return pe(typeof t=="string","KeyIndex indexValue must always be a string."),new Ye(t,Lo)}toString(){return".key"}}const es=new bT;class ko{constructor(t,i,r,u,o=null){this.isReverse_=u,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(t=t,c=i?r(t.key,i):1,u&&(c*=-1),c<0)this.isReverse_?t=t.left:t=t.right;else if(c===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Xt{constructor(t,i,r,u,o){this.key=t,this.value=i,this.color=r??Xt.RED,this.left=u??Sn.EMPTY_NODE,this.right=o??Sn.EMPTY_NODE}copy(t,i,r,u,o){return new Xt(t??this.key,i??this.value,r??this.color,u??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let u=this;const o=r(t,u.key);return o<0?u=u.copy(null,null,null,u.left.insert(t,i,r),null):o===0?u=u.copy(null,i,null,null,null):u=u.copy(null,null,null,null,u.right.insert(t,i,r)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return Sn.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,u;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(t,r.key)===0){if(r.right.isEmpty())return Sn.EMPTY_NODE;u=r.right.min_(),r=r.copy(u.key,u.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Xt.RED=!0;Xt.BLACK=!1;class E6{copy(t,i,r,u,o){return this}insert(t,i,r){return new Xt(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Sn{constructor(t,i=Sn.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new Sn(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,Xt.BLACK,null,null))}remove(t){return new Sn(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Xt.BLACK,null,null))}get(t){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(t,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(t){let i,r=this.root_,u=null;for(;!r.isEmpty();)if(i=this.comparator_(t,r.key),i===0){if(r.left.isEmpty())return u?u.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(u=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ko(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new ko(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new ko(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new ko(this.root_,null,this.comparator_,!0,t)}}Sn.EMPTY_NODE=new E6;function _6(e,t){return ds(e.name,t.name)}function T0(e,t){return ds(e,t)}let wh;function y6(e){wh=e}const ST=function(e){return typeof e=="number"?"number:"+$y(e):"string:"+e},CT=function(e){if(e.isLeafNode()){const t=e.val();pe(typeof t=="string"||typeof t=="number"||typeof t=="object"&&qi(t,".sv"),"Priority must be a string or number.")}else pe(e===wh||e.isEmpty(),"priority of unexpected type.");pe(e===wh||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let $E;class Gt{static set __childrenNodeConstructor(t){$E=t}static get __childrenNodeConstructor(){return $E}constructor(t,i=Gt.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,pe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),CT(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Gt(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Gt.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Xe(t)?this:je(t)===".priority"?this.priorityNode_:Gt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:Gt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=je(t);return r===null?i:i.isEmpty()&&r!==".priority"?this:(pe(r!==".priority"||va(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Gt.__childrenNodeConstructor.EMPTY_NODE.updateChild(_t(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+ST(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=$y(this.value_):t+=this.value_,this.lazyHash_=Ky(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Gt.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Gt.__childrenNodeConstructor?-1:(pe(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,u=Gt.VALUE_TYPE_ORDER.indexOf(i),o=Gt.VALUE_TYPE_ORDER.indexOf(r);return pe(u>=0,"Unknown leaf type: "+i),pe(o>=0,"Unknown leaf type: "+r),u===o?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-u}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}Gt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let AT,vT;function T6(e){AT=e}function b6(e){vT=e}class S6 extends gc{compare(t,i){const r=t.node.getPriority(),u=i.node.getPriority(),o=r.compareTo(u);return o===0?ds(t.name,i.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return Ye.MIN}maxPost(){return new Ye(Ja,new Gt("[PRIORITY-POST]",vT))}makePost(t,i){const r=AT(t);return new Ye(i,new Gt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Rt=new S6;const C6=Math.log(2);class A6{constructor(t){const i=o=>parseInt(Math.log(o)/C6,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const u=r(this.count);this.bits_=t+1&u}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Zo=function(e,t,i,r){e.sort(t);const u=function(p,g){const E=g-p;let T,b;if(E===0)return null;if(E===1)return T=e[p],b=i?i(T):T,new Xt(b,T.node,Xt.BLACK,null,null);{const S=parseInt(E/2,10)+p,w=u(p,S),Q=u(S+1,g);return T=e[S],b=i?i(T):T,new Xt(b,T.node,Xt.BLACK,w,Q)}},o=function(p){let g=null,E=null,T=e.length;const b=function(w,Q){const Z=T-w,q=T;T-=w;const oe=u(Z+1,q),F=e[Z],ye=i?i(F):F;S(new Xt(ye,F.node,Q,null,oe))},S=function(w){g?(g.left=w,g=w):(E=w,g=w)};for(let w=0;w<p.count;++w){const Q=p.nextBitIsOne(),Z=Math.pow(2,p.count-(w+1));Q?b(Z,Xt.BLACK):(b(Z,Xt.BLACK),b(Z,Xt.RED))}return E},c=new A6(e.length),h=o(c);return new Sn(r||t,h)};let rh;const Xr={};class Hi{static get Default(){return pe(Xr&&Rt,"ChildrenNode.ts has not been loaded"),rh=rh||new Hi({".priority":Xr},{".priority":Rt}),rh}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=rs(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof Sn?i:null}hasIndex(t){return qi(this.indexSet_,t.toString())}addIndex(t,i){pe(t!==es,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let u=!1;const o=i.getIterator(Ye.Wrap);let c=o.getNext();for(;c;)u=u||t.isDefinedOn(c.node),r.push(c),c=o.getNext();let h;u?h=Zo(r,t.getCompare()):h=Xr;const p=t.toString(),g={...this.indexSet_};g[p]=t;const E={...this.indexes_};return E[p]=h,new Hi(E,g)}addToIndexes(t,i){const r=Go(this.indexes_,(u,o)=>{const c=rs(this.indexSet_,o);if(pe(c,"Missing index implementation for "+o),u===Xr)if(c.isDefinedOn(t.node)){const h=[],p=i.getIterator(Ye.Wrap);let g=p.getNext();for(;g;)g.name!==t.name&&h.push(g),g=p.getNext();return h.push(t),Zo(h,c.getCompare())}else return Xr;else{const h=i.get(t.name);let p=u;return h&&(p=p.remove(new Ye(t.name,h))),p.insert(t,t.node)}});return new Hi(r,this.indexSet_)}removeFromIndexes(t,i){const r=Go(this.indexes_,u=>{if(u===Xr)return u;{const o=i.get(t.name);return o?u.remove(new Ye(t.name,o)):u}});return new Hi(r,this.indexSet_)}}let Eu;class ke{static get EMPTY_NODE(){return Eu||(Eu=new ke(new Sn(T0),null,Hi.Default))}constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&CT(this.priorityNode_),this.children_.isEmpty()&&pe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Eu}updatePriority(t){return this.children_.isEmpty()?this:new ke(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?Eu:i}}getChild(t){const i=je(t);return i===null?this:this.getImmediateChild(i).getChild(_t(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(pe(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const r=new Ye(t,i);let u,o;i.isEmpty()?(u=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(u=this.children_.insert(t,i),o=this.indexMap_.addToIndexes(r,this.children_));const c=u.isEmpty()?Eu:this.priorityNode_;return new ke(u,c,o)}}updateChild(t,i){const r=je(t);if(r===null)return i;{pe(je(t)!==".priority"||va(t)===1,".priority must be the last token in a path");const u=this.getImmediateChild(r).updateChild(_t(t),i);return this.updateImmediateChild(r,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,u=0,o=!0;if(this.forEachChild(Rt,(c,h)=>{i[c]=h.val(t),r++,o&&ke.INTEGER_REGEXP_.test(c)?u=Math.max(u,Number(c)):o=!1}),!t&&o&&u<2*r){const c=[];for(const h in i)c[h]=i[h];return c}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+ST(this.getPriority().val())+":"),this.forEachChild(Rt,(i,r)=>{const u=r.hash();u!==""&&(t+=":"+i+":"+u)}),this.lazyHash_=t===""?"":Ky(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const u=this.resolveIndex_(r);if(u){const o=u.getPredecessorKey(new Ye(t,i));return o?o.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Ye(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Ye(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(u=>i(u.name,u.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,u=>u);{const u=this.children_.getIteratorFrom(t.name,Ye.Wrap);let o=u.peek();for(;o!=null&&i.compare(o,t)<0;)u.getNext(),o=u.peek();return u}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,u=>u);{const u=this.children_.getReverseIteratorFrom(t.name,Ye.Wrap);let o=u.peek();for(;o!=null&&i.compare(o,t)>0;)u.getNext(),o=u.peek();return u}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ul?-1:0}withIndex(t){if(t===es||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new ke(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===es||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(Rt),u=i.getIterator(Rt);let o=r.getNext(),c=u.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=r.getNext(),c=u.getNext()}return o===null&&c===null}else return!1;else return!1}}resolveIndex_(t){return t===es?null:this.indexMap_.get(t.toString())}}ke.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class v6 extends ke{constructor(){super(new Sn(T0),ke.EMPTY_NODE,Hi.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ke.EMPTY_NODE}isEmpty(){return!1}}const ul=new v6;Object.defineProperties(Ye,{MIN:{value:new Ye(ss,ke.EMPTY_NODE)},MAX:{value:new Ye(Ja,ul)}});bT.__EMPTY_NODE=ke.EMPTY_NODE;Gt.__childrenNodeConstructor=ke;y6(ul);b6(ul);const x6=!0;function nn(e,t=null){if(e===null)return ke.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),pe(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const i=e;return new Gt(i,nn(t))}if(!(e instanceof Array)&&x6){const i=[];let r=!1;if(vn(e,(c,h)=>{if(c.substring(0,1)!=="."){const p=nn(h);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),i.push(new Ye(c,p)))}}),i.length===0)return ke.EMPTY_NODE;const o=Zo(i,_6,c=>c.name,T0);if(r){const c=Zo(i,Rt.getCompare());return new ke(o,nn(t),new Hi({".priority":c},{".priority":Rt}))}else return new ke(o,nn(t),Hi.Default)}else{let i=ke.EMPTY_NODE;return vn(e,(r,u)=>{if(qi(e,r)&&r.substring(0,1)!=="."){const o=nn(u);(o.isLeafNode()||!o.isEmpty())&&(i=i.updateImmediateChild(r,o))}}),i.updatePriority(nn(t))}}T6(nn);class N6 extends gc{constructor(t){super(),this.indexPath_=t,pe(!Xe(t)&&je(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const r=this.extractChild(t.node),u=this.extractChild(i.node),o=r.compareTo(u);return o===0?ds(t.name,i.name):o}makePost(t,i){const r=nn(t),u=ke.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ye(i,u)}maxPost(){const t=ke.EMPTY_NODE.updateChild(this.indexPath_,ul);return new Ye(Ja,t)}toString(){return _T(this.indexPath_,0).join("/")}}class R6 extends gc{compare(t,i){const r=t.node.compareTo(i.node);return r===0?ds(t.name,i.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return Ye.MIN}maxPost(){return Ye.MAX}makePost(t,i){const r=nn(t);return new Ye(i,r)}toString(){return".value"}}const O6=new R6;function xT(e){return{type:"value",snapshotNode:e}}function us(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Ku(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Wu(e,t,i){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:i}}function I6(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}class b0{constructor(t){this.index_=t}updateChild(t,i,r,u,o,c){pe(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(i);return h.getChild(u).equals(r.getChild(u))&&h.isEmpty()===r.isEmpty()||(c!=null&&(r.isEmpty()?t.hasChild(i)?c.trackChildChange(Ku(i,h)):pe(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(us(i,r)):c.trackChildChange(Wu(i,r,h))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(i,r).withIndex(this.index_)}updateFullNode(t,i,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Rt,(u,o)=>{i.hasChild(u)||r.trackChildChange(Ku(u,o))}),i.isLeafNode()||i.forEachChild(Rt,(u,o)=>{if(t.hasChild(u)){const c=t.getImmediateChild(u);c.equals(o)||r.trackChildChange(Wu(u,o,c))}else r.trackChildChange(us(u,o))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?ke.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Zu{constructor(t){this.indexedFilter_=new b0(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Zu.getStartPost_(t),this.endPost_=Zu.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&r}updateChild(t,i,r,u,o,c){return this.matches(new Ye(i,r))||(r=ke.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,r,u,o,c)}updateFullNode(t,i,r){i.isLeafNode()&&(i=ke.EMPTY_NODE);let u=i.withIndex(this.index_);u=u.updatePriority(ke.EMPTY_NODE);const o=this;return i.forEachChild(Rt,(c,h)=>{o.matches(new Ye(c,h))||(u=u.updateImmediateChild(c,ke.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,u,r)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}class D6{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=i=>{const r=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Zu(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,r,u,o,c){return this.rangedFilter_.matches(new Ye(i,r))||(r=ke.EMPTY_NODE),t.getImmediateChild(i).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,r,u,o,c):this.fullLimitUpdateChild_(t,i,r,o,c)}updateFullNode(t,i,r){let u;if(i.isLeafNode()||i.isEmpty())u=ke.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){u=ke.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const h=o.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))u=u.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{u=i.withIndex(this.index_),u=u.updatePriority(ke.EMPTY_NODE);let o;this.reverse_?o=u.getReverseIterator(this.index_):o=u.getIterator(this.index_);let c=0;for(;o.hasNext();){const h=o.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:u=u.updateImmediateChild(h.name,ke.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,u,r)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,r,u,o){let c;if(this.reverse_){const T=this.index_.getCompare();c=(b,S)=>T(S,b)}else c=this.index_.getCompare();const h=t;pe(h.numChildren()===this.limit_,"");const p=new Ye(i,r),g=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),E=this.rangedFilter_.matches(p);if(h.hasChild(i)){const T=h.getImmediateChild(i);let b=u.getChildAfterChild(this.index_,g,this.reverse_);for(;b!=null&&(b.name===i||h.hasChild(b.name));)b=u.getChildAfterChild(this.index_,b,this.reverse_);const S=b==null?1:c(b,p);if(E&&!r.isEmpty()&&S>=0)return o?.trackChildChange(Wu(i,r,T)),h.updateImmediateChild(i,r);{o?.trackChildChange(Ku(i,T));const Q=h.updateImmediateChild(i,ke.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(o?.trackChildChange(us(b.name,b.node)),Q.updateImmediateChild(b.name,b.node)):Q}}else return r.isEmpty()?t:E&&c(g,p)>=0?(o!=null&&(o.trackChildChange(Ku(g.name,g.node)),o.trackChildChange(us(i,r))),h.updateImmediateChild(i,r).updateImmediateChild(g.name,ke.EMPTY_NODE)):t}}class S0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Rt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return pe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return pe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ss}hasEnd(){return this.endSet_}getIndexEndValue(){return pe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return pe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ja}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return pe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Rt}copy(){const t=new S0;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function L6(e){return e.loadsAllData()?new b0(e.getIndex()):e.hasLimit()?new D6(e):new Zu(e)}function JE(e){const t={};if(e.isDefault())return t;let i;if(e.index_===Rt?i="$priority":e.index_===O6?i="$value":e.index_===es?i="$key":(pe(e.index_ instanceof N6,"Unrecognized index type!"),i=e.index_.toString()),t.orderBy=Qt(i),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=Qt(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Qt(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Qt(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Qt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function e_(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let i=e.viewFrom_;i===""&&(e.isViewFromLeft()?i="l":i="r"),t.vf=i}return e.index_!==Rt&&(t.i=e.index_.toString()),t}class $o extends pT{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(pe(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,r,u){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=u,this.log_=sl("p:rest:"),this.listens_={}}listen(t,i,r,u){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const c=$o.getListenId_(t,r),h={};this.listens_[c]=h;const p=JE(t._queryParams);this.restRequest_(o+".json",p,(g,E)=>{let T=E;if(g===404&&(T=null,g=null),g===null&&this.onDataUpdate_(o,T,!1,r),rs(this.listens_,c)===h){let b;g?g===401?b="permission_denied":b="rest_error:"+g:b="ok",u(b,null)}})}unlisten(t,i){const r=$o.getListenId_(t,i);delete this.listens_[r]}get(t){const i=JE(t._queryParams),r=t._path.toString(),u=new mc;return this.restRequest_(r+".json",i,(o,c)=>{let h=c;o===404&&(h=null,o=null),o===null?(this.onDataUpdate_(r,h,!1,null),u.resolve(h)):u.reject(new Error(h))}),u.promise}refreshAuthToken(t){}restRequest_(t,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,o])=>{u&&u.accessToken&&(i.auth=u.accessToken),o&&o.token&&(i.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+iv(i);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=qu(h.responseText)}catch{Cn("Failed to parse JSON response for "+c+": "+h.responseText)}r(null,p)}else h.status!==401&&h.status!==404&&Cn("Got unsuccessful REST response for "+c+" Status: "+h.status),r(h.status);r=null}},h.open("GET",c,!0),h.send()})}}class k6{constructor(){this.rootNode_=ke.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}function Jo(){return{value:null,children:new Map}}function NT(e,t,i){if(Xe(t))e.value=i,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,i);else{const r=je(t);e.children.has(r)||e.children.set(r,Jo());const u=e.children.get(r);t=_t(t),NT(u,t,i)}}function Mh(e,t,i){e.value!==null?i(t,e.value):w6(e,(r,u)=>{const o=new dt(t.toString()+"/"+r);Mh(u,o,i)})}function w6(e,t){e.children.forEach((i,r)=>{t(r,i)})}class M6{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&vn(this.last_,(r,u)=>{i[r]=i[r]-u}),this.last_=t,i}}const t_=10*1e3,B6=30*1e3,P6=300*1e3;class U6{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new M6(t);const r=t_+(B6-t_)*Math.random();Iu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),i={};let r=!1;vn(t,(u,o)=>{o>0&&qi(this.statsToReport_,u)&&(i[u]=o,r=!0)}),r&&this.server_.reportStats(i),Iu(this.reportStats_.bind(this),Math.floor(Math.random()*2*P6))}}var ai;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ai||(ai={}));function RT(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function C0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function A0(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class ec{constructor(t,i,r){this.path=t,this.affectedTree=i,this.revert=r,this.type=ai.ACK_USER_WRITE,this.source=RT()}operationForChild(t){if(Xe(this.path)){if(this.affectedTree.value!=null)return pe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new dt(t));return new ec(nt(),i,this.revert)}}else return pe(je(this.path)===t,"operationForChild called for unrelated child."),new ec(_t(this.path),this.affectedTree,this.revert)}}class $u{constructor(t,i){this.source=t,this.path=i,this.type=ai.LISTEN_COMPLETE}operationForChild(t){return Xe(this.path)?new $u(this.source,nt()):new $u(this.source,_t(this.path))}}class er{constructor(t,i,r){this.source=t,this.path=i,this.snap=r,this.type=ai.OVERWRITE}operationForChild(t){return Xe(this.path)?new er(this.source,nt(),this.snap.getImmediateChild(t)):new er(this.source,_t(this.path),this.snap)}}class Ju{constructor(t,i,r){this.source=t,this.path=i,this.children=r,this.type=ai.MERGE}operationForChild(t){if(Xe(this.path)){const i=this.children.subtree(new dt(t));return i.isEmpty()?null:i.value?new er(this.source,nt(),i.value):new Ju(this.source,nt(),i)}else return pe(je(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ju(this.source,_t(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class tr{constructor(t,i,r){this.node_=t,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Xe(t))return this.isFullyInitialized()&&!this.filtered_;const i=je(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class H6{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function F6(e,t,i,r){const u=[],o=[];return t.forEach(c=>{c.type==="child_changed"&&e.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(I6(c.childName,c.snapshotNode))}),_u(e,u,"child_removed",t,r,i),_u(e,u,"child_added",t,r,i),_u(e,u,"child_moved",o,r,i),_u(e,u,"child_changed",t,r,i),_u(e,u,"value",t,r,i),u}function _u(e,t,i,r,u,o){const c=r.filter(h=>h.type===i);c.sort((h,p)=>j6(e,h,p)),c.forEach(h=>{const p=z6(e,h,o);u.forEach(g=>{g.respondsTo(h.type)&&t.push(g.createEvent(p,e.query_))})})}function z6(e,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function j6(e,t,i){if(t.childName==null||i.childName==null)throw fs("Should only compare child_ events.");const r=new Ye(t.childName,t.snapshotNode),u=new Ye(i.childName,i.snapshotNode);return e.index_.compare(r,u)}function Ec(e,t){return{eventCache:e,serverCache:t}}function Du(e,t,i,r){return Ec(new tr(t,i,r),e.serverCache)}function OT(e,t,i,r){return Ec(e.eventCache,new tr(t,i,r))}function Bh(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function nr(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let sh;const Y6=()=>(sh||(sh=new Sn(Rx)),sh);class St{static fromObject(t){let i=new St(null);return vn(t,(r,u)=>{i=i.set(new dt(r),u)}),i}constructor(t,i=Y6()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:nt(),value:this.value};if(Xe(t))return null;{const r=je(t),u=this.children.get(r);if(u!==null){const o=u.findRootMostMatchingPathAndValue(_t(t),i);return o!=null?{path:jt(new dt(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Xe(t))return this;{const i=je(t),r=this.children.get(i);return r!==null?r.subtree(_t(t)):new St(null)}}set(t,i){if(Xe(t))return new St(i,this.children);{const r=je(t),o=(this.children.get(r)||new St(null)).set(_t(t),i),c=this.children.insert(r,o);return new St(this.value,c)}}remove(t){if(Xe(t))return this.children.isEmpty()?new St(null):new St(null,this.children);{const i=je(t),r=this.children.get(i);if(r){const u=r.remove(_t(t));let o;return u.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,u),this.value===null&&o.isEmpty()?new St(null):new St(this.value,o)}else return this}}get(t){if(Xe(t))return this.value;{const i=je(t),r=this.children.get(i);return r?r.get(_t(t)):null}}setTree(t,i){if(Xe(t))return i;{const r=je(t),o=(this.children.get(r)||new St(null)).setTree(_t(t),i);let c;return o.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,o),new St(this.value,c)}}fold(t){return this.fold_(nt(),t)}fold_(t,i){const r={};return this.children.inorderTraversal((u,o)=>{r[u]=o.fold_(jt(t,u),i)}),i(t,this.value,r)}findOnPath(t,i){return this.findOnPath_(t,nt(),i)}findOnPath_(t,i,r){const u=this.value?r(i,this.value):!1;if(u)return u;if(Xe(t))return null;{const o=je(t),c=this.children.get(o);return c?c.findOnPath_(_t(t),jt(i,o),r):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,nt(),i)}foreachOnPath_(t,i,r){if(Xe(t))return this;{this.value&&r(i,this.value);const u=je(t),o=this.children.get(u);return o?o.foreachOnPath_(_t(t),jt(i,u),r):new St(null)}}foreach(t){this.foreach_(nt(),t)}foreach_(t,i){this.children.inorderTraversal((r,u)=>{u.foreach_(jt(t,r),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,r)=>{r.value&&t(i,r.value)})}}class ri{constructor(t){this.writeTree_=t}static empty(){return new ri(new St(null))}}function Lu(e,t,i){if(Xe(t))return new ri(new St(i));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const u=r.path;let o=r.value;const c=bn(u,t);return o=o.updateChild(c,i),new ri(e.writeTree_.set(u,o))}else{const u=new St(i),o=e.writeTree_.setTree(t,u);return new ri(o)}}}function n_(e,t,i){let r=e;return vn(i,(u,o)=>{r=Lu(r,jt(t,u),o)}),r}function i_(e,t){if(Xe(t))return ri.empty();{const i=e.writeTree_.setTree(t,new St(null));return new ri(i)}}function Ph(e,t){return ir(e,t)!=null}function ir(e,t){const i=e.writeTree_.findRootMostValueAndPath(t);return i!=null?e.writeTree_.get(i.path).getChild(bn(i.path,t)):null}function a_(e){const t=[],i=e.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Rt,(r,u)=>{t.push(new Ye(r,u))}):e.writeTree_.children.inorderTraversal((r,u)=>{u.value!=null&&t.push(new Ye(r,u.value))}),t}function Aa(e,t){if(Xe(t))return e;{const i=ir(e,t);return i!=null?new ri(new St(i)):new ri(e.writeTree_.subtree(t))}}function Uh(e){return e.writeTree_.isEmpty()}function ls(e,t){return IT(nt(),e.writeTree_,t)}function IT(e,t,i){if(t.value!=null)return i.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((u,o)=>{u===".priority"?(pe(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):i=IT(jt(e,u),o,i)}),!i.getChild(e).isEmpty()&&r!==null&&(i=i.updateChild(jt(e,".priority"),r)),i}}function v0(e,t){return wT(t,e)}function q6(e,t,i,r,u){pe(r>e.lastWriteId,"Stacking an older write on top of newer ones"),u===void 0&&(u=!0),e.allWrites.push({path:t,snap:i,writeId:r,visible:u}),u&&(e.visibleWrites=Lu(e.visibleWrites,t,i)),e.lastWriteId=r}function V6(e,t){for(let i=0;i<e.allWrites.length;i++){const r=e.allWrites[i];if(r.writeId===t)return r}return null}function G6(e,t){const i=e.allWrites.findIndex(h=>h.writeId===t);pe(i>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[i];e.allWrites.splice(i,1);let u=r.visible,o=!1,c=e.allWrites.length-1;for(;u&&c>=0;){const h=e.allWrites[c];h.visible&&(c>=i&&X6(h,r.path)?u=!1:ii(r.path,h.path)&&(o=!0)),c--}if(u){if(o)return Q6(e),!0;if(r.snap)e.visibleWrites=i_(e.visibleWrites,r.path);else{const h=r.children;vn(h,p=>{e.visibleWrites=i_(e.visibleWrites,jt(r.path,p))})}return!0}else return!1}function X6(e,t){if(e.snap)return ii(e.path,t);for(const i in e.children)if(e.children.hasOwnProperty(i)&&ii(jt(e.path,i),t))return!0;return!1}function Q6(e){e.visibleWrites=DT(e.allWrites,K6,nt()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function K6(e){return e.visible}function DT(e,t,i){let r=ri.empty();for(let u=0;u<e.length;++u){const o=e[u];if(t(o)){const c=o.path;let h;if(o.snap)ii(i,c)?(h=bn(i,c),r=Lu(r,h,o.snap)):ii(c,i)&&(h=bn(c,i),r=Lu(r,nt(),o.snap.getChild(h)));else if(o.children){if(ii(i,c))h=bn(i,c),r=n_(r,h,o.children);else if(ii(c,i))if(h=bn(c,i),Xe(h))r=n_(r,nt(),o.children);else{const p=rs(o.children,je(h));if(p){const g=p.getChild(_t(h));r=Lu(r,nt(),g)}}}else throw fs("WriteRecord should have .snap or .children")}}return r}function LT(e,t,i,r,u){if(!r&&!u){const o=ir(e.visibleWrites,t);if(o!=null)return o;{const c=Aa(e.visibleWrites,t);if(Uh(c))return i;if(i==null&&!Ph(c,nt()))return null;{const h=i||ke.EMPTY_NODE;return ls(c,h)}}}else{const o=Aa(e.visibleWrites,t);if(!u&&Uh(o))return i;if(!u&&i==null&&!Ph(o,nt()))return null;{const c=function(g){return(g.visible||u)&&(!r||!~r.indexOf(g.writeId))&&(ii(g.path,t)||ii(t,g.path))},h=DT(e.allWrites,c,t),p=i||ke.EMPTY_NODE;return ls(h,p)}}}function W6(e,t,i){let r=ke.EMPTY_NODE;const u=ir(e.visibleWrites,t);if(u)return u.isLeafNode()||u.forEachChild(Rt,(o,c)=>{r=r.updateImmediateChild(o,c)}),r;if(i){const o=Aa(e.visibleWrites,t);return i.forEachChild(Rt,(c,h)=>{const p=ls(Aa(o,new dt(c)),h);r=r.updateImmediateChild(c,p)}),a_(o).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}else{const o=Aa(e.visibleWrites,t);return a_(o).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}}function Z6(e,t,i,r,u){pe(r||u,"Either existingEventSnap or existingServerSnap must exist");const o=jt(t,i);if(Ph(e.visibleWrites,o))return null;{const c=Aa(e.visibleWrites,o);return Uh(c)?u.getChild(i):ls(c,u.getChild(i))}}function $6(e,t,i,r){const u=jt(t,i),o=ir(e.visibleWrites,u);if(o!=null)return o;if(r.isCompleteForChild(i)){const c=Aa(e.visibleWrites,u);return ls(c,r.getNode().getImmediateChild(i))}else return null}function J6(e,t){return ir(e.visibleWrites,t)}function eN(e,t,i,r,u,o,c){let h;const p=Aa(e.visibleWrites,t),g=ir(p,nt());if(g!=null)h=g;else if(i!=null)h=ls(p,i);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const E=[],T=c.getCompare(),b=o?h.getReverseIteratorFrom(r,c):h.getIteratorFrom(r,c);let S=b.getNext();for(;S&&E.length<u;)T(S,r)!==0&&E.push(S),S=b.getNext();return E}else return[]}function tN(){return{visibleWrites:ri.empty(),allWrites:[],lastWriteId:-1}}function tc(e,t,i,r){return LT(e.writeTree,e.treePath,t,i,r)}function x0(e,t){return W6(e.writeTree,e.treePath,t)}function r_(e,t,i,r){return Z6(e.writeTree,e.treePath,t,i,r)}function nc(e,t){return J6(e.writeTree,jt(e.treePath,t))}function nN(e,t,i,r,u,o){return eN(e.writeTree,e.treePath,t,i,r,u,o)}function N0(e,t,i){return $6(e.writeTree,e.treePath,t,i)}function kT(e,t){return wT(jt(e.treePath,t),e.writeTree)}function wT(e,t){return{treePath:e,writeTree:t}}class iN{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,r=t.childName;pe(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),pe(r!==".priority","Only non-priority child changes can be tracked.");const u=this.changeMap.get(r);if(u){const o=u.type;if(i==="child_added"&&o==="child_removed")this.changeMap.set(r,Wu(r,t.snapshotNode,u.snapshotNode));else if(i==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&o==="child_changed")this.changeMap.set(r,Ku(r,u.oldSnap));else if(i==="child_changed"&&o==="child_added")this.changeMap.set(r,us(r,t.snapshotNode));else if(i==="child_changed"&&o==="child_changed")this.changeMap.set(r,Wu(r,t.snapshotNode,u.oldSnap));else throw fs("Illegal combination of changes: "+t+" occurred after "+u)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}class aN{getCompleteChild(t){return null}getChildAfterChild(t,i,r){return null}}const MT=new aN;class R0{constructor(t,i,r=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new tr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return N0(this.writes_,t,r)}}getChildAfterChild(t,i,r){const u=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:nr(this.viewCache_),o=nN(this.writes_,u,i,1,r,t);return o.length===0?null:o[0]}}function rN(e){return{filter:e}}function sN(e,t){pe(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),pe(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function uN(e,t,i,r,u){const o=new iN;let c,h;if(i.type===ai.OVERWRITE){const g=i;g.source.fromUser?c=Hh(e,t,g.path,g.snap,r,u,o):(pe(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered()&&!Xe(g.path),c=ic(e,t,g.path,g.snap,r,u,h,o))}else if(i.type===ai.MERGE){const g=i;g.source.fromUser?c=oN(e,t,g.path,g.children,r,u,o):(pe(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered(),c=Fh(e,t,g.path,g.children,r,u,h,o))}else if(i.type===ai.ACK_USER_WRITE){const g=i;g.revert?c=dN(e,t,g.path,r,u,o):c=cN(e,t,g.path,g.affectedTree,r,u,o)}else if(i.type===ai.LISTEN_COMPLETE)c=fN(e,t,i.path,r,o);else throw fs("Unknown operation type: "+i.type);const p=o.getChanges();return lN(t,c,p),{viewCache:c,changes:p}}function lN(e,t,i){const r=t.eventCache;if(r.isFullyInitialized()){const u=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Bh(e);(i.length>0||!e.eventCache.isFullyInitialized()||u&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&i.push(xT(Bh(t)))}}function BT(e,t,i,r,u,o){const c=t.eventCache;if(nc(r,i)!=null)return t;{let h,p;if(Xe(i))if(pe(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=nr(t),E=g instanceof ke?g:ke.EMPTY_NODE,T=x0(r,E);h=e.filter.updateFullNode(t.eventCache.getNode(),T,o)}else{const g=tc(r,nr(t));h=e.filter.updateFullNode(t.eventCache.getNode(),g,o)}else{const g=je(i);if(g===".priority"){pe(va(i)===1,"Can't have a priority with additional path components");const E=c.getNode();p=t.serverCache.getNode();const T=r_(r,i,E,p);T!=null?h=e.filter.updatePriority(E,T):h=c.getNode()}else{const E=_t(i);let T;if(c.isCompleteForChild(g)){p=t.serverCache.getNode();const b=r_(r,i,c.getNode(),p);b!=null?T=c.getNode().getImmediateChild(g).updateChild(E,b):T=c.getNode().getImmediateChild(g)}else T=N0(r,g,t.serverCache);T!=null?h=e.filter.updateChild(c.getNode(),g,T,E,u,o):h=c.getNode()}}return Du(t,h,c.isFullyInitialized()||Xe(i),e.filter.filtersNodes())}}function ic(e,t,i,r,u,o,c,h){const p=t.serverCache;let g;const E=c?e.filter:e.filter.getIndexedFilter();if(Xe(i))g=E.updateFullNode(p.getNode(),r,null);else if(E.filtersNodes()&&!p.isFiltered()){const S=p.getNode().updateChild(i,r);g=E.updateFullNode(p.getNode(),S,null)}else{const S=je(i);if(!p.isCompleteForPath(i)&&va(i)>1)return t;const w=_t(i),Z=p.getNode().getImmediateChild(S).updateChild(w,r);S===".priority"?g=E.updatePriority(p.getNode(),Z):g=E.updateChild(p.getNode(),S,Z,w,MT,null)}const T=OT(t,g,p.isFullyInitialized()||Xe(i),E.filtersNodes()),b=new R0(u,T,o);return BT(e,T,i,u,b,h)}function Hh(e,t,i,r,u,o,c){const h=t.eventCache;let p,g;const E=new R0(u,t,o);if(Xe(i))g=e.filter.updateFullNode(t.eventCache.getNode(),r,c),p=Du(t,g,!0,e.filter.filtersNodes());else{const T=je(i);if(T===".priority")g=e.filter.updatePriority(t.eventCache.getNode(),r),p=Du(t,g,h.isFullyInitialized(),h.isFiltered());else{const b=_t(i),S=h.getNode().getImmediateChild(T);let w;if(Xe(b))w=r;else{const Q=E.getCompleteChild(T);Q!=null?ET(b)===".priority"&&Q.getChild(yT(b)).isEmpty()?w=Q:w=Q.updateChild(b,r):w=ke.EMPTY_NODE}if(S.equals(w))p=t;else{const Q=e.filter.updateChild(h.getNode(),T,w,b,E,c);p=Du(t,Q,h.isFullyInitialized(),e.filter.filtersNodes())}}}return p}function s_(e,t){return e.eventCache.isCompleteForChild(t)}function oN(e,t,i,r,u,o,c){let h=t;return r.foreach((p,g)=>{const E=jt(i,p);s_(t,je(E))&&(h=Hh(e,h,E,g,u,o,c))}),r.foreach((p,g)=>{const E=jt(i,p);s_(t,je(E))||(h=Hh(e,h,E,g,u,o,c))}),h}function u_(e,t,i){return i.foreach((r,u)=>{t=t.updateChild(r,u)}),t}function Fh(e,t,i,r,u,o,c,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let p=t,g;Xe(i)?g=r:g=new St(null).setTree(i,r);const E=t.serverCache.getNode();return g.children.inorderTraversal((T,b)=>{if(E.hasChild(T)){const S=t.serverCache.getNode().getImmediateChild(T),w=u_(e,S,b);p=ic(e,p,new dt(T),w,u,o,c,h)}}),g.children.inorderTraversal((T,b)=>{const S=!t.serverCache.isCompleteForChild(T)&&b.value===null;if(!E.hasChild(T)&&!S){const w=t.serverCache.getNode().getImmediateChild(T),Q=u_(e,w,b);p=ic(e,p,new dt(T),Q,u,o,c,h)}}),p}function cN(e,t,i,r,u,o,c){if(nc(u,i)!=null)return t;const h=t.serverCache.isFiltered(),p=t.serverCache;if(r.value!=null){if(Xe(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return ic(e,t,i,p.getNode().getChild(i),u,o,h,c);if(Xe(i)){let g=new St(null);return p.getNode().forEachChild(es,(E,T)=>{g=g.set(new dt(E),T)}),Fh(e,t,i,g,u,o,h,c)}else return t}else{let g=new St(null);return r.foreach((E,T)=>{const b=jt(i,E);p.isCompleteForPath(b)&&(g=g.set(E,p.getNode().getChild(b)))}),Fh(e,t,i,g,u,o,h,c)}}function fN(e,t,i,r,u){const o=t.serverCache,c=OT(t,o.getNode(),o.isFullyInitialized()||Xe(i),o.isFiltered());return BT(e,c,i,r,MT,u)}function dN(e,t,i,r,u,o){let c;if(nc(r,i)!=null)return t;{const h=new R0(r,t,u),p=t.eventCache.getNode();let g;if(Xe(i)||je(i)===".priority"){let E;if(t.serverCache.isFullyInitialized())E=tc(r,nr(t));else{const T=t.serverCache.getNode();pe(T instanceof ke,"serverChildren would be complete if leaf node"),E=x0(r,T)}E=E,g=e.filter.updateFullNode(p,E,o)}else{const E=je(i);let T=N0(r,E,t.serverCache);T==null&&t.serverCache.isCompleteForChild(E)&&(T=p.getImmediateChild(E)),T!=null?g=e.filter.updateChild(p,E,T,_t(i),h,o):t.eventCache.getNode().hasChild(E)?g=e.filter.updateChild(p,E,ke.EMPTY_NODE,_t(i),h,o):g=p,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=tc(r,nr(t)),c.isLeafNode()&&(g=e.filter.updateFullNode(g,c,o)))}return c=t.serverCache.isFullyInitialized()||nc(r,nt())!=null,Du(t,g,c,e.filter.filtersNodes())}}class hN{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,u=new b0(r.getIndex()),o=L6(r);this.processor_=rN(o);const c=i.serverCache,h=i.eventCache,p=u.updateFullNode(ke.EMPTY_NODE,c.getNode(),null),g=o.updateFullNode(ke.EMPTY_NODE,h.getNode(),null),E=new tr(p,c.isFullyInitialized(),u.filtersNodes()),T=new tr(g,h.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ec(T,E),this.eventGenerator_=new H6(this.query_)}get query(){return this.query_}}function mN(e){return e.viewCache_.serverCache.getNode()}function pN(e,t){const i=nr(e.viewCache_);return i&&(e.query._queryParams.loadsAllData()||!Xe(t)&&!i.getImmediateChild(je(t)).isEmpty())?i.getChild(t):null}function l_(e){return e.eventRegistrations_.length===0}function gN(e,t){e.eventRegistrations_.push(t)}function o_(e,t,i){const r=[];if(i){pe(t==null,"A cancel should cancel all event registrations.");const u=e.query._path;e.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(i,u);c&&r.push(c)})}if(t){let u=[];for(let o=0;o<e.eventRegistrations_.length;++o){const c=e.eventRegistrations_[o];if(!c.matches(t))u.push(c);else if(t.hasAnyCallback()){u=u.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=u}else e.eventRegistrations_=[];return r}function c_(e,t,i,r){t.type===ai.MERGE&&t.source.queryId!==null&&(pe(nr(e.viewCache_),"We should always have a full cache before handling merges"),pe(Bh(e.viewCache_),"Missing event cache, even though we have a server cache"));const u=e.viewCache_,o=uN(e.processor_,u,t,i,r);return sN(e.processor_,o.viewCache),pe(o.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,PT(e,o.changes,o.viewCache.eventCache.getNode(),null)}function EN(e,t){const i=e.viewCache_.eventCache,r=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Rt,(o,c)=>{r.push(us(o,c))}),i.isFullyInitialized()&&r.push(xT(i.getNode())),PT(e,r,i.getNode(),t)}function PT(e,t,i,r){const u=r?[r]:e.eventRegistrations_;return F6(e.eventGenerator_,t,i,u)}let ac;class _N{constructor(){this.views=new Map}}function yN(e){pe(!ac,"__referenceConstructor has already been defined"),ac=e}function TN(){return pe(ac,"Reference.ts has not been loaded"),ac}function bN(e){return e.views.size===0}function O0(e,t,i,r){const u=t.source.queryId;if(u!==null){const o=e.views.get(u);return pe(o!=null,"SyncTree gave us an op for an invalid query."),c_(o,t,i,r)}else{let o=[];for(const c of e.views.values())o=o.concat(c_(c,t,i,r));return o}}function SN(e,t,i,r,u){const o=t._queryIdentifier,c=e.views.get(o);if(!c){let h=tc(i,u?r:null),p=!1;h?p=!0:r instanceof ke?(h=x0(i,r),p=!1):(h=ke.EMPTY_NODE,p=!1);const g=Ec(new tr(h,p,!1),new tr(r,u,!1));return new hN(t,g)}return c}function CN(e,t,i,r,u,o){const c=SN(e,t,r,u,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,c),gN(c,i),EN(c,i)}function AN(e,t,i,r){const u=t._queryIdentifier,o=[];let c=[];const h=xa(e);if(u==="default")for(const[p,g]of e.views.entries())c=c.concat(o_(g,i,r)),l_(g)&&(e.views.delete(p),g.query._queryParams.loadsAllData()||o.push(g.query));else{const p=e.views.get(u);p&&(c=c.concat(o_(p,i,r)),l_(p)&&(e.views.delete(u),p.query._queryParams.loadsAllData()||o.push(p.query)))}return h&&!xa(e)&&o.push(new(TN())(t._repo,t._path)),{removed:o,events:c}}function UT(e){const t=[];for(const i of e.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function ts(e,t){let i=null;for(const r of e.views.values())i=i||pN(r,t);return i}function HT(e,t){if(t._queryParams.loadsAllData())return _c(e);{const r=t._queryIdentifier;return e.views.get(r)}}function FT(e,t){return HT(e,t)!=null}function xa(e){return _c(e)!=null}function _c(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let rc;function vN(e){pe(!rc,"__referenceConstructor has already been defined"),rc=e}function xN(){return pe(rc,"Reference.ts has not been loaded"),rc}let NN=1;class f_{constructor(t){this.listenProvider_=t,this.syncPointTree_=new St(null),this.pendingWriteTree_=tN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function zT(e,t,i,r,u){return q6(e.pendingWriteTree_,t,i,r,u),u?ll(e,new er(RT(),t,i)):[]}function Wa(e,t,i=!1){const r=V6(e.pendingWriteTree_,t);if(G6(e.pendingWriteTree_,t)){let o=new St(null);return r.snap!=null?o=o.set(nt(),!0):vn(r.children,c=>{o=o.set(new dt(c),!0)}),ll(e,new ec(r.path,o,i))}else return[]}function yc(e,t,i){return ll(e,new er(C0(),t,i))}function RN(e,t,i){const r=St.fromObject(i);return ll(e,new Ju(C0(),t,r))}function ON(e,t){return ll(e,new $u(C0(),t))}function IN(e,t,i){const r=D0(e,i);if(r){const u=L0(r),o=u.path,c=u.queryId,h=bn(o,t),p=new $u(A0(c),h);return k0(e,o,p)}else return[]}function zh(e,t,i,r,u=!1){const o=t._path,c=e.syncPointTree_.get(o);let h=[];if(c&&(t._queryIdentifier==="default"||FT(c,t))){const p=AN(c,t,i,r);bN(c)&&(e.syncPointTree_=e.syncPointTree_.remove(o));const g=p.removed;if(h=p.events,!u){const E=g.findIndex(b=>b._queryParams.loadsAllData())!==-1,T=e.syncPointTree_.findOnPath(o,(b,S)=>xa(S));if(E&&!T){const b=e.syncPointTree_.subtree(o);if(!b.isEmpty()){const S=kN(b);for(let w=0;w<S.length;++w){const Q=S[w],Z=Q.query,q=qT(e,Q);e.listenProvider_.startListening(ku(Z),sc(e,Z),q.hashFn,q.onComplete)}}}!T&&g.length>0&&!r&&(E?e.listenProvider_.stopListening(ku(t),null):g.forEach(b=>{const S=e.queryToTagMap.get(Tc(b));e.listenProvider_.stopListening(ku(b),S)}))}wN(e,g)}return h}function DN(e,t,i,r){const u=D0(e,r);if(u!=null){const o=L0(u),c=o.path,h=o.queryId,p=bn(c,t),g=new er(A0(h),p,i);return k0(e,c,g)}else return[]}function LN(e,t,i,r){const u=D0(e,r);if(u){const o=L0(u),c=o.path,h=o.queryId,p=bn(c,t),g=St.fromObject(i),E=new Ju(A0(h),p,g);return k0(e,c,E)}else return[]}function d_(e,t,i,r=!1){const u=t._path;let o=null,c=!1;e.syncPointTree_.foreachOnPath(u,(b,S)=>{const w=bn(b,u);o=o||ts(S,w),c=c||xa(S)});let h=e.syncPointTree_.get(u);h?(c=c||xa(h),o=o||ts(h,nt())):(h=new _N,e.syncPointTree_=e.syncPointTree_.set(u,h));let p;o!=null?p=!0:(p=!1,o=ke.EMPTY_NODE,e.syncPointTree_.subtree(u).foreachChild((S,w)=>{const Q=ts(w,nt());Q&&(o=o.updateImmediateChild(S,Q))}));const g=FT(h,t);if(!g&&!t._queryParams.loadsAllData()){const b=Tc(t);pe(!e.queryToTagMap.has(b),"View does not exist, but we have a tag");const S=MN();e.queryToTagMap.set(b,S),e.tagToQueryMap.set(S,b)}const E=v0(e.pendingWriteTree_,u);let T=CN(h,t,i,E,o,p);if(!g&&!c&&!r){const b=HT(h,t);T=T.concat(BN(e,t,b))}return T}function I0(e,t,i){const u=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(c,h)=>{const p=bn(c,t),g=ts(h,p);if(g)return g});return LT(u,t,o,i,!0)}function ll(e,t){return jT(t,e.syncPointTree_,null,v0(e.pendingWriteTree_,nt()))}function jT(e,t,i,r){if(Xe(e.path))return YT(e,t,i,r);{const u=t.get(nt());i==null&&u!=null&&(i=ts(u,nt()));let o=[];const c=je(e.path),h=e.operationForChild(c),p=t.children.get(c);if(p&&h){const g=i?i.getImmediateChild(c):null,E=kT(r,c);o=o.concat(jT(h,p,g,E))}return u&&(o=o.concat(O0(u,e,r,i))),o}}function YT(e,t,i,r){const u=t.get(nt());i==null&&u!=null&&(i=ts(u,nt()));let o=[];return t.children.inorderTraversal((c,h)=>{const p=i?i.getImmediateChild(c):null,g=kT(r,c),E=e.operationForChild(c);E&&(o=o.concat(YT(E,h,p,g)))}),u&&(o=o.concat(O0(u,e,r,i))),o}function qT(e,t){const i=t.query,r=sc(e,i);return{hashFn:()=>(mN(t)||ke.EMPTY_NODE).hash(),onComplete:u=>{if(u==="ok")return r?IN(e,i._path,r):ON(e,i._path);{const o=Dx(u,i);return zh(e,i,null,o)}}}}function sc(e,t){const i=Tc(t);return e.queryToTagMap.get(i)}function Tc(e){return e._path.toString()+"$"+e._queryIdentifier}function D0(e,t){return e.tagToQueryMap.get(t)}function L0(e){const t=e.indexOf("$");return pe(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new dt(e.substr(0,t))}}function k0(e,t,i){const r=e.syncPointTree_.get(t);pe(r,"Missing sync point for query tag that we're tracking");const u=v0(e.pendingWriteTree_,t);return O0(r,i,u,null)}function kN(e){return e.fold((t,i,r)=>{if(i&&xa(i))return[_c(i)];{let u=[];return i&&(u=UT(i)),vn(r,(o,c)=>{u=u.concat(c)}),u}})}function ku(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(xN())(e._repo,e._path):e}function wN(e,t){for(let i=0;i<t.length;++i){const r=t[i];if(!r._queryParams.loadsAllData()){const u=Tc(r),o=e.queryToTagMap.get(u);e.queryToTagMap.delete(u),e.tagToQueryMap.delete(o)}}}function MN(){return NN++}function BN(e,t,i){const r=t._path,u=sc(e,t),o=qT(e,i),c=e.listenProvider_.startListening(ku(t),u,o.hashFn,o.onComplete),h=e.syncPointTree_.subtree(r);if(u)pe(!xa(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((g,E,T)=>{if(!Xe(g)&&E&&xa(E))return[_c(E).query];{let b=[];return E&&(b=b.concat(UT(E).map(S=>S.query))),vn(T,(S,w)=>{b=b.concat(w)}),b}});for(let g=0;g<p.length;++g){const E=p[g];e.listenProvider_.stopListening(ku(E),sc(e,E))}}return c}class w0{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new w0(i)}node(){return this.node_}}class M0{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=jt(this.path_,t);return new M0(this.syncTree_,i)}node(){return I0(this.syncTree_,this.path_)}}const PN=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},h_=function(e,t,i){if(!e||typeof e!="object")return e;if(pe(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return UN(e[".sv"],t,i);if(typeof e[".sv"]=="object")return HN(e[".sv"],t);pe(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},UN=function(e,t,i){switch(e){case"timestamp":return i.timestamp;default:pe(!1,"Unexpected server value: "+e)}},HN=function(e,t,i){e.hasOwnProperty("increment")||pe(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&pe(!1,"Unexpected increment value: "+r);const u=t.node();if(pe(u!==null&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return r;const c=u.getValue();return typeof c!="number"?r:c+r},FN=function(e,t,i,r){return B0(t,new M0(i,e),r)},VT=function(e,t,i){return B0(e,new w0(t),i)};function B0(e,t,i){const r=e.getPriority().val(),u=h_(r,t.getImmediateChild(".priority"),i);let o;if(e.isLeafNode()){const c=e,h=h_(c.getValue(),t,i);return h!==c.getValue()||u!==c.getPriority().val()?new Gt(h,nn(u)):e}else{const c=e;return o=c,u!==c.getPriority().val()&&(o=o.updatePriority(new Gt(u))),c.forEachChild(Rt,(h,p)=>{const g=B0(p,t.getImmediateChild(h),i);g!==p&&(o=o.updateImmediateChild(h,g))}),o}}class P0{constructor(t="",i=null,r={children:{},childCount:0}){this.name=t,this.parent=i,this.node=r}}function U0(e,t){let i=t instanceof dt?t:new dt(t),r=e,u=je(i);for(;u!==null;){const o=rs(r.node.children,u)||{children:{},childCount:0};r=new P0(u,r,o),i=_t(i),u=je(i)}return r}function ms(e){return e.node.value}function GT(e,t){e.node.value=t,jh(e)}function XT(e){return e.node.childCount>0}function zN(e){return ms(e)===void 0&&!XT(e)}function bc(e,t){vn(e.node.children,(i,r)=>{t(new P0(i,e,r))})}function QT(e,t,i,r){i&&t(e),bc(e,u=>{QT(u,t,!0)})}function jN(e,t,i){let r=e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function ol(e){return new dt(e.parent===null?e.name:ol(e.parent)+"/"+e.name)}function jh(e){e.parent!==null&&YN(e.parent,e.name,e)}function YN(e,t,i){const r=zN(i),u=qi(e.node.children,t);r&&u?(delete e.node.children[t],e.node.childCount--,jh(e)):!r&&!u&&(e.node.children[t]=i.node,e.node.childCount++,jh(e))}const qN=/[\[\].#$\/\u0000-\u001F\u007F]/,VN=/[\[\].#$\u0000-\u001F\u007F]/,uh=10*1024*1024,KT=function(e){return typeof e=="string"&&e.length!==0&&!qN.test(e)},WT=function(e){return typeof e=="string"&&e.length!==0&&!VN.test(e)},GN=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),WT(e)},XN=function(e,t,i,r){H0(d0(e,"value"),t,i)},H0=function(e,t,i){const r=i instanceof dt?new c6(i,e):i;if(t===void 0)throw new Error(e+"contains undefined "+Qa(r));if(typeof t=="function")throw new Error(e+"contains a function "+Qa(r)+" with contents = "+t.toString());if(Wy(t))throw new Error(e+"contains "+t.toString()+" "+Qa(r));if(typeof t=="string"&&t.length>uh/3&&pc(t)>uh)throw new Error(e+"contains a string greater than "+uh+" utf8 bytes "+Qa(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let u=!1,o=!1;if(vn(t,(c,h)=>{if(c===".value")u=!0;else if(c!==".priority"&&c!==".sv"&&(o=!0,!KT(c)))throw new Error(e+" contains an invalid key ("+c+") "+Qa(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);f6(r,c),H0(e,h,r),d6(r)}),u&&o)throw new Error(e+' contains ".value" child '+Qa(r)+" in addition to actual children.")}},ZT=function(e,t,i,r){if(!WT(i))throw new Error(d0(e,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},QN=function(e,t,i,r){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),ZT(e,t,i)},$T=function(e,t){if(je(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},KN=function(e,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!KT(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!GN(i))throw new Error(d0(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class WN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function F0(e,t){let i=null;for(let r=0;r<t.length;r++){const u=t[r],o=u.getPath();i!==null&&!_0(o,i.path)&&(e.eventLists_.push(i),i=null),i===null&&(i={events:[],path:o}),i.events.push(u)}i&&e.eventLists_.push(i)}function JT(e,t,i){F0(e,i),eb(e,r=>_0(r,t))}function Yi(e,t,i){F0(e,i),eb(e,r=>ii(r,t)||ii(t,r))}function eb(e,t){e.recursionDepth_++;let i=!0;for(let r=0;r<e.eventLists_.length;r++){const u=e.eventLists_[r];if(u){const o=u.path;t(o)?(ZN(e.eventLists_[r]),e.eventLists_[r]=null):i=!1}}i&&(e.eventLists_=[]),e.recursionDepth_--}function ZN(e){for(let t=0;t<e.events.length;t++){const i=e.events[t];if(i!==null){e.events[t]=null;const r=i.getEventRunner();Ou&&sn("event: "+i.toString()),hs(r)}}}const $N="repo_interrupt",JN=25;class e4{constructor(t,i,r,u){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new WN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Jo(),this.transactionQueueTree_=new P0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function t4(e,t,i){if(e.stats_=g0(e.repoInfo_),e.forceRestClient_||Mx())e.server_=new $o(e.repoInfo_,(r,u,o,c)=>{m_(e,r,u,o,c)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>p_(e,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Qt(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Fi(e.repoInfo_,t,(r,u,o,c)=>{m_(e,r,u,o,c)},r=>{p_(e,r)},r=>{i4(e,r)},e.authTokenProvider_,e.appCheckProvider_,i),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=Fx(e.repoInfo_,()=>new U6(e.stats_,e.server_)),e.infoData_=new k6,e.infoSyncTree_=new f_({startListening:(r,u,o,c)=>{let h=[];const p=e.infoData_.getNode(r._path);return p.isEmpty()||(h=yc(e.infoSyncTree_,r._path,p),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),j0(e,"connected",!1),e.serverSyncTree_=new f_({startListening:(r,u,o,c)=>(e.server_.listen(r,o,u,(h,p)=>{const g=c(h,p);Yi(e.eventQueue_,r._path,g)}),[]),stopListening:(r,u)=>{e.server_.unlisten(r,u)}})}function n4(e){const i=e.infoData_.getNode(new dt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function z0(e){return PN({timestamp:n4(e)})}function m_(e,t,i,r,u){e.dataUpdateCount++;const o=new dt(t);i=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,i):i;let c=[];if(u)if(r){const p=Go(i,g=>nn(g));c=LN(e.serverSyncTree_,o,p,u)}else{const p=nn(i);c=DN(e.serverSyncTree_,o,p,u)}else if(r){const p=Go(i,g=>nn(g));c=RN(e.serverSyncTree_,o,p)}else{const p=nn(i);c=yc(e.serverSyncTree_,o,p)}let h=o;c.length>0&&(h=Sc(e,o)),Yi(e.eventQueue_,h,c)}function p_(e,t){j0(e,"connected",t),t===!1&&r4(e)}function i4(e,t){vn(t,(i,r)=>{j0(e,i,r)})}function j0(e,t,i){const r=new dt("/.info/"+t),u=nn(i);e.infoData_.updateSnapshot(r,u);const o=yc(e.infoSyncTree_,r,u);Yi(e.eventQueue_,r,o)}function tb(e){return e.nextWriteId_++}function a4(e,t,i,r,u){Y0(e,"set",{path:t.toString(),value:i,priority:r});const o=z0(e),c=nn(i,r),h=I0(e.serverSyncTree_,t),p=VT(c,h,o),g=tb(e),E=zT(e.serverSyncTree_,t,p,g,!0);F0(e.eventQueue_,E),e.server_.put(t.toString(),c.val(!0),(b,S)=>{const w=b==="ok";w||Cn("set at "+t+" failed: "+b);const Q=Wa(e.serverSyncTree_,g,!w);Yi(e.eventQueue_,t,Q),l4(e,u,b,S)});const T=sb(e,t);Sc(e,T),Yi(e.eventQueue_,T,[])}function r4(e){Y0(e,"onDisconnectEvents");const t=z0(e),i=Jo();Mh(e.onDisconnect_,nt(),(u,o)=>{const c=FN(u,o,e.serverSyncTree_,t);NT(i,u,c)});let r=[];Mh(i,nt(),(u,o)=>{r=r.concat(yc(e.serverSyncTree_,u,o));const c=sb(e,u);Sc(e,c)}),e.onDisconnect_=Jo(),Yi(e.eventQueue_,nt(),r)}function s4(e,t,i){let r;je(t._path)===".info"?r=d_(e.infoSyncTree_,t,i):r=d_(e.serverSyncTree_,t,i),JT(e.eventQueue_,t._path,r)}function g_(e,t,i){let r;je(t._path)===".info"?r=zh(e.infoSyncTree_,t,i):r=zh(e.serverSyncTree_,t,i),JT(e.eventQueue_,t._path,r)}function u4(e){e.persistentConnection_&&e.persistentConnection_.interrupt($N)}function Y0(e,...t){let i="";e.persistentConnection_&&(i=e.persistentConnection_.id+":"),sn(i,...t)}function l4(e,t,i,r){t&&hs(()=>{if(i==="ok")t(null);else{const u=(i||"error").toUpperCase();let o=u;r&&(o+=": "+r);const c=new Error(o);c.code=u,t(c)}})}function nb(e,t,i){return I0(e.serverSyncTree_,t,i)||ke.EMPTY_NODE}function q0(e,t=e.transactionQueueTree_){if(t||Cc(e,t),ms(t)){const i=ab(e,t);pe(i.length>0,"Sending zero length transaction queue"),i.every(u=>u.status===0)&&o4(e,ol(t),i)}else XT(t)&&bc(t,i=>{q0(e,i)})}function o4(e,t,i){const r=i.map(g=>g.currentWriteId),u=nb(e,t,r);let o=u;const c=u.hash();for(let g=0;g<i.length;g++){const E=i[g];pe(E.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const T=bn(t,E.path);o=o.updateChild(T,E.currentOutputSnapshotRaw)}const h=o.val(!0),p=t;e.server_.put(p.toString(),h,g=>{Y0(e,"transaction put response",{path:p.toString(),status:g});let E=[];if(g==="ok"){const T=[];for(let b=0;b<i.length;b++)i[b].status=2,E=E.concat(Wa(e.serverSyncTree_,i[b].currentWriteId)),i[b].onComplete&&T.push(()=>i[b].onComplete(null,!0,i[b].currentOutputSnapshotResolved)),i[b].unwatcher();Cc(e,U0(e.transactionQueueTree_,t)),q0(e,e.transactionQueueTree_),Yi(e.eventQueue_,t,E);for(let b=0;b<T.length;b++)hs(T[b])}else{if(g==="datastale")for(let T=0;T<i.length;T++)i[T].status===3?i[T].status=4:i[T].status=0;else{Cn("transaction at "+p.toString()+" failed: "+g);for(let T=0;T<i.length;T++)i[T].status=4,i[T].abortReason=g}Sc(e,t)}},c)}function Sc(e,t){const i=ib(e,t),r=ol(i),u=ab(e,i);return c4(e,u,r),r}function c4(e,t,i){if(t.length===0)return;const r=[];let u=[];const c=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const p=t[h],g=bn(i,p.path);let E=!1,T;if(pe(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)E=!0,T=p.abortReason,u=u.concat(Wa(e.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=JN)E=!0,T="maxretry",u=u.concat(Wa(e.serverSyncTree_,p.currentWriteId,!0));else{const b=nb(e,p.path,c);p.currentInputSnapshot=b;const S=t[h].update(b.val());if(S!==void 0){H0("transaction failed: Data returned ",S,p.path);let w=nn(S);typeof S=="object"&&S!=null&&qi(S,".priority")||(w=w.updatePriority(b.getPriority()));const Z=p.currentWriteId,q=z0(e),oe=VT(w,b,q);p.currentOutputSnapshotRaw=w,p.currentOutputSnapshotResolved=oe,p.currentWriteId=tb(e),c.splice(c.indexOf(Z),1),u=u.concat(zT(e.serverSyncTree_,p.path,oe,p.currentWriteId,p.applyLocally)),u=u.concat(Wa(e.serverSyncTree_,Z,!0))}else E=!0,T="nodata",u=u.concat(Wa(e.serverSyncTree_,p.currentWriteId,!0))}Yi(e.eventQueue_,i,u),u=[],E&&(t[h].status=2,(function(b){setTimeout(b,Math.floor(0))})(t[h].unwatcher),t[h].onComplete&&(T==="nodata"?r.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):r.push(()=>t[h].onComplete(new Error(T),!1,null))))}Cc(e,e.transactionQueueTree_);for(let h=0;h<r.length;h++)hs(r[h]);q0(e,e.transactionQueueTree_)}function ib(e,t){let i,r=e.transactionQueueTree_;for(i=je(t);i!==null&&ms(r)===void 0;)r=U0(r,i),t=_t(t),i=je(t);return r}function ab(e,t){const i=[];return rb(e,t,i),i.sort((r,u)=>r.order-u.order),i}function rb(e,t,i){const r=ms(t);if(r)for(let u=0;u<r.length;u++)i.push(r[u]);bc(t,u=>{rb(e,u,i)})}function Cc(e,t){const i=ms(t);if(i){let r=0;for(let u=0;u<i.length;u++)i[u].status!==2&&(i[r]=i[u],r++);i.length=r,GT(t,i.length>0?i:void 0)}bc(t,r=>{Cc(e,r)})}function sb(e,t){const i=ol(ib(e,t)),r=U0(e.transactionQueueTree_,t);return jN(r,u=>{lh(e,u)}),lh(e,r),QT(r,u=>{lh(e,u)}),i}function lh(e,t){const i=ms(t);if(i){const r=[];let u=[],o=-1;for(let c=0;c<i.length;c++)i[c].status===3||(i[c].status===1?(pe(o===c-1,"All SENT items should be at beginning of queue."),o=c,i[c].status=3,i[c].abortReason="set"):(pe(i[c].status===0,"Unexpected transaction status in abort"),i[c].unwatcher(),u=u.concat(Wa(e.serverSyncTree_,i[c].currentWriteId,!0)),i[c].onComplete&&r.push(i[c].onComplete.bind(null,new Error("set"),!1,null))));o===-1?GT(t,void 0):i.length=o+1,Yi(e.eventQueue_,ol(t),u);for(let c=0;c<r.length;c++)hs(r[c])}}function f4(e){let t="";const i=e.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let u=i[r];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}t+="/"+u}return t}function d4(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const i of e.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Cn(`Invalid query segment '${i}' in query '${e}'`)}return t}const E_=function(e,t){const i=h4(e),r=i.namespace;i.domain==="firebase.com"&&ji(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&ji("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||xx();const u=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new lT(i.host,i.secure,r,u,t,"",r!==i.subdomain),path:new dt(i.pathString)}},h4=function(e){let t="",i="",r="",u="",o="",c=!0,h="https",p=443;if(typeof e=="string"){let g=e.indexOf("//");g>=0&&(h=e.substring(0,g-1),e=e.substring(g+2));let E=e.indexOf("/");E===-1&&(E=e.length);let T=e.indexOf("?");T===-1&&(T=e.length),t=e.substring(0,Math.min(E,T)),E<T&&(u=f4(e.substring(E,T)));const b=d4(e.substring(Math.min(e.length,T)));g=t.indexOf(":"),g>=0?(c=h==="https"||h==="wss",p=parseInt(t.substring(g+1),10)):g=t.length;const S=t.slice(0,g);if(S.toLowerCase()==="localhost")i="localhost";else if(S.split(".").length<=2)i=S;else{const w=t.indexOf(".");r=t.substring(0,w).toLowerCase(),i=t.substring(w+1),o=r}"ns"in b&&(o=b.ns)}return{host:t,port:p,domain:i,subdomain:r,secure:c,scheme:h,pathString:u,namespace:o}};class m4{constructor(t,i,r,u){this.eventType=t,this.eventRegistration=i,this.snapshot=r,this.prevName=u}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Qt(this.snapshot.exportVal())}}class p4{constructor(t,i,r){this.eventRegistration=t,this.error=i,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class g4{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return pe(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class V0{constructor(t,i,r,u){this._repo=t,this._path=i,this._queryParams=r,this._orderByCalled=u}get key(){return Xe(this._path)?null:ET(this._path)}get ref(){return new Na(this._repo,this._path)}get _queryIdentifier(){const t=e_(this._queryParams),i=m0(t);return i==="{}"?"default":i}get _queryObject(){return e_(this._queryParams)}isEqual(t){if(t=al(t),!(t instanceof V0))return!1;const i=this._repo===t._repo,r=_0(this._path,t._path),u=this._queryIdentifier===t._queryIdentifier;return i&&r&&u}toJSON(){return this.toString()}toString(){return this._repo.toString()+o6(this._path)}}class Na extends V0{constructor(t,i){super(t,i,new S0,!1)}get parent(){const t=yT(this._path);return t===null?null:new Na(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class uc{constructor(t,i,r){this._node=t,this.ref=i,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new dt(t),r=Yh(this.ref,t);return new uc(this._node.getChild(i),r,Rt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,u)=>t(new uc(u,Yh(this.ref,r),Rt)))}hasChild(t){const i=new dt(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function wu(e,t){return e=al(e),e._checkNotDeleted("ref"),t!==void 0?Yh(e._root,t):e._root}function Yh(e,t){return e=al(e),je(e._path)===null?QN("child","path",t):ZT("child","path",t),new Na(e._repo,jt(e._path,t))}function E4(e){return $T("remove",e._path),G0(e,null)}function G0(e,t){e=al(e),$T("set",e._path),XN("set",t,e._path);const i=new mc;return a4(e._repo,e._path,t,null,i.wrapCallback(()=>{})),i.promise}class X0{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const r=i._queryParams.getIndex();return new m4("value",this,new uc(t.snapshotNode,new Na(i._repo,i._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new p4(this,t,i):null}matches(t){return t instanceof X0?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function _4(e,t,i,r,u){let o;if(typeof r=="object"&&(o=void 0,u=r),typeof r=="function"&&(o=r),u&&u.onlyOnce){const p=i,g=(E,T)=>{g_(e._repo,e,h),p(E,T)};g.userCallback=i.userCallback,g.context=i.context,i=g}const c=new g4(i,o||void 0),h=new X0(c);return s4(e._repo,e,h),()=>g_(e._repo,e,h)}function ub(e,t,i,r){return _4(e,"value",t,i,r)}yN(Na);vN(Na);const y4="FIREBASE_DATABASE_EMULATOR_HOST",qh={};let T4=!1;function b4(e,t,i,r){const u=t.lastIndexOf(":"),o=t.substring(0,u),c=f0(o);e.repoInfo_=new lT(t,c,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,i),r&&(e.authTokenProvider_=r)}function S4(e,t,i,r,u){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||ji("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),sn("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let c=E_(o,u),h=c.repoInfo,p;typeof process<"u"&&BE&&(p=BE[y4]),p?(o=`http://${p}?ns=${h.namespace}`,c=E_(o,u),h=c.repoInfo):c.repoInfo.secure;const g=new Px(e.name,e.options,t);KN("Invalid Firebase Database URL",c),Xe(c.path)||ji("Database URL must point to the root of a Firebase Database (not including a child path).");const E=A4(h,e,g,new Bx(e,i));return new v4(E,e)}function C4(e,t){const i=qh[t];(!i||i[e.key]!==e)&&ji(`Database ${t}(${e.repoInfo_}) has already been deleted.`),u4(e),delete i[e.key]}function A4(e,t,i,r){let u=qh[t.name];u||(u={},qh[t.name]=u);let o=u[e.toURLString()];return o&&ji("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new e4(e,T4,i,r),u[e.toURLString()]=o,o}class v4{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(t4(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Na(this._repo,nt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(C4(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&ji("Cannot call "+t+" on a deleted database.")}}function x4(e=qy(),t){const i=nx(e,"database").getImmediate({identifier:t});if(!i._instanceStarted){const r=zA("database");r&&N4(i,...r)}return i}function N4(e,t,i,r={}){e=al(e),e._checkNotDeleted("useEmulator");const u=`${t}:${i}`,o=e._repoInternal;if(e._instanceStarted){if(u===e._repoInternal.repoInfo_.host&&Xo(r,o.repoInfo_.emulatorOptions))return;ji("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&ji('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new zo(zo.OWNER);else if(r.mockUserToken){const h=typeof r.mockUserToken=="string"?r.mockUserToken:YA(r.mockUserToken,e.app.options.projectId);c=new zo(h)}f0(t)&&(jA(t),GA("Database",!0)),b4(o,u,r,c)}function R4(e){Tx(sx),Qo(new Vu("database",(t,{instanceIdentifier:i})=>{const r=t.getProvider("app").getImmediate(),u=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return S4(r,u,o,i)},"PUBLIC").setMultipleInstances(!0)),$r(PE,UE,e),$r(PE,UE,"esm2020")}Fi.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Fi.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};R4();const O4={apiKey:"AIzaSyAJDqSAHJDvUrgW6clk3BaNqUz5Gq7E3hY",authDomain:"anansi-party-tracker.firebaseapp.com",databaseURL:"https://anansi-party-tracker-default-rtdb.firebaseio.com",projectId:"anansi-party-tracker",storageBucket:"anansi-party-tracker.firebasestorage.app",messagingSenderId:"627434109412",appId:"1:627434109412:web:f4f9676f30095aa8feaff1"},I4=ux().length===0?Yy(O4):qy(),Mu=x4(I4);function D4(){const e=["rainbow","red","green","blue","purple","orange","custom"],t=["black","white","gold","silver","red","blue","custom"],[i,r]=ue.useState(""),[u,o]=ue.useState("rainbow"),[c,h]=ue.useState(!1),[p,g]=ue.useState(""),[E,T]=ue.useState(!0),[b,S]=ue.useState(!0),[w,Q]=ue.useState(""),[Z,q]=ue.useState("black"),[oe,F]=ue.useState(!1),[ye,ve]=ue.useState("");ue.useEffect(()=>{const re=()=>{try{const k=JSON.parse(localStorage.getItem("partyData")||"{}").partyCode||"";console.log("Settings: Loaded party code:",k),r(k)}catch(P){console.error("Error loading party code:",P)}};re();const ie=setInterval(re,2e3);return()=>clearInterval(ie)},[]),ue.useEffect(()=>{if(!i){console.log("Settings: No party code, skipping Firebase listener");return}console.log("Settings: Setting up Firebase listener for:",i);const re=wu(Mu,`parties/${i}/settings`),ie=ub(re,P=>{const k=P.val();if(console.log("Settings: Firebase data received:",k),!k){console.log("Settings: No data yet, using defaults");return}k.xpBarColor&&(e.includes(k.xpBarColor)?(o(k.xpBarColor),h(!1)):(o("custom"),g(k.xpBarColor),h(!0))),k.fontColor&&(t.includes(k.fontColor)?(q(k.fontColor),F(!1)):(q("custom"),ve(k.fontColor),F(!0))),k.backgroundImageUrl!==void 0&&Q(k.backgroundImageUrl),k.showPartyTitle!==void 0&&T(k.showPartyTitle),k.showPartyCode!==void 0&&S(k.showPartyCode)},P=>{console.error("Settings: Firebase error:",P)});return()=>ie()},[i]);const G=re=>{if(!i){console.warn("Settings: Cannot save, no party code");return}console.log("Settings: Saving to Firebase:",re);const ie=wu(Mu,`parties/${i}/settings`);G0(ie,re).catch(P=>{console.error("Error saving settings:",P)})},de=re=>{const ie=re.target.value;ie==="custom"?(o("custom"),h(!0),p&&G({xpBarColor:p,fontColor:oe?ye:Z,backgroundImageUrl:w,showPartyTitle:E,showPartyCode:b})):(o(ie),h(!1),G({xpBarColor:ie,fontColor:oe?ye:Z,backgroundImageUrl:w,showPartyTitle:E,showPartyCode:b}))},Se=re=>{const ie=re.target.value;g(ie),/^#([0-9A-Fa-f]{6})$/.test(ie)&&G({xpBarColor:ie,fontColor:oe?ye:Z,backgroundImageUrl:w,showPartyTitle:E,showPartyCode:b})},Oe=re=>{const ie=re.target.value;ie==="custom"?(q("custom"),F(!0),ye&&G({xpBarColor:c?p:u,fontColor:ye,backgroundImageUrl:w,showPartyTitle:E,showPartyCode:b})):(q(ie),F(!1),G({xpBarColor:c?p:u,fontColor:ie,backgroundImageUrl:w,showPartyTitle:E,showPartyCode:b}))},xe=re=>{const ie=re.target.value;ve(ie),/^#([0-9A-Fa-f]{6})$/.test(ie)&&G({xpBarColor:c?p:u,fontColor:ie,backgroundImageUrl:w,showPartyTitle:E,showPartyCode:b})},Ee=re=>{const ie=re.target.value;Q(ie),G({xpBarColor:c?p:u,fontColor:oe?ye:Z,backgroundImageUrl:ie,showPartyTitle:E,showPartyCode:b})},V=()=>{const re=!E;T(re),G({xpBarColor:c?p:u,fontColor:oe?ye:Z,backgroundImageUrl:w,showPartyTitle:re,showPartyCode:b})},Le=()=>{const re=!b;S(re),G({xpBarColor:c?p:u,fontColor:oe?ye:Z,backgroundImageUrl:w,showPartyTitle:E,showPartyCode:re})};return i?_.jsxs("div",{style:{marginTop:"20px"},children:[_.jsx("h3",{children:"Settings"}),_.jsxs("p",{style:{fontSize:"0.9em",color:"#666",marginBottom:"15px"},children:["Settings sync in real time across all devices for party:"," ",_.jsx("strong",{children:i})]}),_.jsxs("div",{style:{marginBottom:"15px"},children:[_.jsxs("label",{children:["XP Bar Color:"," ",_.jsx("select",{value:c?"custom":u,onChange:de,children:e.map(re=>_.jsx("option",{value:re,children:re.charAt(0).toUpperCase()+re.slice(1)},re))})]}),c&&_.jsx("input",{type:"text",placeholder:"#RRGGBB",value:p,onChange:Se,style:{marginLeft:"10px"}})]}),_.jsx("div",{style:{marginBottom:"15px"},children:_.jsxs("label",{children:["Background Image URL:"," ",_.jsx("input",{type:"text",placeholder:"https://example.com/image.jpg",value:w,onChange:Ee,style:{width:"300px"}})]})}),_.jsxs("div",{style:{marginBottom:"15px"},children:[_.jsxs("label",{children:["Font Color:"," ",_.jsx("select",{value:oe?"custom":Z,onChange:Oe,children:t.map(re=>_.jsx("option",{value:re,children:re.charAt(0).toUpperCase()+re.slice(1)},re))})]}),oe&&_.jsx("input",{type:"text",placeholder:"#RRGGBB",value:ye,onChange:xe,style:{marginLeft:"10px"}})]}),_.jsx("div",{style:{marginTop:"10px"},children:_.jsxs("label",{children:[_.jsx("input",{type:"checkbox",checked:E,onChange:V}),"Show Party Tracker Title"]})}),_.jsx("div",{style:{marginTop:"10px"},children:_.jsxs("label",{children:[_.jsx("input",{type:"checkbox",checked:b,onChange:Le}),"Show Party Code"]})})]}):_.jsxs("div",{style:{marginTop:"20px"},children:[_.jsx("h3",{children:"Settings"}),_.jsx("p",{style:{color:"#666"},children:"Please create or load a party first to access settings."}),_.jsx("p",{style:{color:"#999",fontSize:"0.9em",marginTop:"10px"},children:'Tip: Create a party in the "Party Tracker" tab first, then come back here.'})]})}const lb="Matriarch Axe Beak",ob="Large",cb="Beast",fb=[],db="Unaligned",hb=13,mb=85,pb="10d10 + 30",gb=2,Eb=12,_b={walk:50,climb:null,fly:null,swim:null,burrow:null},yb={str:{score:17,mod:3,save:3},dex:{score:14,mod:2,save:4},con:{score:16,mod:3,save:3},int:{score:2,mod:-4,save:-4},wis:{score:12,mod:1,save:1},cha:{score:7,mod:-2,save:-2}},Tb={Perception:3},bb=[],Sb=[],Cb=[],Ab=["Passive Perception (13)"],vb=[],xb=3,Nb=700,Rb=[{name:"Keen Sight",desc:"The axe beak has advantage on Wisdom (Perception) checks that rely on sight."},{name:"Brood Guardian",desc:"While within 30 feet of one or more other axe beaks, the Matriarch has advantage on attack rolls against a creature that has damaged any of those allies since the end of her last turn."},{name:"Trampling Charge",desc:"If the Matriarch moves at least 20 feet straight toward a creature and then hits it with a Beak attack on the same turn, that target must succeed on a DC 13 Strength saving throw or be knocked prone. The Matriarch can make one Talon attack against that target as a bonus action."}],Ob=[{name:"Multiattack",desc:"The Matriarch makes two attacks: one with her Beak and one with her Talons."},{name:"Beak",desc:"*Melee Weapon Attack:* +5 to hit, reach 5 ft., one target. *Hit:* 10 (2d6 + 3) piercing damage."},{name:"Talons",desc:"*Melee Weapon Attack:* +5 to hit, reach 5 ft., one target. *Hit:* 9 (2d4 + 3) slashing damage."}],Ib=[{name:"Rallying Cry (1/Day)",desc:"The Matriarch lets out a thunderous screech. Up to three other axe beaks of her choice within 60 feet that can hear her can immediately move up to half their speed without provoking opportunity attacks. Each gains advantage on the next attack roll it makes before the start of the Matriarchs next turn."}],Db=[],Lb="",kb=[],wb="",L4={name:lb,size:ob,type:cb,tags:fb,alignment:db,armorClass:hb,hitPoints:mb,hitDice:pb,initiative:gb,initiativeAverage:Eb,speed:_b,abilities:yb,skills:Tb,resistances:bb,immunities:Sb,gear:Cb,senses:Ab,languages:vb,challengeRating:xb,lairXp:Nb,traits:Rb,actions:Ob,bonusActions:Ib,reactions:Db,legendarySubtitle:Lb,legendaryActions:kb,imageUrl:wb},Q0=Object.freeze(Object.defineProperty({__proto__:null,abilities:yb,actions:Ob,alignment:db,armorClass:hb,bonusActions:Ib,challengeRating:xb,default:L4,gear:Cb,hitDice:pb,hitPoints:mb,imageUrl:wb,immunities:Sb,initiative:gb,initiativeAverage:Eb,lairXp:Nb,languages:vb,legendaryActions:kb,legendarySubtitle:Lb,name:lb,reactions:Db,resistances:bb,senses:Ab,size:ob,skills:Tb,speed:_b,tags:fb,traits:Rb,type:cb},Symbol.toStringTag,{value:"Module"})),Mb="Black Dragon - Adult",Bb="Huge",Pb="Dragon",Ub=["Chromatic"],Hb="Chaotic Evil",Fb=19,zb=195,jb="17d12 + 85",Yb=12,qb=22,Vb={walk:40,climb:null,fly:80,swim:40,burrow:null},Gb={str:{score:23,mod:6,save:6},dex:{score:14,mod:2,save:7},con:{score:21,mod:5,save:5},int:{score:14,mod:2,save:2},wis:{score:13,mod:1,save:6},cha:{score:19,mod:4,save:4}},Xb={Stealth:7,Perception:11},Qb=[],Kb=["Acid"],Wb=[],Zb=["Blindsight (60ft.)","Darkvision (120 ft.)","Passive Perception (21)"],$b=["Common","Draconic"],Jb=14,e2=13e3,t2=[{name:"Amphibious",desc:"The dragon can breathe air and water."},{name:"Legendary Resistance",desc:"If the dragon fails a saving throw, it can choose to succeed instead. *(3/Day or 4/Day in Lair)*"}],n2=[{name:"Multiattack",desc:"The dragon makes three *Rend* attacks. It can replace one attack with a use of Spellcasting to cast *Melf's Acid Arrow* (Level 3)."},{name:"Rend",desc:"*Melee Attack Roll:* +11, reach 10 ft. *Hit:* 13 (2d6 + 6) Slashing damage plus 4 (1d8) Acid damage."},{name:"Acid Breath *(Recharge 5-6)*",desc:"*Dexterity Saving Throw:* DC 18, each creature in a 60-foot-long, 5-foot-wide line. *Failure:* 54 (12d8) Acid damage. *Success:* Half damage."},{name:"Spellcasting",desc:`The dragon casts one of the following spells, requiring no Material components and using Charisma as the spellcasting ability (spell save DC 17, +9 to hit with spell attacks):

**At Will:** *Detect Magic*, *Fear*, *Melfs Acid Arrow* (level 3).

**1/Day Each:** *Speak with Dead*, *Vitriolic Sphere*`}],i2=[],a2=[],r2="Legendary Action Uses: 3 (4 in Lair). Immediately after another creature's turn, the dragon can expend a use to take one of the following actions. The dragon regains all expended uses at the start of each of its turns.",s2=[{name:"Cloud of Insects",desc:"*Dexterity Saving Throw:* DC 17, one creature the dragon can see within 120 feet. *Failure:* 22 (4d10) Poison damage, and the target has Disadvantage on saving throws to maintain Concentration until the end of its next turn. *Failure or Success:* The dragon cant take this action again until the start of its next turn."},{name:"Frightful Presence",desc:"The dragon uses Spellcasting to cast *Fear*. The dragon cant take this action again until the start of its next turn."},{name:"Pounce",desc:"The dragon can move up to half its speed, and it makes one *Rend* attack."}],u2="https://www.dndbeyond.com/avatars/thumbnails/47138/553/1000/1000/638741963688798487.png",k4={name:Mb,size:Bb,type:Pb,tags:Ub,alignment:Hb,armorClass:Fb,hitPoints:zb,hitDice:jb,initiative:Yb,initiativeAverage:qb,speed:Vb,abilities:Gb,skills:Xb,resistances:Qb,immunities:Kb,gear:Wb,senses:Zb,languages:$b,challengeRating:Jb,lairXp:e2,traits:t2,actions:n2,bonusActions:i2,reactions:a2,legendarySubtitle:r2,legendaryActions:s2,imageUrl:u2},K0=Object.freeze(Object.defineProperty({__proto__:null,abilities:Gb,actions:n2,alignment:Hb,armorClass:Fb,bonusActions:i2,challengeRating:Jb,default:k4,gear:Wb,hitDice:jb,hitPoints:zb,imageUrl:u2,immunities:Kb,initiative:Yb,initiativeAverage:qb,lairXp:e2,languages:$b,legendaryActions:s2,legendarySubtitle:r2,name:Mb,reactions:a2,resistances:Qb,senses:Zb,size:Bb,skills:Xb,speed:Vb,tags:Ub,traits:t2,type:Pb},Symbol.toStringTag,{value:"Module"})),l2="Goblin - Minion",o2="Small",c2="Fey",f2=["Goblinoid"],d2="Chaotic Neutral",h2=12,m2=7,p2={walk:30,climb:null,fly:null,swim:null,burrow:null},g2=2,E2={str:{score:8,mod:-1,save:-1},dex:{score:15,mod:2,save:2},con:{score:10,mod:0,save:0},int:{score:10,mod:0,save:0},wis:{score:8,mod:-1,save:-1},cha:{score:8,mod:-1,save:-1}},_2={Stealth:6,Perception:2},y2=[],T2=[],b2=["Daggers (3)"],S2=["Darkvision (60 ft.)","Passive Perception (9)"],C2=["Common","Goblin"],A2=.125,v2=[],x2=[{name:"Dagger",desc:"*Melee or Attack Roll:* +4, reach 5ft. or range 20/60ft. *Hit:* 4 (1d4 + 2). Piercing Damage."}],N2=[{name:"Nimble Escape",desc:"The goblin takes the *Disengage* or *Hide* action."}],R2=[],O2=[],I2="https://www.dndbeyond.com/avatars/thumbnails/47138/924/1000/1000/638741964201480855.png",w4={name:l2,size:o2,type:c2,tags:f2,alignment:d2,armorClass:h2,hitPoints:m2,speed:p2,initiative:g2,abilities:E2,skills:_2,resistances:y2,immunities:T2,gear:b2,senses:S2,languages:C2,challengeRating:A2,traits:v2,actions:x2,bonusActions:N2,reactions:R2,legendaryActions:O2,imageUrl:I2},W0=Object.freeze(Object.defineProperty({__proto__:null,abilities:E2,actions:x2,alignment:d2,armorClass:h2,bonusActions:N2,challengeRating:A2,default:w4,gear:b2,hitPoints:m2,imageUrl:I2,immunities:T2,initiative:g2,languages:C2,legendaryActions:O2,name:l2,reactions:R2,resistances:y2,senses:S2,size:o2,skills:_2,speed:p2,tags:f2,traits:v2,type:c2},Symbol.toStringTag,{value:"Module"}));function __(e){const t=[],i=String(e||"");let r=i.indexOf(","),u=0,o=!1;for(;!o;){r===-1&&(r=i.length,o=!0);const c=i.slice(u,r).trim();(c||!o)&&t.push(c),u=r+1,r=i.indexOf(",",u)}return t}function D2(e,t){const i={};return(e[e.length-1]===""?[...e,""]:e).join((i.padRight?" ":"")+","+(i.padLeft===!1?"":" ")).trim()}const M4=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,B4=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,P4={};function y_(e,t){return(P4.jsx?B4:M4).test(e)}const U4=/[ \t\n\f\r]/g;function H4(e){return typeof e=="object"?e.type==="text"?T_(e.value):!1:T_(e)}function T_(e){return e.replace(U4,"")===""}let cl=class{constructor(t,i,r){this.normal=i,this.property=t,r&&(this.space=r)}};cl.prototype.normal={};cl.prototype.property={};cl.prototype.space=void 0;function L2(e,t){const i={},r={};for(const u of e)Object.assign(i,u.property),Object.assign(r,u.normal);return new cl(i,r,t)}function el(e){return e.toLowerCase()}let xn=class{constructor(t,i){this.attribute=i,this.property=t}};xn.prototype.attribute="";xn.prototype.booleanish=!1;xn.prototype.boolean=!1;xn.prototype.commaOrSpaceSeparated=!1;xn.prototype.commaSeparated=!1;xn.prototype.defined=!1;xn.prototype.mustUseProperty=!1;xn.prototype.number=!1;xn.prototype.overloadedBoolean=!1;xn.prototype.property="";xn.prototype.spaceSeparated=!1;xn.prototype.space=void 0;let F4=0;const Fe=ar(),Pt=ar(),Vh=ar(),ce=ar(),pt=ar(),ns=ar(),Mn=ar();function ar(){return 2**++F4}const Gh=Object.freeze(Object.defineProperty({__proto__:null,boolean:Fe,booleanish:Pt,commaOrSpaceSeparated:Mn,commaSeparated:ns,number:ce,overloadedBoolean:Vh,spaceSeparated:pt},Symbol.toStringTag,{value:"Module"})),oh=Object.keys(Gh);let Z0=class extends xn{constructor(t,i,r,u){let o=-1;if(super(t,i),b_(this,"space",u),typeof r=="number")for(;++o<oh.length;){const c=oh[o];b_(this,oh[o],(r&Gh[c])===Gh[c])}}};Z0.prototype.defined=!0;function b_(e,t,i){i&&(e[t]=i)}function ps(e){const t={},i={};for(const[r,u]of Object.entries(e.properties)){const o=new Z0(r,e.transform(e.attributes||{},r),u,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,i[el(r)]=r,i[el(o.attribute)]=r}return new cl(t,i,e.space)}const k2=ps({properties:{ariaActiveDescendant:null,ariaAtomic:Pt,ariaAutoComplete:null,ariaBusy:Pt,ariaChecked:Pt,ariaColCount:ce,ariaColIndex:ce,ariaColSpan:ce,ariaControls:pt,ariaCurrent:null,ariaDescribedBy:pt,ariaDetails:null,ariaDisabled:Pt,ariaDropEffect:pt,ariaErrorMessage:null,ariaExpanded:Pt,ariaFlowTo:pt,ariaGrabbed:Pt,ariaHasPopup:null,ariaHidden:Pt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:pt,ariaLevel:ce,ariaLive:null,ariaModal:Pt,ariaMultiLine:Pt,ariaMultiSelectable:Pt,ariaOrientation:null,ariaOwns:pt,ariaPlaceholder:null,ariaPosInSet:ce,ariaPressed:Pt,ariaReadOnly:Pt,ariaRelevant:null,ariaRequired:Pt,ariaRoleDescription:pt,ariaRowCount:ce,ariaRowIndex:ce,ariaRowSpan:ce,ariaSelected:Pt,ariaSetSize:ce,ariaSort:null,ariaValueMax:ce,ariaValueMin:ce,ariaValueNow:ce,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function w2(e,t){return t in e?e[t]:t}function M2(e,t){return w2(e,t.toLowerCase())}const z4=ps({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ns,acceptCharset:pt,accessKey:pt,action:null,allow:null,allowFullScreen:Fe,allowPaymentRequest:Fe,allowUserMedia:Fe,alt:null,as:null,async:Fe,autoCapitalize:null,autoComplete:pt,autoFocus:Fe,autoPlay:Fe,blocking:pt,capture:null,charSet:null,checked:Fe,cite:null,className:pt,cols:ce,colSpan:null,content:null,contentEditable:Pt,controls:Fe,controlsList:pt,coords:ce|ns,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Fe,defer:Fe,dir:null,dirName:null,disabled:Fe,download:Vh,draggable:Pt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Fe,formTarget:null,headers:pt,height:ce,hidden:Vh,high:ce,href:null,hrefLang:null,htmlFor:pt,httpEquiv:pt,id:null,imageSizes:null,imageSrcSet:null,inert:Fe,inputMode:null,integrity:null,is:null,isMap:Fe,itemId:null,itemProp:pt,itemRef:pt,itemScope:Fe,itemType:pt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Fe,low:ce,manifest:null,max:null,maxLength:ce,media:null,method:null,min:null,minLength:ce,multiple:Fe,muted:Fe,name:null,nonce:null,noModule:Fe,noValidate:Fe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Fe,optimum:ce,pattern:null,ping:pt,placeholder:null,playsInline:Fe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Fe,referrerPolicy:null,rel:pt,required:Fe,reversed:Fe,rows:ce,rowSpan:ce,sandbox:pt,scope:null,scoped:Fe,seamless:Fe,selected:Fe,shadowRootClonable:Fe,shadowRootDelegatesFocus:Fe,shadowRootMode:null,shape:null,size:ce,sizes:null,slot:null,span:ce,spellCheck:Pt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ce,step:null,style:null,tabIndex:ce,target:null,title:null,translate:null,type:null,typeMustMatch:Fe,useMap:null,value:Pt,width:ce,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:pt,axis:null,background:null,bgColor:null,border:ce,borderColor:null,bottomMargin:ce,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Fe,declare:Fe,event:null,face:null,frame:null,frameBorder:null,hSpace:ce,leftMargin:ce,link:null,longDesc:null,lowSrc:null,marginHeight:ce,marginWidth:ce,noResize:Fe,noHref:Fe,noShade:Fe,noWrap:Fe,object:null,profile:null,prompt:null,rev:null,rightMargin:ce,rules:null,scheme:null,scrolling:Pt,standby:null,summary:null,text:null,topMargin:ce,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ce,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Fe,disableRemotePlayback:Fe,prefix:null,property:null,results:ce,security:null,unselectable:null},space:"html",transform:M2}),j4=ps({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Mn,accentHeight:ce,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ce,amplitude:ce,arabicForm:null,ascent:ce,attributeName:null,attributeType:null,azimuth:ce,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ce,by:null,calcMode:null,capHeight:ce,className:pt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ce,diffuseConstant:ce,direction:null,display:null,dur:null,divisor:ce,dominantBaseline:null,download:Fe,dx:null,dy:null,edgeMode:null,editable:null,elevation:ce,enableBackground:null,end:null,event:null,exponent:ce,externalResourcesRequired:null,fill:null,fillOpacity:ce,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ns,g2:ns,glyphName:ns,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ce,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ce,horizOriginX:ce,horizOriginY:ce,id:null,ideographic:ce,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ce,k:ce,k1:ce,k2:ce,k3:ce,k4:ce,kernelMatrix:Mn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ce,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ce,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ce,overlineThickness:ce,paintOrder:null,panose1:null,path:null,pathLength:ce,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:pt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ce,pointsAtY:ce,pointsAtZ:ce,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Mn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Mn,rev:Mn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Mn,requiredFeatures:Mn,requiredFonts:Mn,requiredFormats:Mn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ce,specularExponent:ce,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ce,strikethroughThickness:ce,string:null,stroke:null,strokeDashArray:Mn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ce,strokeOpacity:ce,strokeWidth:null,style:null,surfaceScale:ce,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Mn,tabIndex:ce,tableValues:null,target:null,targetX:ce,targetY:ce,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Mn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ce,underlineThickness:ce,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ce,values:null,vAlphabetic:ce,vMathematical:ce,vectorEffect:null,vHanging:ce,vIdeographic:ce,version:null,vertAdvY:ce,vertOriginX:ce,vertOriginY:ce,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ce,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:w2}),B2=ps({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),P2=ps({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:M2}),U2=ps({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Y4={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},q4=/[A-Z]/g,S_=/-[a-z]/g,V4=/^data[-\w.:]+$/i;function $0(e,t){const i=el(t);let r=t,u=xn;if(i in e.normal)return e.property[e.normal[i]];if(i.length>4&&i.slice(0,4)==="data"&&V4.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(S_,X4);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!S_.test(o)){let c=o.replace(q4,G4);c.charAt(0)!=="-"&&(c="-"+c),t="data"+c}}u=Z0}return new u(r,t)}function G4(e){return"-"+e.toLowerCase()}function X4(e){return e.charAt(1).toUpperCase()}const Ac=L2([k2,z4,B2,P2,U2],"html"),gs=L2([k2,j4,B2,P2,U2],"svg");function C_(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function H2(e){return e.join(" ").trim()}var Qr={},ch,A_;function Q4(){if(A_)return ch;A_=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,i=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,u=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,h=/^\s+|\s+$/g,p=`
`,g="/",E="*",T="",b="comment",S="declaration";function w(Z,q){if(typeof Z!="string")throw new TypeError("First argument must be a string");if(!Z)return[];q=q||{};var oe=1,F=1;function ye(re){var ie=re.match(t);ie&&(oe+=ie.length);var P=re.lastIndexOf(p);F=~P?re.length-P:F+re.length}function ve(){var re={line:oe,column:F};return function(ie){return ie.position=new G(re),Oe(),ie}}function G(re){this.start=re,this.end={line:oe,column:F},this.source=q.source}G.prototype.content=Z;function de(re){var ie=new Error(q.source+":"+oe+":"+F+": "+re);if(ie.reason=re,ie.filename=q.source,ie.line=oe,ie.column=F,ie.source=Z,!q.silent)throw ie}function Se(re){var ie=re.exec(Z);if(ie){var P=ie[0];return ye(P),Z=Z.slice(P.length),ie}}function Oe(){Se(i)}function xe(re){var ie;for(re=re||[];ie=Ee();)ie!==!1&&re.push(ie);return re}function Ee(){var re=ve();if(!(g!=Z.charAt(0)||E!=Z.charAt(1))){for(var ie=2;T!=Z.charAt(ie)&&(E!=Z.charAt(ie)||g!=Z.charAt(ie+1));)++ie;if(ie+=2,T===Z.charAt(ie-1))return de("End of comment missing");var P=Z.slice(2,ie-2);return F+=2,ye(P),Z=Z.slice(ie),F+=2,re({type:b,comment:P})}}function V(){var re=ve(),ie=Se(r);if(ie){if(Ee(),!Se(u))return de("property missing ':'");var P=Se(o),k=re({type:S,property:Q(ie[0].replace(e,T)),value:P?Q(P[0].replace(e,T)):T});return Se(c),k}}function Le(){var re=[];xe(re);for(var ie;ie=V();)ie!==!1&&(re.push(ie),xe(re));return re}return Oe(),Le()}function Q(Z){return Z?Z.replace(h,T):T}return ch=w,ch}var v_;function K4(){if(v_)return Qr;v_=1;var e=Qr&&Qr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.default=i;const t=e(Q4());function i(r,u){let o=null;if(!r||typeof r!="string")return o;const c=(0,t.default)(r),h=typeof u=="function";return c.forEach(p=>{if(p.type!=="declaration")return;const{property:g,value:E}=p;h?u(g,E,p):E&&(o=o||{},o[g]=E)}),o}return Qr}var yu={},x_;function W4(){if(x_)return yu;x_=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,i=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,u=/^-(ms)-/,o=function(g){return!g||i.test(g)||e.test(g)},c=function(g,E){return E.toUpperCase()},h=function(g,E){return"".concat(E,"-")},p=function(g,E){return E===void 0&&(E={}),o(g)?g:(g=g.toLowerCase(),E.reactCompat?g=g.replace(u,h):g=g.replace(r,h),g.replace(t,c))};return yu.camelCase=p,yu}var Tu,N_;function Z4(){if(N_)return Tu;N_=1;var e=Tu&&Tu.__importDefault||function(u){return u&&u.__esModule?u:{default:u}},t=e(K4()),i=W4();function r(u,o){var c={};return!u||typeof u!="string"||(0,t.default)(u,function(h,p){h&&p&&(c[(0,i.camelCase)(h,o)]=p)}),c}return r.default=r,Tu=r,Tu}var $4=Z4();const J4=hc($4),vc=F2("end"),pi=F2("start");function F2(e){return t;function t(i){const r=i&&i.position&&i.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function eR(e){const t=pi(e),i=vc(e);if(t&&i)return{start:t,end:i}}function Bu(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?R_(e.position):"start"in e||"end"in e?R_(e):"line"in e||"column"in e?Xh(e):""}function Xh(e){return O_(e&&e.line)+":"+O_(e&&e.column)}function R_(e){return Xh(e&&e.start)+"-"+Xh(e&&e.end)}function O_(e){return e&&typeof e=="number"?e:1}class un extends Error{constructor(t,i,r){super(),typeof i=="string"&&(r=i,i=void 0);let u="",o={},c=!1;if(i&&("line"in i&&"column"in i?o={place:i}:"start"in i&&"end"in i?o={place:i}:"type"in i?o={ancestors:[i],place:i.position}:o={...i}),typeof t=="string"?u=t:!o.cause&&t&&(c=!0,u=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const p=r.indexOf(":");p===-1?o.ruleId=r:(o.source=r.slice(0,p),o.ruleId=r.slice(p+1))}if(!o.place&&o.ancestors&&o.ancestors){const p=o.ancestors[o.ancestors.length-1];p&&(o.place=p.position)}const h=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file="",this.message=u,this.line=h?h.line:void 0,this.name=Bu(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=c&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}un.prototype.file="";un.prototype.name="";un.prototype.reason="";un.prototype.message="";un.prototype.stack="";un.prototype.column=void 0;un.prototype.line=void 0;un.prototype.ancestors=void 0;un.prototype.cause=void 0;un.prototype.fatal=void 0;un.prototype.place=void 0;un.prototype.ruleId=void 0;un.prototype.source=void 0;const J0={}.hasOwnProperty,tR=new Map,nR=/[A-Z]/g,iR=new Set(["table","tbody","thead","tfoot","tr"]),aR=new Set(["td","th"]),z2="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function rR(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const i=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=hR(i,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=dR(i,t.jsx,t.jsxs)}const u={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:i,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?gs:Ac,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=j2(u,e,void 0);return o&&typeof o!="string"?o:u.create(e,u.Fragment,{children:o||void 0},void 0)}function j2(e,t,i){if(t.type==="element")return sR(e,t,i);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return uR(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return oR(e,t,i);if(t.type==="mdxjsEsm")return lR(e,t);if(t.type==="root")return cR(e,t,i);if(t.type==="text")return fR(e,t)}function sR(e,t,i){const r=e.schema;let u=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(u=gs,e.schema=u),e.ancestors.push(t);const o=q2(e,t.tagName,!1),c=mR(e,t);let h=tm(e,t);return iR.has(t.tagName)&&(h=h.filter(function(p){return typeof p=="string"?!H4(p):!0})),Y2(e,c,o,t),em(c,h),e.ancestors.pop(),e.schema=r,e.create(t,o,c,i)}function uR(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}tl(e,t.position)}function lR(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);tl(e,t.position)}function oR(e,t,i){const r=e.schema;let u=r;t.name==="svg"&&r.space==="html"&&(u=gs,e.schema=u),e.ancestors.push(t);const o=t.name===null?e.Fragment:q2(e,t.name,!0),c=pR(e,t),h=tm(e,t);return Y2(e,c,o,t),em(c,h),e.ancestors.pop(),e.schema=r,e.create(t,o,c,i)}function cR(e,t,i){const r={};return em(r,tm(e,t)),e.create(t,e.Fragment,r,i)}function fR(e,t){return t.value}function Y2(e,t,i,r){typeof i!="string"&&i!==e.Fragment&&e.passNode&&(t.node=r)}function em(e,t){if(t.length>0){const i=t.length>1?t:t[0];i&&(e.children=i)}}function dR(e,t,i){return r;function r(u,o,c,h){const g=Array.isArray(c.children)?i:t;return h?g(o,c,h):g(o,c)}}function hR(e,t){return i;function i(r,u,o,c){const h=Array.isArray(o.children),p=pi(r);return t(u,o,c,h,{columnNumber:p?p.column-1:void 0,fileName:e,lineNumber:p?p.line:void 0},void 0)}}function mR(e,t){const i={};let r,u;for(u in t.properties)if(u!=="children"&&J0.call(t.properties,u)){const o=gR(e,u,t.properties[u]);if(o){const[c,h]=o;e.tableCellAlignToStyle&&c==="align"&&typeof h=="string"&&aR.has(t.tagName)?r=h:i[c]=h}}if(r){const o=i.style||(i.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return i}function pR(e,t){const i={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const c=o.expression;c.type;const h=c.properties[0];h.type,Object.assign(i,e.evaluater.evaluateExpression(h.argument))}else tl(e,t.position);else{const u=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const h=r.value.data.estree.body[0];h.type,o=e.evaluater.evaluateExpression(h.expression)}else tl(e,t.position);else o=r.value===null?!0:r.value;i[u]=o}return i}function tm(e,t){const i=[];let r=-1;const u=e.passKeys?new Map:tR;for(;++r<t.children.length;){const o=t.children[r];let c;if(e.passKeys){const p=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(p){const g=u.get(p)||0;c=p+"-"+g,u.set(p,g+1)}}const h=j2(e,o,c);h!==void 0&&i.push(h)}return i}function gR(e,t,i){const r=$0(e.schema,t);if(!(i==null||typeof i=="number"&&Number.isNaN(i))){if(Array.isArray(i)&&(i=r.commaSeparated?D2(i):H2(i)),r.property==="style"){let u=typeof i=="object"?i:ER(e,String(i));return e.stylePropertyNameCase==="css"&&(u=_R(u)),["style",u]}return[e.elementAttributeNameCase==="react"&&r.space?Y4[r.property]||r.property:r.attribute,i]}}function ER(e,t){try{return J4(t,{reactCompat:!0})}catch(i){if(e.ignoreInvalidStyle)return{};const r=i,u=new un("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw u.file=e.filePath||void 0,u.url=z2+"#cannot-parse-style-attribute",u}}function q2(e,t,i){let r;if(!i)r={type:"Literal",value:t};else if(t.includes(".")){const u=t.split(".");let o=-1,c;for(;++o<u.length;){const h=y_(u[o])?{type:"Identifier",name:u[o]}:{type:"Literal",value:u[o]};c=c?{type:"MemberExpression",object:c,property:h,computed:!!(o&&h.type==="Literal"),optional:!1}:h}r=c}else r=y_(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const u=r.value;return J0.call(e.components,u)?e.components[u]:u}if(e.evaluater)return e.evaluater.evaluateExpression(r);tl(e)}function tl(e,t){const i=new un("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=z2+"#cannot-handle-mdx-estrees-without-createevaluater",i}function _R(e){const t={};let i;for(i in e)J0.call(e,i)&&(t[yR(i)]=e[i]);return t}function yR(e){let t=e.replace(nR,TR);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function TR(e){return"-"+e.toLowerCase()}const fh={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},bR={};function SR(e,t){const i=bR,r=typeof i.includeImageAlt=="boolean"?i.includeImageAlt:!0,u=typeof i.includeHtml=="boolean"?i.includeHtml:!0;return V2(e,r,u)}function V2(e,t,i){if(CR(e)){if("value"in e)return e.type==="html"&&!i?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return I_(e.children,t,i)}return Array.isArray(e)?I_(e,t,i):""}function I_(e,t,i){const r=[];let u=-1;for(;++u<e.length;)r[u]=V2(e[u],t,i);return r.join("")}function CR(e){return!!(e&&typeof e=="object")}const D_=document.createElement("i");function nm(e){const t="&"+e+";";D_.innerHTML=t;const i=D_.textContent;return i.charCodeAt(i.length-1)===59&&e!=="semi"||i===t?!1:i}function mi(e,t,i,r){const u=e.length;let o=0,c;if(t<0?t=-t>u?0:u+t:t=t>u?u:t,i=i>0?i:0,r.length<1e4)c=Array.from(r),c.unshift(t,i),e.splice(...c);else for(i&&e.splice(t,i);o<r.length;)c=r.slice(o,o+1e4),c.unshift(t,0),e.splice(...c),o+=1e4,t+=1e4}function Qn(e,t){return e.length>0?(mi(e,e.length,0,t),e):t}const L_={}.hasOwnProperty;function AR(e){const t={};let i=-1;for(;++i<e.length;)vR(t,e[i]);return t}function vR(e,t){let i;for(i in t){const u=(L_.call(e,i)?e[i]:void 0)||(e[i]={}),o=t[i];let c;if(o)for(c in o){L_.call(u,c)||(u[c]=[]);const h=o[c];xR(u[c],Array.isArray(h)?h:h?[h]:[])}}}function xR(e,t){let i=-1;const r=[];for(;++i<t.length;)(t[i].add==="after"?e:r).push(t[i]);mi(e,0,0,r)}function G2(e,t){const i=Number.parseInt(e,t);return i<9||i===11||i>13&&i<32||i>126&&i<160||i>55295&&i<57344||i>64975&&i<65008||(i&65535)===65535||(i&65535)===65534||i>1114111?"":String.fromCodePoint(i)}function is(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const hi=Ra(/[A-Za-z]/),Pn=Ra(/[\dA-Za-z]/),NR=Ra(/[#-'*+\--9=?A-Z^-~]/);function Qh(e){return e!==null&&(e<32||e===127)}const Kh=Ra(/\d/),RR=Ra(/[\dA-Fa-f]/),OR=Ra(/[!-/:-@[-`{-~]/);function we(e){return e!==null&&e<-2}function An(e){return e!==null&&(e<0||e===32)}function tt(e){return e===-2||e===-1||e===32}const IR=Ra(new RegExp("\\p{P}|\\p{S}","u")),DR=Ra(/\s/);function Ra(e){return t;function t(i){return i!==null&&i>-1&&e.test(String.fromCharCode(i))}}function Es(e){const t=[];let i=-1,r=0,u=0;for(;++i<e.length;){const o=e.charCodeAt(i);let c="";if(o===37&&Pn(e.charCodeAt(i+1))&&Pn(e.charCodeAt(i+2)))u=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(c=String.fromCharCode(o));else if(o>55295&&o<57344){const h=e.charCodeAt(i+1);o<56320&&h>56319&&h<57344?(c=String.fromCharCode(o,h),u=1):c=""}else c=String.fromCharCode(o);c&&(t.push(e.slice(r,i),encodeURIComponent(c)),r=i+u+1,c=""),u&&(i+=u,u=0)}return t.join("")+e.slice(r)}function yt(e,t,i,r){const u=r?r-1:Number.POSITIVE_INFINITY;let o=0;return c;function c(p){return tt(p)?(e.enter(i),h(p)):t(p)}function h(p){return tt(p)&&o++<u?(e.consume(p),h):(e.exit(i),t(p))}}const LR={tokenize:kR};function kR(e){const t=e.attempt(this.parser.constructs.contentInitial,r,u);let i;return t;function r(h){if(h===null){e.consume(h);return}return e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),yt(e,t,"linePrefix")}function u(h){return e.enter("paragraph"),o(h)}function o(h){const p=e.enter("chunkText",{contentType:"text",previous:i});return i&&(i.next=p),i=p,c(h)}function c(h){if(h===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(h);return}return we(h)?(e.consume(h),e.exit("chunkText"),o):(e.consume(h),c)}}const wR={tokenize:MR},k_={tokenize:BR};function MR(e){const t=this,i=[];let r=0,u,o,c;return h;function h(F){if(r<i.length){const ye=i[r];return t.containerState=ye[1],e.attempt(ye[0].continuation,p,g)(F)}return g(F)}function p(F){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,u&&oe();const ye=t.events.length;let ve=ye,G;for(;ve--;)if(t.events[ve][0]==="exit"&&t.events[ve][1].type==="chunkFlow"){G=t.events[ve][1].end;break}q(r);let de=ye;for(;de<t.events.length;)t.events[de][1].end={...G},de++;return mi(t.events,ve+1,0,t.events.slice(ye)),t.events.length=de,g(F)}return h(F)}function g(F){if(r===i.length){if(!u)return b(F);if(u.currentConstruct&&u.currentConstruct.concrete)return w(F);t.interrupt=!!(u.currentConstruct&&!u._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(k_,E,T)(F)}function E(F){return u&&oe(),q(r),b(F)}function T(F){return t.parser.lazy[t.now().line]=r!==i.length,c=t.now().offset,w(F)}function b(F){return t.containerState={},e.attempt(k_,S,w)(F)}function S(F){return r++,i.push([t.currentConstruct,t.containerState]),b(F)}function w(F){if(F===null){u&&oe(),q(0),e.consume(F);return}return u=u||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:u,contentType:"flow",previous:o}),Q(F)}function Q(F){if(F===null){Z(e.exit("chunkFlow"),!0),q(0),e.consume(F);return}return we(F)?(e.consume(F),Z(e.exit("chunkFlow")),r=0,t.interrupt=void 0,h):(e.consume(F),Q)}function Z(F,ye){const ve=t.sliceStream(F);if(ye&&ve.push(null),F.previous=o,o&&(o.next=F),o=F,u.defineSkip(F.start),u.write(ve),t.parser.lazy[F.start.line]){let G=u.events.length;for(;G--;)if(u.events[G][1].start.offset<c&&(!u.events[G][1].end||u.events[G][1].end.offset>c))return;const de=t.events.length;let Se=de,Oe,xe;for(;Se--;)if(t.events[Se][0]==="exit"&&t.events[Se][1].type==="chunkFlow"){if(Oe){xe=t.events[Se][1].end;break}Oe=!0}for(q(r),G=de;G<t.events.length;)t.events[G][1].end={...xe},G++;mi(t.events,Se+1,0,t.events.slice(de)),t.events.length=G}}function q(F){let ye=i.length;for(;ye-- >F;){const ve=i[ye];t.containerState=ve[1],ve[0].exit.call(t,e)}i.length=F}function oe(){u.write([null]),o=void 0,u=void 0,t.containerState._closeFlow=void 0}}function BR(e,t,i){return yt(e,e.attempt(this.parser.constructs.document,t,i),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function w_(e){if(e===null||An(e)||DR(e))return 1;if(IR(e))return 2}function im(e,t,i){const r=[];let u=-1;for(;++u<e.length;){const o=e[u].resolveAll;o&&!r.includes(o)&&(t=o(t,i),r.push(o))}return t}const Wh={name:"attention",resolveAll:PR,tokenize:UR};function PR(e,t){let i=-1,r,u,o,c,h,p,g,E;for(;++i<e.length;)if(e[i][0]==="enter"&&e[i][1].type==="attentionSequence"&&e[i][1]._close){for(r=i;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[i][1]).charCodeAt(0)){if((e[r][1]._close||e[i][1]._open)&&(e[i][1].end.offset-e[i][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[i][1].end.offset-e[i][1].start.offset)%3))continue;p=e[r][1].end.offset-e[r][1].start.offset>1&&e[i][1].end.offset-e[i][1].start.offset>1?2:1;const T={...e[r][1].end},b={...e[i][1].start};M_(T,-p),M_(b,p),c={type:p>1?"strongSequence":"emphasisSequence",start:T,end:{...e[r][1].end}},h={type:p>1?"strongSequence":"emphasisSequence",start:{...e[i][1].start},end:b},o={type:p>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[i][1].start}},u={type:p>1?"strong":"emphasis",start:{...c.start},end:{...h.end}},e[r][1].end={...c.start},e[i][1].start={...h.end},g=[],e[r][1].end.offset-e[r][1].start.offset&&(g=Qn(g,[["enter",e[r][1],t],["exit",e[r][1],t]])),g=Qn(g,[["enter",u,t],["enter",c,t],["exit",c,t],["enter",o,t]]),g=Qn(g,im(t.parser.constructs.insideSpan.null,e.slice(r+1,i),t)),g=Qn(g,[["exit",o,t],["enter",h,t],["exit",h,t],["exit",u,t]]),e[i][1].end.offset-e[i][1].start.offset?(E=2,g=Qn(g,[["enter",e[i][1],t],["exit",e[i][1],t]])):E=0,mi(e,r-1,i-r+3,g),i=r+g.length-E-2;break}}for(i=-1;++i<e.length;)e[i][1].type==="attentionSequence"&&(e[i][1].type="data");return e}function UR(e,t){const i=this.parser.constructs.attentionMarkers.null,r=this.previous,u=w_(r);let o;return c;function c(p){return o=p,e.enter("attentionSequence"),h(p)}function h(p){if(p===o)return e.consume(p),h;const g=e.exit("attentionSequence"),E=w_(p),T=!E||E===2&&u||i.includes(p),b=!u||u===2&&E||i.includes(r);return g._open=!!(o===42?T:T&&(u||!b)),g._close=!!(o===42?b:b&&(E||!T)),t(p)}}function M_(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const HR={name:"autolink",tokenize:FR};function FR(e,t,i){let r=0;return u;function u(S){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(S){return hi(S)?(e.consume(S),c):S===64?i(S):g(S)}function c(S){return S===43||S===45||S===46||Pn(S)?(r=1,h(S)):g(S)}function h(S){return S===58?(e.consume(S),r=0,p):(S===43||S===45||S===46||Pn(S))&&r++<32?(e.consume(S),h):(r=0,g(S))}function p(S){return S===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):S===null||S===32||S===60||Qh(S)?i(S):(e.consume(S),p)}function g(S){return S===64?(e.consume(S),E):NR(S)?(e.consume(S),g):i(S)}function E(S){return Pn(S)?T(S):i(S)}function T(S){return S===46?(e.consume(S),r=0,E):S===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):b(S)}function b(S){if((S===45||Pn(S))&&r++<63){const w=S===45?b:T;return e.consume(S),w}return i(S)}}const xc={partial:!0,tokenize:zR};function zR(e,t,i){return r;function r(o){return tt(o)?yt(e,u,"linePrefix")(o):u(o)}function u(o){return o===null||we(o)?t(o):i(o)}}const X2={continuation:{tokenize:YR},exit:qR,name:"blockQuote",tokenize:jR};function jR(e,t,i){const r=this;return u;function u(c){if(c===62){const h=r.containerState;return h.open||(e.enter("blockQuote",{_container:!0}),h.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(c),e.exit("blockQuoteMarker"),o}return i(c)}function o(c){return tt(c)?(e.enter("blockQuotePrefixWhitespace"),e.consume(c),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(c))}}function YR(e,t,i){const r=this;return u;function u(c){return tt(c)?yt(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):o(c)}function o(c){return e.attempt(X2,t,i)(c)}}function qR(e){e.exit("blockQuote")}const Q2={name:"characterEscape",tokenize:VR};function VR(e,t,i){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),u}function u(o){return OR(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):i(o)}}const K2={name:"characterReference",tokenize:GR};function GR(e,t,i){const r=this;let u=0,o,c;return h;function h(T){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(T),e.exit("characterReferenceMarker"),p}function p(T){return T===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(T),e.exit("characterReferenceMarkerNumeric"),g):(e.enter("characterReferenceValue"),o=31,c=Pn,E(T))}function g(T){return T===88||T===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(T),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,c=RR,E):(e.enter("characterReferenceValue"),o=7,c=Kh,E(T))}function E(T){if(T===59&&u){const b=e.exit("characterReferenceValue");return c===Pn&&!nm(r.sliceSerialize(b))?i(T):(e.enter("characterReferenceMarker"),e.consume(T),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return c(T)&&u++<o?(e.consume(T),E):i(T)}}const B_={partial:!0,tokenize:QR},P_={concrete:!0,name:"codeFenced",tokenize:XR};function XR(e,t,i){const r=this,u={partial:!0,tokenize:ve};let o=0,c=0,h;return p;function p(G){return g(G)}function g(G){const de=r.events[r.events.length-1];return o=de&&de[1].type==="linePrefix"?de[2].sliceSerialize(de[1],!0).length:0,h=G,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),E(G)}function E(G){return G===h?(c++,e.consume(G),E):c<3?i(G):(e.exit("codeFencedFenceSequence"),tt(G)?yt(e,T,"whitespace")(G):T(G))}function T(G){return G===null||we(G)?(e.exit("codeFencedFence"),r.interrupt?t(G):e.check(B_,Q,ye)(G)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),b(G))}function b(G){return G===null||we(G)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),T(G)):tt(G)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),yt(e,S,"whitespace")(G)):G===96&&G===h?i(G):(e.consume(G),b)}function S(G){return G===null||we(G)?T(G):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(G))}function w(G){return G===null||we(G)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),T(G)):G===96&&G===h?i(G):(e.consume(G),w)}function Q(G){return e.attempt(u,ye,Z)(G)}function Z(G){return e.enter("lineEnding"),e.consume(G),e.exit("lineEnding"),q}function q(G){return o>0&&tt(G)?yt(e,oe,"linePrefix",o+1)(G):oe(G)}function oe(G){return G===null||we(G)?e.check(B_,Q,ye)(G):(e.enter("codeFlowValue"),F(G))}function F(G){return G===null||we(G)?(e.exit("codeFlowValue"),oe(G)):(e.consume(G),F)}function ye(G){return e.exit("codeFenced"),t(G)}function ve(G,de,Se){let Oe=0;return xe;function xe(ie){return G.enter("lineEnding"),G.consume(ie),G.exit("lineEnding"),Ee}function Ee(ie){return G.enter("codeFencedFence"),tt(ie)?yt(G,V,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ie):V(ie)}function V(ie){return ie===h?(G.enter("codeFencedFenceSequence"),Le(ie)):Se(ie)}function Le(ie){return ie===h?(Oe++,G.consume(ie),Le):Oe>=c?(G.exit("codeFencedFenceSequence"),tt(ie)?yt(G,re,"whitespace")(ie):re(ie)):Se(ie)}function re(ie){return ie===null||we(ie)?(G.exit("codeFencedFence"),de(ie)):Se(ie)}}}function QR(e,t,i){const r=this;return u;function u(c){return c===null?i(c):(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),o)}function o(c){return r.parser.lazy[r.now().line]?i(c):t(c)}}const dh={name:"codeIndented",tokenize:WR},KR={partial:!0,tokenize:ZR};function WR(e,t,i){const r=this;return u;function u(g){return e.enter("codeIndented"),yt(e,o,"linePrefix",5)(g)}function o(g){const E=r.events[r.events.length-1];return E&&E[1].type==="linePrefix"&&E[2].sliceSerialize(E[1],!0).length>=4?c(g):i(g)}function c(g){return g===null?p(g):we(g)?e.attempt(KR,c,p)(g):(e.enter("codeFlowValue"),h(g))}function h(g){return g===null||we(g)?(e.exit("codeFlowValue"),c(g)):(e.consume(g),h)}function p(g){return e.exit("codeIndented"),t(g)}}function ZR(e,t,i){const r=this;return u;function u(c){return r.parser.lazy[r.now().line]?i(c):we(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),u):yt(e,o,"linePrefix",5)(c)}function o(c){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?t(c):we(c)?u(c):i(c)}}const $R={name:"codeText",previous:eO,resolve:JR,tokenize:tO};function JR(e){let t=e.length-4,i=3,r,u;if((e[i][1].type==="lineEnding"||e[i][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=i;++r<t;)if(e[r][1].type==="codeTextData"){e[i][1].type="codeTextPadding",e[t][1].type="codeTextPadding",i+=2,t-=2;break}}for(r=i-1,t++;++r<=t;)u===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(u=r):(r===t||e[r][1].type==="lineEnding")&&(e[u][1].type="codeTextData",r!==u+2&&(e[u][1].end=e[r-1][1].end,e.splice(u+2,r-u-2),t-=r-u-2,r=u+2),u=void 0);return e}function eO(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tO(e,t,i){let r=0,u,o;return c;function c(T){return e.enter("codeText"),e.enter("codeTextSequence"),h(T)}function h(T){return T===96?(e.consume(T),r++,h):(e.exit("codeTextSequence"),p(T))}function p(T){return T===null?i(T):T===32?(e.enter("space"),e.consume(T),e.exit("space"),p):T===96?(o=e.enter("codeTextSequence"),u=0,E(T)):we(T)?(e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),p):(e.enter("codeTextData"),g(T))}function g(T){return T===null||T===32||T===96||we(T)?(e.exit("codeTextData"),p(T)):(e.consume(T),g)}function E(T){return T===96?(e.consume(T),u++,E):u===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(T)):(o.type="codeTextData",g(T))}}class nO{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,i){const r=i??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,i,r){const u=i||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-u,Number.POSITIVE_INFINITY);return r&&bu(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),bu(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),bu(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const i=this.left.splice(t,Number.POSITIVE_INFINITY);bu(this.right,i.reverse())}else{const i=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);bu(this.left,i.reverse())}}}function bu(e,t){let i=0;if(t.length<1e4)e.push(...t);else for(;i<t.length;)e.push(...t.slice(i,i+1e4)),i+=1e4}function W2(e){const t={};let i=-1,r,u,o,c,h,p,g;const E=new nO(e);for(;++i<E.length;){for(;i in t;)i=t[i];if(r=E.get(i),i&&r[1].type==="chunkFlow"&&E.get(i-1)[1].type==="listItemPrefix"&&(p=r[1]._tokenizer.events,o=0,o<p.length&&p[o][1].type==="lineEndingBlank"&&(o+=2),o<p.length&&p[o][1].type==="content"))for(;++o<p.length&&p[o][1].type!=="content";)p[o][1].type==="chunkText"&&(p[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,iO(E,i)),i=t[i],g=!0);else if(r[1]._container){for(o=i,u=void 0;o--;)if(c=E.get(o),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(u&&(E.get(u)[1].type="lineEndingBlank"),c[1].type="lineEnding",u=o);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;u&&(r[1].end={...E.get(u)[1].start},h=E.slice(u,i),h.unshift(r),E.splice(u,i-u+1,h))}}return mi(e,0,Number.POSITIVE_INFINITY,E.slice(0)),!g}function iO(e,t){const i=e.get(t)[1],r=e.get(t)[2];let u=t-1;const o=[];let c=i._tokenizer;c||(c=r.parser[i.contentType](i.start),i._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const h=c.events,p=[],g={};let E,T,b=-1,S=i,w=0,Q=0;const Z=[Q];for(;S;){for(;e.get(++u)[1]!==S;);o.push(u),S._tokenizer||(E=r.sliceStream(S),S.next||E.push(null),T&&c.defineSkip(S.start),S._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(E),S._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),T=S,S=S.next}for(S=i;++b<h.length;)h[b][0]==="exit"&&h[b-1][0]==="enter"&&h[b][1].type===h[b-1][1].type&&h[b][1].start.line!==h[b][1].end.line&&(Q=b+1,Z.push(Q),S._tokenizer=void 0,S.previous=void 0,S=S.next);for(c.events=[],S?(S._tokenizer=void 0,S.previous=void 0):Z.pop(),b=Z.length;b--;){const q=h.slice(Z[b],Z[b+1]),oe=o.pop();p.push([oe,oe+q.length-1]),e.splice(oe,2,q)}for(p.reverse(),b=-1;++b<p.length;)g[w+p[b][0]]=w+p[b][1],w+=p[b][1]-p[b][0]-1;return g}const aO={resolve:sO,tokenize:uO},rO={partial:!0,tokenize:lO};function sO(e){return W2(e),e}function uO(e,t){let i;return r;function r(h){return e.enter("content"),i=e.enter("chunkContent",{contentType:"content"}),u(h)}function u(h){return h===null?o(h):we(h)?e.check(rO,c,o)(h):(e.consume(h),u)}function o(h){return e.exit("chunkContent"),e.exit("content"),t(h)}function c(h){return e.consume(h),e.exit("chunkContent"),i.next=e.enter("chunkContent",{contentType:"content",previous:i}),i=i.next,u}}function lO(e,t,i){const r=this;return u;function u(c){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),yt(e,o,"linePrefix")}function o(c){if(c===null||we(c))return i(c);const h=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?t(c):e.interrupt(r.parser.constructs.flow,i,t)(c)}}function Z2(e,t,i,r,u,o,c,h,p){const g=p||Number.POSITIVE_INFINITY;let E=0;return T;function T(q){return q===60?(e.enter(r),e.enter(u),e.enter(o),e.consume(q),e.exit(o),b):q===null||q===32||q===41||Qh(q)?i(q):(e.enter(r),e.enter(c),e.enter(h),e.enter("chunkString",{contentType:"string"}),Q(q))}function b(q){return q===62?(e.enter(o),e.consume(q),e.exit(o),e.exit(u),e.exit(r),t):(e.enter(h),e.enter("chunkString",{contentType:"string"}),S(q))}function S(q){return q===62?(e.exit("chunkString"),e.exit(h),b(q)):q===null||q===60||we(q)?i(q):(e.consume(q),q===92?w:S)}function w(q){return q===60||q===62||q===92?(e.consume(q),S):S(q)}function Q(q){return!E&&(q===null||q===41||An(q))?(e.exit("chunkString"),e.exit(h),e.exit(c),e.exit(r),t(q)):E<g&&q===40?(e.consume(q),E++,Q):q===41?(e.consume(q),E--,Q):q===null||q===32||q===40||Qh(q)?i(q):(e.consume(q),q===92?Z:Q)}function Z(q){return q===40||q===41||q===92?(e.consume(q),Q):Q(q)}}function $2(e,t,i,r,u,o){const c=this;let h=0,p;return g;function g(S){return e.enter(r),e.enter(u),e.consume(S),e.exit(u),e.enter(o),E}function E(S){return h>999||S===null||S===91||S===93&&!p||S===94&&!h&&"_hiddenFootnoteSupport"in c.parser.constructs?i(S):S===93?(e.exit(o),e.enter(u),e.consume(S),e.exit(u),e.exit(r),t):we(S)?(e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),E):(e.enter("chunkString",{contentType:"string"}),T(S))}function T(S){return S===null||S===91||S===93||we(S)||h++>999?(e.exit("chunkString"),E(S)):(e.consume(S),p||(p=!tt(S)),S===92?b:T)}function b(S){return S===91||S===92||S===93?(e.consume(S),h++,T):T(S)}}function J2(e,t,i,r,u,o){let c;return h;function h(b){return b===34||b===39||b===40?(e.enter(r),e.enter(u),e.consume(b),e.exit(u),c=b===40?41:b,p):i(b)}function p(b){return b===c?(e.enter(u),e.consume(b),e.exit(u),e.exit(r),t):(e.enter(o),g(b))}function g(b){return b===c?(e.exit(o),p(c)):b===null?i(b):we(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),yt(e,g,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),E(b))}function E(b){return b===c||b===null||we(b)?(e.exit("chunkString"),g(b)):(e.consume(b),b===92?T:E)}function T(b){return b===c||b===92?(e.consume(b),E):E(b)}}function Pu(e,t){let i;return r;function r(u){return we(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),i=!0,r):tt(u)?yt(e,r,i?"linePrefix":"lineSuffix")(u):t(u)}}const oO={name:"definition",tokenize:fO},cO={partial:!0,tokenize:dO};function fO(e,t,i){const r=this;let u;return o;function o(S){return e.enter("definition"),c(S)}function c(S){return $2.call(r,e,h,i,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function h(S){return u=is(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),S===58?(e.enter("definitionMarker"),e.consume(S),e.exit("definitionMarker"),p):i(S)}function p(S){return An(S)?Pu(e,g)(S):g(S)}function g(S){return Z2(e,E,i,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(S)}function E(S){return e.attempt(cO,T,T)(S)}function T(S){return tt(S)?yt(e,b,"whitespace")(S):b(S)}function b(S){return S===null||we(S)?(e.exit("definition"),r.parser.defined.push(u),t(S)):i(S)}}function dO(e,t,i){return r;function r(h){return An(h)?Pu(e,u)(h):i(h)}function u(h){return J2(e,o,i,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function o(h){return tt(h)?yt(e,c,"whitespace")(h):c(h)}function c(h){return h===null||we(h)?t(h):i(h)}}const hO={name:"hardBreakEscape",tokenize:mO};function mO(e,t,i){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),u}function u(o){return we(o)?(e.exit("hardBreakEscape"),t(o)):i(o)}}const pO={name:"headingAtx",resolve:gO,tokenize:EO};function gO(e,t){let i=e.length-2,r=3,u,o;return e[r][1].type==="whitespace"&&(r+=2),i-2>r&&e[i][1].type==="whitespace"&&(i-=2),e[i][1].type==="atxHeadingSequence"&&(r===i-1||i-4>r&&e[i-2][1].type==="whitespace")&&(i-=r+1===i?2:4),i>r&&(u={type:"atxHeadingText",start:e[r][1].start,end:e[i][1].end},o={type:"chunkText",start:e[r][1].start,end:e[i][1].end,contentType:"text"},mi(e,r,i-r+1,[["enter",u,t],["enter",o,t],["exit",o,t],["exit",u,t]])),e}function EO(e,t,i){let r=0;return u;function u(E){return e.enter("atxHeading"),o(E)}function o(E){return e.enter("atxHeadingSequence"),c(E)}function c(E){return E===35&&r++<6?(e.consume(E),c):E===null||An(E)?(e.exit("atxHeadingSequence"),h(E)):i(E)}function h(E){return E===35?(e.enter("atxHeadingSequence"),p(E)):E===null||we(E)?(e.exit("atxHeading"),t(E)):tt(E)?yt(e,h,"whitespace")(E):(e.enter("atxHeadingText"),g(E))}function p(E){return E===35?(e.consume(E),p):(e.exit("atxHeadingSequence"),h(E))}function g(E){return E===null||E===35||An(E)?(e.exit("atxHeadingText"),h(E)):(e.consume(E),g)}}const _O=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],U_=["pre","script","style","textarea"],yO={concrete:!0,name:"htmlFlow",resolveTo:SO,tokenize:CO},TO={partial:!0,tokenize:vO},bO={partial:!0,tokenize:AO};function SO(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function CO(e,t,i){const r=this;let u,o,c,h,p;return g;function g(v){return E(v)}function E(v){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(v),T}function T(v){return v===33?(e.consume(v),b):v===47?(e.consume(v),o=!0,Q):v===63?(e.consume(v),u=3,r.interrupt?t:x):hi(v)?(e.consume(v),c=String.fromCharCode(v),Z):i(v)}function b(v){return v===45?(e.consume(v),u=2,S):v===91?(e.consume(v),u=5,h=0,w):hi(v)?(e.consume(v),u=4,r.interrupt?t:x):i(v)}function S(v){return v===45?(e.consume(v),r.interrupt?t:x):i(v)}function w(v){const _e="CDATA[";return v===_e.charCodeAt(h++)?(e.consume(v),h===_e.length?r.interrupt?t:V:w):i(v)}function Q(v){return hi(v)?(e.consume(v),c=String.fromCharCode(v),Z):i(v)}function Z(v){if(v===null||v===47||v===62||An(v)){const _e=v===47,U=c.toLowerCase();return!_e&&!o&&U_.includes(U)?(u=1,r.interrupt?t(v):V(v)):_O.includes(c.toLowerCase())?(u=6,_e?(e.consume(v),q):r.interrupt?t(v):V(v)):(u=7,r.interrupt&&!r.parser.lazy[r.now().line]?i(v):o?oe(v):F(v))}return v===45||Pn(v)?(e.consume(v),c+=String.fromCharCode(v),Z):i(v)}function q(v){return v===62?(e.consume(v),r.interrupt?t:V):i(v)}function oe(v){return tt(v)?(e.consume(v),oe):xe(v)}function F(v){return v===47?(e.consume(v),xe):v===58||v===95||hi(v)?(e.consume(v),ye):tt(v)?(e.consume(v),F):xe(v)}function ye(v){return v===45||v===46||v===58||v===95||Pn(v)?(e.consume(v),ye):ve(v)}function ve(v){return v===61?(e.consume(v),G):tt(v)?(e.consume(v),ve):F(v)}function G(v){return v===null||v===60||v===61||v===62||v===96?i(v):v===34||v===39?(e.consume(v),p=v,de):tt(v)?(e.consume(v),G):Se(v)}function de(v){return v===p?(e.consume(v),p=null,Oe):v===null||we(v)?i(v):(e.consume(v),de)}function Se(v){return v===null||v===34||v===39||v===47||v===60||v===61||v===62||v===96||An(v)?ve(v):(e.consume(v),Se)}function Oe(v){return v===47||v===62||tt(v)?F(v):i(v)}function xe(v){return v===62?(e.consume(v),Ee):i(v)}function Ee(v){return v===null||we(v)?V(v):tt(v)?(e.consume(v),Ee):i(v)}function V(v){return v===45&&u===2?(e.consume(v),P):v===60&&u===1?(e.consume(v),k):v===62&&u===4?(e.consume(v),R):v===63&&u===3?(e.consume(v),x):v===93&&u===5?(e.consume(v),he):we(v)&&(u===6||u===7)?(e.exit("htmlFlowData"),e.check(TO,W,Le)(v)):v===null||we(v)?(e.exit("htmlFlowData"),Le(v)):(e.consume(v),V)}function Le(v){return e.check(bO,re,W)(v)}function re(v){return e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),ie}function ie(v){return v===null||we(v)?Le(v):(e.enter("htmlFlowData"),V(v))}function P(v){return v===45?(e.consume(v),x):V(v)}function k(v){return v===47?(e.consume(v),c="",te):V(v)}function te(v){if(v===62){const _e=c.toLowerCase();return U_.includes(_e)?(e.consume(v),R):V(v)}return hi(v)&&c.length<8?(e.consume(v),c+=String.fromCharCode(v),te):V(v)}function he(v){return v===93?(e.consume(v),x):V(v)}function x(v){return v===62?(e.consume(v),R):v===45&&u===2?(e.consume(v),x):V(v)}function R(v){return v===null||we(v)?(e.exit("htmlFlowData"),W(v)):(e.consume(v),R)}function W(v){return e.exit("htmlFlow"),t(v)}}function AO(e,t,i){const r=this;return u;function u(c){return we(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),o):i(c)}function o(c){return r.parser.lazy[r.now().line]?i(c):t(c)}}function vO(e,t,i){return r;function r(u){return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),e.attempt(xc,t,i)}}const xO={name:"htmlText",tokenize:NO};function NO(e,t,i){const r=this;let u,o,c;return h;function h(x){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(x),p}function p(x){return x===33?(e.consume(x),g):x===47?(e.consume(x),ve):x===63?(e.consume(x),F):hi(x)?(e.consume(x),Se):i(x)}function g(x){return x===45?(e.consume(x),E):x===91?(e.consume(x),o=0,w):hi(x)?(e.consume(x),oe):i(x)}function E(x){return x===45?(e.consume(x),S):i(x)}function T(x){return x===null?i(x):x===45?(e.consume(x),b):we(x)?(c=T,k(x)):(e.consume(x),T)}function b(x){return x===45?(e.consume(x),S):T(x)}function S(x){return x===62?P(x):x===45?b(x):T(x)}function w(x){const R="CDATA[";return x===R.charCodeAt(o++)?(e.consume(x),o===R.length?Q:w):i(x)}function Q(x){return x===null?i(x):x===93?(e.consume(x),Z):we(x)?(c=Q,k(x)):(e.consume(x),Q)}function Z(x){return x===93?(e.consume(x),q):Q(x)}function q(x){return x===62?P(x):x===93?(e.consume(x),q):Q(x)}function oe(x){return x===null||x===62?P(x):we(x)?(c=oe,k(x)):(e.consume(x),oe)}function F(x){return x===null?i(x):x===63?(e.consume(x),ye):we(x)?(c=F,k(x)):(e.consume(x),F)}function ye(x){return x===62?P(x):F(x)}function ve(x){return hi(x)?(e.consume(x),G):i(x)}function G(x){return x===45||Pn(x)?(e.consume(x),G):de(x)}function de(x){return we(x)?(c=de,k(x)):tt(x)?(e.consume(x),de):P(x)}function Se(x){return x===45||Pn(x)?(e.consume(x),Se):x===47||x===62||An(x)?Oe(x):i(x)}function Oe(x){return x===47?(e.consume(x),P):x===58||x===95||hi(x)?(e.consume(x),xe):we(x)?(c=Oe,k(x)):tt(x)?(e.consume(x),Oe):P(x)}function xe(x){return x===45||x===46||x===58||x===95||Pn(x)?(e.consume(x),xe):Ee(x)}function Ee(x){return x===61?(e.consume(x),V):we(x)?(c=Ee,k(x)):tt(x)?(e.consume(x),Ee):Oe(x)}function V(x){return x===null||x===60||x===61||x===62||x===96?i(x):x===34||x===39?(e.consume(x),u=x,Le):we(x)?(c=V,k(x)):tt(x)?(e.consume(x),V):(e.consume(x),re)}function Le(x){return x===u?(e.consume(x),u=void 0,ie):x===null?i(x):we(x)?(c=Le,k(x)):(e.consume(x),Le)}function re(x){return x===null||x===34||x===39||x===60||x===61||x===96?i(x):x===47||x===62||An(x)?Oe(x):(e.consume(x),re)}function ie(x){return x===47||x===62||An(x)?Oe(x):i(x)}function P(x){return x===62?(e.consume(x),e.exit("htmlTextData"),e.exit("htmlText"),t):i(x)}function k(x){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),te}function te(x){return tt(x)?yt(e,he,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(x):he(x)}function he(x){return e.enter("htmlTextData"),c(x)}}const am={name:"labelEnd",resolveAll:DO,resolveTo:LO,tokenize:kO},RO={tokenize:wO},OO={tokenize:MO},IO={tokenize:BO};function DO(e){let t=-1;const i=[];for(;++t<e.length;){const r=e[t][1];if(i.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const u=r.type==="labelImage"?4:2;r.type="data",t+=u}}return e.length!==i.length&&mi(e,0,e.length,i),e}function LO(e,t){let i=e.length,r=0,u,o,c,h;for(;i--;)if(u=e[i][1],o){if(u.type==="link"||u.type==="labelLink"&&u._inactive)break;e[i][0]==="enter"&&u.type==="labelLink"&&(u._inactive=!0)}else if(c){if(e[i][0]==="enter"&&(u.type==="labelImage"||u.type==="labelLink")&&!u._balanced&&(o=i,u.type!=="labelLink")){r=2;break}}else u.type==="labelEnd"&&(c=i);const p={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},g={type:"label",start:{...e[o][1].start},end:{...e[c][1].end}},E={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[c-2][1].start}};return h=[["enter",p,t],["enter",g,t]],h=Qn(h,e.slice(o+1,o+r+3)),h=Qn(h,[["enter",E,t]]),h=Qn(h,im(t.parser.constructs.insideSpan.null,e.slice(o+r+4,c-3),t)),h=Qn(h,[["exit",E,t],e[c-2],e[c-1],["exit",g,t]]),h=Qn(h,e.slice(c+1)),h=Qn(h,[["exit",p,t]]),mi(e,o,e.length,h),e}function kO(e,t,i){const r=this;let u=r.events.length,o,c;for(;u--;)if((r.events[u][1].type==="labelImage"||r.events[u][1].type==="labelLink")&&!r.events[u][1]._balanced){o=r.events[u][1];break}return h;function h(b){return o?o._inactive?T(b):(c=r.parser.defined.includes(is(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(b),e.exit("labelMarker"),e.exit("labelEnd"),p):i(b)}function p(b){return b===40?e.attempt(RO,E,c?E:T)(b):b===91?e.attempt(OO,E,c?g:T)(b):c?E(b):T(b)}function g(b){return e.attempt(IO,E,T)(b)}function E(b){return t(b)}function T(b){return o._balanced=!0,i(b)}}function wO(e,t,i){return r;function r(T){return e.enter("resource"),e.enter("resourceMarker"),e.consume(T),e.exit("resourceMarker"),u}function u(T){return An(T)?Pu(e,o)(T):o(T)}function o(T){return T===41?E(T):Z2(e,c,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(T)}function c(T){return An(T)?Pu(e,p)(T):E(T)}function h(T){return i(T)}function p(T){return T===34||T===39||T===40?J2(e,g,i,"resourceTitle","resourceTitleMarker","resourceTitleString")(T):E(T)}function g(T){return An(T)?Pu(e,E)(T):E(T)}function E(T){return T===41?(e.enter("resourceMarker"),e.consume(T),e.exit("resourceMarker"),e.exit("resource"),t):i(T)}}function MO(e,t,i){const r=this;return u;function u(h){return $2.call(r,e,o,c,"reference","referenceMarker","referenceString")(h)}function o(h){return r.parser.defined.includes(is(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(h):i(h)}function c(h){return i(h)}}function BO(e,t,i){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),u}function u(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):i(o)}}const PO={name:"labelStartImage",resolveAll:am.resolveAll,tokenize:UO};function UO(e,t,i){const r=this;return u;function u(h){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(h),e.exit("labelImageMarker"),o}function o(h){return h===91?(e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelImage"),c):i(h)}function c(h){return h===94&&"_hiddenFootnoteSupport"in r.parser.constructs?i(h):t(h)}}const HO={name:"labelStartLink",resolveAll:am.resolveAll,tokenize:FO};function FO(e,t,i){const r=this;return u;function u(c){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelLink"),o}function o(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?i(c):t(c)}}const hh={name:"lineEnding",tokenize:zO};function zO(e,t){return i;function i(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),yt(e,t,"linePrefix")}}const jo={name:"thematicBreak",tokenize:jO};function jO(e,t,i){let r=0,u;return o;function o(g){return e.enter("thematicBreak"),c(g)}function c(g){return u=g,h(g)}function h(g){return g===u?(e.enter("thematicBreakSequence"),p(g)):r>=3&&(g===null||we(g))?(e.exit("thematicBreak"),t(g)):i(g)}function p(g){return g===u?(e.consume(g),r++,p):(e.exit("thematicBreakSequence"),tt(g)?yt(e,h,"whitespace")(g):h(g))}}const Tn={continuation:{tokenize:GO},exit:QO,name:"list",tokenize:VO},YO={partial:!0,tokenize:KO},qO={partial:!0,tokenize:XO};function VO(e,t,i){const r=this,u=r.events[r.events.length-1];let o=u&&u[1].type==="linePrefix"?u[2].sliceSerialize(u[1],!0).length:0,c=0;return h;function h(S){const w=r.containerState.type||(S===42||S===43||S===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||S===r.containerState.marker:Kh(S)){if(r.containerState.type||(r.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),S===42||S===45?e.check(jo,i,g)(S):g(S);if(!r.interrupt||S===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),p(S)}return i(S)}function p(S){return Kh(S)&&++c<10?(e.consume(S),p):(!r.interrupt||c<2)&&(r.containerState.marker?S===r.containerState.marker:S===41||S===46)?(e.exit("listItemValue"),g(S)):i(S)}function g(S){return e.enter("listItemMarker"),e.consume(S),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||S,e.check(xc,r.interrupt?i:E,e.attempt(YO,b,T))}function E(S){return r.containerState.initialBlankLine=!0,o++,b(S)}function T(S){return tt(S)?(e.enter("listItemPrefixWhitespace"),e.consume(S),e.exit("listItemPrefixWhitespace"),b):i(S)}function b(S){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(S)}}function GO(e,t,i){const r=this;return r.containerState._closeFlow=void 0,e.check(xc,u,o);function u(h){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,yt(e,t,"listItemIndent",r.containerState.size+1)(h)}function o(h){return r.containerState.furtherBlankLines||!tt(h)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,c(h)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(qO,t,c)(h))}function c(h){return r.containerState._closeFlow=!0,r.interrupt=void 0,yt(e,e.attempt(Tn,t,i),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function XO(e,t,i){const r=this;return yt(e,u,"listItemIndent",r.containerState.size+1);function u(o){const c=r.events[r.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===r.containerState.size?t(o):i(o)}}function QO(e){e.exit(this.containerState.type)}function KO(e,t,i){const r=this;return yt(e,u,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function u(o){const c=r.events[r.events.length-1];return!tt(o)&&c&&c[1].type==="listItemPrefixWhitespace"?t(o):i(o)}}const H_={name:"setextUnderline",resolveTo:WO,tokenize:ZO};function WO(e,t){let i=e.length,r,u,o;for(;i--;)if(e[i][0]==="enter"){if(e[i][1].type==="content"){r=i;break}e[i][1].type==="paragraph"&&(u=i)}else e[i][1].type==="content"&&e.splice(i,1),!o&&e[i][1].type==="definition"&&(o=i);const c={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[u][1].type="setextHeadingText",o?(e.splice(u,0,["enter",c,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=c,e.push(["exit",c,t]),e}function ZO(e,t,i){const r=this;let u;return o;function o(g){let E=r.events.length,T;for(;E--;)if(r.events[E][1].type!=="lineEnding"&&r.events[E][1].type!=="linePrefix"&&r.events[E][1].type!=="content"){T=r.events[E][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||T)?(e.enter("setextHeadingLine"),u=g,c(g)):i(g)}function c(g){return e.enter("setextHeadingLineSequence"),h(g)}function h(g){return g===u?(e.consume(g),h):(e.exit("setextHeadingLineSequence"),tt(g)?yt(e,p,"lineSuffix")(g):p(g))}function p(g){return g===null||we(g)?(e.exit("setextHeadingLine"),t(g)):i(g)}}const $O={tokenize:JO};function JO(e){const t=this,i=e.attempt(xc,r,e.attempt(this.parser.constructs.flowInitial,u,yt(e,e.attempt(this.parser.constructs.flow,u,e.attempt(aO,u)),"linePrefix")));return i;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,i}function u(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,i}}const eI={resolveAll:tS()},tI=eS("string"),nI=eS("text");function eS(e){return{resolveAll:tS(e==="text"?iI:void 0),tokenize:t};function t(i){const r=this,u=this.parser.constructs[e],o=i.attempt(u,c,h);return c;function c(E){return g(E)?o(E):h(E)}function h(E){if(E===null){i.consume(E);return}return i.enter("data"),i.consume(E),p}function p(E){return g(E)?(i.exit("data"),o(E)):(i.consume(E),p)}function g(E){if(E===null)return!0;const T=u[E];let b=-1;if(T)for(;++b<T.length;){const S=T[b];if(!S.previous||S.previous.call(r,r.previous))return!0}return!1}}}function tS(e){return t;function t(i,r){let u=-1,o;for(;++u<=i.length;)o===void 0?i[u]&&i[u][1].type==="data"&&(o=u,u++):(!i[u]||i[u][1].type!=="data")&&(u!==o+2&&(i[o][1].end=i[u-1][1].end,i.splice(o+2,u-o-2),u=o+2),o=void 0);return e?e(i,r):i}}function iI(e,t){let i=0;for(;++i<=e.length;)if((i===e.length||e[i][1].type==="lineEnding")&&e[i-1][1].type==="data"){const r=e[i-1][1],u=t.sliceStream(r);let o=u.length,c=-1,h=0,p;for(;o--;){const g=u[o];if(typeof g=="string"){for(c=g.length;g.charCodeAt(c-1)===32;)h++,c--;if(c)break;c=-1}else if(g===-2)p=!0,h++;else if(g!==-1){o++;break}}if(t._contentTypeTextTrailing&&i===e.length&&(h=0),h){const g={type:i===e.length||p||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?c:r.start._bufferIndex+c,_index:r.start._index+o,line:r.end.line,column:r.end.column-h,offset:r.end.offset-h},end:{...r.end}};r.end={...g.start},r.start.offset===r.end.offset?Object.assign(r,g):(e.splice(i,0,["enter",g,t],["exit",g,t]),i+=2)}i++}return e}const aI={42:Tn,43:Tn,45:Tn,48:Tn,49:Tn,50:Tn,51:Tn,52:Tn,53:Tn,54:Tn,55:Tn,56:Tn,57:Tn,62:X2},rI={91:oO},sI={[-2]:dh,[-1]:dh,32:dh},uI={35:pO,42:jo,45:[H_,jo],60:yO,61:H_,95:jo,96:P_,126:P_},lI={38:K2,92:Q2},oI={[-5]:hh,[-4]:hh,[-3]:hh,33:PO,38:K2,42:Wh,60:[HR,xO],91:HO,92:[hO,Q2],93:am,95:Wh,96:$R},cI={null:[Wh,eI]},fI={null:[42,95]},dI={null:[]},hI=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:fI,contentInitial:rI,disable:dI,document:aI,flow:uI,flowInitial:sI,insideSpan:cI,string:lI,text:oI},Symbol.toStringTag,{value:"Module"}));function mI(e,t,i){let r={_bufferIndex:-1,_index:0,line:i&&i.line||1,column:i&&i.column||1,offset:i&&i.offset||0};const u={},o=[];let c=[],h=[];const p={attempt:de(ve),check:de(G),consume:oe,enter:F,exit:ye,interrupt:de(G,{interrupt:!0})},g={code:null,containerState:{},defineSkip:Q,events:[],now:w,parser:e,previous:null,sliceSerialize:b,sliceStream:S,write:T};let E=t.tokenize.call(g,p);return t.resolveAll&&o.push(t),g;function T(Ee){return c=Qn(c,Ee),Z(),c[c.length-1]!==null?[]:(Se(t,0),g.events=im(o,g.events,g),g.events)}function b(Ee,V){return gI(S(Ee),V)}function S(Ee){return pI(c,Ee)}function w(){const{_bufferIndex:Ee,_index:V,line:Le,column:re,offset:ie}=r;return{_bufferIndex:Ee,_index:V,line:Le,column:re,offset:ie}}function Q(Ee){u[Ee.line]=Ee.column,xe()}function Z(){let Ee;for(;r._index<c.length;){const V=c[r._index];if(typeof V=="string")for(Ee=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Ee&&r._bufferIndex<V.length;)q(V.charCodeAt(r._bufferIndex));else q(V)}}function q(Ee){E=E(Ee)}function oe(Ee){we(Ee)?(r.line++,r.column=1,r.offset+=Ee===-3?2:1,xe()):Ee!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===c[r._index].length&&(r._bufferIndex=-1,r._index++)),g.previous=Ee}function F(Ee,V){const Le=V||{};return Le.type=Ee,Le.start=w(),g.events.push(["enter",Le,g]),h.push(Le),Le}function ye(Ee){const V=h.pop();return V.end=w(),g.events.push(["exit",V,g]),V}function ve(Ee,V){Se(Ee,V.from)}function G(Ee,V){V.restore()}function de(Ee,V){return Le;function Le(re,ie,P){let k,te,he,x;return Array.isArray(re)?W(re):"tokenize"in re?W([re]):R(re);function R(D){return ee;function ee(Te){const Ae=Te!==null&&D[Te],We=Te!==null&&D.null,Ue=[...Array.isArray(Ae)?Ae:Ae?[Ae]:[],...Array.isArray(We)?We:We?[We]:[]];return W(Ue)(Te)}}function W(D){return k=D,te=0,D.length===0?P:v(D[te])}function v(D){return ee;function ee(Te){return x=Oe(),he=D,D.partial||(g.currentConstruct=D),D.name&&g.parser.constructs.disable.null.includes(D.name)?U():D.tokenize.call(V?Object.assign(Object.create(g),V):g,p,_e,U)(Te)}}function _e(D){return Ee(he,x),ie}function U(D){return x.restore(),++te<k.length?v(k[te]):P}}}function Se(Ee,V){Ee.resolveAll&&!o.includes(Ee)&&o.push(Ee),Ee.resolve&&mi(g.events,V,g.events.length-V,Ee.resolve(g.events.slice(V),g)),Ee.resolveTo&&(g.events=Ee.resolveTo(g.events,g))}function Oe(){const Ee=w(),V=g.previous,Le=g.currentConstruct,re=g.events.length,ie=Array.from(h);return{from:re,restore:P};function P(){r=Ee,g.previous=V,g.currentConstruct=Le,g.events.length=re,h=ie,xe()}}function xe(){r.line in u&&r.column<2&&(r.column=u[r.line],r.offset+=u[r.line]-1)}}function pI(e,t){const i=t.start._index,r=t.start._bufferIndex,u=t.end._index,o=t.end._bufferIndex;let c;if(i===u)c=[e[i].slice(r,o)];else{if(c=e.slice(i,u),r>-1){const h=c[0];typeof h=="string"?c[0]=h.slice(r):c.shift()}o>0&&c.push(e[u].slice(0,o))}return c}function gI(e,t){let i=-1;const r=[];let u;for(;++i<e.length;){const o=e[i];let c;if(typeof o=="string")c=o;else switch(o){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=t?" ":"	";break}case-1:{if(!t&&u)continue;c=" ";break}default:c=String.fromCharCode(o)}u=o===-2,r.push(c)}return r.join("")}function EI(e){const r={constructs:AR([hI,...(e||{}).extensions||[]]),content:u(LR),defined:[],document:u(wR),flow:u($O),lazy:{},string:u(tI),text:u(nI)};return r;function u(o){return c;function c(h){return mI(r,o,h)}}}function _I(e){for(;!W2(e););return e}const F_=/[\0\t\n\r]/g;function yI(){let e=1,t="",i=!0,r;return u;function u(o,c,h){const p=[];let g,E,T,b,S;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(c||void 0).decode(o)),T=0,t="",i&&(o.charCodeAt(0)===65279&&T++,i=void 0);T<o.length;){if(F_.lastIndex=T,g=F_.exec(o),b=g&&g.index!==void 0?g.index:o.length,S=o.charCodeAt(b),!g){t=o.slice(T);break}if(S===10&&T===b&&r)p.push(-3),r=void 0;else switch(r&&(p.push(-5),r=void 0),T<b&&(p.push(o.slice(T,b)),e+=b-T),S){case 0:{p.push(65533),e++;break}case 9:{for(E=Math.ceil(e/4)*4,p.push(-2);e++<E;)p.push(-1);break}case 10:{p.push(-4),e=1;break}default:r=!0,e=1}T=b+1}return h&&(r&&p.push(-5),t&&p.push(t),p.push(null)),p}}const TI=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function bI(e){return e.replace(TI,SI)}function SI(e,t,i){if(t)return t;if(i.charCodeAt(0)===35){const u=i.charCodeAt(1),o=u===120||u===88;return G2(i.slice(o?2:1),o?16:10)}return nm(i)||e}const nS={}.hasOwnProperty;function CI(e,t,i){return typeof t!="string"&&(i=t,t=void 0),AI(i)(_I(EI(i).document().write(yI()(e,t,!0))))}function AI(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Ei),autolinkProtocol:Oe,autolinkEmail:Oe,atxHeading:o(Gi),blockQuote:o(We),characterEscape:Oe,characterReference:Oe,codeFenced:o(Ue),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:o(Ue,c),codeText:o(Ct,c),codeTextData:Oe,data:Oe,codeFlowValue:Oe,definition:o(Vi),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:o(Zn),hardBreakEscape:o(gi),hardBreakTrailing:o(gi),htmlFlow:o(ur,c),htmlFlowData:Oe,htmlText:o(ur,c),htmlTextData:Oe,image:o(lr),label:c,link:o(Ei),listItem:o(ge),listItemValue:b,listOrdered:o(M,T),listUnordered:o(M),paragraph:o(Re),reference:v,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:o(Gi),strong:o(it),thematicBreak:o(mt)},exit:{atxHeading:p(),atxHeadingSequence:ve,autolink:p(),autolinkEmail:Ae,autolinkProtocol:Te,blockQuote:p(),characterEscapeValue:xe,characterReferenceMarkerHexadecimal:U,characterReferenceMarkerNumeric:U,characterReferenceValue:D,characterReference:ee,codeFenced:p(Z),codeFencedFence:Q,codeFencedFenceInfo:S,codeFencedFenceMeta:w,codeFlowValue:xe,codeIndented:p(q),codeText:p(ie),codeTextData:xe,data:xe,definition:p(),definitionDestinationString:ye,definitionLabelString:oe,definitionTitleString:F,emphasis:p(),hardBreakEscape:p(V),hardBreakTrailing:p(V),htmlFlow:p(Le),htmlFlowData:xe,htmlText:p(re),htmlTextData:xe,image:p(k),label:he,labelText:te,lineEnding:Ee,link:p(P),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:_e,resourceDestinationString:x,resourceTitleString:R,resource:W,setextHeading:p(Se),setextHeadingLineSequence:de,setextHeadingText:G,strong:p(),thematicBreak:p()}};iS(t,(e||{}).mdastExtensions||[]);const i={};return r;function r(J){let me={type:"root",children:[]};const De={stack:[me],tokenStack:[],config:t,enter:h,exit:g,buffer:c,resume:E,data:i},qe=[];let at=-1;for(;++at<J.length;)if(J[at][1].type==="listOrdered"||J[at][1].type==="listUnordered")if(J[at][0]==="enter")qe.push(at);else{const Nn=qe.pop();at=u(J,Nn,at)}for(at=-1;++at<J.length;){const Nn=t[J[at][0]];nS.call(Nn,J[at][1].type)&&Nn[J[at][1].type].call(Object.assign({sliceSerialize:J[at][2].sliceSerialize},De),J[at][1])}if(De.tokenStack.length>0){const Nn=De.tokenStack[De.tokenStack.length-1];(Nn[1]||z_).call(De,void 0,Nn[0])}for(me.position={start:_a(J.length>0?J[0][1].start:{line:1,column:1,offset:0}),end:_a(J.length>0?J[J.length-2][1].end:{line:1,column:1,offset:0})},at=-1;++at<t.transforms.length;)me=t.transforms[at](me)||me;return me}function u(J,me,De){let qe=me-1,at=-1,Nn=!1,_i,on,Ft,fn;for(;++qe<=De;){const ct=J[qe];switch(ct[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ct[0]==="enter"?at++:at--,fn=void 0;break}case"lineEndingBlank":{ct[0]==="enter"&&(_i&&!fn&&!at&&!Ft&&(Ft=qe),fn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:fn=void 0}if(!at&&ct[0]==="enter"&&ct[1].type==="listItemPrefix"||at===-1&&ct[0]==="exit"&&(ct[1].type==="listUnordered"||ct[1].type==="listOrdered")){if(_i){let Xi=qe;for(on=void 0;Xi--;){const $n=J[Xi];if($n[1].type==="lineEnding"||$n[1].type==="lineEndingBlank"){if($n[0]==="exit")continue;on&&(J[on][1].type="lineEndingBlank",Nn=!0),$n[1].type="lineEnding",on=Xi}else if(!($n[1].type==="linePrefix"||$n[1].type==="blockQuotePrefix"||$n[1].type==="blockQuotePrefixWhitespace"||$n[1].type==="blockQuoteMarker"||$n[1].type==="listItemIndent"))break}Ft&&(!on||Ft<on)&&(_i._spread=!0),_i.end=Object.assign({},on?J[on][1].start:ct[1].end),J.splice(on||qe,0,["exit",_i,ct[2]]),qe++,De++}if(ct[1].type==="listItemPrefix"){const Xi={type:"listItem",_spread:!1,start:Object.assign({},ct[1].start),end:void 0};_i=Xi,J.splice(qe,0,["enter",Xi,ct[2]]),qe++,De++,Ft=void 0,fn=!0}}}return J[me][1]._spread=Nn,De}function o(J,me){return De;function De(qe){h.call(this,J(qe),qe),me&&me.call(this,qe)}}function c(){this.stack.push({type:"fragment",children:[]})}function h(J,me,De){this.stack[this.stack.length-1].children.push(J),this.stack.push(J),this.tokenStack.push([me,De||void 0]),J.position={start:_a(me.start),end:void 0}}function p(J){return me;function me(De){J&&J.call(this,De),g.call(this,De)}}function g(J,me){const De=this.stack.pop(),qe=this.tokenStack.pop();if(qe)qe[0].type!==J.type&&(me?me.call(this,J,qe[0]):(qe[1]||z_).call(this,J,qe[0]));else throw new Error("Cannot close `"+J.type+"` ("+Bu({start:J.start,end:J.end})+"): its not open");De.position.end=_a(J.end)}function E(){return SR(this.stack.pop())}function T(){this.data.expectingFirstListItemValue=!0}function b(J){if(this.data.expectingFirstListItemValue){const me=this.stack[this.stack.length-2];me.start=Number.parseInt(this.sliceSerialize(J),10),this.data.expectingFirstListItemValue=void 0}}function S(){const J=this.resume(),me=this.stack[this.stack.length-1];me.lang=J}function w(){const J=this.resume(),me=this.stack[this.stack.length-1];me.meta=J}function Q(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function Z(){const J=this.resume(),me=this.stack[this.stack.length-1];me.value=J.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function q(){const J=this.resume(),me=this.stack[this.stack.length-1];me.value=J.replace(/(\r?\n|\r)$/g,"")}function oe(J){const me=this.resume(),De=this.stack[this.stack.length-1];De.label=me,De.identifier=is(this.sliceSerialize(J)).toLowerCase()}function F(){const J=this.resume(),me=this.stack[this.stack.length-1];me.title=J}function ye(){const J=this.resume(),me=this.stack[this.stack.length-1];me.url=J}function ve(J){const me=this.stack[this.stack.length-1];if(!me.depth){const De=this.sliceSerialize(J).length;me.depth=De}}function G(){this.data.setextHeadingSlurpLineEnding=!0}function de(J){const me=this.stack[this.stack.length-1];me.depth=this.sliceSerialize(J).codePointAt(0)===61?1:2}function Se(){this.data.setextHeadingSlurpLineEnding=void 0}function Oe(J){const De=this.stack[this.stack.length-1].children;let qe=De[De.length-1];(!qe||qe.type!=="text")&&(qe=ht(),qe.position={start:_a(J.start),end:void 0},De.push(qe)),this.stack.push(qe)}function xe(J){const me=this.stack.pop();me.value+=this.sliceSerialize(J),me.position.end=_a(J.end)}function Ee(J){const me=this.stack[this.stack.length-1];if(this.data.atHardBreak){const De=me.children[me.children.length-1];De.position.end=_a(J.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(me.type)&&(Oe.call(this,J),xe.call(this,J))}function V(){this.data.atHardBreak=!0}function Le(){const J=this.resume(),me=this.stack[this.stack.length-1];me.value=J}function re(){const J=this.resume(),me=this.stack[this.stack.length-1];me.value=J}function ie(){const J=this.resume(),me=this.stack[this.stack.length-1];me.value=J}function P(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const me=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=me,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function k(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const me=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=me,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function te(J){const me=this.sliceSerialize(J),De=this.stack[this.stack.length-2];De.label=bI(me),De.identifier=is(me).toLowerCase()}function he(){const J=this.stack[this.stack.length-1],me=this.resume(),De=this.stack[this.stack.length-1];if(this.data.inReference=!0,De.type==="link"){const qe=J.children;De.children=qe}else De.alt=me}function x(){const J=this.resume(),me=this.stack[this.stack.length-1];me.url=J}function R(){const J=this.resume(),me=this.stack[this.stack.length-1];me.title=J}function W(){this.data.inReference=void 0}function v(){this.data.referenceType="collapsed"}function _e(J){const me=this.resume(),De=this.stack[this.stack.length-1];De.label=me,De.identifier=is(this.sliceSerialize(J)).toLowerCase(),this.data.referenceType="full"}function U(J){this.data.characterReferenceType=J.type}function D(J){const me=this.sliceSerialize(J),De=this.data.characterReferenceType;let qe;De?(qe=G2(me,De==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):qe=nm(me);const at=this.stack[this.stack.length-1];at.value+=qe}function ee(J){const me=this.stack.pop();me.position.end=_a(J.end)}function Te(J){xe.call(this,J);const me=this.stack[this.stack.length-1];me.url=this.sliceSerialize(J)}function Ae(J){xe.call(this,J);const me=this.stack[this.stack.length-1];me.url="mailto:"+this.sliceSerialize(J)}function We(){return{type:"blockquote",children:[]}}function Ue(){return{type:"code",lang:null,meta:null,value:""}}function Ct(){return{type:"inlineCode",value:""}}function Vi(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Zn(){return{type:"emphasis",children:[]}}function Gi(){return{type:"heading",depth:0,children:[]}}function gi(){return{type:"break"}}function ur(){return{type:"html",value:""}}function lr(){return{type:"image",title:null,url:"",alt:null}}function Ei(){return{type:"link",title:null,url:"",children:[]}}function M(J){return{type:"list",ordered:J.type==="listOrdered",start:null,spread:J._spread,children:[]}}function ge(J){return{type:"listItem",spread:J._spread,checked:null,children:[]}}function Re(){return{type:"paragraph",children:[]}}function it(){return{type:"strong",children:[]}}function ht(){return{type:"text",value:""}}function mt(){return{type:"thematicBreak"}}}function _a(e){return{line:e.line,column:e.column,offset:e.offset}}function iS(e,t){let i=-1;for(;++i<t.length;){const r=t[i];Array.isArray(r)?iS(e,r):vI(e,r)}}function vI(e,t){let i;for(i in t)if(nS.call(t,i))switch(i){case"canContainEols":{const r=t[i];r&&e[i].push(...r);break}case"transforms":{const r=t[i];r&&e[i].push(...r);break}case"enter":case"exit":{const r=t[i];r&&Object.assign(e[i],r);break}}}function z_(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Bu({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Bu({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Bu({start:t.start,end:t.end})+") is still open")}function xI(e){const t=this;t.parser=i;function i(r){return CI(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function NI(e,t){const i={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,i),e.applyData(t,i)}function RI(e,t){const i={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,i),[e.applyData(t,i),{type:"text",value:`
`}]}function OI(e,t){const i=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let u={type:"element",tagName:"code",properties:r,children:[{type:"text",value:i}]};return t.meta&&(u.data={meta:t.meta}),e.patch(t,u),u=e.applyData(t,u),u={type:"element",tagName:"pre",properties:{},children:[u]},e.patch(t,u),u}function II(e,t){const i={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function DI(e,t){const i={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function LI(e,t){const i=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),u=Es(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let c,h=e.footnoteCounts.get(r);h===void 0?(h=0,e.footnoteOrder.push(r),c=e.footnoteOrder.length):c=o+1,h+=1,e.footnoteCounts.set(r,h);const p={type:"element",tagName:"a",properties:{href:"#"+i+"fn-"+u,id:i+"fnref-"+u+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};e.patch(t,p);const g={type:"element",tagName:"sup",properties:{},children:[p]};return e.patch(t,g),e.applyData(t,g)}function kI(e,t){const i={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function wI(e,t){if(e.options.allowDangerousHtml){const i={type:"raw",value:t.value};return e.patch(t,i),e.applyData(t,i)}}function aS(e,t){const i=t.referenceType;let r="]";if(i==="collapsed"?r+="[]":i==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const u=e.all(t),o=u[0];o&&o.type==="text"?o.value="["+o.value:u.unshift({type:"text",value:"["});const c=u[u.length-1];return c&&c.type==="text"?c.value+=r:u.push({type:"text",value:r}),u}function MI(e,t){const i=String(t.identifier).toUpperCase(),r=e.definitionById.get(i);if(!r)return aS(e,t);const u={src:Es(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(u.title=r.title);const o={type:"element",tagName:"img",properties:u,children:[]};return e.patch(t,o),e.applyData(t,o)}function BI(e,t){const i={src:Es(t.url)};t.alt!==null&&t.alt!==void 0&&(i.alt=t.alt),t.title!==null&&t.title!==void 0&&(i.title=t.title);const r={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,r),e.applyData(t,r)}function PI(e,t){const i={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,i);const r={type:"element",tagName:"code",properties:{},children:[i]};return e.patch(t,r),e.applyData(t,r)}function UI(e,t){const i=String(t.identifier).toUpperCase(),r=e.definitionById.get(i);if(!r)return aS(e,t);const u={href:Es(r.url||"")};r.title!==null&&r.title!==void 0&&(u.title=r.title);const o={type:"element",tagName:"a",properties:u,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function HI(e,t){const i={href:Es(t.url)};t.title!==null&&t.title!==void 0&&(i.title=t.title);const r={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function FI(e,t,i){const r=e.all(t),u=i?zI(i):rS(t),o={},c=[];if(typeof t.checked=="boolean"){const E=r[0];let T;E&&E.type==="element"&&E.tagName==="p"?T=E:(T={type:"element",tagName:"p",properties:{},children:[]},r.unshift(T)),T.children.length>0&&T.children.unshift({type:"text",value:" "}),T.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let h=-1;for(;++h<r.length;){const E=r[h];(u||h!==0||E.type!=="element"||E.tagName!=="p")&&c.push({type:"text",value:`
`}),E.type==="element"&&E.tagName==="p"&&!u?c.push(...E.children):c.push(E)}const p=r[r.length-1];p&&(u||p.type!=="element"||p.tagName!=="p")&&c.push({type:"text",value:`
`});const g={type:"element",tagName:"li",properties:o,children:c};return e.patch(t,g),e.applyData(t,g)}function zI(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const i=e.children;let r=-1;for(;!t&&++r<i.length;)t=rS(i[r])}return t}function rS(e){const t=e.spread;return t??e.children.length>1}function jI(e,t){const i={},r=e.all(t);let u=-1;for(typeof t.start=="number"&&t.start!==1&&(i.start=t.start);++u<r.length;){const c=r[u];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){i.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:i,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function YI(e,t){const i={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function qI(e,t){const i={type:"root",children:e.wrap(e.all(t))};return e.patch(t,i),e.applyData(t,i)}function VI(e,t){const i={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function GI(e,t){const i=e.all(t),r=i.shift(),u=[];if(r){const c={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],c),u.push(c)}if(i.length>0){const c={type:"element",tagName:"tbody",properties:{},children:e.wrap(i,!0)},h=pi(t.children[1]),p=vc(t.children[t.children.length-1]);h&&p&&(c.position={start:h,end:p}),u.push(c)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(u,!0)};return e.patch(t,o),e.applyData(t,o)}function XI(e,t,i){const r=i?i.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",c=i&&i.type==="table"?i.align:void 0,h=c?c.length:t.children.length;let p=-1;const g=[];for(;++p<h;){const T=t.children[p],b={},S=c?c[p]:void 0;S&&(b.align=S);let w={type:"element",tagName:o,properties:b,children:[]};T&&(w.children=e.all(T),e.patch(T,w),w=e.applyData(T,w)),g.push(w)}const E={type:"element",tagName:"tr",properties:{},children:e.wrap(g,!0)};return e.patch(t,E),e.applyData(t,E)}function QI(e,t){const i={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}const j_=9,Y_=32;function KI(e){const t=String(e),i=/\r?\n|\r/g;let r=i.exec(t),u=0;const o=[];for(;r;)o.push(q_(t.slice(u,r.index),u>0,!0),r[0]),u=r.index+r[0].length,r=i.exec(t);return o.push(q_(t.slice(u),u>0,!1)),o.join("")}function q_(e,t,i){let r=0,u=e.length;if(t){let o=e.codePointAt(r);for(;o===j_||o===Y_;)r++,o=e.codePointAt(r)}if(i){let o=e.codePointAt(u-1);for(;o===j_||o===Y_;)u--,o=e.codePointAt(u-1)}return u>r?e.slice(r,u):""}function WI(e,t){const i={type:"text",value:KI(String(t.value))};return e.patch(t,i),e.applyData(t,i)}function ZI(e,t){const i={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,i),e.applyData(t,i)}const $I={blockquote:NI,break:RI,code:OI,delete:II,emphasis:DI,footnoteReference:LI,heading:kI,html:wI,imageReference:MI,image:BI,inlineCode:PI,linkReference:UI,link:HI,listItem:FI,list:jI,paragraph:YI,root:qI,strong:VI,table:GI,tableCell:QI,tableRow:XI,text:WI,thematicBreak:ZI,toml:wo,yaml:wo,definition:wo,footnoteDefinition:wo};function wo(){}const sS=-1,Nc=0,Uu=1,lc=2,rm=3,sm=4,um=5,lm=6,uS=7,lS=8,V_=typeof self=="object"?self:globalThis,JI=(e,t)=>{const i=(u,o)=>(e.set(o,u),u),r=u=>{if(e.has(u))return e.get(u);const[o,c]=t[u];switch(o){case Nc:case sS:return i(c,u);case Uu:{const h=i([],u);for(const p of c)h.push(r(p));return h}case lc:{const h=i({},u);for(const[p,g]of c)h[r(p)]=r(g);return h}case rm:return i(new Date(c),u);case sm:{const{source:h,flags:p}=c;return i(new RegExp(h,p),u)}case um:{const h=i(new Map,u);for(const[p,g]of c)h.set(r(p),r(g));return h}case lm:{const h=i(new Set,u);for(const p of c)h.add(r(p));return h}case uS:{const{name:h,message:p}=c;return i(new V_[h](p),u)}case lS:return i(BigInt(c),u);case"BigInt":return i(Object(BigInt(c)),u);case"ArrayBuffer":return i(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:h}=new Uint8Array(c);return i(new DataView(h),c)}}return i(new V_[o](c),u)};return r},G_=e=>JI(new Map,e)(0),Kr="",{toString:eD}={},{keys:tD}=Object,Su=e=>{const t=typeof e;if(t!=="object"||!e)return[Nc,t];const i=eD.call(e).slice(8,-1);switch(i){case"Array":return[Uu,Kr];case"Object":return[lc,Kr];case"Date":return[rm,Kr];case"RegExp":return[sm,Kr];case"Map":return[um,Kr];case"Set":return[lm,Kr];case"DataView":return[Uu,i]}return i.includes("Array")?[Uu,i]:i.includes("Error")?[uS,i]:[lc,i]},Mo=([e,t])=>e===Nc&&(t==="function"||t==="symbol"),nD=(e,t,i,r)=>{const u=(c,h)=>{const p=r.push(c)-1;return i.set(h,p),p},o=c=>{if(i.has(c))return i.get(c);let[h,p]=Su(c);switch(h){case Nc:{let E=c;switch(p){case"bigint":h=lS,E=c.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+p);E=null;break;case"undefined":return u([sS],c)}return u([h,E],c)}case Uu:{if(p){let b=c;return p==="DataView"?b=new Uint8Array(c.buffer):p==="ArrayBuffer"&&(b=new Uint8Array(c)),u([p,[...b]],c)}const E=[],T=u([h,E],c);for(const b of c)E.push(o(b));return T}case lc:{if(p)switch(p){case"BigInt":return u([p,c.toString()],c);case"Boolean":case"Number":case"String":return u([p,c.valueOf()],c)}if(t&&"toJSON"in c)return o(c.toJSON());const E=[],T=u([h,E],c);for(const b of tD(c))(e||!Mo(Su(c[b])))&&E.push([o(b),o(c[b])]);return T}case rm:return u([h,c.toISOString()],c);case sm:{const{source:E,flags:T}=c;return u([h,{source:E,flags:T}],c)}case um:{const E=[],T=u([h,E],c);for(const[b,S]of c)(e||!(Mo(Su(b))||Mo(Su(S))))&&E.push([o(b),o(S)]);return T}case lm:{const E=[],T=u([h,E],c);for(const b of c)(e||!Mo(Su(b)))&&E.push(o(b));return T}}const{message:g}=c;return u([h,{name:p,message:g}],c)};return o},X_=(e,{json:t,lossy:i}={})=>{const r=[];return nD(!(t||i),!!t,new Map,r)(e),r},os=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?G_(X_(e,t)):structuredClone(e):(e,t)=>G_(X_(e,t));function iD(e,t){const i=[{type:"text",value:""}];return t>1&&i.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),i}function aD(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function rD(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=e.options.footnoteBackContent||iD,r=e.options.footnoteBackLabel||aD,u=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",c=e.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let p=-1;for(;++p<e.footnoteOrder.length;){const g=e.footnoteById.get(e.footnoteOrder[p]);if(!g)continue;const E=e.all(g),T=String(g.identifier).toUpperCase(),b=Es(T.toLowerCase());let S=0;const w=[],Q=e.footnoteCounts.get(T);for(;Q!==void 0&&++S<=Q;){w.length>0&&w.push({type:"text",value:" "});let oe=typeof i=="string"?i:i(p,S);typeof oe=="string"&&(oe={type:"text",value:oe}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+b+(S>1?"-"+S:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(p,S),className:["data-footnote-backref"]},children:Array.isArray(oe)?oe:[oe]})}const Z=E[E.length-1];if(Z&&Z.type==="element"&&Z.tagName==="p"){const oe=Z.children[Z.children.length-1];oe&&oe.type==="text"?oe.value+=" ":Z.children.push({type:"text",value:" "}),Z.children.push(...w)}else E.push(...w);const q={type:"element",tagName:"li",properties:{id:t+"fn-"+b},children:e.wrap(E,!0)};e.patch(g,q),h.push(q)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...os(c),id:"footnote-label"},children:[{type:"text",value:u}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(h,!0)},{type:"text",value:`
`}]}}const oS=(function(e){if(e==null)return oD;if(typeof e=="function")return Rc(e);if(typeof e=="object")return Array.isArray(e)?sD(e):uD(e);if(typeof e=="string")return lD(e);throw new Error("Expected function, string, or object as test")});function sD(e){const t=[];let i=-1;for(;++i<e.length;)t[i]=oS(e[i]);return Rc(r);function r(...u){let o=-1;for(;++o<t.length;)if(t[o].apply(this,u))return!0;return!1}}function uD(e){const t=e;return Rc(i);function i(r){const u=r;let o;for(o in e)if(u[o]!==t[o])return!1;return!0}}function lD(e){return Rc(t);function t(i){return i&&i.type===e}}function Rc(e){return t;function t(i,r,u){return!!(cD(i)&&e.call(this,i,typeof r=="number"?r:void 0,u||void 0))}}function oD(){return!0}function cD(e){return e!==null&&typeof e=="object"&&"type"in e}const cS=[],fD=!0,Q_=!1,dD="skip";function hD(e,t,i,r){let u;typeof t=="function"&&typeof i!="function"?(r=i,i=t):u=t;const o=oS(u),c=r?-1:1;h(e,void 0,[])();function h(p,g,E){const T=p&&typeof p=="object"?p:{};if(typeof T.type=="string"){const S=typeof T.tagName=="string"?T.tagName:typeof T.name=="string"?T.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(p.type+(S?"<"+S+">":""))+")"})}return b;function b(){let S=cS,w,Q,Z;if((!t||o(p,g,E[E.length-1]||void 0))&&(S=mD(i(p,E)),S[0]===Q_))return S;if("children"in p&&p.children){const q=p;if(q.children&&S[0]!==dD)for(Q=(r?q.children.length:-1)+c,Z=E.concat(q);Q>-1&&Q<q.children.length;){const oe=q.children[Q];if(w=h(oe,Q,Z)(),w[0]===Q_)return w;Q=typeof w[1]=="number"?w[1]:Q+c}}return S}}}function mD(e){return Array.isArray(e)?e:typeof e=="number"?[fD,e]:e==null?cS:[e]}function om(e,t,i,r){let u,o,c;typeof t=="function"&&typeof i!="function"?(o=void 0,c=t,u=i):(o=t,c=i,u=r),hD(e,o,h,u);function h(p,g){const E=g[g.length-1],T=E?E.children.indexOf(p):void 0;return c(p,T,E)}}const Zh={}.hasOwnProperty,pD={};function gD(e,t){const i=t||pD,r=new Map,u=new Map,o=new Map,c={...$I,...i.handlers},h={all:g,applyData:_D,definitionById:r,footnoteById:u,footnoteCounts:o,footnoteOrder:[],handlers:c,one:p,options:i,patch:ED,wrap:TD};return om(e,function(E){if(E.type==="definition"||E.type==="footnoteDefinition"){const T=E.type==="definition"?r:u,b=String(E.identifier).toUpperCase();T.has(b)||T.set(b,E)}}),h;function p(E,T){const b=E.type,S=h.handlers[b];if(Zh.call(h.handlers,b)&&S)return S(h,E,T);if(h.options.passThrough&&h.options.passThrough.includes(b)){if("children"in E){const{children:Q,...Z}=E,q=os(Z);return q.children=h.all(E),q}return os(E)}return(h.options.unknownHandler||yD)(h,E,T)}function g(E){const T=[];if("children"in E){const b=E.children;let S=-1;for(;++S<b.length;){const w=h.one(b[S],E);if(w){if(S&&b[S-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=K_(w.value)),!Array.isArray(w)&&w.type==="element")){const Q=w.children[0];Q&&Q.type==="text"&&(Q.value=K_(Q.value))}Array.isArray(w)?T.push(...w):T.push(w)}}}return T}}function ED(e,t){e.position&&(t.position=eR(e))}function _D(e,t){let i=t;if(e&&e.data){const r=e.data.hName,u=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(i.type==="element")i.tagName=r;else{const c="children"in i?i.children:[i];i={type:"element",tagName:r,properties:{},children:c}}i.type==="element"&&o&&Object.assign(i.properties,os(o)),"children"in i&&i.children&&u!==null&&u!==void 0&&(i.children=u)}return i}function yD(e,t){const i=t.data||{},r="value"in t&&!(Zh.call(i,"hProperties")||Zh.call(i,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function TD(e,t){const i=[];let r=-1;for(t&&i.push({type:"text",value:`
`});++r<e.length;)r&&i.push({type:"text",value:`
`}),i.push(e[r]);return t&&e.length>0&&i.push({type:"text",value:`
`}),i}function K_(e){let t=0,i=e.charCodeAt(t);for(;i===9||i===32;)t++,i=e.charCodeAt(t);return e.slice(t)}function W_(e,t){const i=gD(e,t),r=i.one(e,void 0),u=rD(i),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return u&&o.children.push({type:"text",value:`
`},u),o}function bD(e,t){return e&&"run"in e?async function(i,r){const u=W_(i,{file:r,...t});await e.run(u,r)}:function(i,r){return W_(i,{file:r,...e||t})}}function Z_(e){if(e)throw e}var mh,$_;function SD(){if($_)return mh;$_=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,i=Object.defineProperty,r=Object.getOwnPropertyDescriptor,u=function(g){return typeof Array.isArray=="function"?Array.isArray(g):t.call(g)==="[object Array]"},o=function(g){if(!g||t.call(g)!=="[object Object]")return!1;var E=e.call(g,"constructor"),T=g.constructor&&g.constructor.prototype&&e.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!E&&!T)return!1;var b;for(b in g);return typeof b>"u"||e.call(g,b)},c=function(g,E){i&&E.name==="__proto__"?i(g,E.name,{enumerable:!0,configurable:!0,value:E.newValue,writable:!0}):g[E.name]=E.newValue},h=function(g,E){if(E==="__proto__")if(e.call(g,E)){if(r)return r(g,E).value}else return;return g[E]};return mh=function p(){var g,E,T,b,S,w,Q=arguments[0],Z=1,q=arguments.length,oe=!1;for(typeof Q=="boolean"&&(oe=Q,Q=arguments[1]||{},Z=2),(Q==null||typeof Q!="object"&&typeof Q!="function")&&(Q={});Z<q;++Z)if(g=arguments[Z],g!=null)for(E in g)T=h(Q,E),b=h(g,E),Q!==b&&(oe&&b&&(o(b)||(S=u(b)))?(S?(S=!1,w=T&&u(T)?T:[]):w=T&&o(T)?T:{},c(Q,{name:E,newValue:p(oe,w,b)})):typeof b<"u"&&c(Q,{name:E,newValue:b}));return Q},mh}var CD=SD();const ph=hc(CD);function $h(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function AD(){const e=[],t={run:i,use:r};return t;function i(...u){let o=-1;const c=u.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);h(null,...u);function h(p,...g){const E=e[++o];let T=-1;if(p){c(p);return}for(;++T<u.length;)(g[T]===null||g[T]===void 0)&&(g[T]=u[T]);u=g,E?vD(E,h)(...g):c(null,...g)}}function r(u){if(typeof u!="function")throw new TypeError("Expected `middelware` to be a function, not "+u);return e.push(u),t}}function vD(e,t){let i;return r;function r(...c){const h=e.length>c.length;let p;h&&c.push(u);try{p=e.apply(this,c)}catch(g){const E=g;if(h&&i)throw E;return u(E)}h||(p&&p.then&&typeof p.then=="function"?p.then(o,u):p instanceof Error?u(p):o(p))}function u(c,...h){i||(i=!0,t(c,...h))}function o(c){u(null,c)}}const fi={basename:xD,dirname:ND,extname:RD,join:OD,sep:"/"};function xD(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');fl(e);let i=0,r=-1,u=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;u--;)if(e.codePointAt(u)===47){if(o){i=u+1;break}}else r<0&&(o=!0,r=u+1);return r<0?"":e.slice(i,r)}if(t===e)return"";let c=-1,h=t.length-1;for(;u--;)if(e.codePointAt(u)===47){if(o){i=u+1;break}}else c<0&&(o=!0,c=u+1),h>-1&&(e.codePointAt(u)===t.codePointAt(h--)?h<0&&(r=u):(h=-1,r=c));return i===r?r=c:r<0&&(r=e.length),e.slice(i,r)}function ND(e){if(fl(e),e.length===0)return".";let t=-1,i=e.length,r;for(;--i;)if(e.codePointAt(i)===47){if(r){t=i;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function RD(e){fl(e);let t=e.length,i=-1,r=0,u=-1,o=0,c;for(;t--;){const h=e.codePointAt(t);if(h===47){if(c){r=t+1;break}continue}i<0&&(c=!0,i=t+1),h===46?u<0?u=t:o!==1&&(o=1):u>-1&&(o=-1)}return u<0||i<0||o===0||o===1&&u===i-1&&u===r+1?"":e.slice(u,i)}function OD(...e){let t=-1,i;for(;++t<e.length;)fl(e[t]),e[t]&&(i=i===void 0?e[t]:i+"/"+e[t]);return i===void 0?".":ID(i)}function ID(e){fl(e);const t=e.codePointAt(0)===47;let i=DD(e,!t);return i.length===0&&!t&&(i="."),i.length>0&&e.codePointAt(e.length-1)===47&&(i+="/"),t?"/"+i:i}function DD(e,t){let i="",r=0,u=-1,o=0,c=-1,h,p;for(;++c<=e.length;){if(c<e.length)h=e.codePointAt(c);else{if(h===47)break;h=47}if(h===47){if(!(u===c-1||o===1))if(u!==c-1&&o===2){if(i.length<2||r!==2||i.codePointAt(i.length-1)!==46||i.codePointAt(i.length-2)!==46){if(i.length>2){if(p=i.lastIndexOf("/"),p!==i.length-1){p<0?(i="",r=0):(i=i.slice(0,p),r=i.length-1-i.lastIndexOf("/")),u=c,o=0;continue}}else if(i.length>0){i="",r=0,u=c,o=0;continue}}t&&(i=i.length>0?i+"/..":"..",r=2)}else i.length>0?i+="/"+e.slice(u+1,c):i=e.slice(u+1,c),r=c-u-1;u=c,o=0}else h===46&&o>-1?o++:o=-1}return i}function fl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const LD={cwd:kD};function kD(){return"/"}function Jh(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function wD(e){if(typeof e=="string")e=new URL(e);else if(!Jh(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return MD(e)}function MD(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let i=-1;for(;++i<t.length;)if(t.codePointAt(i)===37&&t.codePointAt(i+1)===50){const r=t.codePointAt(i+2);if(r===70||r===102){const u=new TypeError("File URL path must not include encoded / characters");throw u.code="ERR_INVALID_FILE_URL_PATH",u}}return decodeURIComponent(t)}const gh=["history","path","basename","stem","extname","dirname"];class fS{constructor(t){let i;t?Jh(t)?i={path:t}:typeof t=="string"||BD(t)?i={value:t}:i=t:i={},this.cwd="cwd"in i?"":LD.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<gh.length;){const o=gh[r];o in i&&i[o]!==void 0&&i[o]!==null&&(this[o]=o==="history"?[...i[o]]:i[o])}let u;for(u in i)gh.includes(u)||(this[u]=i[u])}get basename(){return typeof this.path=="string"?fi.basename(this.path):void 0}set basename(t){_h(t,"basename"),Eh(t,"basename"),this.path=fi.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?fi.dirname(this.path):void 0}set dirname(t){J_(this.basename,"dirname"),this.path=fi.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?fi.extname(this.path):void 0}set extname(t){if(Eh(t,"extname"),J_(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=fi.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Jh(t)&&(t=wD(t)),_h(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?fi.basename(this.path,this.extname):void 0}set stem(t){_h(t,"stem"),Eh(t,"stem"),this.path=fi.join(this.dirname||"",t+(this.extname||""))}fail(t,i,r){const u=this.message(t,i,r);throw u.fatal=!0,u}info(t,i,r){const u=this.message(t,i,r);return u.fatal=void 0,u}message(t,i,r){const u=new un(t,i,r);return this.path&&(u.name=this.path+":"+u.name,u.file=this.path),u.fatal=!1,this.messages.push(u),u}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Eh(e,t){if(e&&e.includes(fi.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+fi.sep+"`")}function _h(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function J_(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function BD(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const PD=(function(e){const r=this.constructor.prototype,u=r[e],o=function(){return u.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),UD={}.hasOwnProperty;class cm extends PD{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=AD()}copy(){const t=new cm;let i=-1;for(;++i<this.attachers.length;){const r=this.attachers[i];t.use(...r)}return t.data(ph(!0,{},this.namespace)),t}data(t,i){return typeof t=="string"?arguments.length===2?(bh("data",this.frozen),this.namespace[t]=i,this):UD.call(this.namespace,t)&&this.namespace[t]||void 0:t?(bh("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[i,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const u=i.call(t,...r);typeof u=="function"&&this.transformers.use(u)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const i=Bo(t),r=this.parser||this.Parser;return yh("parse",r),r(String(i),i)}process(t,i){const r=this;return this.freeze(),yh("process",this.parser||this.Parser),Th("process",this.compiler||this.Compiler),i?u(void 0,i):new Promise(u);function u(o,c){const h=Bo(t),p=r.parse(h);r.run(p,h,function(E,T,b){if(E||!T||!b)return g(E);const S=T,w=r.stringify(S,b);zD(w)?b.value=w:b.result=w,g(E,b)});function g(E,T){E||!T?c(E):o?o(T):i(void 0,T)}}}processSync(t){let i=!1,r;return this.freeze(),yh("processSync",this.parser||this.Parser),Th("processSync",this.compiler||this.Compiler),this.process(t,u),ty("processSync","process",i),r;function u(o,c){i=!0,Z_(o),r=c}}run(t,i,r){ey(t),this.freeze();const u=this.transformers;return!r&&typeof i=="function"&&(r=i,i=void 0),r?o(void 0,r):new Promise(o);function o(c,h){const p=Bo(i);u.run(t,p,g);function g(E,T,b){const S=T||t;E?h(E):c?c(S):r(void 0,S,b)}}}runSync(t,i){let r=!1,u;return this.run(t,i,o),ty("runSync","run",r),u;function o(c,h){Z_(c),u=h,r=!0}}stringify(t,i){this.freeze();const r=Bo(i),u=this.compiler||this.Compiler;return Th("stringify",u),ey(t),u(t,r)}use(t,...i){const r=this.attachers,u=this.namespace;if(bh("use",this.frozen),t!=null)if(typeof t=="function")p(t,i);else if(typeof t=="object")Array.isArray(t)?h(t):c(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(g){if(typeof g=="function")p(g,[]);else if(typeof g=="object")if(Array.isArray(g)){const[E,...T]=g;p(E,T)}else c(g);else throw new TypeError("Expected usable value, not `"+g+"`")}function c(g){if(!("plugins"in g)&&!("settings"in g))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(g.plugins),g.settings&&(u.settings=ph(!0,u.settings,g.settings))}function h(g){let E=-1;if(g!=null)if(Array.isArray(g))for(;++E<g.length;){const T=g[E];o(T)}else throw new TypeError("Expected a list of plugins, not `"+g+"`")}function p(g,E){let T=-1,b=-1;for(;++T<r.length;)if(r[T][0]===g){b=T;break}if(b===-1)r.push([g,...E]);else if(E.length>0){let[S,...w]=E;const Q=r[b][1];$h(Q)&&$h(S)&&(S=ph(!0,Q,S)),r[b]=[g,S,...w]}}}}const HD=new cm().freeze();function yh(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Th(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function bh(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ey(e){if(!$h(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function ty(e,t,i){if(!i)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Bo(e){return FD(e)?e:new fS(e)}function FD(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function zD(e){return typeof e=="string"||jD(e)}function jD(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const YD="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ny=[],iy={allowDangerousHtml:!0},qD=/^(https?|ircs?|mailto|xmpp)$/i,VD=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function ay(e){const t=GD(e),i=XD(e);return QD(t.runSync(t.parse(i),i),e)}function GD(e){const t=e.rehypePlugins||ny,i=e.remarkPlugins||ny,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...iy}:iy;return HD().use(xI).use(i).use(bD,r).use(t)}function XD(e){const t=e.children||"",i=new fS;return typeof t=="string"&&(i.value=t),i}function QD(e,t){const i=t.allowedElements,r=t.allowElement,u=t.components,o=t.disallowedElements,c=t.skipHtml,h=t.unwrapDisallowed,p=t.urlTransform||KD;for(const E of VD)Object.hasOwn(t,E.from)&&(""+E.from+(E.to?"use `"+E.to+"` instead":"remove it")+YD+E.id,void 0);return om(e,g),rR(e,{Fragment:_.Fragment,components:u,ignoreInvalidStyle:!0,jsx:_.jsx,jsxs:_.jsxs,passKeys:!0,passNode:!0});function g(E,T,b){if(E.type==="raw"&&b&&typeof T=="number")return c?b.children.splice(T,1):b.children[T]={type:"text",value:E.value},T;if(E.type==="element"){let S;for(S in fh)if(Object.hasOwn(fh,S)&&Object.hasOwn(E.properties,S)){const w=E.properties[S],Q=fh[S];(Q===null||Q.includes(E.tagName))&&(E.properties[S]=p(String(w||""),S,E))}}if(E.type==="element"){let S=i?!i.includes(E.tagName):o?o.includes(E.tagName):!1;if(!S&&r&&typeof T=="number"&&(S=!r(E,T,b)),S&&b&&typeof T=="number")return h&&E.children?b.children.splice(T,1,...E.children):b.children.splice(T,1),T}}}function KD(e){const t=e.indexOf(":"),i=e.indexOf("?"),r=e.indexOf("#"),u=e.indexOf("/");return t===-1||u!==-1&&t>u||i!==-1&&t>i||r!==-1&&t>r||qD.test(e.slice(0,t))?e:""}const ry=/[#.]/g;function WD(e,t){const i=e||"",r={};let u=0,o,c;for(;u<i.length;){ry.lastIndex=u;const h=ry.exec(i),p=i.slice(u,h?h.index:i.length);p&&(o?o==="#"?r.id=p:Array.isArray(r.className)?r.className.push(p):r.className=[p]:c=p,u+=p.length),h&&(o=h[0],u++)}return{type:"element",tagName:c||t||"div",properties:r,children:[]}}function dS(e,t,i){const r=i?e5(i):void 0;function u(o,c,...h){let p;if(o==null){p={type:"root",children:[]};const g=c;h.unshift(g)}else{p=WD(o,t);const g=p.tagName.toLowerCase(),E=r?r.get(g):void 0;if(p.tagName=E||g,ZD(c))h.unshift(c);else for(const[T,b]of Object.entries(c))$D(e,p.properties,T,b)}for(const g of h)e0(p.children,g);return p.type==="element"&&p.tagName==="template"&&(p.content={type:"root",children:p.children},p.children=[]),p}return u}function ZD(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,i=Object.keys(e);for(const r of i){const u=t[r];if(u&&typeof u=="object"){if(!Array.isArray(u))return!0;const o=u;for(const c of o)if(typeof c!="number"&&typeof c!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function $D(e,t,i,r){const u=$0(e,i);let o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?u.spaceSeparated?o=C_(r):u.commaSeparated?o=__(r):u.commaOrSpaceSeparated?o=C_(__(r).join(" ")):o=sy(u,u.property,r):Array.isArray(r)?o=[...r]:o=u.property==="style"?JD(r):String(r);if(Array.isArray(o)){const c=[];for(const h of o)c.push(sy(u,u.property,h));o=c}u.property==="className"&&Array.isArray(t.className)&&(o=t.className.concat(o)),t[u.property]=o}}function e0(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const i of t)e0(e,i);else if(typeof t=="object"&&"type"in t)t.type==="root"?e0(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function sy(e,t,i){if(typeof i=="string"){if(e.number&&i&&!Number.isNaN(Number(i)))return Number(i);if((e.boolean||e.overloadedBoolean)&&(i===""||el(i)===el(t)))return!0}return i}function JD(e){const t=[];for(const[i,r]of Object.entries(e))t.push([i,r].join(": "));return t.join("; ")}function e5(e){const t=new Map;for(const i of e)t.set(i.toLowerCase(),i);return t}const t5=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],n5=dS(Ac,"div"),i5=dS(gs,"g",t5);function a5(e){const t=String(e),i=[];return{toOffset:u,toPoint:r};function r(o){if(typeof o=="number"&&o>-1&&o<=t.length){let c=0;for(;;){let h=i[c];if(h===void 0){const p=uy(t,i[c-1]);h=p===-1?t.length+1:p+1,i[c]=h}if(h>o)return{line:c+1,column:o-(c>0?i[c-1]:0)+1,offset:o};c++}}}function u(o){if(o&&typeof o.line=="number"&&typeof o.column=="number"&&!Number.isNaN(o.line)&&!Number.isNaN(o.column)){for(;i.length<o.line;){const h=i[i.length-1],p=uy(t,h),g=p===-1?t.length+1:p+1;if(h===g)break;i.push(g)}const c=(o.line>1?i[o.line-2]:0)+o.column-1;if(c<i[o.line-1])return c}}}function uy(e,t){const i=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?i:i===-1||i+1===r?r:i<r?i:r}const Za={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},hS={}.hasOwnProperty,r5=Object.prototype;function s5(e,t){const i=t||{};return fm({file:i.file||void 0,location:!1,schema:i.space==="svg"?gs:Ac,verbose:i.verbose||!1},e)}function fm(e,t){let i;switch(t.nodeName){case"#comment":{const r=t;return i={type:"comment",value:r.data},Yo(e,r,i),i}case"#document":case"#document-fragment":{const r=t,u="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(i={type:"root",children:mS(e,t.childNodes),data:{quirksMode:u}},e.file&&e.location){const o=String(e.file),c=a5(o),h=c.toPoint(0),p=c.toPoint(o.length);i.position={start:h,end:p}}return i}case"#documentType":{const r=t;return i={type:"doctype"},Yo(e,r,i),i}case"#text":{const r=t;return i={type:"text",value:r.value},Yo(e,r,i),i}default:return i=u5(e,t),i}}function mS(e,t){let i=-1;const r=[];for(;++i<t.length;){const u=fm(e,t[i]);r.push(u)}return r}function u5(e,t){const i=e.schema;e.schema=t.namespaceURI===Za.svg?gs:Ac;let r=-1;const u={};for(;++r<t.attrs.length;){const h=t.attrs[r],p=(h.prefix?h.prefix+":":"")+h.name;hS.call(r5,p)||(u[p]=h.value)}const c=(e.schema.space==="svg"?i5:n5)(t.tagName,u,mS(e,t.childNodes));if(Yo(e,t,c),c.tagName==="template"){const h=t,p=h.sourceCodeLocation,g=p&&p.startTag&&Zr(p.startTag),E=p&&p.endTag&&Zr(p.endTag),T=fm(e,h.content);g&&E&&e.file&&(T.position={start:g.end,end:E.start}),c.content=T}return e.schema=i,c}function Yo(e,t,i){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=l5(e,i,t.sourceCodeLocation);r&&(e.location=!0,i.position=r)}}function l5(e,t,i){const r=Zr(i);if(t.type==="element"){const u=t.children[t.children.length-1];if(r&&!i.endTag&&u&&u.position&&u.position.end&&(r.end=Object.assign({},u.position.end)),e.verbose){const o={};let c;if(i.attrs)for(c in i.attrs)hS.call(i.attrs,c)&&(o[$0(e.schema,c).property]=Zr(i.attrs[c]));i.startTag;const h=Zr(i.startTag),p=i.endTag?Zr(i.endTag):void 0,g={opening:h};p&&(g.closing=p),g.properties=o,t.data={position:g}}}return r}function Zr(e){const t=ly({line:e.startLine,column:e.startCol,offset:e.startOffset}),i=ly({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||i?{start:t,end:i}:void 0}function ly(e){return e.line&&e.column?e:void 0}class dl{constructor(t,i,r){this.property=t,this.normal=i,r&&(this.space=r)}}dl.prototype.property={};dl.prototype.normal={};dl.prototype.space=null;function pS(e,t){const i={},r={};let u=-1;for(;++u<e.length;)Object.assign(i,e[u].property),Object.assign(r,e[u].normal);return new dl(i,r,t)}function t0(e){return e.toLowerCase()}class Wn{constructor(t,i){this.property=t,this.attribute=i}}Wn.prototype.space=null;Wn.prototype.boolean=!1;Wn.prototype.booleanish=!1;Wn.prototype.overloadedBoolean=!1;Wn.prototype.number=!1;Wn.prototype.commaSeparated=!1;Wn.prototype.spaceSeparated=!1;Wn.prototype.commaOrSpaceSeparated=!1;Wn.prototype.mustUseProperty=!1;Wn.prototype.defined=!1;let o5=0;const Pe=rr(),Ut=rr(),gS=rr(),fe=rr(),gt=rr(),as=rr(),Bn=rr();function rr(){return 2**++o5}const n0=Object.freeze(Object.defineProperty({__proto__:null,boolean:Pe,booleanish:Ut,commaOrSpaceSeparated:Bn,commaSeparated:as,number:fe,overloadedBoolean:gS,spaceSeparated:gt},Symbol.toStringTag,{value:"Module"})),Sh=Object.keys(n0);class dm extends Wn{constructor(t,i,r,u){let o=-1;if(super(t,i),oy(this,"space",u),typeof r=="number")for(;++o<Sh.length;){const c=Sh[o];oy(this,Sh[o],(r&n0[c])===n0[c])}}}dm.prototype.defined=!0;function oy(e,t,i){i&&(e[t]=i)}const c5={}.hasOwnProperty;function _s(e){const t={},i={};let r;for(r in e.properties)if(c5.call(e.properties,r)){const u=e.properties[r],o=new dm(r,e.transform(e.attributes||{},r),u,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,i[t0(r)]=r,i[t0(o.attribute)]=r}return new dl(t,i,e.space)}const ES=_s({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),_S=_s({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function yS(e,t){return t in e?e[t]:t}function TS(e,t){return yS(e,t.toLowerCase())}const bS=_s({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:TS,properties:{xmlns:null,xmlnsXLink:null}}),SS=_s({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Ut,ariaAutoComplete:null,ariaBusy:Ut,ariaChecked:Ut,ariaColCount:fe,ariaColIndex:fe,ariaColSpan:fe,ariaControls:gt,ariaCurrent:null,ariaDescribedBy:gt,ariaDetails:null,ariaDisabled:Ut,ariaDropEffect:gt,ariaErrorMessage:null,ariaExpanded:Ut,ariaFlowTo:gt,ariaGrabbed:Ut,ariaHasPopup:null,ariaHidden:Ut,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:gt,ariaLevel:fe,ariaLive:null,ariaModal:Ut,ariaMultiLine:Ut,ariaMultiSelectable:Ut,ariaOrientation:null,ariaOwns:gt,ariaPlaceholder:null,ariaPosInSet:fe,ariaPressed:Ut,ariaReadOnly:Ut,ariaRelevant:null,ariaRequired:Ut,ariaRoleDescription:gt,ariaRowCount:fe,ariaRowIndex:fe,ariaRowSpan:fe,ariaSelected:Ut,ariaSetSize:fe,ariaSort:null,ariaValueMax:fe,ariaValueMin:fe,ariaValueNow:fe,ariaValueText:null,role:null}}),f5=_s({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:TS,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:as,acceptCharset:gt,accessKey:gt,action:null,allow:null,allowFullScreen:Pe,allowPaymentRequest:Pe,allowUserMedia:Pe,alt:null,as:null,async:Pe,autoCapitalize:null,autoComplete:gt,autoFocus:Pe,autoPlay:Pe,blocking:gt,capture:null,charSet:null,checked:Pe,cite:null,className:gt,cols:fe,colSpan:null,content:null,contentEditable:Ut,controls:Pe,controlsList:gt,coords:fe|as,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Pe,defer:Pe,dir:null,dirName:null,disabled:Pe,download:gS,draggable:Ut,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Pe,formTarget:null,headers:gt,height:fe,hidden:Pe,high:fe,href:null,hrefLang:null,htmlFor:gt,httpEquiv:gt,id:null,imageSizes:null,imageSrcSet:null,inert:Pe,inputMode:null,integrity:null,is:null,isMap:Pe,itemId:null,itemProp:gt,itemRef:gt,itemScope:Pe,itemType:gt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Pe,low:fe,manifest:null,max:null,maxLength:fe,media:null,method:null,min:null,minLength:fe,multiple:Pe,muted:Pe,name:null,nonce:null,noModule:Pe,noValidate:Pe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Pe,optimum:fe,pattern:null,ping:gt,placeholder:null,playsInline:Pe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Pe,referrerPolicy:null,rel:gt,required:Pe,reversed:Pe,rows:fe,rowSpan:fe,sandbox:gt,scope:null,scoped:Pe,seamless:Pe,selected:Pe,shadowRootClonable:Pe,shadowRootDelegatesFocus:Pe,shadowRootMode:null,shape:null,size:fe,sizes:null,slot:null,span:fe,spellCheck:Ut,src:null,srcDoc:null,srcLang:null,srcSet:null,start:fe,step:null,style:null,tabIndex:fe,target:null,title:null,translate:null,type:null,typeMustMatch:Pe,useMap:null,value:Ut,width:fe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:gt,axis:null,background:null,bgColor:null,border:fe,borderColor:null,bottomMargin:fe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Pe,declare:Pe,event:null,face:null,frame:null,frameBorder:null,hSpace:fe,leftMargin:fe,link:null,longDesc:null,lowSrc:null,marginHeight:fe,marginWidth:fe,noResize:Pe,noHref:Pe,noShade:Pe,noWrap:Pe,object:null,profile:null,prompt:null,rev:null,rightMargin:fe,rules:null,scheme:null,scrolling:Ut,standby:null,summary:null,text:null,topMargin:fe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:fe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Pe,disableRemotePlayback:Pe,prefix:null,property:null,results:fe,security:null,unselectable:null}}),d5=_s({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:yS,properties:{about:Bn,accentHeight:fe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:fe,amplitude:fe,arabicForm:null,ascent:fe,attributeName:null,attributeType:null,azimuth:fe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:fe,by:null,calcMode:null,capHeight:fe,className:gt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:fe,diffuseConstant:fe,direction:null,display:null,dur:null,divisor:fe,dominantBaseline:null,download:Pe,dx:null,dy:null,edgeMode:null,editable:null,elevation:fe,enableBackground:null,end:null,event:null,exponent:fe,externalResourcesRequired:null,fill:null,fillOpacity:fe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:as,g2:as,glyphName:as,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:fe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:fe,horizOriginX:fe,horizOriginY:fe,id:null,ideographic:fe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:fe,k:fe,k1:fe,k2:fe,k3:fe,k4:fe,kernelMatrix:Bn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:fe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:fe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:fe,overlineThickness:fe,paintOrder:null,panose1:null,path:null,pathLength:fe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:gt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:fe,pointsAtY:fe,pointsAtZ:fe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Bn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Bn,rev:Bn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Bn,requiredFeatures:Bn,requiredFonts:Bn,requiredFormats:Bn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:fe,specularExponent:fe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:fe,strikethroughThickness:fe,string:null,stroke:null,strokeDashArray:Bn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:fe,strokeOpacity:fe,strokeWidth:null,style:null,surfaceScale:fe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Bn,tabIndex:fe,tableValues:null,target:null,targetX:fe,targetY:fe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Bn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:fe,underlineThickness:fe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:fe,values:null,vAlphabetic:fe,vMathematical:fe,vectorEffect:null,vHanging:fe,vIdeographic:fe,version:null,vertAdvY:fe,vertOriginX:fe,vertOriginY:fe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:fe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),h5=/^data[-\w.:]+$/i,cy=/-[a-z]/g,m5=/[A-Z]/g;function p5(e,t){const i=t0(t);let r=t,u=Wn;if(i in e.normal)return e.property[e.normal[i]];if(i.length>4&&i.slice(0,4)==="data"&&h5.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(cy,E5);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!cy.test(o)){let c=o.replace(m5,g5);c.charAt(0)!=="-"&&(c="-"+c),t="data"+c}}u=dm}return new u(r,t)}function g5(e){return"-"+e.toLowerCase()}function E5(e){return e.charAt(1).toUpperCase()}const _5=pS([_S,ES,bS,SS,f5],"html"),CS=pS([_S,ES,bS,SS,d5],"svg"),fy={}.hasOwnProperty;function AS(e,t){const i=t||{};function r(u,...o){let c=r.invalid;const h=r.handlers;if(u&&fy.call(u,e)){const p=String(u[e]);c=fy.call(h,p)?h[p]:r.unknown}if(c)return c.call(this,u,...o)}return r.handlers=i.handlers||{},r.invalid=i.invalid,r.unknown=i.unknown,r}const y5={},T5={}.hasOwnProperty,vS=AS("type",{handlers:{root:S5,element:N5,text:v5,comment:x5,doctype:A5}});function b5(e,t){const r=(t||y5).space;return vS(e,r==="svg"?CS:_5)}function S5(e,t){const i={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return i.childNodes=hm(e.children,i,t),ys(e,i),i}function C5(e,t){const i={nodeName:"#document-fragment",childNodes:[]};return i.childNodes=hm(e.children,i,t),ys(e,i),i}function A5(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return ys(e,t),t}function v5(e){const t={nodeName:"#text",value:e.value,parentNode:null};return ys(e,t),t}function x5(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return ys(e,t),t}function N5(e,t){const i=t;let r=i;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=CS);const u=[];let o;if(e.properties){for(o in e.properties)if(o!=="children"&&T5.call(e.properties,o)){const p=R5(r,o,e.properties[o]);p&&u.push(p)}}const c=r.space,h={nodeName:e.tagName,tagName:e.tagName,attrs:u,namespaceURI:Za[c],childNodes:[],parentNode:null};return h.childNodes=hm(e.children,h,r),ys(e,h),e.tagName==="template"&&e.content&&(h.content=C5(e.content,r)),h}function R5(e,t,i){const r=p5(e,t);if(i===!1||i===null||i===void 0||typeof i=="number"&&Number.isNaN(i)||!i&&r.boolean)return;Array.isArray(i)&&(i=r.commaSeparated?D2(i):H2(i));const u={name:r.attribute,value:i===!0?"":String(i)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const o=u.name.indexOf(":");o<0?u.prefix="":(u.name=u.name.slice(o+1),u.prefix=r.attribute.slice(0,o)),u.namespace=Za[r.space]}return u}function hm(e,t,i){let r=-1;const u=[];if(e)for(;++r<e.length;){const o=vS(e[r],i);o.parentNode=t,u.push(o)}return u}function ys(e,t){const i=e.position;i&&i.start&&i.end&&(i.start.offset,i.end.offset,t.sourceCodeLocation={startLine:i.start.line,startCol:i.start.column,startOffset:i.start.offset,endLine:i.end.line,endCol:i.end.column,endOffset:i.end.offset})}const O5=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],I5=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),vt="";var A;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(A||(A={}));const yn={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function xS(e){return e>=55296&&e<=57343}function D5(e){return e>=56320&&e<=57343}function L5(e,t){return(e-55296)*1024+9216+t}function NS(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function RS(e){return e>=64976&&e<=65007||I5.has(e)}var K;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(K||(K={}));const k5=65536;class w5{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=k5,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,i){const{line:r,col:u,offset:o}=this,c=u+i,h=o+i;return{code:t,startLine:r,endLine:r,startCol:c,endCol:c,startOffset:h,endOffset:h}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const i=this.html.charCodeAt(this.pos+1);if(D5(i))return this.pos++,this._addGap(),L5(t,i)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,A.EOF;return this._err(K.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,i){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=i}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,i){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(i)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const i=this.pos+t;if(i>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,A.EOF;const r=this.html.charCodeAt(i);return r===A.CARRIAGE_RETURN?A.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,A.EOF;let t=this.html.charCodeAt(this.pos);return t===A.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,A.LINE_FEED):t===A.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,xS(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===A.LINE_FEED||t===A.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){NS(t)?this._err(K.controlCharacterInInputStream):RS(t)&&this._err(K.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var ze;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(ze||(ze={}));function OS(e,t){for(let i=e.attrs.length-1;i>=0;i--)if(e.attrs[i].name===t)return e.attrs[i].value;return null}const M5=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),B5=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function P5(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=B5.get(e))!==null&&t!==void 0?t:e}var Kt;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Kt||(Kt={}));const U5=32;var ba;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(ba||(ba={}));function i0(e){return e>=Kt.ZERO&&e<=Kt.NINE}function H5(e){return e>=Kt.UPPER_A&&e<=Kt.UPPER_F||e>=Kt.LOWER_A&&e<=Kt.LOWER_F}function F5(e){return e>=Kt.UPPER_A&&e<=Kt.UPPER_Z||e>=Kt.LOWER_A&&e<=Kt.LOWER_Z||i0(e)}function z5(e){return e===Kt.EQUALS||F5(e)}var Vt;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Vt||(Vt={}));var Ui;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Ui||(Ui={}));class j5{constructor(t,i,r){this.decodeTree=t,this.emitCodePoint=i,this.errors=r,this.state=Vt.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Ui.Strict}startEntity(t){this.decodeMode=t,this.state=Vt.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,i){switch(this.state){case Vt.EntityStart:return t.charCodeAt(i)===Kt.NUM?(this.state=Vt.NumericStart,this.consumed+=1,this.stateNumericStart(t,i+1)):(this.state=Vt.NamedEntity,this.stateNamedEntity(t,i));case Vt.NumericStart:return this.stateNumericStart(t,i);case Vt.NumericDecimal:return this.stateNumericDecimal(t,i);case Vt.NumericHex:return this.stateNumericHex(t,i);case Vt.NamedEntity:return this.stateNamedEntity(t,i)}}stateNumericStart(t,i){return i>=t.length?-1:(t.charCodeAt(i)|U5)===Kt.LOWER_X?(this.state=Vt.NumericHex,this.consumed+=1,this.stateNumericHex(t,i+1)):(this.state=Vt.NumericDecimal,this.stateNumericDecimal(t,i))}addToNumericResult(t,i,r,u){if(i!==r){const o=r-i;this.result=this.result*Math.pow(u,o)+Number.parseInt(t.substr(i,o),u),this.consumed+=o}}stateNumericHex(t,i){const r=i;for(;i<t.length;){const u=t.charCodeAt(i);if(i0(u)||H5(u))i+=1;else return this.addToNumericResult(t,r,i,16),this.emitNumericEntity(u,3)}return this.addToNumericResult(t,r,i,16),-1}stateNumericDecimal(t,i){const r=i;for(;i<t.length;){const u=t.charCodeAt(i);if(i0(u))i+=1;else return this.addToNumericResult(t,r,i,10),this.emitNumericEntity(u,2)}return this.addToNumericResult(t,r,i,10),-1}emitNumericEntity(t,i){var r;if(this.consumed<=i)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Kt.SEMI)this.consumed+=1;else if(this.decodeMode===Ui.Strict)return 0;return this.emitCodePoint(P5(this.result),this.consumed),this.errors&&(t!==Kt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,i){const{decodeTree:r}=this;let u=r[this.treeIndex],o=(u&ba.VALUE_LENGTH)>>14;for(;i<t.length;i++,this.excess++){const c=t.charCodeAt(i);if(this.treeIndex=Y5(r,u,this.treeIndex+Math.max(1,o),c),this.treeIndex<0)return this.result===0||this.decodeMode===Ui.Attribute&&(o===0||z5(c))?0:this.emitNotTerminatedNamedEntity();if(u=r[this.treeIndex],o=(u&ba.VALUE_LENGTH)>>14,o!==0){if(c===Kt.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==Ui.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:i,decodeTree:r}=this,u=(r[i]&ba.VALUE_LENGTH)>>14;return this.emitNamedEntityData(i,u,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,i,r){const{decodeTree:u}=this;return this.emitCodePoint(i===1?u[t]&~ba.VALUE_LENGTH:u[t+1],r),i===3&&this.emitCodePoint(u[t+2],r),r}end(){var t;switch(this.state){case Vt.NamedEntity:return this.result!==0&&(this.decodeMode!==Ui.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Vt.NumericDecimal:return this.emitNumericEntity(0,2);case Vt.NumericHex:return this.emitNumericEntity(0,3);case Vt.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Vt.EntityStart:return 0}}}function Y5(e,t,i,r){const u=(t&ba.BRANCH_LENGTH)>>7,o=t&ba.JUMP_TABLE;if(u===0)return o!==0&&r===o?i:-1;if(o){const p=r-o;return p<0||p>=u?-1:e[i+p]-1}let c=i,h=c+u-1;for(;c<=h;){const p=c+h>>>1,g=e[p];if(g<r)c=p+1;else if(g>r)h=p-1;else return e[p+u]}return-1}var se;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(se||(se={}));var $a;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})($a||($a={}));var Kn;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Kn||(Kn={}));var H;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(H||(H={}));var m;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(m||(m={}));const q5=new Map([[H.A,m.A],[H.ADDRESS,m.ADDRESS],[H.ANNOTATION_XML,m.ANNOTATION_XML],[H.APPLET,m.APPLET],[H.AREA,m.AREA],[H.ARTICLE,m.ARTICLE],[H.ASIDE,m.ASIDE],[H.B,m.B],[H.BASE,m.BASE],[H.BASEFONT,m.BASEFONT],[H.BGSOUND,m.BGSOUND],[H.BIG,m.BIG],[H.BLOCKQUOTE,m.BLOCKQUOTE],[H.BODY,m.BODY],[H.BR,m.BR],[H.BUTTON,m.BUTTON],[H.CAPTION,m.CAPTION],[H.CENTER,m.CENTER],[H.CODE,m.CODE],[H.COL,m.COL],[H.COLGROUP,m.COLGROUP],[H.DD,m.DD],[H.DESC,m.DESC],[H.DETAILS,m.DETAILS],[H.DIALOG,m.DIALOG],[H.DIR,m.DIR],[H.DIV,m.DIV],[H.DL,m.DL],[H.DT,m.DT],[H.EM,m.EM],[H.EMBED,m.EMBED],[H.FIELDSET,m.FIELDSET],[H.FIGCAPTION,m.FIGCAPTION],[H.FIGURE,m.FIGURE],[H.FONT,m.FONT],[H.FOOTER,m.FOOTER],[H.FOREIGN_OBJECT,m.FOREIGN_OBJECT],[H.FORM,m.FORM],[H.FRAME,m.FRAME],[H.FRAMESET,m.FRAMESET],[H.H1,m.H1],[H.H2,m.H2],[H.H3,m.H3],[H.H4,m.H4],[H.H5,m.H5],[H.H6,m.H6],[H.HEAD,m.HEAD],[H.HEADER,m.HEADER],[H.HGROUP,m.HGROUP],[H.HR,m.HR],[H.HTML,m.HTML],[H.I,m.I],[H.IMG,m.IMG],[H.IMAGE,m.IMAGE],[H.INPUT,m.INPUT],[H.IFRAME,m.IFRAME],[H.KEYGEN,m.KEYGEN],[H.LABEL,m.LABEL],[H.LI,m.LI],[H.LINK,m.LINK],[H.LISTING,m.LISTING],[H.MAIN,m.MAIN],[H.MALIGNMARK,m.MALIGNMARK],[H.MARQUEE,m.MARQUEE],[H.MATH,m.MATH],[H.MENU,m.MENU],[H.META,m.META],[H.MGLYPH,m.MGLYPH],[H.MI,m.MI],[H.MO,m.MO],[H.MN,m.MN],[H.MS,m.MS],[H.MTEXT,m.MTEXT],[H.NAV,m.NAV],[H.NOBR,m.NOBR],[H.NOFRAMES,m.NOFRAMES],[H.NOEMBED,m.NOEMBED],[H.NOSCRIPT,m.NOSCRIPT],[H.OBJECT,m.OBJECT],[H.OL,m.OL],[H.OPTGROUP,m.OPTGROUP],[H.OPTION,m.OPTION],[H.P,m.P],[H.PARAM,m.PARAM],[H.PLAINTEXT,m.PLAINTEXT],[H.PRE,m.PRE],[H.RB,m.RB],[H.RP,m.RP],[H.RT,m.RT],[H.RTC,m.RTC],[H.RUBY,m.RUBY],[H.S,m.S],[H.SCRIPT,m.SCRIPT],[H.SEARCH,m.SEARCH],[H.SECTION,m.SECTION],[H.SELECT,m.SELECT],[H.SOURCE,m.SOURCE],[H.SMALL,m.SMALL],[H.SPAN,m.SPAN],[H.STRIKE,m.STRIKE],[H.STRONG,m.STRONG],[H.STYLE,m.STYLE],[H.SUB,m.SUB],[H.SUMMARY,m.SUMMARY],[H.SUP,m.SUP],[H.TABLE,m.TABLE],[H.TBODY,m.TBODY],[H.TEMPLATE,m.TEMPLATE],[H.TEXTAREA,m.TEXTAREA],[H.TFOOT,m.TFOOT],[H.TD,m.TD],[H.TH,m.TH],[H.THEAD,m.THEAD],[H.TITLE,m.TITLE],[H.TR,m.TR],[H.TRACK,m.TRACK],[H.TT,m.TT],[H.U,m.U],[H.UL,m.UL],[H.SVG,m.SVG],[H.VAR,m.VAR],[H.WBR,m.WBR],[H.XMP,m.XMP]]);function Ts(e){var t;return(t=q5.get(e))!==null&&t!==void 0?t:m.UNKNOWN}const le=m,V5={[se.HTML]:new Set([le.ADDRESS,le.APPLET,le.AREA,le.ARTICLE,le.ASIDE,le.BASE,le.BASEFONT,le.BGSOUND,le.BLOCKQUOTE,le.BODY,le.BR,le.BUTTON,le.CAPTION,le.CENTER,le.COL,le.COLGROUP,le.DD,le.DETAILS,le.DIR,le.DIV,le.DL,le.DT,le.EMBED,le.FIELDSET,le.FIGCAPTION,le.FIGURE,le.FOOTER,le.FORM,le.FRAME,le.FRAMESET,le.H1,le.H2,le.H3,le.H4,le.H5,le.H6,le.HEAD,le.HEADER,le.HGROUP,le.HR,le.HTML,le.IFRAME,le.IMG,le.INPUT,le.LI,le.LINK,le.LISTING,le.MAIN,le.MARQUEE,le.MENU,le.META,le.NAV,le.NOEMBED,le.NOFRAMES,le.NOSCRIPT,le.OBJECT,le.OL,le.P,le.PARAM,le.PLAINTEXT,le.PRE,le.SCRIPT,le.SECTION,le.SELECT,le.SOURCE,le.STYLE,le.SUMMARY,le.TABLE,le.TBODY,le.TD,le.TEMPLATE,le.TEXTAREA,le.TFOOT,le.TH,le.THEAD,le.TITLE,le.TR,le.TRACK,le.UL,le.WBR,le.XMP]),[se.MATHML]:new Set([le.MI,le.MO,le.MN,le.MS,le.MTEXT,le.ANNOTATION_XML]),[se.SVG]:new Set([le.TITLE,le.FOREIGN_OBJECT,le.DESC]),[se.XLINK]:new Set,[se.XML]:new Set,[se.XMLNS]:new Set},a0=new Set([le.H1,le.H2,le.H3,le.H4,le.H5,le.H6]);H.STYLE,H.SCRIPT,H.XMP,H.IFRAME,H.NOEMBED,H.NOFRAMES,H.PLAINTEXT;var N;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(N||(N={}));const Lt={DATA:N.DATA,RCDATA:N.RCDATA,RAWTEXT:N.RAWTEXT,SCRIPT_DATA:N.SCRIPT_DATA,PLAINTEXT:N.PLAINTEXT,CDATA_SECTION:N.CDATA_SECTION};function G5(e){return e>=A.DIGIT_0&&e<=A.DIGIT_9}function Nu(e){return e>=A.LATIN_CAPITAL_A&&e<=A.LATIN_CAPITAL_Z}function X5(e){return e>=A.LATIN_SMALL_A&&e<=A.LATIN_SMALL_Z}function ya(e){return X5(e)||Nu(e)}function dy(e){return ya(e)||G5(e)}function Po(e){return e+32}function IS(e){return e===A.SPACE||e===A.LINE_FEED||e===A.TABULATION||e===A.FORM_FEED}function hy(e){return IS(e)||e===A.SOLIDUS||e===A.GREATER_THAN_SIGN}function Q5(e){return e===A.NULL?K.nullCharacterReference:e>1114111?K.characterReferenceOutsideUnicodeRange:xS(e)?K.surrogateCharacterReference:RS(e)?K.noncharacterCharacterReference:NS(e)||e===A.CARRIAGE_RETURN?K.controlCharacterReference:null}class K5{constructor(t,i){this.options=t,this.handler=i,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=N.DATA,this.returnState=N.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new w5(i),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new j5(M5,(r,u)=>{this.preprocessor.pos=this.entityStartPos+u-1,this._flushCodePointConsumedAsCharacterReference(r)},i.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(K.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(K.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const u=Q5(r);u&&this._err(u,1)}}:void 0)}_err(t,i=0){var r,u;(u=(r=this.handler).onParseError)===null||u===void 0||u.call(r,this.preprocessor.getError(t,i))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,i,r){this.active=!0,this.preprocessor.write(t,i),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let i=0;i<t;i++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,i){return this.preprocessor.startsWith(t,i)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:ze.START_TAG,tagName:"",tagID:m.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:ze.END_TAG,tagName:"",tagID:m.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:ze.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:ze.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,i){this.currentCharacterToken={type:t,chars:i,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,i;const r=this.currentToken;if(OS(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const u=(t=(i=r.location).attrs)!==null&&t!==void 0?t:i.attrs=Object.create(null);u[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(K.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Ts(t.tagName),t.type===ze.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(K.endTagWithAttributes),t.selfClosing&&this._err(K.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case ze.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case ze.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case ze.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:ze.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,i){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=i;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,i)}_emitCodePoint(t){const i=IS(t)?ze.WHITESPACE_CHARACTER:t===A.NULL?ze.NULL_CHARACTER:ze.CHARACTER;this._appendCharToCurrentCharacterToken(i,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(ze.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=N.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Ui.Attribute:Ui.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===N.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===N.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===N.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case N.DATA:{this._stateData(t);break}case N.RCDATA:{this._stateRcdata(t);break}case N.RAWTEXT:{this._stateRawtext(t);break}case N.SCRIPT_DATA:{this._stateScriptData(t);break}case N.PLAINTEXT:{this._statePlaintext(t);break}case N.TAG_OPEN:{this._stateTagOpen(t);break}case N.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case N.TAG_NAME:{this._stateTagName(t);break}case N.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case N.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case N.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case N.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case N.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case N.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case N.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case N.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case N.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case N.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case N.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case N.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case N.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case N.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case N.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case N.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case N.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case N.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case N.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case N.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case N.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case N.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case N.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case N.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case N.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case N.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case N.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case N.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case N.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case N.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case N.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case N.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case N.BOGUS_COMMENT:{this._stateBogusComment(t);break}case N.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case N.COMMENT_START:{this._stateCommentStart(t);break}case N.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case N.COMMENT:{this._stateComment(t);break}case N.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case N.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case N.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case N.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case N.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case N.COMMENT_END:{this._stateCommentEnd(t);break}case N.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case N.DOCTYPE:{this._stateDoctype(t);break}case N.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case N.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case N.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case N.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case N.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case N.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case N.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case N.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case N.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case N.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case N.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case N.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case N.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case N.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case N.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case N.CDATA_SECTION:{this._stateCdataSection(t);break}case N.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case N.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case N.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case N.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case A.LESS_THAN_SIGN:{this.state=N.TAG_OPEN;break}case A.AMPERSAND:{this._startCharacterReference();break}case A.NULL:{this._err(K.unexpectedNullCharacter),this._emitCodePoint(t);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case A.AMPERSAND:{this._startCharacterReference();break}case A.LESS_THAN_SIGN:{this.state=N.RCDATA_LESS_THAN_SIGN;break}case A.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(vt);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case A.LESS_THAN_SIGN:{this.state=N.RAWTEXT_LESS_THAN_SIGN;break}case A.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(vt);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_LESS_THAN_SIGN;break}case A.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(vt);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case A.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(vt);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(ya(t))this._createStartTagToken(),this.state=N.TAG_NAME,this._stateTagName(t);else switch(t){case A.EXCLAMATION_MARK:{this.state=N.MARKUP_DECLARATION_OPEN;break}case A.SOLIDUS:{this.state=N.END_TAG_OPEN;break}case A.QUESTION_MARK:{this._err(K.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=N.BOGUS_COMMENT,this._stateBogusComment(t);break}case A.EOF:{this._err(K.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(K.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=N.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(ya(t))this._createEndTagToken(),this.state=N.TAG_NAME,this._stateTagName(t);else switch(t){case A.GREATER_THAN_SIGN:{this._err(K.missingEndTagName),this.state=N.DATA;break}case A.EOF:{this._err(K.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(K.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=N.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=N.BEFORE_ATTRIBUTE_NAME;break}case A.SOLIDUS:{this.state=N.SELF_CLOSING_START_TAG;break}case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentTagToken();break}case A.NULL:{this._err(K.unexpectedNullCharacter),i.tagName+=vt;break}case A.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:i.tagName+=String.fromCodePoint(Nu(t)?Po(t):t)}}_stateRcdataLessThanSign(t){t===A.SOLIDUS?this.state=N.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=N.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){ya(t)?(this.state=N.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=N.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const i=this.currentToken;switch(i.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=N.BEFORE_ATTRIBUTE_NAME,!1;case A.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=N.SELF_CLOSING_START_TAG,!1;case A.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=N.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=N.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===A.SOLIDUS?this.state=N.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=N.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){ya(t)?(this.state=N.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=N.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=N.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case A.SOLIDUS:{this.state=N.SCRIPT_DATA_END_TAG_OPEN;break}case A.EXCLAMATION_MARK:{this.state=N.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=N.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){ya(t)?(this.state=N.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=N.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=N.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===A.HYPHEN_MINUS?(this.state=N.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=N.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===A.HYPHEN_MINUS?(this.state=N.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=N.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case A.HYPHEN_MINUS:{this.state=N.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case A.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(vt);break}case A.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case A.HYPHEN_MINUS:{this.state=N.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case A.NULL:{this._err(K.unexpectedNullCharacter),this.state=N.SCRIPT_DATA_ESCAPED,this._emitChars(vt);break}case A.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=N.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case A.HYPHEN_MINUS:{this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case A.GREATER_THAN_SIGN:{this.state=N.SCRIPT_DATA,this._emitChars(">");break}case A.NULL:{this._err(K.unexpectedNullCharacter),this.state=N.SCRIPT_DATA_ESCAPED,this._emitChars(vt);break}case A.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=N.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===A.SOLIDUS?this.state=N.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:ya(t)?(this._emitChars("<"),this.state=N.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=N.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){ya(t)?(this.state=N.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=N.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=N.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(yn.SCRIPT,!1)&&hy(this.preprocessor.peek(yn.SCRIPT.length))){this._emitCodePoint(t);for(let i=0;i<yn.SCRIPT.length;i++)this._emitCodePoint(this._consume());this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=N.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case A.HYPHEN_MINUS:{this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case A.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(vt);break}case A.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case A.HYPHEN_MINUS:{this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case A.NULL:{this._err(K.unexpectedNullCharacter),this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(vt);break}case A.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case A.HYPHEN_MINUS:{this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case A.GREATER_THAN_SIGN:{this.state=N.SCRIPT_DATA,this._emitChars(">");break}case A.NULL:{this._err(K.unexpectedNullCharacter),this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(vt);break}case A.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===A.SOLIDUS?(this.state=N.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(yn.SCRIPT,!1)&&hy(this.preprocessor.peek(yn.SCRIPT.length))){this._emitCodePoint(t);for(let i=0;i<yn.SCRIPT.length;i++)this._emitCodePoint(this._consume());this.state=N.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.SOLIDUS:case A.GREATER_THAN_SIGN:case A.EOF:{this.state=N.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case A.EQUALS_SIGN:{this._err(K.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=N.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=N.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:case A.SOLIDUS:case A.GREATER_THAN_SIGN:case A.EOF:{this._leaveAttrName(),this.state=N.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case A.EQUALS_SIGN:{this._leaveAttrName(),this.state=N.BEFORE_ATTRIBUTE_VALUE;break}case A.QUOTATION_MARK:case A.APOSTROPHE:case A.LESS_THAN_SIGN:{this._err(K.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case A.NULL:{this._err(K.unexpectedNullCharacter),this.currentAttr.name+=vt;break}default:this.currentAttr.name+=String.fromCodePoint(Nu(t)?Po(t):t)}}_stateAfterAttributeName(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.SOLIDUS:{this.state=N.SELF_CLOSING_START_TAG;break}case A.EQUALS_SIGN:{this.state=N.BEFORE_ATTRIBUTE_VALUE;break}case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentTagToken();break}case A.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=N.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.QUOTATION_MARK:{this.state=N.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this.state=N.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(K.missingAttributeValue),this.state=N.DATA,this.emitCurrentTagToken();break}default:this.state=N.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case A.QUOTATION_MARK:{this.state=N.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case A.AMPERSAND:{this._startCharacterReference();break}case A.NULL:{this._err(K.unexpectedNullCharacter),this.currentAttr.value+=vt;break}case A.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case A.APOSTROPHE:{this.state=N.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case A.AMPERSAND:{this._startCharacterReference();break}case A.NULL:{this._err(K.unexpectedNullCharacter),this.currentAttr.value+=vt;break}case A.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this._leaveAttrValue(),this.state=N.BEFORE_ATTRIBUTE_NAME;break}case A.AMPERSAND:{this._startCharacterReference();break}case A.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=N.DATA,this.emitCurrentTagToken();break}case A.NULL:{this._err(K.unexpectedNullCharacter),this.currentAttr.value+=vt;break}case A.QUOTATION_MARK:case A.APOSTROPHE:case A.LESS_THAN_SIGN:case A.EQUALS_SIGN:case A.GRAVE_ACCENT:{this._err(K.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case A.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this._leaveAttrValue(),this.state=N.BEFORE_ATTRIBUTE_NAME;break}case A.SOLIDUS:{this._leaveAttrValue(),this.state=N.SELF_CLOSING_START_TAG;break}case A.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=N.DATA,this.emitCurrentTagToken();break}case A.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this._err(K.missingWhitespaceBetweenAttributes),this.state=N.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case A.GREATER_THAN_SIGN:{const i=this.currentToken;i.selfClosing=!0,this.state=N.DATA,this.emitCurrentTagToken();break}case A.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this._err(K.unexpectedSolidusInTag),this.state=N.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const i=this.currentToken;switch(t){case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentComment(i);break}case A.EOF:{this.emitCurrentComment(i),this._emitEOFToken();break}case A.NULL:{this._err(K.unexpectedNullCharacter),i.data+=vt;break}default:i.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(yn.DASH_DASH,!0)?(this._createCommentToken(yn.DASH_DASH.length+1),this.state=N.COMMENT_START):this._consumeSequenceIfMatch(yn.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(yn.DOCTYPE.length+1),this.state=N.DOCTYPE):this._consumeSequenceIfMatch(yn.CDATA_START,!0)?this.inForeignNode?this.state=N.CDATA_SECTION:(this._err(K.cdataInHtmlContent),this._createCommentToken(yn.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=N.BOGUS_COMMENT):this._ensureHibernation()||(this._err(K.incorrectlyOpenedComment),this._createCommentToken(2),this.state=N.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case A.HYPHEN_MINUS:{this.state=N.COMMENT_START_DASH;break}case A.GREATER_THAN_SIGN:{this._err(K.abruptClosingOfEmptyComment),this.state=N.DATA;const i=this.currentToken;this.emitCurrentComment(i);break}default:this.state=N.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const i=this.currentToken;switch(t){case A.HYPHEN_MINUS:{this.state=N.COMMENT_END;break}case A.GREATER_THAN_SIGN:{this._err(K.abruptClosingOfEmptyComment),this.state=N.DATA,this.emitCurrentComment(i);break}case A.EOF:{this._err(K.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+="-",this.state=N.COMMENT,this._stateComment(t)}}_stateComment(t){const i=this.currentToken;switch(t){case A.HYPHEN_MINUS:{this.state=N.COMMENT_END_DASH;break}case A.LESS_THAN_SIGN:{i.data+="<",this.state=N.COMMENT_LESS_THAN_SIGN;break}case A.NULL:{this._err(K.unexpectedNullCharacter),i.data+=vt;break}case A.EOF:{this._err(K.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const i=this.currentToken;switch(t){case A.EXCLAMATION_MARK:{i.data+="!",this.state=N.COMMENT_LESS_THAN_SIGN_BANG;break}case A.LESS_THAN_SIGN:{i.data+="<";break}default:this.state=N.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===A.HYPHEN_MINUS?this.state=N.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=N.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===A.HYPHEN_MINUS?this.state=N.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=N.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==A.GREATER_THAN_SIGN&&t!==A.EOF&&this._err(K.nestedComment),this.state=N.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const i=this.currentToken;switch(t){case A.HYPHEN_MINUS:{this.state=N.COMMENT_END;break}case A.EOF:{this._err(K.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+="-",this.state=N.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const i=this.currentToken;switch(t){case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentComment(i);break}case A.EXCLAMATION_MARK:{this.state=N.COMMENT_END_BANG;break}case A.HYPHEN_MINUS:{i.data+="-";break}case A.EOF:{this._err(K.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+="--",this.state=N.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const i=this.currentToken;switch(t){case A.HYPHEN_MINUS:{i.data+="--!",this.state=N.COMMENT_END_DASH;break}case A.GREATER_THAN_SIGN:{this._err(K.incorrectlyClosedComment),this.state=N.DATA,this.emitCurrentComment(i);break}case A.EOF:{this._err(K.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+="--!",this.state=N.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=N.BEFORE_DOCTYPE_NAME;break}case A.GREATER_THAN_SIGN:{this.state=N.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case A.EOF:{this._err(K.eofInDoctype),this._createDoctypeToken(null);const i=this.currentToken;i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(K.missingWhitespaceBeforeDoctypeName),this.state=N.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Nu(t))this._createDoctypeToken(String.fromCharCode(Po(t))),this.state=N.DOCTYPE_NAME;else switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.NULL:{this._err(K.unexpectedNullCharacter),this._createDoctypeToken(vt),this.state=N.DOCTYPE_NAME;break}case A.GREATER_THAN_SIGN:{this._err(K.missingDoctypeName),this._createDoctypeToken(null);const i=this.currentToken;i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=N.DATA;break}case A.EOF:{this._err(K.eofInDoctype),this._createDoctypeToken(null);const i=this.currentToken;i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=N.DOCTYPE_NAME}}_stateDoctypeName(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=N.AFTER_DOCTYPE_NAME;break}case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentDoctype(i);break}case A.NULL:{this._err(K.unexpectedNullCharacter),i.name+=vt;break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.name+=String.fromCodePoint(Nu(t)?Po(t):t)}}_stateAfterDoctypeName(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentDoctype(i);break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(yn.PUBLIC,!1)?this.state=N.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(yn.SYSTEM,!1)?this.state=N.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(K.invalidCharacterSequenceAfterDoctypeName),i.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=N.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case A.QUOTATION_MARK:{this._err(K.missingWhitespaceAfterDoctypePublicKeyword),i.publicId="",this.state=N.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this._err(K.missingWhitespaceAfterDoctypePublicKeyword),i.publicId="",this.state=N.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(K.missingDoctypePublicIdentifier),i.forceQuirks=!0,this.state=N.DATA,this.emitCurrentDoctype(i);break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypePublicIdentifier),i.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.QUOTATION_MARK:{i.publicId="",this.state=N.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{i.publicId="",this.state=N.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(K.missingDoctypePublicIdentifier),i.forceQuirks=!0,this.state=N.DATA,this.emitCurrentDoctype(i);break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypePublicIdentifier),i.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const i=this.currentToken;switch(t){case A.QUOTATION_MARK:{this.state=N.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case A.NULL:{this._err(K.unexpectedNullCharacter),i.publicId+=vt;break}case A.GREATER_THAN_SIGN:{this._err(K.abruptDoctypePublicIdentifier),i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=N.DATA;break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const i=this.currentToken;switch(t){case A.APOSTROPHE:{this.state=N.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case A.NULL:{this._err(K.unexpectedNullCharacter),i.publicId+=vt;break}case A.GREATER_THAN_SIGN:{this._err(K.abruptDoctypePublicIdentifier),i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=N.DATA;break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=N.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentDoctype(i);break}case A.QUOTATION_MARK:{this._err(K.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),i.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this._err(K.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),i.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.GREATER_THAN_SIGN:{this.emitCurrentDoctype(i),this.state=N.DATA;break}case A.QUOTATION_MARK:{i.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{i.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=N.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case A.QUOTATION_MARK:{this._err(K.missingWhitespaceAfterDoctypeSystemKeyword),i.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this._err(K.missingWhitespaceAfterDoctypeSystemKeyword),i.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(K.missingDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=N.DATA,this.emitCurrentDoctype(i);break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.QUOTATION_MARK:{i.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{i.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(K.missingDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=N.DATA,this.emitCurrentDoctype(i);break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const i=this.currentToken;switch(t){case A.QUOTATION_MARK:{this.state=N.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case A.NULL:{this._err(K.unexpectedNullCharacter),i.systemId+=vt;break}case A.GREATER_THAN_SIGN:{this._err(K.abruptDoctypeSystemIdentifier),i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=N.DATA;break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const i=this.currentToken;switch(t){case A.APOSTROPHE:{this.state=N.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case A.NULL:{this._err(K.unexpectedNullCharacter),i.systemId+=vt;break}case A.GREATER_THAN_SIGN:{this._err(K.abruptDoctypeSystemIdentifier),i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=N.DATA;break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.GREATER_THAN_SIGN:{this.emitCurrentDoctype(i),this.state=N.DATA;break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(K.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const i=this.currentToken;switch(t){case A.GREATER_THAN_SIGN:{this.emitCurrentDoctype(i),this.state=N.DATA;break}case A.NULL:{this._err(K.unexpectedNullCharacter);break}case A.EOF:{this.emitCurrentDoctype(i),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case A.RIGHT_SQUARE_BRACKET:{this.state=N.CDATA_SECTION_BRACKET;break}case A.EOF:{this._err(K.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===A.RIGHT_SQUARE_BRACKET?this.state=N.CDATA_SECTION_END:(this._emitChars("]"),this.state=N.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case A.GREATER_THAN_SIGN:{this.state=N.DATA;break}case A.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=N.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(A.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&dy(this.preprocessor.peek(1))?N.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){dy(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===A.SEMICOLON&&this._err(K.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const DS=new Set([m.DD,m.DT,m.LI,m.OPTGROUP,m.OPTION,m.P,m.RB,m.RP,m.RT,m.RTC]),my=new Set([...DS,m.CAPTION,m.COLGROUP,m.TBODY,m.TD,m.TFOOT,m.TH,m.THEAD,m.TR]),oc=new Set([m.APPLET,m.CAPTION,m.HTML,m.MARQUEE,m.OBJECT,m.TABLE,m.TD,m.TEMPLATE,m.TH]),W5=new Set([...oc,m.OL,m.UL]),Z5=new Set([...oc,m.BUTTON]),py=new Set([m.ANNOTATION_XML,m.MI,m.MN,m.MO,m.MS,m.MTEXT]),gy=new Set([m.DESC,m.FOREIGN_OBJECT,m.TITLE]),$5=new Set([m.TR,m.TEMPLATE,m.HTML]),J5=new Set([m.TBODY,m.TFOOT,m.THEAD,m.TEMPLATE,m.HTML]),eL=new Set([m.TABLE,m.TEMPLATE,m.HTML]),tL=new Set([m.TD,m.TH]);class nL{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,i,r){this.treeAdapter=i,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=m.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===m.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===se.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,i){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=i,this.currentTagId=i,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,i,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,i){const r=this._indexOf(t);this.items[r]=i,r===this.stackTop&&(this.current=i)}insertAfter(t,i,r){const u=this._indexOf(t)+1;this.items.splice(u,0,i),this.tagIDs.splice(u,0,r),this.stackTop++,u===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,u===this.stackTop)}popUntilTagNamePopped(t){let i=this.stackTop+1;do i=this.tagIDs.lastIndexOf(t,i-1);while(i>0&&this.treeAdapter.getNamespaceURI(this.items[i])!==se.HTML);this.shortenToLength(Math.max(i,0))}shortenToLength(t){for(;this.stackTop>=t;){const i=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(i,this.stackTop<t)}}popUntilElementPopped(t){const i=this._indexOf(t);this.shortenToLength(Math.max(i,0))}popUntilPopped(t,i){const r=this._indexOfTagNames(t,i);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(a0,se.HTML)}popUntilTableCellPopped(){this.popUntilPopped(tL,se.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,i){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===i)return r;return-1}clearBackTo(t,i){const r=this._indexOfTagNames(t,i);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(eL,se.HTML)}clearBackToTableBodyContext(){this.clearBackTo(J5,se.HTML)}clearBackToTableRowContext(){this.clearBackTo($5,se.HTML)}remove(t){const i=this._indexOf(t);i>=0&&(i===this.stackTop?this.pop():(this.items.splice(i,1),this.tagIDs.splice(i,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===m.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const i=this._indexOf(t)-1;return i>=0?this.items[i]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===m.HTML}hasInDynamicScope(t,i){for(let r=this.stackTop;r>=0;r--){const u=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case se.HTML:{if(u===t)return!0;if(i.has(u))return!1;break}case se.SVG:{if(gy.has(u))return!1;break}case se.MATHML:{if(py.has(u))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,oc)}hasInListItemScope(t){return this.hasInDynamicScope(t,W5)}hasInButtonScope(t){return this.hasInDynamicScope(t,Z5)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const i=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case se.HTML:{if(a0.has(i))return!0;if(oc.has(i))return!1;break}case se.SVG:{if(gy.has(i))return!1;break}case se.MATHML:{if(py.has(i))return!1;break}}}return!0}hasInTableScope(t){for(let i=this.stackTop;i>=0;i--)if(this.treeAdapter.getNamespaceURI(this.items[i])===se.HTML)switch(this.tagIDs[i]){case t:return!0;case m.TABLE:case m.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===se.HTML)switch(this.tagIDs[t]){case m.TBODY:case m.THEAD:case m.TFOOT:return!0;case m.TABLE:case m.HTML:return!1}return!0}hasInSelectScope(t){for(let i=this.stackTop;i>=0;i--)if(this.treeAdapter.getNamespaceURI(this.items[i])===se.HTML)switch(this.tagIDs[i]){case t:return!0;case m.OPTION:case m.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&DS.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&my.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&my.has(this.currentTagId);)this.pop()}}const Ch=3;var di;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(di||(di={}));const Ey={type:di.Marker};class iL{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,i){const r=[],u=i.length,o=this.treeAdapter.getTagName(t),c=this.treeAdapter.getNamespaceURI(t);for(let h=0;h<this.entries.length;h++){const p=this.entries[h];if(p.type===di.Marker)break;const{element:g}=p;if(this.treeAdapter.getTagName(g)===o&&this.treeAdapter.getNamespaceURI(g)===c){const E=this.treeAdapter.getAttrList(g);E.length===u&&r.push({idx:h,attrs:E})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<Ch)return;const i=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,i);if(r.length<Ch)return;const u=new Map(i.map(c=>[c.name,c.value]));let o=0;for(let c=0;c<r.length;c++){const h=r[c];h.attrs.every(p=>u.get(p.name)===p.value)&&(o+=1,o>=Ch&&this.entries.splice(h.idx,1))}}insertMarker(){this.entries.unshift(Ey)}pushElement(t,i){this._ensureNoahArkCondition(t),this.entries.unshift({type:di.Element,element:t,token:i})}insertElementAfterBookmark(t,i){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:di.Element,element:t,token:i})}removeEntry(t){const i=this.entries.indexOf(t);i!==-1&&this.entries.splice(i,1)}clearToLastMarker(){const t=this.entries.indexOf(Ey);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const i=this.entries.find(r=>r.type===di.Marker||this.treeAdapter.getTagName(r.element)===t);return i&&i.type===di.Element?i:null}getElementEntry(t){return this.entries.find(i=>i.type===di.Element&&i.element===t)}}const Ta={createDocument(){return{nodeName:"#document",mode:Kn.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,i){return{nodeName:e,tagName:e,attrs:i,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,i){const r=e.childNodes.indexOf(i);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,i,r){const u=e.childNodes.find(o=>o.nodeName==="#documentType");if(u)u.name=t,u.publicId=i,u.systemId=r;else{const o={nodeName:"#documentType",name:t,publicId:i,systemId:r,parentNode:null};Ta.appendChild(e,o)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const i=e.childNodes[e.childNodes.length-1];if(Ta.isTextNode(i)){i.value+=t;return}}Ta.appendChild(e,Ta.createTextNode(t))},insertTextBefore(e,t,i){const r=e.childNodes[e.childNodes.indexOf(i)-1];r&&Ta.isTextNode(r)?r.value+=t:Ta.insertBefore(e,Ta.createTextNode(t),i)},adoptAttributes(e,t){const i=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)i.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},LS="html",aL="about:legacy-compat",rL="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",kS=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],sL=[...kS,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],uL=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),wS=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],lL=[...wS,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function _y(e,t){return t.some(i=>e.startsWith(i))}function oL(e){return e.name===LS&&e.publicId===null&&(e.systemId===null||e.systemId===aL)}function cL(e){if(e.name!==LS)return Kn.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===rL)return Kn.QUIRKS;let{publicId:i}=e;if(i!==null){if(i=i.toLowerCase(),uL.has(i))return Kn.QUIRKS;let r=t===null?sL:kS;if(_y(i,r))return Kn.QUIRKS;if(r=t===null?wS:lL,_y(i,r))return Kn.LIMITED_QUIRKS}return Kn.NO_QUIRKS}const yy={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},fL="definitionurl",dL="definitionURL",hL=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),mL=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:se.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:se.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:se.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:se.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:se.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:se.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:se.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:se.XML}],["xml:space",{prefix:"xml",name:"space",namespace:se.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:se.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:se.XMLNS}]]),pL=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),gL=new Set([m.B,m.BIG,m.BLOCKQUOTE,m.BODY,m.BR,m.CENTER,m.CODE,m.DD,m.DIV,m.DL,m.DT,m.EM,m.EMBED,m.H1,m.H2,m.H3,m.H4,m.H5,m.H6,m.HEAD,m.HR,m.I,m.IMG,m.LI,m.LISTING,m.MENU,m.META,m.NOBR,m.OL,m.P,m.PRE,m.RUBY,m.S,m.SMALL,m.SPAN,m.STRONG,m.STRIKE,m.SUB,m.SUP,m.TABLE,m.TT,m.U,m.UL,m.VAR]);function EL(e){const t=e.tagID;return t===m.FONT&&e.attrs.some(({name:r})=>r===$a.COLOR||r===$a.SIZE||r===$a.FACE)||gL.has(t)}function MS(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===fL){e.attrs[t].name=dL;break}}function BS(e){for(let t=0;t<e.attrs.length;t++){const i=hL.get(e.attrs[t].name);i!=null&&(e.attrs[t].name=i)}}function mm(e){for(let t=0;t<e.attrs.length;t++){const i=mL.get(e.attrs[t].name);i&&(e.attrs[t].prefix=i.prefix,e.attrs[t].name=i.name,e.attrs[t].namespace=i.namespace)}}function _L(e){const t=pL.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Ts(e.tagName))}function yL(e,t){return t===se.MATHML&&(e===m.MI||e===m.MO||e===m.MN||e===m.MS||e===m.MTEXT)}function TL(e,t,i){if(t===se.MATHML&&e===m.ANNOTATION_XML){for(let r=0;r<i.length;r++)if(i[r].name===$a.ENCODING){const u=i[r].value.toLowerCase();return u===yy.TEXT_HTML||u===yy.APPLICATION_XML}}return t===se.SVG&&(e===m.FOREIGN_OBJECT||e===m.DESC||e===m.TITLE)}function bL(e,t,i,r){return(!r||r===se.HTML)&&TL(e,t,i)||(!r||r===se.MATHML)&&yL(e,t)}const SL="hidden",CL=8,AL=3;var O;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(O||(O={}));const vL={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},PS=new Set([m.TABLE,m.TBODY,m.TFOOT,m.THEAD,m.TR]),Ty={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Ta,onParseError:null};class by{constructor(t,i,r=null,u=null){this.fragmentContext=r,this.scriptHandler=u,this.currentToken=null,this.stopped=!1,this.insertionMode=O.INITIAL,this.originalInsertionMode=O.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Ty,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=i??this.treeAdapter.createDocument(),this.tokenizer=new K5(this.options,this),this.activeFormattingElements=new iL(this.treeAdapter),this.fragmentContextID=r?Ts(this.treeAdapter.getTagName(r)):m.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new nL(this.document,this.treeAdapter,this)}static parse(t,i){const r=new this(i);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,i){const r={...Ty,...i};t??(t=r.treeAdapter.createElement(H.TEMPLATE,se.HTML,[]));const u=r.treeAdapter.createElement("documentmock",se.HTML,[]),o=new this(r,u,t);return o.fragmentContextID===m.TEMPLATE&&o.tmplInsertionModeStack.unshift(O.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),i=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,i),i}_err(t,i,r){var u;if(!this.onParseError)return;const o=(u=t.location)!==null&&u!==void 0?u:vL,c={code:i,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:r?o.startLine:o.endLine,endCol:r?o.startCol:o.endCol,endOffset:r?o.startOffset:o.endOffset};this.onParseError(c)}onItemPush(t,i,r){var u,o;(o=(u=this.treeAdapter).onItemPush)===null||o===void 0||o.call(u,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,i)}onItemPop(t,i){var r,u;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(u=(r=this.treeAdapter).onItemPop)===null||u===void 0||u.call(r,t,this.openElements.current),i){let o,c;this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,c=this.fragmentContextID):{current:o,currentTagId:c}=this.openElements,this._setContextModes(o,c)}}_setContextModes(t,i){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===se.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&i!==void 0&&!this._isIntegrationPoint(i,t)}_switchToTextParsing(t,i){this._insertElement(t,se.HTML),this.tokenizer.state=i,this.originalInsertionMode=this.insertionMode,this.insertionMode=O.TEXT}switchToPlaintextParsing(){this.insertionMode=O.TEXT,this.originalInsertionMode=O.IN_BODY,this.tokenizer.state=Lt.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===H.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==se.HTML))switch(this.fragmentContextID){case m.TITLE:case m.TEXTAREA:{this.tokenizer.state=Lt.RCDATA;break}case m.STYLE:case m.XMP:case m.IFRAME:case m.NOEMBED:case m.NOFRAMES:case m.NOSCRIPT:{this.tokenizer.state=Lt.RAWTEXT;break}case m.SCRIPT:{this.tokenizer.state=Lt.SCRIPT_DATA;break}case m.PLAINTEXT:{this.tokenizer.state=Lt.PLAINTEXT;break}}}_setDocumentType(t){const i=t.name||"",r=t.publicId||"",u=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,i,r,u),t.location){const c=this.treeAdapter.getChildNodes(this.document).find(h=>this.treeAdapter.isDocumentTypeNode(h));c&&this.treeAdapter.setNodeSourceCodeLocation(c,t.location)}}_attachElementToTree(t,i){if(this.options.sourceCodeLocationInfo){const r=i&&{...i,startTag:i};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,t)}}_appendElement(t,i){const r=this.treeAdapter.createElement(t.tagName,i,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,i){const r=this.treeAdapter.createElement(t.tagName,i,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,i){const r=this.treeAdapter.createElement(t,se.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,i)}_insertTemplate(t){const i=this.treeAdapter.createElement(t.tagName,se.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(i,r),this._attachElementToTree(i,t.location),this.openElements.push(i,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(H.HTML,se.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,m.HTML)}_appendCommentNode(t,i){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(i,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let i,r;if(this._shouldFosterParentOnInsertion()?({parent:i,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(i,t.chars,r):this.treeAdapter.insertText(i,t.chars)):(i=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(i,t.chars)),!t.location)return;const u=this.treeAdapter.getChildNodes(i),o=r?u.lastIndexOf(r):u.length,c=u[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(c)){const{endLine:p,endCol:g,endOffset:E}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(c,{endLine:p,endCol:g,endOffset:E})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(c,t.location)}_adoptNodes(t,i){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(i,r)}_setEndLocation(t,i){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&i.location){const r=i.location,u=this.treeAdapter.getTagName(t),o=i.type===ze.END_TAG&&u===i.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,o)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let i,r;return this.openElements.stackTop===0&&this.fragmentContext?(i=this.fragmentContext,r=this.fragmentContextID):{current:i,currentTagId:r}=this.openElements,t.tagID===m.SVG&&this.treeAdapter.getTagName(i)===H.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(i)===se.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===m.MGLYPH||t.tagID===m.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,i,se.HTML)}_processToken(t){switch(t.type){case ze.CHARACTER:{this.onCharacter(t);break}case ze.NULL_CHARACTER:{this.onNullCharacter(t);break}case ze.COMMENT:{this.onComment(t);break}case ze.DOCTYPE:{this.onDoctype(t);break}case ze.START_TAG:{this._processStartTag(t);break}case ze.END_TAG:{this.onEndTag(t);break}case ze.EOF:{this.onEof(t);break}case ze.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,i,r){const u=this.treeAdapter.getNamespaceURI(i),o=this.treeAdapter.getAttrList(i);return bL(t,u,o,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const i=this.activeFormattingElements.entries.findIndex(u=>u.type===di.Marker||this.openElements.contains(u.element)),r=i===-1?t-1:i-1;for(let u=r;u>=0;u--){const o=this.activeFormattingElements.entries[u];this._insertElement(o.token,this.treeAdapter.getNamespaceURI(o.element)),o.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=O.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(m.P),this.openElements.popUntilTagNamePopped(m.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case m.TR:{this.insertionMode=O.IN_ROW;return}case m.TBODY:case m.THEAD:case m.TFOOT:{this.insertionMode=O.IN_TABLE_BODY;return}case m.CAPTION:{this.insertionMode=O.IN_CAPTION;return}case m.COLGROUP:{this.insertionMode=O.IN_COLUMN_GROUP;return}case m.TABLE:{this.insertionMode=O.IN_TABLE;return}case m.BODY:{this.insertionMode=O.IN_BODY;return}case m.FRAMESET:{this.insertionMode=O.IN_FRAMESET;return}case m.SELECT:{this._resetInsertionModeForSelect(t);return}case m.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case m.HTML:{this.insertionMode=this.headElement?O.AFTER_HEAD:O.BEFORE_HEAD;return}case m.TD:case m.TH:{if(t>0){this.insertionMode=O.IN_CELL;return}break}case m.HEAD:{if(t>0){this.insertionMode=O.IN_HEAD;return}break}}this.insertionMode=O.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let i=t-1;i>0;i--){const r=this.openElements.tagIDs[i];if(r===m.TEMPLATE)break;if(r===m.TABLE){this.insertionMode=O.IN_SELECT_IN_TABLE;return}}this.insertionMode=O.IN_SELECT}_isElementCausesFosterParenting(t){return PS.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const i=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case m.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(i)===se.HTML)return{parent:this.treeAdapter.getTemplateContent(i),beforeElement:null};break}case m.TABLE:{const r=this.treeAdapter.getParentNode(i);return r?{parent:r,beforeElement:i}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const i=this._findFosterParentingLocation();i.beforeElement?this.treeAdapter.insertBefore(i.parent,t,i.beforeElement):this.treeAdapter.appendChild(i.parent,t)}_isSpecialElement(t,i){const r=this.treeAdapter.getNamespaceURI(t);return V5[r].has(i)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){tk(this,t);return}switch(this.insertionMode){case O.INITIAL:{Cu(this,t);break}case O.BEFORE_HTML:{Hu(this,t);break}case O.BEFORE_HEAD:{Fu(this,t);break}case O.IN_HEAD:{zu(this,t);break}case O.IN_HEAD_NO_SCRIPT:{ju(this,t);break}case O.AFTER_HEAD:{Yu(this,t);break}case O.IN_BODY:case O.IN_CAPTION:case O.IN_CELL:case O.IN_TEMPLATE:{HS(this,t);break}case O.TEXT:case O.IN_SELECT:case O.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case O.IN_TABLE:case O.IN_TABLE_BODY:case O.IN_ROW:{Ah(this,t);break}case O.IN_TABLE_TEXT:{VS(this,t);break}case O.IN_COLUMN_GROUP:{cc(this,t);break}case O.AFTER_BODY:{fc(this,t);break}case O.AFTER_AFTER_BODY:{qo(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){ek(this,t);return}switch(this.insertionMode){case O.INITIAL:{Cu(this,t);break}case O.BEFORE_HTML:{Hu(this,t);break}case O.BEFORE_HEAD:{Fu(this,t);break}case O.IN_HEAD:{zu(this,t);break}case O.IN_HEAD_NO_SCRIPT:{ju(this,t);break}case O.AFTER_HEAD:{Yu(this,t);break}case O.TEXT:{this._insertCharacters(t);break}case O.IN_TABLE:case O.IN_TABLE_BODY:case O.IN_ROW:{Ah(this,t);break}case O.IN_COLUMN_GROUP:{cc(this,t);break}case O.AFTER_BODY:{fc(this,t);break}case O.AFTER_AFTER_BODY:{qo(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){r0(this,t);return}switch(this.insertionMode){case O.INITIAL:case O.BEFORE_HTML:case O.BEFORE_HEAD:case O.IN_HEAD:case O.IN_HEAD_NO_SCRIPT:case O.AFTER_HEAD:case O.IN_BODY:case O.IN_TABLE:case O.IN_CAPTION:case O.IN_COLUMN_GROUP:case O.IN_TABLE_BODY:case O.IN_ROW:case O.IN_CELL:case O.IN_SELECT:case O.IN_SELECT_IN_TABLE:case O.IN_TEMPLATE:case O.IN_FRAMESET:case O.AFTER_FRAMESET:{r0(this,t);break}case O.IN_TABLE_TEXT:{Au(this,t);break}case O.AFTER_BODY:{LL(this,t);break}case O.AFTER_AFTER_BODY:case O.AFTER_AFTER_FRAMESET:{kL(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case O.INITIAL:{wL(this,t);break}case O.BEFORE_HEAD:case O.IN_HEAD:case O.IN_HEAD_NO_SCRIPT:case O.AFTER_HEAD:{this._err(t,K.misplacedDoctype);break}case O.IN_TABLE_TEXT:{Au(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,K.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?nk(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case O.INITIAL:{Cu(this,t);break}case O.BEFORE_HTML:{ML(this,t);break}case O.BEFORE_HEAD:{PL(this,t);break}case O.IN_HEAD:{si(this,t);break}case O.IN_HEAD_NO_SCRIPT:{FL(this,t);break}case O.AFTER_HEAD:{jL(this,t);break}case O.IN_BODY:{ln(this,t);break}case O.IN_TABLE:{cs(this,t);break}case O.IN_TABLE_TEXT:{Au(this,t);break}case O.IN_CAPTION:{U8(this,t);break}case O.IN_COLUMN_GROUP:{Em(this,t);break}case O.IN_TABLE_BODY:{Dc(this,t);break}case O.IN_ROW:{Lc(this,t);break}case O.IN_CELL:{z8(this,t);break}case O.IN_SELECT:{QS(this,t);break}case O.IN_SELECT_IN_TABLE:{Y8(this,t);break}case O.IN_TEMPLATE:{V8(this,t);break}case O.AFTER_BODY:{X8(this,t);break}case O.IN_FRAMESET:{Q8(this,t);break}case O.AFTER_FRAMESET:{W8(this,t);break}case O.AFTER_AFTER_BODY:{$8(this,t);break}case O.AFTER_AFTER_FRAMESET:{J8(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?ik(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case O.INITIAL:{Cu(this,t);break}case O.BEFORE_HTML:{BL(this,t);break}case O.BEFORE_HEAD:{UL(this,t);break}case O.IN_HEAD:{HL(this,t);break}case O.IN_HEAD_NO_SCRIPT:{zL(this,t);break}case O.AFTER_HEAD:{YL(this,t);break}case O.IN_BODY:{Ic(this,t);break}case O.TEXT:{R8(this,t);break}case O.IN_TABLE:{nl(this,t);break}case O.IN_TABLE_TEXT:{Au(this,t);break}case O.IN_CAPTION:{H8(this,t);break}case O.IN_COLUMN_GROUP:{F8(this,t);break}case O.IN_TABLE_BODY:{s0(this,t);break}case O.IN_ROW:{XS(this,t);break}case O.IN_CELL:{j8(this,t);break}case O.IN_SELECT:{KS(this,t);break}case O.IN_SELECT_IN_TABLE:{q8(this,t);break}case O.IN_TEMPLATE:{G8(this,t);break}case O.AFTER_BODY:{ZS(this,t);break}case O.IN_FRAMESET:{K8(this,t);break}case O.AFTER_FRAMESET:{Z8(this,t);break}case O.AFTER_AFTER_BODY:{qo(this,t);break}}}onEof(t){switch(this.insertionMode){case O.INITIAL:{Cu(this,t);break}case O.BEFORE_HTML:{Hu(this,t);break}case O.BEFORE_HEAD:{Fu(this,t);break}case O.IN_HEAD:{zu(this,t);break}case O.IN_HEAD_NO_SCRIPT:{ju(this,t);break}case O.AFTER_HEAD:{Yu(this,t);break}case O.IN_BODY:case O.IN_TABLE:case O.IN_CAPTION:case O.IN_COLUMN_GROUP:case O.IN_TABLE_BODY:case O.IN_ROW:case O.IN_CELL:case O.IN_SELECT:case O.IN_SELECT_IN_TABLE:{YS(this,t);break}case O.TEXT:{O8(this,t);break}case O.IN_TABLE_TEXT:{Au(this,t);break}case O.IN_TEMPLATE:{WS(this,t);break}case O.AFTER_BODY:case O.IN_FRAMESET:case O.AFTER_FRAMESET:case O.AFTER_AFTER_BODY:case O.AFTER_AFTER_FRAMESET:{gm(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===A.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case O.IN_HEAD:case O.IN_HEAD_NO_SCRIPT:case O.AFTER_HEAD:case O.TEXT:case O.IN_COLUMN_GROUP:case O.IN_SELECT:case O.IN_SELECT_IN_TABLE:case O.IN_FRAMESET:case O.AFTER_FRAMESET:{this._insertCharacters(t);break}case O.IN_BODY:case O.IN_CAPTION:case O.IN_CELL:case O.IN_TEMPLATE:case O.AFTER_BODY:case O.AFTER_AFTER_BODY:case O.AFTER_AFTER_FRAMESET:{US(this,t);break}case O.IN_TABLE:case O.IN_TABLE_BODY:case O.IN_ROW:{Ah(this,t);break}case O.IN_TABLE_TEXT:{qS(this,t);break}}}}function xL(e,t){let i=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return i?e.openElements.contains(i.element)?e.openElements.hasInScope(t.tagID)||(i=null):(e.activeFormattingElements.removeEntry(i),i=null):jS(e,t),i}function NL(e,t){let i=null,r=e.openElements.stackTop;for(;r>=0;r--){const u=e.openElements.items[r];if(u===t.element)break;e._isSpecialElement(u,e.openElements.tagIDs[r])&&(i=u)}return i||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),i}function RL(e,t,i){let r=t,u=e.openElements.getCommonAncestor(t);for(let o=0,c=u;c!==i;o++,c=u){u=e.openElements.getCommonAncestor(c);const h=e.activeFormattingElements.getElementEntry(c),p=h&&o>=AL;!h||p?(p&&e.activeFormattingElements.removeEntry(h),e.openElements.remove(c)):(c=OL(e,h),r===t&&(e.activeFormattingElements.bookmark=h),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(c,r),r=c)}return r}function OL(e,t){const i=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,i,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function IL(e,t,i){const r=e.treeAdapter.getTagName(t),u=Ts(r);if(e._isElementCausesFosterParenting(u))e._fosterParentElement(i);else{const o=e.treeAdapter.getNamespaceURI(t);u===m.TEMPLATE&&o===se.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,i)}}function DL(e,t,i){const r=e.treeAdapter.getNamespaceURI(i.element),{token:u}=i,o=e.treeAdapter.createElement(u.tagName,r,u.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,u),e.activeFormattingElements.removeEntry(i),e.openElements.remove(i.element),e.openElements.insertAfter(t,o,u.tagID)}function pm(e,t){for(let i=0;i<CL;i++){const r=xL(e,t);if(!r)break;const u=NL(e,r);if(!u)break;e.activeFormattingElements.bookmark=r;const o=RL(e,u,r.element),c=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(o),c&&IL(e,c,o),DL(e,u,r)}}function r0(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function LL(e,t){e._appendCommentNode(t,e.openElements.items[0])}function kL(e,t){e._appendCommentNode(t,e.document)}function gm(e,t){if(e.stopped=!0,t.location){const i=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=i;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],u=e.treeAdapter.getNodeSourceCodeLocation(r);if(u&&!u.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const o=e.openElements.items[1],c=e.treeAdapter.getNodeSourceCodeLocation(o);c&&!c.endTag&&e._setEndLocation(o,t)}}}}function wL(e,t){e._setDocumentType(t);const i=t.forceQuirks?Kn.QUIRKS:cL(t);oL(t)||e._err(t,K.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,i),e.insertionMode=O.BEFORE_HTML}function Cu(e,t){e._err(t,K.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Kn.QUIRKS),e.insertionMode=O.BEFORE_HTML,e._processToken(t)}function ML(e,t){t.tagID===m.HTML?(e._insertElement(t,se.HTML),e.insertionMode=O.BEFORE_HEAD):Hu(e,t)}function BL(e,t){const i=t.tagID;(i===m.HTML||i===m.HEAD||i===m.BODY||i===m.BR)&&Hu(e,t)}function Hu(e,t){e._insertFakeRootElement(),e.insertionMode=O.BEFORE_HEAD,e._processToken(t)}function PL(e,t){switch(t.tagID){case m.HTML:{ln(e,t);break}case m.HEAD:{e._insertElement(t,se.HTML),e.headElement=e.openElements.current,e.insertionMode=O.IN_HEAD;break}default:Fu(e,t)}}function UL(e,t){const i=t.tagID;i===m.HEAD||i===m.BODY||i===m.HTML||i===m.BR?Fu(e,t):e._err(t,K.endTagWithoutMatchingOpenElement)}function Fu(e,t){e._insertFakeElement(H.HEAD,m.HEAD),e.headElement=e.openElements.current,e.insertionMode=O.IN_HEAD,e._processToken(t)}function si(e,t){switch(t.tagID){case m.HTML:{ln(e,t);break}case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:{e._appendElement(t,se.HTML),t.ackSelfClosing=!0;break}case m.TITLE:{e._switchToTextParsing(t,Lt.RCDATA);break}case m.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Lt.RAWTEXT):(e._insertElement(t,se.HTML),e.insertionMode=O.IN_HEAD_NO_SCRIPT);break}case m.NOFRAMES:case m.STYLE:{e._switchToTextParsing(t,Lt.RAWTEXT);break}case m.SCRIPT:{e._switchToTextParsing(t,Lt.SCRIPT_DATA);break}case m.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=O.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(O.IN_TEMPLATE);break}case m.HEAD:{e._err(t,K.misplacedStartTagForHeadElement);break}default:zu(e,t)}}function HL(e,t){switch(t.tagID){case m.HEAD:{e.openElements.pop(),e.insertionMode=O.AFTER_HEAD;break}case m.BODY:case m.BR:case m.HTML:{zu(e,t);break}case m.TEMPLATE:{sr(e,t);break}default:e._err(t,K.endTagWithoutMatchingOpenElement)}}function sr(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==m.TEMPLATE&&e._err(t,K.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(m.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,K.endTagWithoutMatchingOpenElement)}function zu(e,t){e.openElements.pop(),e.insertionMode=O.AFTER_HEAD,e._processToken(t)}function FL(e,t){switch(t.tagID){case m.HTML:{ln(e,t);break}case m.BASEFONT:case m.BGSOUND:case m.HEAD:case m.LINK:case m.META:case m.NOFRAMES:case m.STYLE:{si(e,t);break}case m.NOSCRIPT:{e._err(t,K.nestedNoscriptInHead);break}default:ju(e,t)}}function zL(e,t){switch(t.tagID){case m.NOSCRIPT:{e.openElements.pop(),e.insertionMode=O.IN_HEAD;break}case m.BR:{ju(e,t);break}default:e._err(t,K.endTagWithoutMatchingOpenElement)}}function ju(e,t){const i=t.type===ze.EOF?K.openElementsLeftAfterEof:K.disallowedContentInNoscriptInHead;e._err(t,i),e.openElements.pop(),e.insertionMode=O.IN_HEAD,e._processToken(t)}function jL(e,t){switch(t.tagID){case m.HTML:{ln(e,t);break}case m.BODY:{e._insertElement(t,se.HTML),e.framesetOk=!1,e.insertionMode=O.IN_BODY;break}case m.FRAMESET:{e._insertElement(t,se.HTML),e.insertionMode=O.IN_FRAMESET;break}case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:case m.NOFRAMES:case m.SCRIPT:case m.STYLE:case m.TEMPLATE:case m.TITLE:{e._err(t,K.abandonedHeadElementChild),e.openElements.push(e.headElement,m.HEAD),si(e,t),e.openElements.remove(e.headElement);break}case m.HEAD:{e._err(t,K.misplacedStartTagForHeadElement);break}default:Yu(e,t)}}function YL(e,t){switch(t.tagID){case m.BODY:case m.HTML:case m.BR:{Yu(e,t);break}case m.TEMPLATE:{sr(e,t);break}default:e._err(t,K.endTagWithoutMatchingOpenElement)}}function Yu(e,t){e._insertFakeElement(H.BODY,m.BODY),e.insertionMode=O.IN_BODY,Oc(e,t)}function Oc(e,t){switch(t.type){case ze.CHARACTER:{HS(e,t);break}case ze.WHITESPACE_CHARACTER:{US(e,t);break}case ze.COMMENT:{r0(e,t);break}case ze.START_TAG:{ln(e,t);break}case ze.END_TAG:{Ic(e,t);break}case ze.EOF:{YS(e,t);break}}}function US(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function HS(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function qL(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function VL(e,t){const i=e.openElements.tryPeekProperlyNestedBodyElement();i&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(i,t.attrs))}function GL(e,t){const i=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&i&&(e.treeAdapter.detachNode(i),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,se.HTML),e.insertionMode=O.IN_FRAMESET)}function XL(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,se.HTML)}function QL(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&a0.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,se.HTML)}function KL(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,se.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function WL(e,t){const i=e.openElements.tmplCount>0;(!e.formElement||i)&&(e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,se.HTML),i||(e.formElement=e.openElements.current))}function ZL(e,t){e.framesetOk=!1;const i=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const u=e.openElements.tagIDs[r];if(i===m.LI&&u===m.LI||(i===m.DD||i===m.DT)&&(u===m.DD||u===m.DT)){e.openElements.generateImpliedEndTagsWithExclusion(u),e.openElements.popUntilTagNamePopped(u);break}if(u!==m.ADDRESS&&u!==m.DIV&&u!==m.P&&e._isSpecialElement(e.openElements.items[r],u))break}e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,se.HTML)}function $L(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,se.HTML),e.tokenizer.state=Lt.PLAINTEXT}function JL(e,t){e.openElements.hasInScope(m.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,se.HTML),e.framesetOk=!1}function e8(e,t){const i=e.activeFormattingElements.getElementEntryInScopeWithTagName(H.A);i&&(pm(e,t),e.openElements.remove(i.element),e.activeFormattingElements.removeEntry(i)),e._reconstructActiveFormattingElements(),e._insertElement(t,se.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function t8(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,se.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function n8(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(m.NOBR)&&(pm(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,se.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function i8(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,se.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function a8(e,t){e.treeAdapter.getDocumentMode(e.document)!==Kn.QUIRKS&&e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,se.HTML),e.framesetOk=!1,e.insertionMode=O.IN_TABLE}function FS(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,se.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function zS(e){const t=OS(e,$a.TYPE);return t!=null&&t.toLowerCase()===SL}function r8(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,se.HTML),zS(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function s8(e,t){e._appendElement(t,se.HTML),t.ackSelfClosing=!0}function u8(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._appendElement(t,se.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function l8(e,t){t.tagName=H.IMG,t.tagID=m.IMG,FS(e,t)}function o8(e,t){e._insertElement(t,se.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Lt.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=O.TEXT}function c8(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Lt.RAWTEXT)}function f8(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Lt.RAWTEXT)}function Sy(e,t){e._switchToTextParsing(t,Lt.RAWTEXT)}function d8(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,se.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===O.IN_TABLE||e.insertionMode===O.IN_CAPTION||e.insertionMode===O.IN_TABLE_BODY||e.insertionMode===O.IN_ROW||e.insertionMode===O.IN_CELL?O.IN_SELECT_IN_TABLE:O.IN_SELECT}function h8(e,t){e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,se.HTML)}function m8(e,t){e.openElements.hasInScope(m.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,se.HTML)}function p8(e,t){e.openElements.hasInScope(m.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(m.RTC),e._insertElement(t,se.HTML)}function g8(e,t){e._reconstructActiveFormattingElements(),MS(t),mm(t),t.selfClosing?e._appendElement(t,se.MATHML):e._insertElement(t,se.MATHML),t.ackSelfClosing=!0}function E8(e,t){e._reconstructActiveFormattingElements(),BS(t),mm(t),t.selfClosing?e._appendElement(t,se.SVG):e._insertElement(t,se.SVG),t.ackSelfClosing=!0}function Cy(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,se.HTML)}function ln(e,t){switch(t.tagID){case m.I:case m.S:case m.B:case m.U:case m.EM:case m.TT:case m.BIG:case m.CODE:case m.FONT:case m.SMALL:case m.STRIKE:case m.STRONG:{t8(e,t);break}case m.A:{e8(e,t);break}case m.H1:case m.H2:case m.H3:case m.H4:case m.H5:case m.H6:{QL(e,t);break}case m.P:case m.DL:case m.OL:case m.UL:case m.DIV:case m.DIR:case m.NAV:case m.MAIN:case m.MENU:case m.ASIDE:case m.CENTER:case m.FIGURE:case m.FOOTER:case m.HEADER:case m.HGROUP:case m.DIALOG:case m.DETAILS:case m.ADDRESS:case m.ARTICLE:case m.SEARCH:case m.SECTION:case m.SUMMARY:case m.FIELDSET:case m.BLOCKQUOTE:case m.FIGCAPTION:{XL(e,t);break}case m.LI:case m.DD:case m.DT:{ZL(e,t);break}case m.BR:case m.IMG:case m.WBR:case m.AREA:case m.EMBED:case m.KEYGEN:{FS(e,t);break}case m.HR:{u8(e,t);break}case m.RB:case m.RTC:{m8(e,t);break}case m.RT:case m.RP:{p8(e,t);break}case m.PRE:case m.LISTING:{KL(e,t);break}case m.XMP:{c8(e,t);break}case m.SVG:{E8(e,t);break}case m.HTML:{qL(e,t);break}case m.BASE:case m.LINK:case m.META:case m.STYLE:case m.TITLE:case m.SCRIPT:case m.BGSOUND:case m.BASEFONT:case m.TEMPLATE:{si(e,t);break}case m.BODY:{VL(e,t);break}case m.FORM:{WL(e,t);break}case m.NOBR:{n8(e,t);break}case m.MATH:{g8(e,t);break}case m.TABLE:{a8(e,t);break}case m.INPUT:{r8(e,t);break}case m.PARAM:case m.TRACK:case m.SOURCE:{s8(e,t);break}case m.IMAGE:{l8(e,t);break}case m.BUTTON:{JL(e,t);break}case m.APPLET:case m.OBJECT:case m.MARQUEE:{i8(e,t);break}case m.IFRAME:{f8(e,t);break}case m.SELECT:{d8(e,t);break}case m.OPTION:case m.OPTGROUP:{h8(e,t);break}case m.NOEMBED:case m.NOFRAMES:{Sy(e,t);break}case m.FRAMESET:{GL(e,t);break}case m.TEXTAREA:{o8(e,t);break}case m.NOSCRIPT:{e.options.scriptingEnabled?Sy(e,t):Cy(e,t);break}case m.PLAINTEXT:{$L(e,t);break}case m.COL:case m.TH:case m.TD:case m.TR:case m.HEAD:case m.FRAME:case m.TBODY:case m.TFOOT:case m.THEAD:case m.CAPTION:case m.COLGROUP:break;default:Cy(e,t)}}function _8(e,t){if(e.openElements.hasInScope(m.BODY)&&(e.insertionMode=O.AFTER_BODY,e.options.sourceCodeLocationInfo)){const i=e.openElements.tryPeekProperlyNestedBodyElement();i&&e._setEndLocation(i,t)}}function y8(e,t){e.openElements.hasInScope(m.BODY)&&(e.insertionMode=O.AFTER_BODY,ZS(e,t))}function T8(e,t){const i=t.tagID;e.openElements.hasInScope(i)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(i))}function b8(e){const t=e.openElements.tmplCount>0,{formElement:i}=e;t||(e.formElement=null),(i||t)&&e.openElements.hasInScope(m.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(m.FORM):i&&e.openElements.remove(i))}function S8(e){e.openElements.hasInButtonScope(m.P)||e._insertFakeElement(H.P,m.P),e._closePElement()}function C8(e){e.openElements.hasInListItemScope(m.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(m.LI),e.openElements.popUntilTagNamePopped(m.LI))}function A8(e,t){const i=t.tagID;e.openElements.hasInScope(i)&&(e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i))}function v8(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function x8(e,t){const i=t.tagID;e.openElements.hasInScope(i)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(i),e.activeFormattingElements.clearToLastMarker())}function N8(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(H.BR,m.BR),e.openElements.pop(),e.framesetOk=!1}function jS(e,t){const i=t.tagName,r=t.tagID;for(let u=e.openElements.stackTop;u>0;u--){const o=e.openElements.items[u],c=e.openElements.tagIDs[u];if(r===c&&(r!==m.UNKNOWN||e.treeAdapter.getTagName(o)===i)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=u&&e.openElements.shortenToLength(u);break}if(e._isSpecialElement(o,c))break}}function Ic(e,t){switch(t.tagID){case m.A:case m.B:case m.I:case m.S:case m.U:case m.EM:case m.TT:case m.BIG:case m.CODE:case m.FONT:case m.NOBR:case m.SMALL:case m.STRIKE:case m.STRONG:{pm(e,t);break}case m.P:{S8(e);break}case m.DL:case m.UL:case m.OL:case m.DIR:case m.DIV:case m.NAV:case m.PRE:case m.MAIN:case m.MENU:case m.ASIDE:case m.BUTTON:case m.CENTER:case m.FIGURE:case m.FOOTER:case m.HEADER:case m.HGROUP:case m.DIALOG:case m.ADDRESS:case m.ARTICLE:case m.DETAILS:case m.SEARCH:case m.SECTION:case m.SUMMARY:case m.LISTING:case m.FIELDSET:case m.BLOCKQUOTE:case m.FIGCAPTION:{T8(e,t);break}case m.LI:{C8(e);break}case m.DD:case m.DT:{A8(e,t);break}case m.H1:case m.H2:case m.H3:case m.H4:case m.H5:case m.H6:{v8(e);break}case m.BR:{N8(e);break}case m.BODY:{_8(e,t);break}case m.HTML:{y8(e,t);break}case m.FORM:{b8(e);break}case m.APPLET:case m.OBJECT:case m.MARQUEE:{x8(e,t);break}case m.TEMPLATE:{sr(e,t);break}default:jS(e,t)}}function YS(e,t){e.tmplInsertionModeStack.length>0?WS(e,t):gm(e,t)}function R8(e,t){var i;t.tagID===m.SCRIPT&&((i=e.scriptHandler)===null||i===void 0||i.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function O8(e,t){e._err(t,K.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Ah(e,t){if(e.openElements.currentTagId!==void 0&&PS.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=O.IN_TABLE_TEXT,t.type){case ze.CHARACTER:{VS(e,t);break}case ze.WHITESPACE_CHARACTER:{qS(e,t);break}}else hl(e,t)}function I8(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,se.HTML),e.insertionMode=O.IN_CAPTION}function D8(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,se.HTML),e.insertionMode=O.IN_COLUMN_GROUP}function L8(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(H.COLGROUP,m.COLGROUP),e.insertionMode=O.IN_COLUMN_GROUP,Em(e,t)}function k8(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,se.HTML),e.insertionMode=O.IN_TABLE_BODY}function w8(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(H.TBODY,m.TBODY),e.insertionMode=O.IN_TABLE_BODY,Dc(e,t)}function M8(e,t){e.openElements.hasInTableScope(m.TABLE)&&(e.openElements.popUntilTagNamePopped(m.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function B8(e,t){zS(t)?e._appendElement(t,se.HTML):hl(e,t),t.ackSelfClosing=!0}function P8(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,se.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function cs(e,t){switch(t.tagID){case m.TD:case m.TH:case m.TR:{w8(e,t);break}case m.STYLE:case m.SCRIPT:case m.TEMPLATE:{si(e,t);break}case m.COL:{L8(e,t);break}case m.FORM:{P8(e,t);break}case m.TABLE:{M8(e,t);break}case m.TBODY:case m.TFOOT:case m.THEAD:{k8(e,t);break}case m.INPUT:{B8(e,t);break}case m.CAPTION:{I8(e,t);break}case m.COLGROUP:{D8(e,t);break}default:hl(e,t)}}function nl(e,t){switch(t.tagID){case m.TABLE:{e.openElements.hasInTableScope(m.TABLE)&&(e.openElements.popUntilTagNamePopped(m.TABLE),e._resetInsertionMode());break}case m.TEMPLATE:{sr(e,t);break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TBODY:case m.TD:case m.TFOOT:case m.TH:case m.THEAD:case m.TR:break;default:hl(e,t)}}function hl(e,t){const i=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Oc(e,t),e.fosterParentingEnabled=i}function qS(e,t){e.pendingCharacterTokens.push(t)}function VS(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Au(e,t){let i=0;if(e.hasNonWhitespacePendingCharacterToken)for(;i<e.pendingCharacterTokens.length;i++)hl(e,e.pendingCharacterTokens[i]);else for(;i<e.pendingCharacterTokens.length;i++)e._insertCharacters(e.pendingCharacterTokens[i]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const GS=new Set([m.CAPTION,m.COL,m.COLGROUP,m.TBODY,m.TD,m.TFOOT,m.TH,m.THEAD,m.TR]);function U8(e,t){const i=t.tagID;GS.has(i)?e.openElements.hasInTableScope(m.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=O.IN_TABLE,cs(e,t)):ln(e,t)}function H8(e,t){const i=t.tagID;switch(i){case m.CAPTION:case m.TABLE:{e.openElements.hasInTableScope(m.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=O.IN_TABLE,i===m.TABLE&&nl(e,t));break}case m.BODY:case m.COL:case m.COLGROUP:case m.HTML:case m.TBODY:case m.TD:case m.TFOOT:case m.TH:case m.THEAD:case m.TR:break;default:Ic(e,t)}}function Em(e,t){switch(t.tagID){case m.HTML:{ln(e,t);break}case m.COL:{e._appendElement(t,se.HTML),t.ackSelfClosing=!0;break}case m.TEMPLATE:{si(e,t);break}default:cc(e,t)}}function F8(e,t){switch(t.tagID){case m.COLGROUP:{e.openElements.currentTagId===m.COLGROUP&&(e.openElements.pop(),e.insertionMode=O.IN_TABLE);break}case m.TEMPLATE:{sr(e,t);break}case m.COL:break;default:cc(e,t)}}function cc(e,t){e.openElements.currentTagId===m.COLGROUP&&(e.openElements.pop(),e.insertionMode=O.IN_TABLE,e._processToken(t))}function Dc(e,t){switch(t.tagID){case m.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,se.HTML),e.insertionMode=O.IN_ROW;break}case m.TH:case m.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(H.TR,m.TR),e.insertionMode=O.IN_ROW,Lc(e,t);break}case m.CAPTION:case m.COL:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE,cs(e,t));break}default:cs(e,t)}}function s0(e,t){const i=t.tagID;switch(t.tagID){case m.TBODY:case m.TFOOT:case m.THEAD:{e.openElements.hasInTableScope(i)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE);break}case m.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE,nl(e,t));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TD:case m.TH:case m.TR:break;default:nl(e,t)}}function Lc(e,t){switch(t.tagID){case m.TH:case m.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,se.HTML),e.insertionMode=O.IN_CELL,e.activeFormattingElements.insertMarker();break}case m.CAPTION:case m.COL:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:case m.TR:{e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE_BODY,Dc(e,t));break}default:cs(e,t)}}function XS(e,t){switch(t.tagID){case m.TR:{e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE_BODY);break}case m.TABLE:{e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE_BODY,s0(e,t));break}case m.TBODY:case m.TFOOT:case m.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(m.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE_BODY,s0(e,t));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TD:case m.TH:break;default:nl(e,t)}}function z8(e,t){const i=t.tagID;GS.has(i)?(e.openElements.hasInTableScope(m.TD)||e.openElements.hasInTableScope(m.TH))&&(e._closeTableCell(),Lc(e,t)):ln(e,t)}function j8(e,t){const i=t.tagID;switch(i){case m.TD:case m.TH:{e.openElements.hasInTableScope(i)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(i),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=O.IN_ROW);break}case m.TABLE:case m.TBODY:case m.TFOOT:case m.THEAD:case m.TR:{e.openElements.hasInTableScope(i)&&(e._closeTableCell(),XS(e,t));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:break;default:Ic(e,t)}}function QS(e,t){switch(t.tagID){case m.HTML:{ln(e,t);break}case m.OPTION:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e._insertElement(t,se.HTML);break}case m.OPTGROUP:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e.openElements.currentTagId===m.OPTGROUP&&e.openElements.pop(),e._insertElement(t,se.HTML);break}case m.HR:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e.openElements.currentTagId===m.OPTGROUP&&e.openElements.pop(),e._appendElement(t,se.HTML),t.ackSelfClosing=!0;break}case m.INPUT:case m.KEYGEN:case m.TEXTAREA:case m.SELECT:{e.openElements.hasInSelectScope(m.SELECT)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),t.tagID!==m.SELECT&&e._processStartTag(t));break}case m.SCRIPT:case m.TEMPLATE:{si(e,t);break}}}function KS(e,t){switch(t.tagID){case m.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===m.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===m.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===m.OPTGROUP&&e.openElements.pop();break}case m.OPTION:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop();break}case m.SELECT:{e.openElements.hasInSelectScope(m.SELECT)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode());break}case m.TEMPLATE:{sr(e,t);break}}}function Y8(e,t){const i=t.tagID;i===m.CAPTION||i===m.TABLE||i===m.TBODY||i===m.TFOOT||i===m.THEAD||i===m.TR||i===m.TD||i===m.TH?(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),e._processStartTag(t)):QS(e,t)}function q8(e,t){const i=t.tagID;i===m.CAPTION||i===m.TABLE||i===m.TBODY||i===m.TFOOT||i===m.THEAD||i===m.TR||i===m.TD||i===m.TH?e.openElements.hasInTableScope(i)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),e.onEndTag(t)):KS(e,t)}function V8(e,t){switch(t.tagID){case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:case m.NOFRAMES:case m.SCRIPT:case m.STYLE:case m.TEMPLATE:case m.TITLE:{si(e,t);break}case m.CAPTION:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:{e.tmplInsertionModeStack[0]=O.IN_TABLE,e.insertionMode=O.IN_TABLE,cs(e,t);break}case m.COL:{e.tmplInsertionModeStack[0]=O.IN_COLUMN_GROUP,e.insertionMode=O.IN_COLUMN_GROUP,Em(e,t);break}case m.TR:{e.tmplInsertionModeStack[0]=O.IN_TABLE_BODY,e.insertionMode=O.IN_TABLE_BODY,Dc(e,t);break}case m.TD:case m.TH:{e.tmplInsertionModeStack[0]=O.IN_ROW,e.insertionMode=O.IN_ROW,Lc(e,t);break}default:e.tmplInsertionModeStack[0]=O.IN_BODY,e.insertionMode=O.IN_BODY,ln(e,t)}}function G8(e,t){t.tagID===m.TEMPLATE&&sr(e,t)}function WS(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(m.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):gm(e,t)}function X8(e,t){t.tagID===m.HTML?ln(e,t):fc(e,t)}function ZS(e,t){var i;if(t.tagID===m.HTML){if(e.fragmentContext||(e.insertionMode=O.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===m.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((i=e.treeAdapter.getNodeSourceCodeLocation(r))===null||i===void 0)&&i.endTag)&&e._setEndLocation(r,t)}}else fc(e,t)}function fc(e,t){e.insertionMode=O.IN_BODY,Oc(e,t)}function Q8(e,t){switch(t.tagID){case m.HTML:{ln(e,t);break}case m.FRAMESET:{e._insertElement(t,se.HTML);break}case m.FRAME:{e._appendElement(t,se.HTML),t.ackSelfClosing=!0;break}case m.NOFRAMES:{si(e,t);break}}}function K8(e,t){t.tagID===m.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==m.FRAMESET&&(e.insertionMode=O.AFTER_FRAMESET))}function W8(e,t){switch(t.tagID){case m.HTML:{ln(e,t);break}case m.NOFRAMES:{si(e,t);break}}}function Z8(e,t){t.tagID===m.HTML&&(e.insertionMode=O.AFTER_AFTER_FRAMESET)}function $8(e,t){t.tagID===m.HTML?ln(e,t):qo(e,t)}function qo(e,t){e.insertionMode=O.IN_BODY,Oc(e,t)}function J8(e,t){switch(t.tagID){case m.HTML:{ln(e,t);break}case m.NOFRAMES:{si(e,t);break}}}function ek(e,t){t.chars=vt,e._insertCharacters(t)}function tk(e,t){e._insertCharacters(t),e.framesetOk=!1}function $S(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==se.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function nk(e,t){if(EL(t))$S(e),e._startTagOutsideForeignContent(t);else{const i=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(i);r===se.MATHML?MS(t):r===se.SVG&&(_L(t),BS(t)),mm(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function ik(e,t){if(t.tagID===m.P||t.tagID===m.BR){$S(e),e._endTagOutsideForeignContent(t);return}for(let i=e.openElements.stackTop;i>0;i--){const r=e.openElements.items[i];if(e.treeAdapter.getNamespaceURI(r)===se.HTML){e._endTagOutsideForeignContent(t);break}const u=e.treeAdapter.getTagName(r);if(u.toLowerCase()===t.tagName){t.tagName=u,e.openElements.shortenToLength(i);break}}}H.AREA,H.BASE,H.BASEFONT,H.BGSOUND,H.BR,H.COL,H.EMBED,H.FRAME,H.HR,H.IMG,H.INPUT,H.KEYGEN,H.LINK,H.META,H.PARAM,H.SOURCE,H.TRACK,H.WBR;const ak=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,rk=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),Ay={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function JS(e,t){const i=pk(e),r=AS("type",{handlers:{root:sk,element:uk,text:lk,comment:tC,doctype:ok,raw:fk},unknown:dk}),u={parser:i?new by(Ay):by.getFragmentParser(void 0,Ay),handle(h){r(h,u)},stitches:!1,options:t||{}};r(e,u),bs(u,pi());const o=i?u.parser.document:u.parser.getFragment(),c=s5(o,{file:u.options.file});return u.stitches&&om(c,"comment",function(h,p,g){const E=h;if(E.value.stitch&&g&&p!==void 0){const T=g.children;return T[p]=E.value.stitch,p}}),c.type==="root"&&c.children.length===1&&c.children[0].type===e.type?c.children[0]:c}function eC(e,t){let i=-1;if(e)for(;++i<e.length;)t.handle(e[i])}function sk(e,t){eC(e.children,t)}function uk(e,t){hk(e,t),eC(e.children,t),mk(e,t)}function lk(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const i={type:ze.CHARACTER,chars:e.value,location:ml(e)};bs(t,pi(e)),t.parser.currentToken=i,t.parser._processToken(t.parser.currentToken)}function ok(e,t){const i={type:ze.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:ml(e)};bs(t,pi(e)),t.parser.currentToken=i,t.parser._processToken(t.parser.currentToken)}function ck(e,t){t.stitches=!0;const i=gk(e);if("children"in e&&"children"in i){const r=JS({type:"root",children:e.children},t.options);i.children=r.children}tC({type:"comment",value:{stitch:i}},t)}function tC(e,t){const i=e.value,r={type:ze.COMMENT,data:i,location:ml(e)};bs(t,pi(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function fk(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,nC(t,pi(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(ak,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const i=t.parser.tokenizer._consume();t.parser.tokenizer._callState(i)}}function dk(e,t){const i=e;if(t.options.passThrough&&t.options.passThrough.includes(i.type))ck(i,t);else{let r="";throw rk.has(i.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+i.type+"` node"+r)}}function bs(e,t){nC(e,t);const i=e.parser.tokenizer.currentCharacterToken;i&&i.location&&(i.location.endLine=e.parser.tokenizer.preprocessor.line,i.location.endCol=e.parser.tokenizer.preprocessor.col+1,i.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=i,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Lt.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function nC(e,t){if(t&&t.offset!==void 0){const i={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=i}}function hk(e,t){const i=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Lt.PLAINTEXT)return;bs(t,pi(e));const r=t.parser.openElements.current;let u="namespaceURI"in r?r.namespaceURI:Za.html;u===Za.html&&i==="svg"&&(u=Za.svg);const o=b5({...e,children:[]},{space:u===Za.svg?"svg":"html"}),c={type:ze.START_TAG,tagName:i,tagID:Ts(i),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in o?o.attrs:[],location:ml(e)};t.parser.currentToken=c,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=i}function mk(e,t){const i=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&O5.includes(i)||t.parser.tokenizer.state===Lt.PLAINTEXT)return;bs(t,vc(e));const r={type:ze.END_TAG,tagName:i,tagID:Ts(i),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:ml(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),i===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Lt.RCDATA||t.parser.tokenizer.state===Lt.RAWTEXT||t.parser.tokenizer.state===Lt.SCRIPT_DATA)&&(t.parser.tokenizer.state=Lt.DATA)}function pk(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function ml(e){const t=pi(e)||{line:void 0,column:void 0,offset:void 0},i=vc(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:i.line,endCol:i.column,endOffset:i.offset}}function gk(e){return"children"in e?os({...e,children:[]}):os(e)}function Ek(e){return function(t,i){return JS(t,{...e,file:i})}}const _k=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yk=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),vy=e=>{const t=yk(e);return t.charAt(0).toUpperCase()+t.slice(1)},iC=(...e)=>e.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),Tk=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var bk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Sk=ue.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:u="",children:o,iconNode:c,...h},p)=>ue.createElement("svg",{ref:p,...bk,width:t,height:t,stroke:e,strokeWidth:r?Number(i)*24/Number(t):i,className:iC("lucide",u),...!o&&!Tk(h)&&{"aria-hidden":"true"},...h},[...c.map(([g,E])=>ue.createElement(g,E)),...Array.isArray(o)?o:[o]]));const Ht=(e,t)=>{const i=ue.forwardRef(({className:r,...u},o)=>ue.createElement(Sk,{ref:o,iconNode:t,className:iC(`lucide-${_k(vy(e))}`,`lucide-${e}`,r),...u}));return i.displayName=vy(e),i};const Ck=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Ak=Ht("book",Ck);const vk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xk=Ht("circle-alert",vk);const Nk=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Rk=Ht("eye-off",Nk);const Ok=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ik=Ht("eye",Ok);const Dk=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Lk=Ht("folder-open",Dk);const kk=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],wk=Ht("pen",kk);const Mk=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Bk=Ht("play",Mk);const Pk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],u0=Ht("plus",Pk);const Uk=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Hk=Ht("refresh-cw",Uk);const Fk=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],xy=Ht("rotate-ccw",Fk);const zk=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],jk=Ht("save",zk);const Yk=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],qk=Ht("scroll",Yk);const Vk=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gk=Ht("settings",Vk);const Xk=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Qk=Ht("shield",Xk);const Kk=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Wk=Ht("shopping-cart",Kk);const Zk=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],$k=Ht("skip-forward",Zk);const Jk=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],ew=Ht("skull",Jk);const tw=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],nw=Ht("sword",tw);const iw=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ny=Ht("trash-2",iw);const aw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],l0=Ht("users",aw),rw="Move additional distance equal to your movement speed this turn.",sw="Your movement doesn't provoke Opportunity attacks for the rest of the turn.",uw="Until the start of your next turn, attack rolls against you have Disadvantage, and you make Dexterity saving throws with Advantage. You lose this benfit if you have the Incapacitated condition or if your Speed is 0.",lw="Help another creatures ability check or attack roll, or administer first aid.",ow="Make a Dexterity (Stealth) check.",cw="Make a Charisma (Deception, Intimidation, Performance, or Persuasion) or Wisdom (Animal Handling) check to alter a creatures attitude.",fw="Prepare to take an action in response to a trigger you define.",dw="Make a Wisdom (Insight, Medicine, Perception, or Survival) check.",hw="Make an Intelligence (Arcana, History, Investigation, Nature, or Religion) check",mw="Use a nonmagical object.",pw={Dash:rw,Disengage:sw,Dodge:uw,Help:lw,Hide:ow,Influence:cw,Ready:fw,Search:dw,Study:hw,Utilise:mw},Ry=pw,gw={0:10,.125:25,.25:50,.5:100,1:200,2:450,3:700,4:1100,5:1800,6:2300,7:2900,8:3900,9:5e3,10:5900,11:7200,12:8400,13:1e4,14:11500,15:13e3,16:15e3,17:18e3,18:2e4,19:22e3,20:25e3,21:33e3,22:41e3,23:5e4,24:62e3,25:75e3,26:9e4,27:105e3,28:12e4,29:135e3,30:155e3},Oy=e=>e!==void 0?e.toLocaleString():"N/A",Iy=e=>e>=0?`+${e}`:e.toString(),Ew=e=>({"0.125":"1/8","0.25":"1/4","0.5":"1/2"})[String(e)]??e?.toString()??"N/A";function dc(e){if(!e)return null;const t=Object.keys(Ry).map(u=>u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"));if(!t.length)return _.jsx(ay,{children:e});const i=new RegExp(`\\b(${t.join("|")})\\b`,"gi"),r=e.replace(i,u=>{const o=Ry[u];return o?`<span title="${o}" style="text-decoration:underline dotted;cursor:help;">${u}</span>`:u});return _.jsx(ay,{rehypePlugins:[Ek],components:{p:({...u})=>_.jsx("p",{style:{margin:"2px 0"},...u})},children:r})}const Uo=e=>e&&e.length?e.map((t,i)=>_.jsxs("div",{style:{marginBottom:4},children:[t.name&&_.jsx("div",{style:{fontWeight:"bold"},children:dc(t.name)}),_.jsx("div",{children:dc(t.desc)})]},i)):"None",_w=e=>{if(!e)return null;const t=["str","dex","con","int","wis","cha"];return _.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:4,marginTop:4},children:t.map(i=>{const r=e[i];return r?_.jsxs("div",{style:{border:"1px solid #999",borderRadius:4,padding:4,fontSize:"1em",textAlign:"center",background:"#f7f7f7"},children:[_.jsx("div",{style:{fontWeight:"bold"},children:i.toUpperCase()}),_.jsxs("div",{children:[r.score," (",Iy(r.mod),")"]}),_.jsxs("div",{children:["Save: ",Iy(r.save)]})]},i):null})})},vu=({title:e,visible:t,toggle:i,children:r})=>_.jsxs("div",{style:{marginTop:4},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",cursor:"pointer",gap:4,fontWeight:"bold"},onClick:i,children:[_.jsx("span",{children:e}),t?_.jsx(Ik,{size:14}):_.jsx(Rk,{size:14})]}),_.jsx("div",{style:{height:1,backgroundColor:"#999",margin:"2px 0 2px"}}),t&&_.jsx("div",{children:r})]});function yw({monster:e}){const[t,i]=ue.useState(!0),[r,u]=ue.useState(!0),[o,c]=ue.useState(!0),[h,p]=ue.useState(!0),[g,E]=ue.useState(!0),T=gw[e.challengeRating]??0,b=e.xp??T,S=Oy(b),w=Oy(e.lairXp),Q=Z=>Z&&Z.length?Z.join(", "):"None";return _.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12,border:"2px solid #333",borderRadius:8,padding:8,width:"99%",fontSize:"0.75em",lineHeight:1.2,background:"#fff"},children:[e.image&&_.jsx("div",{style:{textAlign:"center",marginBottom:8},children:_.jsx("img",{src:e.image,alt:e.name,style:{maxWidth:"100%",height:"auto",borderRadius:4}})}),_.jsxs("div",{style:{display:"flex",gap:12,width:"100%"},children:[_.jsxs("div",{style:{flex:"1 1 0",display:"flex",flexDirection:"column",gap:4},children:[_.jsx("h2",{style:{margin:0,fontSize:"1.2em"},children:e.name}),_.jsxs("div",{style:{fontSize:"0.8em",opacity:.8},children:[e.size?`${e.size} `:"",e.type,e.tags?`  ${e.tags.join(", ")}`:"",e.alignment?`  ${e.alignment}`:""]}),_.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",marginTop:2},children:[_.jsxs("div",{children:[_.jsx("strong",{children:"AC:"})," ",e.armorClass??"N/A"]}),_.jsxs("div",{children:[_.jsx("strong",{children:"HP:"})," ",e.hitPoints??"N/A"," ",e.hitDice&&`(${e.hitDice})`]}),e.initiative!==void 0&&_.jsxs("div",{children:[_.jsx("strong",{children:"Init:"})," +",e.initiative,e.initiativeAverage!==void 0&&` (${e.initiativeAverage})`]})]}),_.jsxs("div",{style:{marginTop:2},children:[_.jsx("strong",{children:"CR:"})," ",Ew(e.challengeRating)," (",S,e.lairXp!==void 0&&` / ${w} in lair`,")"]}),e.speed&&_.jsxs("div",{style:{marginTop:2},children:[_.jsx("strong",{children:"Speed:"})," ",Object.entries(e.speed).filter(([,Z])=>Z!==null).map(([Z,q])=>`${Z} ${q} ft.`).join(", ")]}),_w(e.abilities),_.jsxs("div",{style:{marginTop:4},children:[e.skills&&_.jsxs("div",{children:[_.jsx("strong",{children:"Skills:"})," ",Q(Object.entries(e.skills).map(([Z,q])=>`${Z} +${q}`))]}),e.senses&&_.jsxs("div",{children:[_.jsx("strong",{children:"Senses:"})," ",Q(e.senses)]}),e.languages&&_.jsxs("div",{children:[_.jsx("strong",{children:"Languages:"})," ",Q(e.languages)]}),e.immunities&&_.jsxs("div",{children:[_.jsx("strong",{children:"Immunities:"})," ",Q(e.immunities)]})]}),e.traits?.length>0&&_.jsx(vu,{title:"Traits",visible:t,toggle:()=>i(!t),children:Uo(e.traits)}),e.actions?.length>0&&_.jsx(vu,{title:"Actions",visible:r,toggle:()=>u(!r),children:Uo(e.actions)})]}),_.jsxs("div",{style:{flex:"1 1 0",display:"flex",flexDirection:"column",gap:4},children:[e.bonusActions?.length>0&&_.jsx(vu,{title:"Bonus Actions",visible:o,toggle:()=>c(!o),children:Uo(e.bonusActions)}),e.reactions?.length>0&&_.jsx(vu,{title:"Reactions",visible:h,toggle:()=>p(!h),children:Uo(e.reactions)}),e.legendaryActions?.length>0&&_.jsxs(vu,{title:"Legendary Actions",visible:g,toggle:()=>E(!g),children:[e.legendarySubtitle&&_.jsx("div",{style:{fontStyle:"italic",marginBottom:4},children:e.legendarySubtitle}),e.legendaryActions.map((Z,q)=>_.jsxs("div",{style:{marginBottom:4},children:[Z.name&&_.jsx("div",{style:{fontWeight:"bold"},children:dc(Z.name)}),_.jsx("div",{children:dc(Z.desc)})]},q))]})]})]})]})}function Tw(){const t=Object.values(Object.assign({"./StatBlocks/axebeak-matriarch.json":Q0,"./StatBlocks/dragon-black-adult.json":K0,"./StatBlocks/goblin-minion.json":W0})).map(F=>F.default),[i,r]=ue.useState(""),[u,o]=ue.useState(null),[c,h]=ue.useState("All"),[p,g]=ue.useState("All"),[E,T]=ue.useState("All"),[b,S]=ue.useState("All"),[w,Q]=ue.useState(!1),Z=ue.useMemo(()=>t.filter(F=>{const ye=F.name.toLowerCase().includes(i.toLowerCase())||F.type.toLowerCase().includes(i.toLowerCase())||(F.alignment?.toLowerCase().includes(i.toLowerCase())??!1),ve=c==="All"||F.size===c,G=p==="All"||F.challengeRating!==void 0&&F.challengeRating.toString()===p,de=E==="All"||F.type===E,Se=b==="All"||F.alignment===b;return ye&&ve&&G&&de&&Se}),[i,c,p,E,b,t]),q=F=>Array.from(new Set(t.map(ye=>ye[F]).filter(Boolean))),oe=Array.from(new Set(t.map(F=>F.challengeRating!==void 0?F.challengeRating.toString():null).filter(Boolean))).sort((F,ye)=>Number(F)-Number(ye));return _.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",gap:10,padding:10},children:[_.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:10,alignItems:"center",padding:"6px 10px",borderRadius:6,background:"#f5f5f5",border:"1px solid #ccc",width:"100%",boxSizing:"border-box"},children:[_.jsxs("select",{value:u?.name||"",onChange:F=>{const ye=t.find(ve=>ve.name===F.target.value);o(ye??null)},style:{padding:"6px 8px",borderRadius:4,minWidth:180},children:[_.jsx("option",{value:"",children:"Select Monster"}),Z.map(F=>_.jsx("option",{value:F.name,children:F.name},F.name))]}),_.jsx("input",{type:"text",placeholder:"Search by name, type, alignment",value:i,onChange:F=>r(F.target.value),style:{padding:"6px 8px",borderRadius:4,flex:1,minWidth:200}}),_.jsx("button",{style:{padding:"6px 12px",borderRadius:4,cursor:"pointer"},onClick:()=>Q(!w),children:w?"Hide Filters":"Show Filters"})]}),w&&_.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:10,padding:"6px 10px",borderRadius:6,background:"#fafafa",border:"1px solid #ddd"},children:[_.jsxs("select",{value:c,onChange:F=>h(F.target.value),children:[_.jsx("option",{value:"All",children:"All Sizes"}),q("size").map(F=>_.jsx("option",{value:F,children:F},F))]}),_.jsxs("select",{value:p,onChange:F=>g(F.target.value),children:[_.jsx("option",{value:"All",children:"All CRs"}),oe.map(F=>_.jsx("option",{value:F??"",children:F},F??""))]}),_.jsxs("select",{value:E,onChange:F=>T(F.target.value),children:[_.jsx("option",{value:"All",children:"All Types"}),q("type").map(F=>_.jsx("option",{value:F,children:F},F))]}),_.jsxs("select",{value:b,onChange:F=>S(F.target.value),children:[_.jsx("option",{value:"All",children:"All Alignments"}),q("alignment").map(F=>_.jsx("option",{value:F,children:F},F))]})]}),_.jsx("div",{style:{display:"flex",flexDirection:"column",flex:1,gap:10,width:"100%"},children:u?_.jsxs(_.Fragment,{children:[_.jsx("div",{style:{flex:"1 1 auto",minWidth:0},children:_.jsx(yw,{monster:u})}),u.imageUrl&&_.jsx("div",{style:{textAlign:"center",marginTop:10},children:_.jsx("img",{src:u.imageUrl,alt:u.name,style:{maxWidth:"100%",height:"auto",borderRadius:4}})})]}):_.jsx("p",{children:"Select a monster from the dropdown above."})})]})}const Pi={saveCharacter:async(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},loadCharacter:async e=>{const t=localStorage.getItem(e);return t?JSON.parse(t):null},listCharacters:async()=>Object.keys(localStorage).filter(e=>e.endsWith(".json")),deleteCharacter:async e=>(localStorage.removeItem(e),!0)},Ho=[0,300,900,2700,6500,14e3,23e3,34e3,48e3,64e3,85e3,1e5,12e4,14e4,165e3,195e3,225e3,265e3,305e3,355e3];function bw(){const[e,t]=ue.useState([]),[i,r]=ue.useState(null),[u,o]=ue.useState(!1),[c,h]=ue.useState(!1),[p,g]=ue.useState(""),[E,T]=ue.useState("All"),[b,S]=ue.useState("All"),[w,Q]=ue.useState("All"),Z={name:"",playerName:"",species:"",class:"",party:"",level:1,currentHP:10,maxHP:10,ac:10,initiative:0,proficiency:2,stats:{str:10,dex:10,con:10,int:10,wis:10,cha:10},savingThrows:{str:0,dex:0,con:0,int:0,wis:0,cha:0},passives:{perception:10,investigation:10,insight:10},xp:0,imageUrl:""},q=D=>{for(let ee=Ho.length-1;ee>=0;ee--)if(D>=Ho[ee])return ee+1;return 1},oe=D=>{localStorage.setItem("characterSheets_all",JSON.stringify(D))},F=async()=>{try{const D=await Pi.listCharacters(),ee=[];for(const Te of D){const Ae=await Pi.loadCharacter(Te);Ae&&ee.push({...Ae,filename:Te})}console.log("Reloaded characters:",ee),t(ee)}catch(D){console.error(D)}};ue.useEffect(()=>{F();const D=()=>{console.log("Character update event received, reloading..."),setTimeout(()=>{F()},100)};window.addEventListener("characterSheetsUpdated",D);const ee=Te=>{Te.key==="characterSheets_all"&&(console.log("Storage change detected, reloading characters..."),F())};return window.addEventListener("storage",ee),()=>{window.removeEventListener("characterSheetsUpdated",D),window.removeEventListener("storage",ee)}},[]),ue.useEffect(()=>{oe(e)},[e]);const ye=async()=>{const D=`Unnamed_${Date.now()}.json`,ee={...Z,filename:D};await Pi.saveCharacter(D,ee),t(Te=>[...Te,ee]),r(ee.filename||null),o(!1)},ve=async()=>{V&&(V.filename&&await Pi.deleteCharacter(V.filename),t(D=>D.filter(ee=>ee.filename!==V.filename)),r(null))},G=(D,ee)=>{V&&t(Te=>{const Ae=Te.map(Ue=>Ue.filename===V.filename?{...Ue,[D]:ee}:Ue),We=Ae.find(Ue=>Ue.filename===V.filename);return V.filename&&We&&Pi.saveCharacter(V.filename,We),Ae})},de=(D,ee,Te)=>{V&&t(Ae=>{const We=Ae.map(Ct=>Ct.filename===V.filename?{...Ct,[D]:{...Ct[D],[ee]:Te}}:Ct),Ue=We.find(Ct=>Ct.filename===V.filename);return V.filename&&Ue&&Pi.saveCharacter(V.filename,Ue),We})},Se=D=>{V&&t(ee=>{const Te=ee.map(We=>{if(We.filename!==V.filename)return We;const Ue=Math.max(0,D);return{...We,xp:Ue,level:q(Ue)}}),Ae=Te.find(We=>We.filename===V.filename);return V.filename&&Ae&&Pi.saveCharacter(V.filename,Ae),Te})},Oe=D=>{if(!V)return;const ee=Math.max(1,Math.min(D,Ho.length)),Te=Ho[ee-1];t(Ae=>{const We=Ae.map(Ct=>Ct.filename===V.filename?{...Ct,level:ee,xp:Te}:Ct),Ue=We.find(Ct=>Ct.filename===V.filename);return V.filename&&Ue&&Pi.saveCharacter(V.filename,Ue),We})},xe=()=>{if(!V){alert("Please select a character first!");return}const D=new Blob([JSON.stringify(V,null,2)],{type:"application/json"}),ee=URL.createObjectURL(D),Te=document.createElement("a");Te.href=ee,Te.download=`${V.name||"Unnamed"}.json`,Te.click(),URL.revokeObjectURL(ee)},Ee=D=>{const ee=D.target.files?.[0];if(!ee)return;const Te=new FileReader;Te.onload=async Ae=>{try{const We=JSON.parse(Ae.target?.result),Ue=`Imported_${Date.now()}.json`,Ct={...Z,...We,filename:Ue};await Pi.saveCharacter(Ue,Ct),t(Vi=>[...Vi,Ct]),r(Ct.filename||null),o(!1)}catch(We){alert("Invalid JSON file."),console.error(We)}},Te.readAsText(ee),D.target.value=""},V=e.find(D=>D.filename===i)||null,Le=D=>D>=0?`+${D}`:D.toString(),re=e.filter(D=>{const ee=D.name.toLowerCase().includes(p.toLowerCase())||D.species.toLowerCase().includes(p.toLowerCase())||D.party.toLowerCase().includes(p.toLowerCase()),Te=E==="All"||D.species===E,Ae=b==="All"||D.level.toString()===b,We=w==="All"||D.party===w;return ee&&Te&&Ae&&We}),ie={width:"100%",minWidth:200,maxWidth:600,margin:"0 auto",padding:20,border:"2px solid #333",borderRadius:8,background:"#fafafa",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},P={display:"flex",gap:10,flexWrap:"wrap",justifyContent:"center"},k={flex:"1 1 45%",minWidth:120,textAlign:"center"},te={flex:"1 1 30%",minWidth:80,textAlign:"center"},he={fontWeight:"bold"},x={padding:6,border:"1px solid #ccc",borderRadius:4,width:"100%"},R={padding:4,border:"1px solid #ccc",borderRadius:4,width:60,textAlign:"center"},W={fontWeight:"bold",fontSize:16,borderBottom:"1px solid #aaa",marginBottom:6,paddingBottom:4,textAlign:"center"},v={padding:"6px 12px",borderRadius:4,border:"1px solid #333",cursor:"pointer",background:"#f0f0f0",textAlign:"center",fontFamily:"inherit",fontSize:"inherit"},_e={...v,background:"#ff4d4f",color:"#fff",border:"1px solid #ff0000"},U={display:"flex",gap:10,justifyContent:"center",flexWrap:"nowrap"};return _.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",boxSizing:"border-box"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,padding:10,background:"#fafafa",borderBottom:"2px solid #333",flexWrap:"wrap"},children:[_.jsxs("select",{value:i||"",onChange:D=>r(D.target.value),style:{padding:6,borderRadius:4},children:[_.jsx("option",{value:"",children:"Select Character"}),re.map(D=>_.jsx("option",{value:D.filename,children:D.name||"Unnamed"},D.filename))]}),_.jsx("button",{style:v,onClick:()=>h(!c),children:c?"Hide Filters":"Show Filters"}),c&&_.jsxs(_.Fragment,{children:[_.jsx("input",{type:"text",placeholder:"Search",value:p,onChange:D=>g(D.target.value),style:{padding:6,borderRadius:4,border:"1px solid #ccc"}}),_.jsxs("select",{value:E,onChange:D=>T(D.target.value),style:{padding:6,borderRadius:4},children:[_.jsx("option",{value:"All",children:"All Species"}),Array.from(new Set(e.map(D=>D.species).filter(Boolean))).map(D=>_.jsx("option",{value:D,children:D},D))]}),_.jsxs("select",{value:b,onChange:D=>S(D.target.value),style:{padding:6,borderRadius:4},children:[_.jsx("option",{value:"All",children:"All Levels"}),Array.from(new Set(e.map(D=>D.level))).sort((D,ee)=>D-ee).map(D=>_.jsx("option",{value:D,children:D},D))]}),_.jsxs("select",{value:w,onChange:D=>Q(D.target.value),style:{padding:6,borderRadius:4},children:[_.jsx("option",{value:"All",children:"All Parties"}),Array.from(new Set(e.map(D=>D.party).filter(Boolean))).map(D=>_.jsx("option",{value:D,children:D},D))]})]}),_.jsx("button",{onClick:ye,style:v,children:"Add"}),_.jsx("button",{onClick:xe,style:v,children:"Export"}),_.jsx("label",{htmlFor:"import-file",style:v,children:"Import"}),_.jsx("input",{id:"import-file",type:"file",accept:".json",style:{display:"none"},onChange:Ee})]}),_.jsxs("div",{style:{display:"flex",flexGrow:1,overflow:"hidden"},children:[_.jsx("div",{style:{flex:1,padding:10,overflow:"auto",fontSize:"clamp(10px, 1.15vw, 16px)",lineHeight:1.15},children:_.jsxs("div",{style:ie,children:[!V&&_.jsx("h2",{children:"No character selected"}),V&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{style:{display:"flex",gap:20,justifyContent:"center",marginBottom:10},children:[_.jsx("button",{onClick:()=>o(!u),style:v,children:u?"Lock":"Edit"}),u&&_.jsx("button",{onClick:ve,style:_e,children:"Delete"})]}),_.jsx("div",{style:{marginBottom:10,textAlign:"center"},children:u?_.jsx("input",{style:x,value:V.name,onChange:D=>G("name",D.target.value),placeholder:"Name"}):_.jsx("h2",{children:V.name})}),_.jsx("div",{style:{display:"flex",gap:10,marginBottom:6,textAlign:"center"},children:u?_.jsxs(_.Fragment,{children:[_.jsx("input",{style:{...x,flex:1},value:V.species,onChange:D=>G("species",D.target.value),placeholder:"Species"}),_.jsx("input",{style:{...x,flex:1},value:V.class,onChange:D=>G("class",D.target.value),placeholder:"Class"})]}):_.jsxs("div",{style:{fontStyle:"italic",width:"100%"},children:[V.species,", ",V.class]})}),_.jsx("div",{style:{display:"flex",gap:10,marginBottom:10,textAlign:"center"},children:u?_.jsxs(_.Fragment,{children:[_.jsx("input",{style:{...x,flex:1},value:V.party,onChange:D=>G("party",D.target.value),placeholder:"Party"}),_.jsx("input",{style:{...x,flex:1},value:V.playerName,onChange:D=>G("playerName",D.target.value),placeholder:"Player Name"})]}):_.jsxs("div",{style:{fontStyle:"italic",width:"100%"},children:[V.party,"  ",V.playerName]})}),_.jsx("div",{style:{marginBottom:10,textAlign:"center"},children:u?_.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:10,alignItems:"center"},children:[_.jsx("label",{style:{fontWeight:"bold"},children:"Level"}),_.jsx("input",{type:"number",style:R,value:V.level,onChange:D=>Oe(Number(D.target.value))}),_.jsx("label",{style:{fontWeight:"bold"},children:"XP"}),_.jsx("input",{type:"number",style:{...R,fontStyle:"italic"},value:V.xp,onChange:D=>Se(Number(D.target.value))})]}):_.jsxs("div",{children:[_.jsxs("span",{style:{fontWeight:"bold"},children:["Level ",V.level]})," ","(",_.jsxs("span",{style:{fontStyle:"italic"},children:[V.xp.toLocaleString()," xp"]}),")"]})}),_.jsxs("div",{style:{marginBottom:10},children:[_.jsx("div",{style:W,children:"Stats Overview"}),_.jsxs("div",{style:P,children:[_.jsxs("div",{style:k,children:[_.jsx("div",{style:he,children:"HP"}),u?_.jsxs("div",{style:{display:"flex",gap:6,justifyContent:"center"},children:[_.jsx("input",{type:"number",style:R,value:V.currentHP,onChange:D=>G("currentHP",Number(D.target.value))}),_.jsx("input",{type:"number",style:R,value:V.maxHP,onChange:D=>G("maxHP",Number(D.target.value))})]}):_.jsxs("div",{children:[V.currentHP,"/",V.maxHP]})]}),_.jsxs("div",{style:k,children:[_.jsx("div",{style:he,children:"AC"}),u?_.jsx("input",{type:"number",style:R,value:V.ac,onChange:D=>G("ac",Number(D.target.value))}):_.jsx("div",{children:V.ac})]}),_.jsxs("div",{style:k,children:[_.jsx("div",{style:he,children:"Initiative"}),u?_.jsx("input",{type:"number",style:R,value:V.initiative,onChange:D=>G("initiative",Number(D.target.value))}):_.jsx("div",{children:Le(V.initiative)})]}),_.jsxs("div",{style:k,children:[_.jsx("div",{style:he,children:"Proficiency"}),u?_.jsx("input",{type:"number",style:R,value:V.proficiency,onChange:D=>G("proficiency",Number(D.target.value))}):_.jsx("div",{children:Le(V.proficiency)})]})]})]}),_.jsxs("div",{style:{marginBottom:10},children:[_.jsx("div",{style:W,children:"Stats"}),_.jsx("div",{style:P,children:["str","dex","con","int","wis","cha"].map(D=>_.jsxs("div",{style:te,children:[_.jsx("div",{style:he,children:D.toUpperCase()}),u?_.jsx("input",{type:"number",style:R,value:V.stats[D],onChange:ee=>de("stats",D,Number(ee.target.value))}):_.jsxs("div",{children:[V.stats[D]," (",Le(Math.floor((V.stats[D]-10)/2)),")"]})]},D))})]}),_.jsxs("div",{style:{marginBottom:10},children:[_.jsx("div",{style:W,children:"Saving Throws"}),_.jsx("div",{style:P,children:["str","dex","con","int","wis","cha"].map(D=>_.jsxs("div",{style:te,children:[_.jsx("div",{style:he,children:D.toUpperCase()}),u?_.jsx("input",{type:"number",style:R,value:V.savingThrows[D],onChange:ee=>de("savingThrows",D,Number(ee.target.value))}):_.jsx("div",{children:Le(V.savingThrows[D])})]},D))})]}),_.jsxs("div",{style:{marginBottom:10},children:[_.jsx("div",{style:W,children:"Passive Skills"}),_.jsx("div",{style:U,children:["perception","investigation","insight"].map(D=>_.jsxs("div",{style:te,children:[_.jsx("div",{style:he,children:D.charAt(0).toUpperCase()+D.slice(1)}),u?_.jsx("input",{type:"number",style:R,value:V.passives[D],onChange:ee=>de("passives",D,Number(ee.target.value))}):_.jsx("div",{children:V.passives[D]})]},D))})]})]})]})}),_.jsxs("div",{style:{width:300,padding:10,display:"flex",flexDirection:"column",alignItems:"center",flexShrink:0},children:[V?.imageUrl?_.jsx("img",{src:V.imageUrl,alt:`${V.name} portrait`,style:{maxWidth:"100%",maxHeight:"80vh",borderRadius:6,objectFit:"contain"}}):_.jsx("div",{style:{width:"100%",height:"80vh",borderRadius:6,background:"#ddd",display:"flex",justifyContent:"center",alignItems:"center",color:"#666",fontStyle:"italic"},children:"No Portrait"}),u&&_.jsx("input",{type:"text",placeholder:"Image URL",style:{marginTop:10,width:"100%",padding:6},value:V?.imageUrl||"",onChange:D=>G("imageUrl",D.target.value)})]})]})]})}const Sw={1:{low:50,moderate:75,high:150},2:{low:100,moderate:150,high:300},3:{low:150,moderate:225,high:450},4:{low:250,moderate:375,high:750},5:{low:500,moderate:750,high:1500},6:{low:600,moderate:900,high:1800},7:{low:750,moderate:1100,high:2200},8:{low:1e3,moderate:1500,high:3e3},9:{low:1250,moderate:1900,high:3800},10:{low:1500,moderate:2200,high:4400},11:{low:1800,moderate:2700,high:5400},12:{low:2100,moderate:3200,high:6400},13:{low:2500,moderate:3800,high:7600},14:{low:2900,moderate:4300,high:8600},15:{low:3300,moderate:4900,high:9800},16:{low:3750,moderate:5600,high:11200},17:{low:4500,moderate:6700,high:13400},18:{low:5e3,moderate:7500,high:15e3},19:{low:5500,moderate:8300,high:16600},20:{low:6250,moderate:9400,high:18800}},xu={0:10,.125:25,.25:50,.5:100,1:200,2:450,3:700,4:1100,5:1800,6:2300,7:2900,8:3900,9:5e3,10:5900,11:7200,12:8400,13:1e4,14:11500,15:13e3,16:15e3,17:18e3,18:2e4,19:22e3,20:25e3,21:33e3,22:41e3,23:5e4,24:62e3,25:75e3,26:9e4,27:105e3,28:12e4,29:135e3,30:155e3},vh=e=>({"0.125":"1/8","0.25":"1/4","0.5":"1/2"})[String(e)]??e.toString();function Cw(){const t=Object.values(Object.assign({"../statBlockViewer/StatBlocks/axebeak-matriarch.json":Q0,"../statBlockViewer/StatBlocks/dragon-black-adult.json":K0,"../statBlockViewer/StatBlocks/goblin-minion.json":W0})).map(U=>U.default),[i,r]=ue.useState(1),[u,o]=ue.useState(4),[c,h]=ue.useState("moderate"),[p,g]=ue.useState([]),[E,T]=ue.useState(""),[b,S]=ue.useState("All"),[w,Q]=ue.useState("All"),[Z,q]=ue.useState([]),[oe,F]=ue.useState(""),[ye,ve]=ue.useState(!1),[G,de]=ue.useState(!1),[Se,Oe]=ue.useState("");ue.useEffect(()=>{const D=JSON.parse(localStorage.getItem("partyData")||"{}").partyCode||"";Oe(D);const ee=JSON.parse(localStorage.getItem("savedEncounters")||"[]");q(ee)},[]),ue.useEffect(()=>{if(!Se)return;const U=wu(Mu,`parties/${Se}/encounters`),D=ub(U,ee=>{const Te=ee.val();if(!Te)return;const Ae=Object.values(Te);q(Ae),localStorage.setItem("savedEncounters",JSON.stringify(Ae))});return()=>D()},[Se]);const xe=ue.useMemo(()=>{const U=Sw[i];return U?{low:U.low*u,moderate:U.moderate*u,high:U.high*u}:{low:0,moderate:0,high:0}},[i,u]),Ee=ue.useMemo(()=>p.reduce((U,D)=>{const ee=xu[D.monster.challengeRating]||0;return U+ee*D.count},0),[p]),V=ue.useMemo(()=>Ee===0||Ee<xe.low?"trivial":Ee<xe.moderate?"low":Ee<xe.high?"moderate":"deadly",[Ee,xe]),Le=ue.useMemo(()=>t.filter(U=>{const D=U.name.toLowerCase().includes(E.toLowerCase())||U.type.toLowerCase().includes(E.toLowerCase()),ee=b==="All"||U.challengeRating.toString()===b,Te=w==="All"||U.type===w;return D&&ee&&Te}),[t,E,b,w]),re=Array.from(new Set(t.map(U=>U.challengeRating.toString()))).sort((U,D)=>Number(U)-Number(D)),ie=Array.from(new Set(t.map(U=>U.type))).sort(),P=U=>{const D=p.find(ee=>ee.monster.name===U.name);g(D?p.map(ee=>ee.monster.name===U.name?{...ee,count:ee.count+1}:ee):[...p,{monster:U,count:1}])},k=U=>{g(p.filter(D=>D.monster.name!==U))},te=(U,D)=>{if(D<1){k(U);return}g(p.map(ee=>ee.monster.name===U?{...ee,count:D}:ee))},he=()=>{g([])},x=U=>{switch(U){case"trivial":return"#90EE90";case"low":return"#FFD700";case"moderate":return"#FFA500";case"high":return"#FF6347";case"deadly":return"#8B0000";default:return"#ccc"}},R=()=>{const U={partyLevel:i,partySize:u,targetDifficulty:c,xpBudget:xe,totalXP:Ee,currentDifficulty:V,monsters:p.map(Ae=>({name:Ae.monster.name,cr:Ae.monster.challengeRating,count:Ae.count,xpEach:xu[Ae.monster.challengeRating]||0,totalXP:(xu[Ae.monster.challengeRating]||0)*Ae.count}))},D=new Blob([JSON.stringify(U,null,2)],{type:"application/json"}),ee=URL.createObjectURL(D),Te=document.createElement("a");Te.href=ee,Te.download=`encounter_lvl${i}_${V}.json`,Te.click(),URL.revokeObjectURL(ee)},W=()=>{if(!oe.trim()){alert("Please enter a name for the encounter");return}if(p.length===0){alert("Cannot save an empty encounter");return}const U={id:Date.now().toString(),name:oe.trim(),partyLevel:i,partySize:u,targetDifficulty:c,monsters:p.map(ee=>({monsterName:ee.monster.name,count:ee.count})),totalXP:Ee,difficulty:V,timestamp:Date.now()},D=[...Z,U];if(q(D),localStorage.setItem("savedEncounters",JSON.stringify(D)),Se){const ee=wu(Mu,`parties/${Se}/encounters/${U.id}`);G0(ee,U).catch(Te=>{console.error("Error saving to Firebase:",Te)})}F(""),ve(!1),alert(`Encounter "${U.name}" saved!`)},v=U=>{r(U.partyLevel),o(U.partySize),h(U.targetDifficulty);const D=[];U.monsters.forEach(ee=>{const Te=t.find(Ae=>Ae.name===ee.monsterName);Te&&D.push({monster:Te,count:ee.count})}),g(D),de(!1),alert(`Encounter "${U.name}" loaded!`)},_e=U=>{if(!confirm("Delete this encounter?"))return;const D=Z.filter(ee=>ee.id!==U);if(q(D),localStorage.setItem("savedEncounters",JSON.stringify(D)),Se){const ee=wu(Mu,`parties/${Se}/encounters/${U}`);E4(ee).catch(Te=>{console.error("Error deleting from Firebase:",Te)})}};return _.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:15,padding:20,height:"100%"},children:[_.jsx("h2",{style:{margin:0},children:"Encounter Builder (2024 DMG)"}),_.jsxs("div",{style:{display:"flex",gap:15,padding:15,background:"#f5f5f5",borderRadius:8,alignItems:"center",flexWrap:"wrap"},children:[_.jsxs("label",{children:["Party Level:"," ",_.jsx("select",{value:i,onChange:U=>r(Number(U.target.value)),children:Array.from({length:20},(U,D)=>D+1).map(U=>_.jsx("option",{value:U,children:U},U))})]}),_.jsxs("label",{children:["Party Size:"," ",_.jsx("select",{value:u,onChange:U=>o(Number(U.target.value)),children:Array.from({length:10},(U,D)=>D+1).map(U=>_.jsx("option",{value:U,children:U},U))})]}),_.jsxs("label",{children:["Target Difficulty:"," ",_.jsxs("select",{value:c,onChange:U=>h(U.target.value),children:[_.jsx("option",{value:"low",children:"Low"}),_.jsx("option",{value:"moderate",children:"Moderate"}),_.jsx("option",{value:"high",children:"High"})]})]})]}),_.jsxs("div",{style:{display:"flex",gap:10,padding:15,background:"#e8f5e9",borderRadius:8,border:"2px solid #4caf50"},children:[_.jsxs("div",{style:{flex:1},children:[_.jsx("strong",{children:"XP Budget (Low):"})," ",xe.low.toLocaleString()]}),_.jsxs("div",{style:{flex:1},children:[_.jsx("strong",{children:"XP Budget (Moderate):"})," ",xe.moderate.toLocaleString()]}),_.jsxs("div",{style:{flex:1},children:[_.jsx("strong",{children:"XP Budget (High):"})," ",xe.high.toLocaleString()]})]}),_.jsxs("div",{style:{padding:15,background:x(V),borderRadius:8,border:"2px solid #333",display:"flex",alignItems:"center",gap:10},children:[_.jsx(xk,{size:24}),_.jsxs("div",{children:[_.jsx("strong",{children:"Total XP:"})," ",Ee.toLocaleString()," |"," ",_.jsx("strong",{children:"Difficulty:"})," ",V.toUpperCase()]}),_.jsxs("div",{style:{marginLeft:"auto"},children:[_.jsxs(tn,{onClick:()=>ve(!0),children:[_.jsx(jk,{size:16,style:{marginRight:5}}),"Save Encounter"]}),_.jsxs(tn,{onClick:()=>de(!0),style:{marginLeft:10},children:[_.jsx(Lk,{size:16,style:{marginRight:5}}),"Load Encounter"]}),_.jsx(tn,{onClick:he,type:"danger",style:{marginLeft:10},children:"Clear Encounter"}),_.jsx(tn,{onClick:R,style:{marginLeft:10},children:"Export JSON"})]})]}),_.jsxs("div",{style:{display:"flex",gap:15,flex:1,minHeight:0},children:[_.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:10,padding:15,background:"#fff",border:"1px solid #ccc",borderRadius:8,overflow:"hidden"},children:[_.jsx("h3",{style:{margin:0},children:"Available Monsters"}),_.jsx("input",{type:"text",placeholder:"Search monsters...",value:E,onChange:U=>T(U.target.value),style:{padding:8,borderRadius:4,border:"1px solid #ccc"}}),_.jsxs("div",{style:{display:"flex",gap:10},children:[_.jsxs("select",{value:b,onChange:U=>S(U.target.value),style:{flex:1},children:[_.jsx("option",{value:"All",children:"All CRs"}),re.map(U=>_.jsxs("option",{value:U,children:["CR ",vh(Number(U))]},U))]}),_.jsxs("select",{value:w,onChange:U=>Q(U.target.value),style:{flex:1},children:[_.jsx("option",{value:"All",children:"All Types"}),ie.map(U=>_.jsx("option",{value:U,children:U},U))]})]}),_.jsx("div",{style:{flex:1,overflowY:"auto",border:"1px solid #ddd",borderRadius:4,padding:5},children:Le.map(U=>{const D=xu[U.challengeRating]||0;return _.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 10px",borderBottom:"1px solid #eee",cursor:"pointer",transition:"background 0.2s"},onMouseEnter:ee=>ee.currentTarget.style.background="#f0f0f0",onMouseLeave:ee=>ee.currentTarget.style.background="transparent",onClick:()=>P(U),children:[_.jsxs("div",{children:[_.jsx("strong",{children:U.name}),_.jsxs("div",{style:{fontSize:"0.85em",color:"#666"},children:["CR ",vh(U.challengeRating),"  ",U.type,"  ",D.toLocaleString()," XP"]})]}),_.jsx(u0,{size:20,style:{color:"#4caf50"}})]},U.name)})})]}),_.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:10,padding:15,background:"#fff",border:"1px solid #ccc",borderRadius:8,overflow:"hidden"},children:[_.jsx("h3",{style:{margin:0},children:"Current Encounter"}),p.length===0?_.jsxs("div",{style:{textAlign:"center",color:"#999",marginTop:50},children:[_.jsx("p",{children:"No monsters added yet."}),_.jsx("p",{style:{fontSize:"0.9em"},children:"Click on monsters from the left to add them."})]}):_.jsx("div",{style:{flex:1,overflowY:"auto"},children:p.map(U=>{const D=xu[U.monster.challengeRating]||0,ee=D*U.count;return _.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,padding:10,borderBottom:"1px solid #eee",background:"#fafafa",borderRadius:4,marginBottom:5},children:[_.jsxs("div",{style:{flex:1},children:[_.jsx("strong",{children:U.monster.name}),_.jsxs("div",{style:{fontSize:"0.85em",color:"#666"},children:["CR ",vh(U.monster.challengeRating),"  ",U.monster.type]}),_.jsxs("div",{style:{fontSize:"0.85em",color:"#333"},children:[D.toLocaleString()," XP each  ",U.count," = ",ee.toLocaleString()," XP"]})]}),_.jsx("input",{type:"number",value:U.count,min:1,onChange:Te=>te(U.monster.name,Number(Te.target.value)),style:{width:60,padding:5,textAlign:"center"}}),_.jsx("button",{onClick:()=>k(U.monster.name),style:{background:"transparent",border:"none",cursor:"pointer",color:"#dc2626"},children:_.jsx(Ny,{size:20})})]},U.monster.name)})})]})]}),ye&&_.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>ve(!1),children:_.jsxs("div",{style:{background:"white",padding:30,borderRadius:8,minWidth:400,boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},onClick:U=>U.stopPropagation(),children:[_.jsx("h3",{style:{marginTop:0},children:"Save Encounter"}),_.jsxs("label",{style:{display:"block",marginBottom:15},children:["Encounter Name:",_.jsx("input",{type:"text",value:oe,onChange:U=>F(U.target.value),placeholder:"e.g., Goblin Ambush",style:{width:"100%",padding:8,marginTop:5,borderRadius:4,border:"1px solid #ccc"},autoFocus:!0})]}),_.jsxs("div",{style:{display:"flex",gap:10,justifyContent:"flex-end"},children:[_.jsx(tn,{onClick:()=>ve(!1),type:"danger",children:"Cancel"}),_.jsx(tn,{onClick:W,children:"Save"})]})]})}),G&&_.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>de(!1),children:_.jsxs("div",{style:{background:"white",padding:30,borderRadius:8,minWidth:500,maxHeight:"80vh",overflow:"auto",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},onClick:U=>U.stopPropagation(),children:[_.jsx("h3",{style:{marginTop:0},children:"Load Saved Encounter"}),Z.length===0?_.jsx("p",{style:{color:"#666",textAlign:"center",margin:"20px 0"},children:"No saved encounters yet."}):_.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:Z.sort((U,D)=>D.timestamp-U.timestamp).map(U=>_.jsxs("div",{style:{padding:15,border:"1px solid #ddd",borderRadius:4,background:"#fafafa",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[_.jsxs("div",{style:{flex:1},children:[_.jsx("strong",{children:U.name}),_.jsxs("div",{style:{fontSize:"0.85em",color:"#666",marginTop:5},children:["Level ",U.partyLevel,"  ",U.partySize," players "," ",U.difficulty.toUpperCase()]}),_.jsxs("div",{style:{fontSize:"0.85em",color:"#666"},children:[U.monsters.length," monster type(s)  ",U.totalXP.toLocaleString()," XP"]}),_.jsx("div",{style:{fontSize:"0.75em",color:"#999",marginTop:3},children:new Date(U.timestamp).toLocaleString()})]}),_.jsxs("div",{style:{display:"flex",gap:10},children:[_.jsx(tn,{onClick:()=>v(U),children:"Load"}),_.jsx("button",{onClick:()=>_e(U.id),style:{background:"transparent",border:"none",cursor:"pointer",color:"#dc2626"},children:_.jsx(Ny,{size:20})})]})]},U.id))}),_.jsx("div",{style:{marginTop:20,textAlign:"right"},children:_.jsx(tn,{onClick:()=>de(!1),children:"Close"})})]})})]})}const Aw=["Blinded","Charmed","Deafened","Frightened","Grappled","Incapacitated","Invisible","Paralyzed","Petrified","Poisoned","Prone","Restrained","Stunned","Unconscious"];function vw(){const[e,t]=ue.useState([]),[i,r]=ue.useState(1),[u,o]=ue.useState(0),[c,h]=ue.useState(!1),[p,g]=ue.useState(()=>{const M=localStorage.getItem("combat_session");if(M)return M;const ge=Math.random().toString(36).substring(2,8).toUpperCase();return localStorage.setItem("combat_session",ge),ge}),[E,T]=ue.useState(""),[b,S]=ue.useState(""),[w,Q]=ue.useState(!1),[Z,q]=ue.useState(!1),[oe,F]=ue.useState(!1),[ye,ve]=ue.useState(!1),[G,de]=ue.useState(""),[Se,Oe]=ue.useState(!1),[xe,Ee]=ue.useState({}),[V,Le]=ue.useState(""),[re,ie]=ue.useState(""),[P,k]=ue.useState([]),[te,he]=ue.useState([]);ue.useEffect(()=>{const M=localStorage.getItem("combat_state");if(M){const ge=JSON.parse(M);t(ge.combatants||[]),r(ge.round||1),o(ge.currentIndex||0),h(ge.combatStarted||!1)}},[]),ue.useEffect(()=>{const M={combatants:e,round:i,currentIndex:u,combatStarted:c};localStorage.setItem("combat_state",JSON.stringify(M)),x(M)},[e,i,u,c,p]),ue.useEffect(()=>{if(c&&e.length>0){const M=e[u];M&&M.type==="player"&&M.hp<=0&&M.deathSaves.successes<3&&M.deathSaves.failures<3&&!Se&&(ve(!0),de(""))}},[u,c,e,Se]),ue.useEffect(()=>{try{const M=JSON.parse(localStorage.getItem("characterSheets_all")||"[]");k(M);const Re=Object.values(Object.assign({"../statBlockViewer/StatBlocks/axebeak-matriarch.json":Q0,"../statBlockViewer/StatBlocks/dragon-black-adult.json":K0,"../statBlockViewer/StatBlocks/goblin-minion.json":W0})).map(it=>it.default);he(Re)}catch(M){console.error("Error loading data:",M)}},[Z,oe]);const x=async M=>{try{(await fetch(`https://anansi-party-tracker-default-rtdb.firebaseio.com/combat/${p}/state.json`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)})).ok||console.error("Firebase sync failed")}catch(ge){console.error("Firebase error:",ge)}},R=()=>{if(confirm("Generate a new session code? This will disconnect current players.")){const M=Math.random().toString(36).substring(2,8).toUpperCase();localStorage.setItem("combat_session",M),g(M)}},W=()=>!c||e.length===0?e:[...e.slice(u),...e.slice(0,u)],v=M=>{const ge={...M,id:`${Date.now()}-${Math.random()}`};t([...e,ge])},_e=M=>{v({name:M.name,type:"player",initiative:0,initiativeBonus:M.initiative||0,hp:M.currentHP||M.maxHP,maxHp:M.maxHP,tempHp:0,ac:M.ac,conditions:[],visible:!0,deathSaves:{successes:0,failures:0},notes:""})},U=()=>{try{const M=JSON.parse(localStorage.getItem("characterSheets_all")||"[]"),Re=JSON.parse(localStorage.getItem("partyData")||"{}").partyName;if(!Re){alert("No party loaded in Party Tracker!");return}const it=M.filter(ht=>ht.party===Re);if(it.length===0){alert("No characters found for this party!");return}it.forEach(_e),alert(`Added ${it.length} party members!`)}catch(M){console.error("Error adding party:",M),alert("Failed to add party")}},D=(M,ge,Re,it,ht,mt="monster")=>{for(let J=0;J<ht;J++){const me=e.filter(De=>De.name.startsWith(M)).length+1;v({name:`${M} ${me}`,type:mt,initiative:0,initiativeBonus:it,hp:ge,maxHp:ge,tempHp:0,ac:Re,conditions:[],visible:mt==="ally",deathSaves:{successes:0,failures:0},notes:""})}},ee=()=>{if(e.length===0){alert("Add combatants first!");return}const M={};e.forEach(ge=>M[ge.id]=0),Ee(M),Q(!0)},Te=()=>{const ge=[...e.map(Re=>({...Re,initiative:(xe[Re.id]||0)+Re.initiativeBonus}))].sort((Re,it)=>it.initiative!==Re.initiative?it.initiative-Re.initiative:it.initiativeBonus-Re.initiativeBonus);t(ge),h(!0),o(0),r(1),Q(!1),Oe(!1)},Ae=()=>{const M=Number(G);if(!M||M<1||M>20){alert("Please enter a valid d20 roll (1-20)");return}const ge=e[u],Re={...ge.deathSaves};M===20?(Ue(ge.id,{hp:1,deathSaves:{successes:0,failures:0}}),alert(`Natural 20! ${ge.name} recovers 1 HP!`)):M===1?(Re.failures=Math.min(3,Re.failures+2),Ue(ge.id,{deathSaves:Re}),Re.failures>=3?alert(`Natural 1! ${ge.name} has DIED!`):alert(`Natural 1! 2 death save failures for ${ge.name}.`)):M>=10?(Re.successes=Math.min(3,Re.successes+1),Ue(ge.id,{deathSaves:Re}),Re.successes>=3&&alert(`${ge.name} is stabilized at 0 HP!`)):(Re.failures=Math.min(3,Re.failures+1),Ue(ge.id,{deathSaves:Re}),Re.failures>=3&&alert(`${ge.name} has DIED!`)),ve(!1),de(""),Oe(!0)},We=()=>{let M=u+1;for(;M<e.length;){const ge=e[M];if(!(ge.type==="player"?ge.hp<=0&&ge.deathSaves.failures>=3:ge.hp<=0))break;M++}if(M>=e.length)for(r(i+1),M=0;M<e.length;){const ge=e[M];if(!(ge.type==="player"?ge.hp<=0&&ge.deathSaves.failures>=3:ge.hp<=0))break;M++}o(M),Oe(!1)},Ue=(M,ge)=>{t(e.map(Re=>{if(Re.id===M){const it={...Re,...ge};return it.hp>0&&Re.hp<=0&&(it.deathSaves={successes:0,failures:0}),it}return Re}))},Ct=M=>{t(e.filter(ge=>ge.id!==M))},Vi=()=>{if(!E||!b)return;const M=e.find(ht=>ht.id===E);if(!M)return;let ge=Number(b),Re=M.tempHp,it=M.hp;Re>0&&(ge>=Re?(ge-=Re,Re=0):(Re-=ge,ge=0)),ge>0&&(it=Math.max(0,it-ge)),M.type==="player"&&M.hp>0&&it<=0&&ge>=M.maxHp&&alert(`WARNING: ${M.name} took massive damage! If damage exceeds max HP, they die instantly!`),Ue(E,{hp:it,tempHp:Re}),S("")},Zn=()=>{if(!E||!b)return;const M=e.find(ge=>ge.id===E);M&&(Ue(E,{hp:Math.min(M.maxHp,M.hp+Number(b))}),S(""))},Gi=()=>{if(!E||!b)return;const M=e.find(ge=>ge.id===E);M&&(Ue(E,{tempHp:Math.max(M.tempHp,Number(b))}),S(""))},gi=()=>{confirm("Clear all combatants?")&&(t([]),r(1),o(0),h(!1))},ur=()=>{const M=window.location.href.replace(/\/[^/]*$/,"/ct-pv.html")+`?code=${p}`;window.open(M,"_blank")},lr=(M,ge)=>{Le(M),ie(ge)},Ei=()=>{re.trim()&&Ue(V,{name:re.trim()}),Le(""),ie("")};return _.jsxs("div",{style:{padding:15,maxWidth:1400,margin:"0 auto"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:15},children:[_.jsx("h2",{style:{margin:0,fontSize:22},children:"Combat Tracker"}),_.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[_.jsxs("span",{style:{fontSize:13,color:"#666"},children:["Session: ",_.jsx("strong",{children:p})]}),_.jsx("button",{onClick:R,style:Dt,title:"Generate new session code",children:_.jsx(Hk,{size:14})}),_.jsxs("button",{onClick:ur,style:Dt,children:[_.jsx(l0,{size:14})," Player View"]})]})]}),_.jsx("div",{style:{display:"flex",gap:8,marginBottom:15,flexWrap:"wrap",padding:12,background:"#f5f5f5",borderRadius:6,alignItems:"center"},children:c?_.jsxs(_.Fragment,{children:[_.jsxs("button",{onClick:We,style:{...Dt,background:"#2196f3",color:"white"},children:[_.jsx($k,{size:14})," Next Turn"]}),_.jsxs("div",{style:{padding:"6px 12px",background:"#e3f2fd",borderRadius:4,fontWeight:"bold",fontSize:13},children:["Round ",i]}),_.jsx("div",{style:{width:1,height:30,background:"#ddd",margin:"0 5px"}}),_.jsxs("select",{value:E,onChange:M=>T(M.target.value),style:{padding:"5px 8px",fontSize:13,minWidth:140},children:[_.jsx("option",{value:"",children:"Select..."}),e.map(M=>_.jsx("option",{value:M.id,children:M.name},M.id))]}),_.jsx("input",{type:"number",placeholder:"Amount",value:b,onChange:M=>S(M.target.value),style:{width:70,padding:"5px 8px",fontSize:13}}),E&&_.jsxs(_.Fragment,{children:[_.jsx("button",{onClick:Vi,style:{...Dt,background:"#f44336",color:"white"},children:"Damage"}),_.jsx("button",{onClick:Zn,style:{...Dt,background:"#4caf50",color:"white"},children:"Heal"}),_.jsx("button",{onClick:Gi,style:Dt,children:"Temp HP"}),_.jsxs("select",{value:"",onChange:M=>{if(M.target.value){const ge=e.find(Re=>Re.id===E);ge&&Ue(E,{conditions:[...ge.conditions,M.target.value]})}},style:{padding:"5px 8px",fontSize:13},children:[_.jsx("option",{value:"",children:"Add Condition"}),Aw.filter(M=>{const ge=e.find(Re=>Re.id===E);return ge&&!ge.conditions.includes(M)}).map(M=>_.jsx("option",{value:M,children:M},M))]}),e.find(M=>M.id===E)?.type==="monster"&&_.jsxs("label",{style:{display:"flex",alignItems:"center",gap:5,fontSize:13},children:[_.jsx("input",{type:"checkbox",checked:e.find(M=>M.id===E)?.visible,onChange:M=>Ue(E,{visible:M.target.checked})}),"Visible"]})]}),_.jsx("div",{style:{flex:1}}),_.jsx("button",{onClick:()=>h(!1),style:Dt,children:"End Combat"}),_.jsxs("button",{onClick:gi,style:{...Dt,background:"#f44336",color:"white"},children:[_.jsx(xy,{size:14})," Clear"]})]}):_.jsxs(_.Fragment,{children:[_.jsxs("button",{onClick:()=>q(!0),style:Dt,children:[_.jsx(u0,{size:14})," Add Player"]}),_.jsxs("button",{onClick:U,style:Dt,children:[_.jsx(l0,{size:14})," Add Party"]}),_.jsxs("button",{onClick:()=>F(!0),style:Dt,children:[_.jsx(u0,{size:14})," Add Monster/Ally"]}),_.jsx("div",{style:{flex:1}}),_.jsxs("button",{onClick:ee,style:{...Dt,background:"#4caf50",color:"white"},children:[_.jsx(Bk,{size:14})," Start Combat"]}),_.jsxs("button",{onClick:gi,style:{...Dt,background:"#f44336",color:"white"},children:[_.jsx(xy,{size:14})," Clear"]})]})}),_.jsx("div",{children:e.length===0?_.jsx("div",{style:{textAlign:"center",padding:30,color:"#999"},children:_.jsx("p",{children:"No combatants yet. Add players and monsters to begin!"})}):W().map((M,ge)=>{const Re=c&&ge===0,it=M.hp<=0,ht=M.type==="player"&&it&&M.deathSaves.successes>=3;return _.jsxs("div",{style:{padding:12,marginBottom:8,border:Re?"3px solid #fbc02d":"1px solid #ddd",borderRadius:6,background:Re?"#fff9c4":"white",opacity:!M.visible&&M.type==="monster"?.6:1},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[_.jsx("div",{style:{display:"flex",alignItems:"center",gap:10,flex:1},children:V===M.id?_.jsx("input",{value:re,onChange:mt=>ie(mt.target.value),onBlur:Ei,onKeyDown:mt=>mt.key==="Enter"&&Ei(),autoFocus:!0,style:{fontSize:15,fontWeight:"bold",padding:"4px 8px",flex:1,maxWidth:300}}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[_.jsx("strong",{style:{fontSize:16},children:M.name}),M.type==="monster"&&_.jsx("button",{onClick:()=>lr(M.id,M.name),style:{background:"transparent",border:"none",cursor:"pointer",padding:2},children:_.jsx(wk,{size:12,color:"#666"})}),it&&!ht&&_.jsx(ew,{size:14}),ht&&_.jsx("span",{style:{fontSize:11,color:"#4caf50",fontWeight:"bold"},children:"STABLE"})]}),_.jsx("span",{style:{fontSize:11,color:"#666",background:M.type==="monster"?"#ffebee":M.type==="ally"?"#e8f5e9":"#e3f2fd",padding:"2px 8px",borderRadius:3},children:M.type==="player"?"Player":M.type==="ally"?"Ally":"Enemy"})]})}),_.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center",fontSize:13},children:[_.jsxs("div",{children:["HP: ",_.jsx("input",{type:"number",value:M.hp,onChange:mt=>Ue(M.id,{hp:Number(mt.target.value)}),style:{width:45,padding:3,fontSize:13}})," / ",M.maxHp]}),M.tempHp>0&&_.jsxs("div",{children:["Temp: ",M.tempHp]}),_.jsxs("div",{children:["AC: ",M.ac]}),!c&&_.jsxs(_.Fragment,{children:[M.type==="monster"&&_.jsxs("label",{style:{display:"flex",alignItems:"center",gap:5,fontSize:12},children:[_.jsx("input",{type:"checkbox",checked:M.visible,onChange:mt=>Ue(M.id,{visible:mt.target.checked})}),"Visible"]}),_.jsx("button",{onClick:()=>Ct(M.id),style:{background:"transparent",border:"none",cursor:"pointer",color:"#f44336",padding:4,fontSize:20},children:""})]})]})]}),M.conditions.length>0&&_.jsx("div",{style:{display:"flex",gap:5,flexWrap:"wrap",marginTop:8},children:M.conditions.map(mt=>_.jsxs("span",{onClick:()=>Ue(M.id,{conditions:M.conditions.filter(J=>J!==mt)}),style:{padding:"3px 8px",background:"#ff9800",color:"white",borderRadius:3,fontSize:11,cursor:"pointer"},children:[mt," "]},mt))}),it&&M.type==="player"&&_.jsx("div",{style:{marginTop:8,padding:8,background:"#ffebee",borderRadius:4,fontSize:12},children:_.jsxs("div",{style:{display:"flex",gap:15},children:[_.jsxs("div",{style:{flex:1},children:[_.jsx("div",{style:{marginBottom:4,fontWeight:500},children:"Successes:"}),_.jsx("div",{style:{display:"flex",gap:4},children:[1,2,3].map(mt=>_.jsx("div",{style:{width:24,height:24,borderRadius:"50%",border:"2px solid #ddd",background:mt<=M.deathSaves.successes?"#4caf50":"white"}},mt))})]}),_.jsxs("div",{style:{flex:1},children:[_.jsx("div",{style:{marginBottom:4,fontWeight:500},children:"Failures:"}),_.jsx("div",{style:{display:"flex",gap:4},children:[1,2,3].map(mt=>_.jsx("div",{style:{width:24,height:24,borderRadius:"50%",border:"2px solid #ddd",background:mt<=M.deathSaves.failures?"#f44336":"white"}},mt))})]})]})})]},M.id)})}),ye&&e[u]&&!Se&&_.jsx(Fo,{onClose:()=>{},title:`Death Saving Throw - ${e[u].name}`,children:_.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[_.jsxs("p",{style:{fontSize:14,marginBottom:20,color:"#666"},children:["Roll a d20 for ",e[u].name,"'s death saving throw"]}),_.jsx("div",{style:{marginBottom:20},children:_.jsx("input",{type:"number",min:"1",max:"20",placeholder:"Roll d20",value:G,onChange:M=>de(M.target.value),autoFocus:!0,onKeyDown:M=>M.key==="Enter"&&Ae(),style:{width:100,padding:12,fontSize:18,textAlign:"center",border:"2px solid #ddd",borderRadius:6}})}),_.jsxs("div",{style:{background:"#f5f5f5",padding:15,borderRadius:6,marginBottom:20,fontSize:13,textAlign:"left"},children:[_.jsx("div",{style:{fontWeight:"bold",marginBottom:8},children:"Death Save Rules:"}),_.jsxs("div",{style:{marginBottom:4},children:[" ",_.jsx("strong",{children:"10 or higher:"})," Success"]}),_.jsxs("div",{style:{marginBottom:4},children:[" ",_.jsx("strong",{children:"9 or lower:"})," Failure"]}),_.jsxs("div",{style:{marginBottom:4},children:[" ",_.jsx("strong",{children:"Natural 20:"})," Recover 1 HP"]}),_.jsxs("div",{style:{marginBottom:4},children:[" ",_.jsx("strong",{children:"Natural 1:"})," 2 Failures"]}),_.jsxs("div",{style:{marginTop:10,paddingTop:10,borderTop:"1px solid #ddd"},children:[_.jsx("strong",{children:"Current:"})," ",e[u].deathSaves.successes," successes, ",e[u].deathSaves.failures," failures"]})]}),_.jsx("button",{onClick:Ae,style:{...Dt,background:"#2196f3",color:"white",width:"100%",padding:"10px 15px",fontSize:14,justifyContent:"center"},children:"Process Roll"})]})}),w&&_.jsxs(Fo,{onClose:()=>Q(!1),title:"Roll Initiative",children:[e.map(M=>_.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:8,padding:8,border:"1px solid #ddd",borderRadius:4},children:[_.jsxs("div",{style:{flex:1},children:[_.jsx("strong",{style:{fontSize:14},children:M.name}),_.jsxs("div",{style:{fontSize:11,color:"#666"},children:["+",M.initiativeBonus," bonus"]})]}),_.jsx("input",{type:"number",placeholder:"d20",value:xe[M.id]||"",onChange:ge=>Ee({...xe,[M.id]:Number(ge.target.value)}),style:{width:55,padding:5,textAlign:"center",fontSize:13}}),_.jsxs("span",{style:{width:35,fontSize:13},children:["= ",(xe[M.id]||0)+M.initiativeBonus]})]},M.id)),_.jsx("button",{onClick:Te,style:{...Dt,background:"#4caf50",color:"white",width:"100%",marginTop:10},children:"Start Combat"})]}),Z&&_.jsx(Fo,{onClose:()=>q(!1),title:"Add Player",children:P.length===0?_.jsx("p",{style:{textAlign:"center",color:"#666",fontSize:13},children:"No character sheets found"}):P.map((M,ge)=>_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:8,border:"1px solid #ddd",borderRadius:4,marginBottom:8},children:[_.jsxs("div",{children:[_.jsx("strong",{style:{fontSize:14},children:M.name}),_.jsxs("div",{style:{fontSize:11,color:"#666"},children:["HP: ",M.maxHP,"  AC: ",M.ac,"  Init: +",M.initiative||0]})]}),_.jsx("button",{onClick:()=>{_e(M),q(!1)},style:Dt,children:"Add"})]},ge))}),oe&&_.jsxs(Fo,{onClose:()=>F(!1),title:"Add Monster or Ally",children:[_.jsxs("div",{style:{marginBottom:15},children:[_.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:14},children:"From Stat Blocks:"}),_.jsx("div",{style:{maxHeight:250,overflowY:"auto"},children:te.map((M,ge)=>_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:8,border:"1px solid #ddd",borderRadius:4,marginBottom:8},children:[_.jsxs("div",{children:[_.jsx("strong",{style:{fontSize:13},children:M.name}),_.jsxs("div",{style:{fontSize:11,color:"#666"},children:["HP: ",M.hitPoints,"  AC: ",M.armorClass]})]}),_.jsxs("div",{style:{display:"flex",gap:4},children:[_.jsx("button",{onClick:()=>D(M.name,M.hitPoints,M.armorClass,M.initiative||0,1,"monster"),style:{...Dt,fontSize:11,padding:"4px 8px"},children:"+1 Enemy"}),_.jsx("button",{onClick:()=>D(M.name,M.hitPoints,M.armorClass,M.initiative||0,1,"ally"),style:{...Dt,fontSize:11,padding:"4px 8px"},children:"+1 Ally"})]})]},ge))})]}),_.jsx(xw,{onAdd:(M,ge,Re,it,ht,mt)=>{D(M,ge,Re,it,ht,mt),F(!1)}})]})]})}function Fo({onClose:e,title:t,children:i}){return _.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:e,children:_.jsxs("div",{style:{background:"white",padding:20,borderRadius:8,minWidth:450,maxWidth:600,maxHeight:"80vh",overflow:"auto"},onClick:r=>r.stopPropagation(),children:[_.jsx("h3",{style:{marginTop:0,fontSize:16},children:t}),i,_.jsx("button",{onClick:e,style:{...Dt,marginTop:15},children:"Close"})]})})}function xw({onAdd:e}){const[t,i]=ue.useState(""),[r,u]=ue.useState(10),[o,c]=ue.useState(10),[h,p]=ue.useState(0),[g,E]=ue.useState(1),T=b=>{t.trim()&&(e(t,r,o,h,g,b),i(""),u(10),c(10),p(0),E(1))};return _.jsxs("div",{style:{borderTop:"2px solid #ddd",paddingTop:15},children:[_.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:14},children:"Custom:"}),_.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[_.jsx("input",{value:t,onChange:b=>i(b.target.value),placeholder:"Name",style:{padding:6,fontSize:13}}),_.jsxs("div",{style:{display:"flex",gap:8},children:[_.jsx("input",{type:"number",value:r,onChange:b=>u(Number(b.target.value)),placeholder:"HP",style:{padding:6,flex:1,fontSize:13}}),_.jsx("input",{type:"number",value:o,onChange:b=>c(Number(b.target.value)),placeholder:"AC",style:{padding:6,flex:1,fontSize:13}}),_.jsx("input",{type:"number",value:h,onChange:b=>p(Number(b.target.value)),placeholder:"Init",style:{padding:6,flex:1,fontSize:13}}),_.jsx("input",{type:"number",value:g,onChange:b=>E(Number(b.target.value)),placeholder:"Count",style:{padding:6,width:55,fontSize:13}})]}),_.jsxs("div",{style:{display:"flex",gap:8},children:[_.jsx("button",{onClick:()=>T("monster"),style:{...Dt,flex:1},children:"Add as Enemy"}),_.jsx("button",{onClick:()=>T("ally"),style:{...Dt,flex:1},children:"Add as Ally"})]})]})]})}const Dt={display:"flex",alignItems:"center",gap:5,padding:"6px 12px",border:"1px solid #ddd",borderRadius:4,background:"white",cursor:"pointer",fontSize:13},Nw=({name:e,icon:t,active:i,onClick:r})=>_.jsxs("button",{onClick:r,style:{display:"flex",alignItems:"center",gap:6,cursor:"pointer",fontWeight:i?"bold":"normal",color:i?"#ffd700":"white",background:"transparent",border:"none",padding:"6px 10px",borderRadius:4,transition:"background-color 0.2s, color 0.3s",flexShrink:0},onMouseEnter:u=>u.currentTarget.style.backgroundColor="rgba(255,255,255,0.1)",onMouseLeave:u=>u.currentTarget.style.backgroundColor="transparent",children:[t,_.jsx("span",{children:e})]});function Rw(){const[e,t]=ue.useState("Party Tracker"),[i,r]=ue.useState(window.innerWidth);ue.useEffect(()=>{const c=()=>r(window.innerWidth);return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const u=[{name:"Party Tracker",icon:_.jsx(l0,{size:20})},{name:"Combat Tracker",icon:_.jsx(nw,{size:20})},{name:"Encounter Builder",icon:_.jsx(qk,{size:20})},{name:"Character Sheets",icon:_.jsx(Ak,{size:20})},{name:"Stat Blocks",icon:_.jsx(Qk,{size:20})},{name:"Randomized Shops",icon:_.jsx(Wk,{size:20})},{name:"Settings",icon:_.jsx(Gk,{size:20})}],o={"Party Tracker":IA,"Combat Tracker":vw,"Encounter Builder":Cw,"Stat Blocks":Tw,"Character Sheets":bw,Settings:D4};return _.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",fontFamily:"sans-serif"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",width:i-30,maxWidth:"100%",padding:"10px 15px",backgroundColor:"#222",color:"white",gap:12,flexShrink:0},children:[_.jsx("h2",{style:{margin:0,fontSize:18,flexShrink:0},children:"Anansi - The DM Toolkit"}),_.jsx("div",{style:{display:"flex",gap:12,flexGrow:1,justifyContent:"flex-start",flexWrap:"wrap"},children:u.map(c=>_.jsx(Nw,{name:c.name,icon:c.icon,active:e===c.name,onClick:()=>t(c.name)},c.name))})]}),_.jsx("div",{style:{flex:1,display:"flex",width:i-40,overflow:"hidden",padding:20},children:_.jsx("div",{style:{flex:1,overflow:"auto",minWidth:0},children:Object.entries(o).map(([c,h])=>_.jsx("div",{style:{display:e===c?"block":"none",height:"100%"},children:_.jsx(h,{})},c))})})]})}const Ow=()=>_.jsx("div",{className:"App",children:_.jsx(Rw,{})});OA.createRoot(document.getElementById("root")).render(_.jsx(bA.StrictMode,{children:_.jsx(Ow,{})}));
