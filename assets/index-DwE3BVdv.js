(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=i(l);fetch(l.href,o)}})();function mc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xd={exports:{}},pl={};var pE;function _A(){if(pE)return pl;pE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,o){var c=null;if(o!==void 0&&(c=""+o),l.key!==void 0&&(c=""+l.key),"key"in l){o={};for(var h in l)h!=="key"&&(o[h]=l[h])}else o=l;return l=o.ref,{$$typeof:e,type:r,key:c,ref:l!==void 0?l:null,props:o}}return pl.Fragment=t,pl.jsx=i,pl.jsxs=i,pl}var gE;function yA(){return gE||(gE=1,Xd.exports=_A()),Xd.exports}var _=yA(),Qd={exports:{}},Me={};var EE;function TA(){if(EE)return Me;EE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function S(L){return L===null||typeof L!="object"?null:(L=b&&L[b]||L["@@iterator"],typeof L=="function"?L:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,$={};function G(L,W,v){this.props=L,this.context=W,this.refs=$,this.updater=v||w}G.prototype.isReactComponent={},G.prototype.setState=function(L,W){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,W,"setState")},G.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function de(){}de.prototype=G.prototype;function j(L,W,v){this.props=L,this.context=W,this.refs=$,this.updater=v||w}var ye=j.prototype=new de;ye.constructor=j,X(ye,G.prototype),ye.isPureReactComponent=!0;var Ae=Array.isArray;function V(){}var fe={H:null,A:null,T:null,S:null},Se=Object.prototype.hasOwnProperty;function ve(L,W,v){var ge=v.ref;return{$$typeof:e,type:L,key:W,ref:ge!==void 0?ge:null,props:v}}function xe(L,W){return ve(L.type,W,L.props)}function _e(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function q(L){var W={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(v){return W[v]})}var Le=/\/+/g;function se(L,W){return typeof L=="object"&&L!==null&&L.key!=null?q(""+L.key):W.toString(36)}function ie(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(V,V):(L.status="pending",L.then(function(W){L.status==="pending"&&(L.status="fulfilled",L.value=W)},function(W){L.status==="pending"&&(L.status="rejected",L.reason=W)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function P(L,W,v,ge,R){var x=typeof L;(x==="undefined"||x==="boolean")&&(L=null);var U=!1;if(L===null)U=!0;else switch(x){case"bigint":case"string":case"number":U=!0;break;case"object":switch(L.$$typeof){case e:case t:U=!0;break;case E:return U=L._init,P(U(L._payload),W,v,ge,R)}}if(U)return R=R(L),U=ge===""?"."+se(L,0):ge,Ae(R)?(v="",U!=null&&(v=U.replace(Le,"$&/")+"/"),P(R,W,v,"",function(qe){return qe})):R!=null&&(_e(R)&&(R=xe(R,v+(R.key==null||L&&L.key===R.key?"":(""+R.key).replace(Le,"$&/")+"/")+U)),W.push(R)),1;U=0;var te=ge===""?".":ge+":";if(Ae(L))for(var he=0;he<L.length;he++)ge=L[he],x=te+se(ge,he),U+=P(ge,W,v,x,R);else if(he=S(L),typeof he=="function")for(L=he.call(L),he=0;!(ge=L.next()).done;)ge=ge.value,x=te+se(ge,he++),U+=P(ge,W,v,x,R);else if(x==="object"){if(typeof L.then=="function")return P(ie(L),W,v,ge,R);throw W=String(L),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return U}function Z(L,W,v){if(L==null)return L;var ge=[],R=0;return P(L,ge,"","",function(x){return W.call(v,x,R++)}),ge}function Te(L){if(L._status===-1){var W=L._result;W=W(),W.then(function(v){(L._status===0||L._status===-1)&&(L._status=1,L._result=v)},function(v){(L._status===0||L._status===-1)&&(L._status=2,L._result=v)}),L._status===-1&&(L._status=0,L._result=W)}if(L._status===1)return L._result.default;throw L._result}var Oe=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},O={map:Z,forEach:function(L,W,v){Z(L,function(){W.apply(this,arguments)},v)},count:function(L){var W=0;return Z(L,function(){W++}),W},toArray:function(L){return Z(L,function(W){return W})||[]},only:function(L){if(!_e(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Me.Activity=T,Me.Children=O,Me.Component=G,Me.Fragment=i,Me.Profiler=l,Me.PureComponent=j,Me.StrictMode=r,Me.Suspense=p,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,Me.__COMPILER_RUNTIME={__proto__:null,c:function(L){return fe.H.useMemoCache(L)}},Me.cache=function(L){return function(){return L.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(L,W,v){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ge=X({},L.props),R=L.key;if(W!=null)for(x in W.key!==void 0&&(R=""+W.key),W)!Se.call(W,x)||x==="key"||x==="__self"||x==="__source"||x==="ref"&&W.ref===void 0||(ge[x]=W[x]);var x=arguments.length-2;if(x===1)ge.children=v;else if(1<x){for(var U=Array(x),te=0;te<x;te++)U[te]=arguments[te+2];ge.children=U}return ve(L.type,R,ge)},Me.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Me.createElement=function(L,W,v){var ge,R={},x=null;if(W!=null)for(ge in W.key!==void 0&&(x=""+W.key),W)Se.call(W,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(R[ge]=W[ge]);var U=arguments.length-2;if(U===1)R.children=v;else if(1<U){for(var te=Array(U),he=0;he<U;he++)te[he]=arguments[he+2];R.children=te}if(L&&L.defaultProps)for(ge in U=L.defaultProps,U)R[ge]===void 0&&(R[ge]=U[ge]);return ve(L,x,R)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(L){return{$$typeof:h,render:L}},Me.isValidElement=_e,Me.lazy=function(L){return{$$typeof:E,_payload:{_status:-1,_result:L},_init:Te}},Me.memo=function(L,W){return{$$typeof:g,type:L,compare:W===void 0?null:W}},Me.startTransition=function(L){var W=fe.T,v={};fe.T=v;try{var ge=L(),R=fe.S;R!==null&&R(v,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(V,Oe)}catch(x){Oe(x)}finally{W!==null&&v.types!==null&&(W.types=v.types),fe.T=W}},Me.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},Me.use=function(L){return fe.H.use(L)},Me.useActionState=function(L,W,v){return fe.H.useActionState(L,W,v)},Me.useCallback=function(L,W){return fe.H.useCallback(L,W)},Me.useContext=function(L){return fe.H.useContext(L)},Me.useDebugValue=function(){},Me.useDeferredValue=function(L,W){return fe.H.useDeferredValue(L,W)},Me.useEffect=function(L,W){return fe.H.useEffect(L,W)},Me.useEffectEvent=function(L){return fe.H.useEffectEvent(L)},Me.useId=function(){return fe.H.useId()},Me.useImperativeHandle=function(L,W,v){return fe.H.useImperativeHandle(L,W,v)},Me.useInsertionEffect=function(L,W){return fe.H.useInsertionEffect(L,W)},Me.useLayoutEffect=function(L,W){return fe.H.useLayoutEffect(L,W)},Me.useMemo=function(L,W){return fe.H.useMemo(L,W)},Me.useOptimistic=function(L,W){return fe.H.useOptimistic(L,W)},Me.useReducer=function(L,W,v){return fe.H.useReducer(L,W,v)},Me.useRef=function(L){return fe.H.useRef(L)},Me.useState=function(L){return fe.H.useState(L)},Me.useSyncExternalStore=function(L,W,v){return fe.H.useSyncExternalStore(L,W,v)},Me.useTransition=function(){return fe.H.useTransition()},Me.version="19.2.0",Me}var _E;function c0(){return _E||(_E=1,Qd.exports=TA()),Qd.exports}var re=c0();const bA=mc(re);var Kd={exports:{}},gl={},Wd={exports:{}},$d={};var yE;function SA(){return yE||(yE=1,(function(e){function t(P,Z){var Te=P.length;P.push(Z);e:for(;0<Te;){var Oe=Te-1>>>1,O=P[Oe];if(0<l(O,Z))P[Oe]=Z,P[Te]=O,Te=Oe;else break e}}function i(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var Z=P[0],Te=P.pop();if(Te!==Z){P[0]=Te;e:for(var Oe=0,O=P.length,L=O>>>1;Oe<L;){var W=2*(Oe+1)-1,v=P[W],ge=W+1,R=P[ge];if(0>l(v,Te))ge<O&&0>l(R,v)?(P[Oe]=R,P[ge]=Te,Oe=ge):(P[Oe]=v,P[W]=Te,Oe=W);else if(ge<O&&0>l(R,Te))P[Oe]=R,P[ge]=Te,Oe=ge;else break e}}return Z}function l(P,Z){var Te=P.sortIndex-Z.sortIndex;return Te!==0?Te:P.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();e.unstable_now=function(){return c.now()-h}}var p=[],g=[],E=1,T=null,b=3,S=!1,w=!1,X=!1,$=!1,G=typeof setTimeout=="function"?setTimeout:null,de=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function ye(P){for(var Z=i(g);Z!==null;){if(Z.callback===null)r(g);else if(Z.startTime<=P)r(g),Z.sortIndex=Z.expirationTime,t(p,Z);else break;Z=i(g)}}function Ae(P){if(X=!1,ye(P),!w)if(i(p)!==null)w=!0,V||(V=!0,q());else{var Z=i(g);Z!==null&&ie(Ae,Z.startTime-P)}}var V=!1,fe=-1,Se=5,ve=-1;function xe(){return $?!0:!(e.unstable_now()-ve<Se)}function _e(){if($=!1,V){var P=e.unstable_now();ve=P;var Z=!0;try{e:{w=!1,X&&(X=!1,de(fe),fe=-1),S=!0;var Te=b;try{t:{for(ye(P),T=i(p);T!==null&&!(T.expirationTime>P&&xe());){var Oe=T.callback;if(typeof Oe=="function"){T.callback=null,b=T.priorityLevel;var O=Oe(T.expirationTime<=P);if(P=e.unstable_now(),typeof O=="function"){T.callback=O,ye(P),Z=!0;break t}T===i(p)&&r(p),ye(P)}else r(p);T=i(p)}if(T!==null)Z=!0;else{var L=i(g);L!==null&&ie(Ae,L.startTime-P),Z=!1}}break e}finally{T=null,b=Te,S=!1}Z=void 0}}finally{Z?q():V=!1}}}var q;if(typeof j=="function")q=function(){j(_e)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,se=Le.port2;Le.port1.onmessage=_e,q=function(){se.postMessage(null)}}else q=function(){G(_e,0)};function ie(P,Z){fe=G(function(){P(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Se=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(P){switch(b){case 1:case 2:case 3:var Z=3;break;default:Z=b}var Te=b;b=Z;try{return P()}finally{b=Te}},e.unstable_requestPaint=function(){$=!0},e.unstable_runWithPriority=function(P,Z){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var Te=b;b=P;try{return Z()}finally{b=Te}},e.unstable_scheduleCallback=function(P,Z,Te){var Oe=e.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?Oe+Te:Oe):Te=Oe,P){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=Te+O,P={id:E++,callback:Z,priorityLevel:P,startTime:Te,expirationTime:O,sortIndex:-1},Te>Oe?(P.sortIndex=Te,t(g,P),i(p)===null&&P===i(g)&&(X?(de(fe),fe=-1):X=!0,ie(Ae,Te-Oe))):(P.sortIndex=O,t(p,P),w||S||(w=!0,V||(V=!0,q()))),P},e.unstable_shouldYield=xe,e.unstable_wrapCallback=function(P){var Z=b;return function(){var Te=b;b=Z;try{return P.apply(this,arguments)}finally{b=Te}}}})($d)),$d}var TE;function CA(){return TE||(TE=1,Wd.exports=SA()),Wd.exports}var Zd={exports:{}},an={};var bE;function AA(){if(bE)return an;bE=1;var e=c0();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,an.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(p,g,null,E)},an.flushSync=function(p){var g=c.T,E=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=E,r.d.f()}},an.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},an.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},an.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=h(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:S}):E==="script"&&r.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},an.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=h(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},an.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=h(E,g.crossOrigin);r.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},an.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=h(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},an.requestFormReset=function(p){r.d.r(p)},an.unstable_batchedUpdates=function(p,g){return p(g)},an.useFormState=function(p,g,E){return c.H.useFormState(p,g,E)},an.useFormStatus=function(){return c.H.useHostTransitionStatus()},an.version="19.2.0",an}var SE;function vA(){if(SE)return Zd.exports;SE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Zd.exports=AA(),Zd.exports}var CE;function xA(){if(CE)return gl;CE=1;var e=CA(),t=c0(),i=vA();function r(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var a=n,s=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(s=a.return),n=a.return;while(n)}return a.tag===3?s:null}function c(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function h(n){if(n.tag===31){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function p(n){if(o(n)!==n)throw Error(r(188))}function g(n){var a=n.alternate;if(!a){if(a=o(n),a===null)throw Error(r(188));return a!==n?null:n}for(var s=n,u=a;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(u=f.return,u!==null){s=u;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return p(f),n;if(d===u)return p(f),a;d=d.sibling}throw Error(r(188))}if(s.return!==u.return)s=f,u=d;else{for(var y=!1,C=f.child;C;){if(C===s){y=!0,s=f,u=d;break}if(C===u){y=!0,u=f,s=d;break}C=C.sibling}if(!y){for(C=d.child;C;){if(C===s){y=!0,s=d,u=f;break}if(C===u){y=!0,u=d,s=f;break}C=C.sibling}if(!y)throw Error(r(189))}}if(s.alternate!==u)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?n:a}function E(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=E(n),a!==null)return a;n=n.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),de=Symbol.for("react.consumer"),j=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),ve=Symbol.for("react.activity"),xe=Symbol.for("react.memo_cache_sentinel"),_e=Symbol.iterator;function q(n){return n===null||typeof n!="object"?null:(n=_e&&n[_e]||n["@@iterator"],typeof n=="function"?n:null)}var Le=Symbol.for("react.client.reference");function se(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Le?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case X:return"Fragment";case G:return"Profiler";case $:return"StrictMode";case Ae:return"Suspense";case V:return"SuspenseList";case ve:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case j:return n.displayName||"Context";case de:return(n._context.displayName||"Context")+".Consumer";case ye:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case fe:return a=n.displayName||null,a!==null?a:se(n.type)||"Memo";case Se:a=n._payload,n=n._init;try{return se(n(a))}catch{}}return null}var ie=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},Oe=[],O=-1;function L(n){return{current:n}}function W(n){0>O||(n.current=Oe[O],Oe[O]=null,O--)}function v(n,a){O++,Oe[O]=n.current,n.current=a}var ge=L(null),R=L(null),x=L(null),U=L(null);function te(n,a){switch(v(x,a),v(R,n),v(ge,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?U1(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=U1(a),n=H1(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}W(ge),v(ge,n)}function he(){W(ge),W(R),W(x)}function qe(n){n.memoizedState!==null&&v(U,n);var a=ge.current,s=H1(a,n.type);a!==s&&(v(R,n),v(ge,s))}function Ue(n){R.current===n&&(W(ge),W(R)),U.current===n&&(W(U),fl._currentValue=Te)}var Ct,Vi;function $n(n){if(Ct===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Ct=a&&a[1]||"",Vi=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ct+n+Vi}var Gi=!1;function gi(n,a){if(!n||Gi)return"";Gi=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Q){var Y=Q}Reflect.construct(n,[],ae)}else{try{ae.call()}catch(Q){Y=Q}n.call(ae.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(ae=n())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=u.DetermineComponentFrameRoot(),y=d[0],C=d[1];if(y&&C){var I=y.split(`
`),z=C.split(`
`);for(f=u=0;u<I.length&&!I[u].includes("DetermineComponentFrameRoot");)u++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(u===I.length||f===z.length)for(u=I.length-1,f=z.length-1;1<=u&&0<=f&&I[u]!==z[f];)f--;for(;1<=u&&0<=f;u--,f--)if(I[u]!==z[f]){if(u!==1||f!==1)do if(u--,f--,0>f||I[u]!==z[f]){var J=`
`+I[u].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=u&&0<=f);break}}}finally{Gi=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?$n(s):""}function or(n,a){switch(n.tag){case 26:case 27:case 5:return $n(n.type);case 16:return $n("Lazy");case 13:return n.child!==a&&a!==null?$n("Suspense Fallback"):$n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return gi(n.type,!1);case 11:return gi(n.type.render,!1);case 1:return gi(n.type,!0);case 31:return $n("Activity");default:return""}}function cr(n){try{var a="",s=null;do a+=or(n,s),s=n,n=n.return;while(n);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ei=Object.prototype.hasOwnProperty,M=e.unstable_scheduleCallback,Ee=e.unstable_cancelCallback,Re=e.unstable_shouldYield,it=e.unstable_requestPaint,ht=e.unstable_now,mt=e.unstable_getCurrentPriorityLevel,ee=e.unstable_ImmediatePriority,me=e.unstable_UserBlockingPriority,Ie=e.unstable_NormalPriority,Ve=e.unstable_LowPriority,at=e.unstable_IdlePriority,Nn=e.log,_i=e.unstable_setDisableYieldValue,on=null,Ft=null;function fn(n){if(typeof Nn=="function"&&_i(n),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(on,n)}catch{}}var ct=Math.clz32?Math.clz32:aC,Xi=Math.log,Zn=Math.LN2;function aC(n){return n>>>=0,n===0?32:31-(Xi(n)/Zn|0)|0}var gu=256,Eu=262144,_u=4194304;function Ia(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function yu(n,a,s){var u=n.pendingLanes;if(u===0)return 0;var f=0,d=n.suspendedLanes,y=n.pingedLanes;n=n.warmLanes;var C=u&134217727;return C!==0?(u=C&~d,u!==0?f=Ia(u):(y&=C,y!==0?f=Ia(y):s||(s=C&~n,s!==0&&(f=Ia(s))))):(C=u&~d,C!==0?f=Ia(C):y!==0?f=Ia(y):s||(s=u&~n,s!==0&&(f=Ia(s)))),f===0?0:a!==0&&a!==f&&(a&d)===0&&(d=f&-f,s=a&-a,d>=s||d===32&&(s&4194048)!==0)?a:f}function As(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function rC(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ym(){var n=_u;return _u<<=1,(_u&62914560)===0&&(_u=4194304),n}function wc(n){for(var a=[],s=0;31>s;s++)a.push(n);return a}function vs(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function sC(n,a,s,u,f,d){var y=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var C=n.entanglements,I=n.expirationTimes,z=n.hiddenUpdates;for(s=y&~s;0<s;){var J=31-ct(s),ae=1<<J;C[J]=0,I[J]=-1;var Y=z[J];if(Y!==null)for(z[J]=null,J=0;J<Y.length;J++){var Q=Y[J];Q!==null&&(Q.lane&=-536870913)}s&=~ae}u!==0&&Tm(n,u,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(y&~a))}function Tm(n,a,s){n.pendingLanes|=a,n.suspendedLanes&=~a;var u=31-ct(a);n.entangledLanes|=a,n.entanglements[u]=n.entanglements[u]|1073741824|s&261930}function bm(n,a){var s=n.entangledLanes|=a;for(n=n.entanglements;s;){var u=31-ct(s),f=1<<u;f&a|n[u]&a&&(n[u]|=a),s&=~f}}function Sm(n,a){var s=a&-a;return s=(s&42)!==0?1:Mc(s),(s&(n.suspendedLanes|a))!==0?0:s}function Mc(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Bc(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Cm(){var n=Z.p;return n!==0?n:(n=window.event,n===void 0?32:uE(n.type))}function Am(n,a){var s=Z.p;try{return Z.p=n,a()}finally{Z.p=s}}var Qi=Math.random().toString(36).slice(2),$t="__reactFiber$"+Qi,dn="__reactProps$"+Qi,fr="__reactContainer$"+Qi,Pc="__reactEvents$"+Qi,lC="__reactListeners$"+Qi,uC="__reactHandles$"+Qi,vm="__reactResources$"+Qi,xs="__reactMarker$"+Qi;function Uc(n){delete n[$t],delete n[dn],delete n[Pc],delete n[lC],delete n[uC]}function dr(n){var a=n[$t];if(a)return a;for(var s=n.parentNode;s;){if(a=s[fr]||s[$t]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(n=G1(n);n!==null;){if(s=n[$t])return s;n=G1(n)}return a}n=s,s=n.parentNode}return null}function hr(n){if(n=n[$t]||n[fr]){var a=n.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return n}return null}function Ns(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(r(33))}function mr(n){var a=n[vm];return a||(a=n[vm]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function qt(n){n[xs]=!0}var xm=new Set,Nm={};function La(n,a){pr(n,a),pr(n+"Capture",a)}function pr(n,a){for(Nm[n]=a,n=0;n<a.length;n++)xm.add(a[n])}var oC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rm={},Om={};function cC(n){return Ei.call(Om,n)?!0:Ei.call(Rm,n)?!1:oC.test(n)?Om[n]=!0:(Rm[n]=!0,!1)}function Tu(n,a,s){if(cC(a))if(s===null)n.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+s)}}function bu(n,a,s){if(s===null)n.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+s)}}function yi(n,a,s,u){if(u===null)n.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(a,s,""+u)}}function Un(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Dm(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function fC(n,a,s){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,a);if(!n.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,d=u.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return f.call(this)},set:function(y){s=""+y,d.call(this,y)}}),Object.defineProperty(n,a,{enumerable:u.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Hc(n){if(!n._valueTracker){var a=Dm(n)?"checked":"value";n._valueTracker=fC(n,a,""+n[a])}}function Im(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var s=a.getValue(),u="";return n&&(u=Dm(n)?n.checked?"true":"false":n.value),n=u,n!==s?(a.setValue(n),!0):!1}function Su(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var dC=/[\n"\\]/g;function Hn(n){return n.replace(dC,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Fc(n,a,s,u,f,d,y,C){n.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?n.type=y:n.removeAttribute("type"),a!=null?y==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+Un(a)):n.value!==""+Un(a)&&(n.value=""+Un(a)):y!=="submit"&&y!=="reset"||n.removeAttribute("value"),a!=null?zc(n,y,Un(a)):s!=null?zc(n,y,Un(s)):u!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+Un(C):n.removeAttribute("name")}function Lm(n,a,s,u,f,d,y,C){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),a!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||a!=null)){Hc(n);return}s=s!=null?""+Un(s):"",a=a!=null?""+Un(a):s,C||a===n.value||(n.value=a),n.defaultValue=a}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=C?n.checked:!!u,n.defaultChecked=!!u,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.name=y),Hc(n)}function zc(n,a,s){a==="number"&&Su(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function gr(n,a,s,u){if(n=n.options,a){a={};for(var f=0;f<s.length;f++)a["$"+s[f]]=!0;for(s=0;s<n.length;s++)f=a.hasOwnProperty("$"+n[s].value),n[s].selected!==f&&(n[s].selected=f),f&&u&&(n[s].defaultSelected=!0)}else{for(s=""+Un(s),a=null,f=0;f<n.length;f++){if(n[f].value===s){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}a!==null||n[f].disabled||(a=n[f])}a!==null&&(a.selected=!0)}}function km(n,a,s){if(a!=null&&(a=""+Un(a),a!==n.value&&(n.value=a),s==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=s!=null?""+Un(s):""}function wm(n,a,s,u){if(a==null){if(u!=null){if(s!=null)throw Error(r(92));if(ie(u)){if(1<u.length)throw Error(r(93));u=u[0]}s=u}s==null&&(s=""),a=s}s=Un(a),n.defaultValue=s,u=n.textContent,u===s&&u!==""&&u!==null&&(n.value=u),Hc(n)}function Er(n,a){if(a){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=a;return}}n.textContent=a}var hC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mm(n,a,s){var u=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":u?n.setProperty(a,s):typeof s!="number"||s===0||hC.has(a)?a==="float"?n.cssFloat=s:n[a]=(""+s).trim():n[a]=s+"px"}function Bm(n,a,s){if(a!=null&&typeof a!="object")throw Error(r(62));if(n=n.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in a)u=a[f],a.hasOwnProperty(f)&&s[f]!==u&&Mm(n,f,u)}else for(var d in a)a.hasOwnProperty(d)&&Mm(n,d,a[d])}function jc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cu(n){return pC.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Ti(){}var Yc=null;function qc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var _r=null,yr=null;function Pm(n){var a=hr(n);if(a&&(n=a.stateNode)){var s=n[dn]||null;e:switch(n=a.stateNode,a.type){case"input":if(Fc(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Hn(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var u=s[a];if(u!==n&&u.form===n.form){var f=u[dn]||null;if(!f)throw Error(r(90));Fc(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<s.length;a++)u=s[a],u.form===n.form&&Im(u)}break e;case"textarea":km(n,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&gr(n,!!s.multiple,a,!1)}}}var Vc=!1;function Um(n,a,s){if(Vc)return n(a,s);Vc=!0;try{var u=n(a);return u}finally{if(Vc=!1,(_r!==null||yr!==null)&&(co(),_r&&(a=_r,n=yr,yr=_r=null,Pm(a),n)))for(a=0;a<n.length;a++)Pm(n[a])}}function Rs(n,a){var s=n.stateNode;if(s===null)return null;var u=s[dn]||null;if(u===null)return null;s=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(r(231,a,typeof s));return s}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gc=!1;if(bi)try{var Os={};Object.defineProperty(Os,"passive",{get:function(){Gc=!0}}),window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,Os)}catch{Gc=!1}var Ki=null,Xc=null,Au=null;function Hm(){if(Au)return Au;var n,a=Xc,s=a.length,u,f="value"in Ki?Ki.value:Ki.textContent,d=f.length;for(n=0;n<s&&a[n]===f[n];n++);var y=s-n;for(u=1;u<=y&&a[s-u]===f[d-u];u++);return Au=f.slice(n,1<u?1-u:void 0)}function vu(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function xu(){return!0}function Fm(){return!1}function hn(n){function a(s,u,f,d,y){this._reactName=s,this._targetInst=f,this.type=u,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(s=n[C],this[C]=s?s(d):d[C]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?xu:Fm,this.isPropagationStopped=Fm,this}return T(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=xu)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=xu)},persist:function(){},isPersistent:xu}),a}var ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nu=hn(ka),Ds=T({},ka,{view:0,detail:0}),gC=hn(Ds),Qc,Kc,Is,Ru=T({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$c,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Is&&(Is&&n.type==="mousemove"?(Qc=n.screenX-Is.screenX,Kc=n.screenY-Is.screenY):Kc=Qc=0,Is=n),Qc)},movementY:function(n){return"movementY"in n?n.movementY:Kc}}),zm=hn(Ru),EC=T({},Ru,{dataTransfer:0}),_C=hn(EC),yC=T({},Ds,{relatedTarget:0}),Wc=hn(yC),TC=T({},ka,{animationName:0,elapsedTime:0,pseudoElement:0}),bC=hn(TC),SC=T({},ka,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),CC=hn(SC),AC=T({},ka,{data:0}),jm=hn(AC),vC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RC(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=NC[n])?!!a[n]:!1}function $c(){return RC}var OC=T({},Ds,{key:function(n){if(n.key){var a=vC[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=vu(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?xC[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$c,charCode:function(n){return n.type==="keypress"?vu(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?vu(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),DC=hn(OC),IC=T({},Ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ym=hn(IC),LC=T({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$c}),kC=hn(LC),wC=T({},ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),MC=hn(wC),BC=T({},Ru,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),PC=hn(BC),UC=T({},ka,{newState:0,oldState:0}),HC=hn(UC),FC=[9,13,27,32],Zc=bi&&"CompositionEvent"in window,Ls=null;bi&&"documentMode"in document&&(Ls=document.documentMode);var zC=bi&&"TextEvent"in window&&!Ls,qm=bi&&(!Zc||Ls&&8<Ls&&11>=Ls),Vm=" ",Gm=!1;function Xm(n,a){switch(n){case"keyup":return FC.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qm(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Tr=!1;function jC(n,a){switch(n){case"compositionend":return Qm(a);case"keypress":return a.which!==32?null:(Gm=!0,Vm);case"textInput":return n=a.data,n===Vm&&Gm?null:n;default:return null}}function YC(n,a){if(Tr)return n==="compositionend"||!Zc&&Xm(n,a)?(n=Hm(),Au=Xc=Ki=null,Tr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return qm&&a.locale!=="ko"?null:a.data;default:return null}}var qC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Km(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!qC[n.type]:a==="textarea"}function Wm(n,a,s,u){_r?yr?yr.push(u):yr=[u]:_r=u,a=_o(a,"onChange"),0<a.length&&(s=new Nu("onChange","change",null,s,u),n.push({event:s,listeners:a}))}var ks=null,ws=null;function VC(n){L1(n,0)}function Ou(n){var a=Ns(n);if(Im(a))return n}function $m(n,a){if(n==="change")return a}var Zm=!1;if(bi){var Jc;if(bi){var ef="oninput"in document;if(!ef){var Jm=document.createElement("div");Jm.setAttribute("oninput","return;"),ef=typeof Jm.oninput=="function"}Jc=ef}else Jc=!1;Zm=Jc&&(!document.documentMode||9<document.documentMode)}function ep(){ks&&(ks.detachEvent("onpropertychange",tp),ws=ks=null)}function tp(n){if(n.propertyName==="value"&&Ou(ws)){var a=[];Wm(a,ws,n,qc(n)),Um(VC,a)}}function GC(n,a,s){n==="focusin"?(ep(),ks=a,ws=s,ks.attachEvent("onpropertychange",tp)):n==="focusout"&&ep()}function XC(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ou(ws)}function QC(n,a){if(n==="click")return Ou(a)}function KC(n,a){if(n==="input"||n==="change")return Ou(a)}function WC(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var Rn=typeof Object.is=="function"?Object.is:WC;function Ms(n,a){if(Rn(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var s=Object.keys(n),u=Object.keys(a);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var f=s[u];if(!Ei.call(a,f)||!Rn(n[f],a[f]))return!1}return!0}function np(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ip(n,a){var s=np(n);n=0;for(var u;s;){if(s.nodeType===3){if(u=n+s.textContent.length,n<=a&&u>=a)return{node:s,offset:a-n};n=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=np(s)}}function ap(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?ap(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function rp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=Su(n.document);a instanceof n.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)n=a.contentWindow;else break;a=Su(n.document)}return a}function tf(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var $C=bi&&"documentMode"in document&&11>=document.documentMode,br=null,nf=null,Bs=null,af=!1;function sp(n,a,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;af||br==null||br!==Su(u)||(u=br,"selectionStart"in u&&tf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Bs&&Ms(Bs,u)||(Bs=u,u=_o(nf,"onSelect"),0<u.length&&(a=new Nu("onSelect","select",null,a,s),n.push({event:a,listeners:u}),a.target=br)))}function wa(n,a){var s={};return s[n.toLowerCase()]=a.toLowerCase(),s["Webkit"+n]="webkit"+a,s["Moz"+n]="moz"+a,s}var Sr={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionrun:wa("Transition","TransitionRun"),transitionstart:wa("Transition","TransitionStart"),transitioncancel:wa("Transition","TransitionCancel"),transitionend:wa("Transition","TransitionEnd")},rf={},lp={};bi&&(lp=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);function Ma(n){if(rf[n])return rf[n];if(!Sr[n])return n;var a=Sr[n],s;for(s in a)if(a.hasOwnProperty(s)&&s in lp)return rf[n]=a[s];return n}var up=Ma("animationend"),op=Ma("animationiteration"),cp=Ma("animationstart"),ZC=Ma("transitionrun"),JC=Ma("transitionstart"),e3=Ma("transitioncancel"),fp=Ma("transitionend"),dp=new Map,sf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sf.push("scrollEnd");function Jn(n,a){dp.set(n,a),La(a,[n])}var Du=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Fn=[],Cr=0,lf=0;function Iu(){for(var n=Cr,a=lf=Cr=0;a<n;){var s=Fn[a];Fn[a++]=null;var u=Fn[a];Fn[a++]=null;var f=Fn[a];Fn[a++]=null;var d=Fn[a];if(Fn[a++]=null,u!==null&&f!==null){var y=u.pending;y===null?f.next=f:(f.next=y.next,y.next=f),u.pending=f}d!==0&&hp(s,f,d)}}function Lu(n,a,s,u){Fn[Cr++]=n,Fn[Cr++]=a,Fn[Cr++]=s,Fn[Cr++]=u,lf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function uf(n,a,s,u){return Lu(n,a,s,u),ku(n)}function Ba(n,a){return Lu(n,null,null,a),ku(n)}function hp(n,a,s){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s);for(var f=!1,d=n.return;d!==null;)d.childLanes|=s,u=d.alternate,u!==null&&(u.childLanes|=s),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&a!==null&&(f=31-ct(s),n=d.hiddenUpdates,u=n[f],u===null?n[f]=[a]:u.push(a),a.lane=s|536870912),d):null}function ku(n){if(50<al)throw al=0,Ed=null,Error(r(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var Ar={};function t3(n,a,s,u){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(n,a,s,u){return new t3(n,a,s,u)}function of(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Si(n,a){var s=n.alternate;return s===null?(s=On(n.tag,a,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=a,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,a=n.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function mp(n,a){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,a=s.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function wu(n,a,s,u,f,d){var y=0;if(u=n,typeof n=="function")of(n)&&(y=1);else if(typeof n=="string")y=sA(n,s,ge.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case ve:return n=On(31,s,a,f),n.elementType=ve,n.lanes=d,n;case X:return Pa(s.children,f,d,a);case $:y=8,f|=24;break;case G:return n=On(12,s,a,f|2),n.elementType=G,n.lanes=d,n;case Ae:return n=On(13,s,a,f),n.elementType=Ae,n.lanes=d,n;case V:return n=On(19,s,a,f),n.elementType=V,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case j:y=10;break e;case de:y=9;break e;case ye:y=11;break e;case fe:y=14;break e;case Se:y=16,u=null;break e}y=29,s=Error(r(130,n===null?"null":typeof n,"")),u=null}return a=On(y,s,a,f),a.elementType=n,a.type=u,a.lanes=d,a}function Pa(n,a,s,u){return n=On(7,n,u,a),n.lanes=s,n}function cf(n,a,s){return n=On(6,n,null,a),n.lanes=s,n}function pp(n){var a=On(18,null,null,0);return a.stateNode=n,a}function ff(n,a,s){return a=On(4,n.children!==null?n.children:[],n.key,a),a.lanes=s,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var gp=new WeakMap;function zn(n,a){if(typeof n=="object"&&n!==null){var s=gp.get(n);return s!==void 0?s:(a={value:n,source:a,stack:cr(a)},gp.set(n,a),a)}return{value:n,source:a,stack:cr(a)}}var vr=[],xr=0,Mu=null,Ps=0,jn=[],Yn=0,Wi=null,li=1,ui="";function Ci(n,a){vr[xr++]=Ps,vr[xr++]=Mu,Mu=n,Ps=a}function Ep(n,a,s){jn[Yn++]=li,jn[Yn++]=ui,jn[Yn++]=Wi,Wi=n;var u=li;n=ui;var f=32-ct(u)-1;u&=~(1<<f),s+=1;var d=32-ct(a)+f;if(30<d){var y=f-f%5;d=(u&(1<<y)-1).toString(32),u>>=y,f-=y,li=1<<32-ct(a)+f|s<<f|u,ui=d+n}else li=1<<d|s<<f|u,ui=n}function df(n){n.return!==null&&(Ci(n,1),Ep(n,1,0))}function hf(n){for(;n===Mu;)Mu=vr[--xr],vr[xr]=null,Ps=vr[--xr],vr[xr]=null;for(;n===Wi;)Wi=jn[--Yn],jn[Yn]=null,ui=jn[--Yn],jn[Yn]=null,li=jn[--Yn],jn[Yn]=null}function _p(n,a){jn[Yn++]=li,jn[Yn++]=ui,jn[Yn++]=Wi,li=a.id,ui=a.overflow,Wi=n}var Zt=null,Tt=null,$e=!1,$i=null,qn=!1,mf=Error(r(519));function Zi(n){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Us(zn(a,n)),mf}function yp(n){var a=n.stateNode,s=n.type,u=n.memoizedProps;switch(a[$t]=n,a[dn]=u,s){case"dialog":Xe("cancel",a),Xe("close",a);break;case"iframe":case"object":case"embed":Xe("load",a);break;case"video":case"audio":for(s=0;s<sl.length;s++)Xe(sl[s],a);break;case"source":Xe("error",a);break;case"img":case"image":case"link":Xe("error",a),Xe("load",a);break;case"details":Xe("toggle",a);break;case"input":Xe("invalid",a),Lm(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Xe("invalid",a);break;case"textarea":Xe("invalid",a),wm(a,u.value,u.defaultValue,u.children)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||u.suppressHydrationWarning===!0||B1(a.textContent,s)?(u.popover!=null&&(Xe("beforetoggle",a),Xe("toggle",a)),u.onScroll!=null&&Xe("scroll",a),u.onScrollEnd!=null&&Xe("scrollend",a),u.onClick!=null&&(a.onclick=Ti),a=!0):a=!1,a||Zi(n,!0)}function Tp(n){for(Zt=n.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Zt=Zt.return}}function Nr(n){if(n!==Zt)return!1;if(!$e)return Tp(n),$e=!0,!1;var a=n.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Ld(n.type,n.memoizedProps)),s=!s),s&&Tt&&Zi(n),Tp(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Tt=V1(n)}else if(a===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Tt=V1(n)}else a===27?(a=Tt,da(n.type)?(n=Pd,Pd=null,Tt=n):Tt=a):Tt=Zt?Gn(n.stateNode.nextSibling):null;return!0}function Ua(){Tt=Zt=null,$e=!1}function pf(){var n=$i;return n!==null&&(En===null?En=n:En.push.apply(En,n),$i=null),n}function Us(n){$i===null?$i=[n]:$i.push(n)}var gf=L(null),Ha=null,Ai=null;function Ji(n,a,s){v(gf,a._currentValue),a._currentValue=s}function vi(n){n._currentValue=gf.current,W(gf)}function Ef(n,a,s){for(;n!==null;){var u=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),n===s)break;n=n.return}}function _f(n,a,s,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var y=f.child;d=d.firstContext;e:for(;d!==null;){var C=d;d=f;for(var I=0;I<a.length;I++)if(C.context===a[I]){d.lanes|=s,C=d.alternate,C!==null&&(C.lanes|=s),Ef(d.return,s,n),u||(y=null);break e}d=C.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(r(341));y.lanes|=s,d=y.alternate,d!==null&&(d.lanes|=s),Ef(y,s,n),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===n){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function Rr(n,a,s,u){n=null;for(var f=a,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var C=f.type;Rn(f.pendingProps.value,y.value)||(n!==null?n.push(C):n=[C])}}else if(f===U.current){if(y=f.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(fl):n=[fl])}f=f.return}n!==null&&_f(a,n,s,u),a.flags|=262144}function Bu(n){for(n=n.firstContext;n!==null;){if(!Rn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Fa(n){Ha=n,Ai=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Jt(n){return bp(Ha,n)}function Pu(n,a){return Ha===null&&Fa(n),bp(n,a)}function bp(n,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},Ai===null){if(n===null)throw Error(r(308));Ai=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else Ai=Ai.next=a;return s}var n3=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(s,u){n.push(u)}};this.abort=function(){a.aborted=!0,n.forEach(function(s){return s()})}},i3=e.unstable_scheduleCallback,a3=e.unstable_NormalPriority,kt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yf(){return{controller:new n3,data:new Map,refCount:0}}function Hs(n){n.refCount--,n.refCount===0&&i3(a3,function(){n.controller.abort()})}var Fs=null,Tf=0,Or=0,Dr=null;function r3(n,a){if(Fs===null){var s=Fs=[];Tf=0,Or=Cd(),Dr={status:"pending",value:void 0,then:function(u){s.push(u)}}}return Tf++,a.then(Sp,Sp),a}function Sp(){if(--Tf===0&&Fs!==null){Dr!==null&&(Dr.status="fulfilled");var n=Fs;Fs=null,Or=0,Dr=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function s3(n,a){var s=[],u={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return n.then(function(){u.status="fulfilled",u.value=a;for(var f=0;f<s.length;f++)(0,s[f])(a)},function(f){for(u.status="rejected",u.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),u}var Cp=P.S;P.S=function(n,a){s1=ht(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&r3(n,a),Cp!==null&&Cp(n,a)};var za=L(null);function bf(){var n=za.current;return n!==null?n:ft.pooledCache}function Uu(n,a){a===null?v(za,za.current):v(za,a.pool)}function Ap(){var n=bf();return n===null?null:{parent:kt._currentValue,pool:n}}var Ir=Error(r(460)),Sf=Error(r(474)),Hu=Error(r(542)),Fu={then:function(){}};function vp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function xp(n,a,s){switch(s=n[s],s===void 0?n.push(a):s!==a&&(a.then(Ti,Ti),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Rp(n),n;default:if(typeof a.status=="string")a.then(Ti,Ti);else{if(n=ft,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=a,n.status="pending",n.then(function(u){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=u}},function(u){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Rp(n),n}throw Ya=a,Ir}}function ja(n){try{var a=n._init;return a(n._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ya=s,Ir):s}}var Ya=null;function Np(){if(Ya===null)throw Error(r(459));var n=Ya;return Ya=null,n}function Rp(n){if(n===Ir||n===Hu)throw Error(r(483))}var Lr=null,zs=0;function zu(n){var a=zs;return zs+=1,Lr===null&&(Lr=[]),xp(Lr,n,a)}function js(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function ju(n,a){throw a.$$typeof===b?Error(r(525)):(n=Object.prototype.toString.call(a),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function Op(n){function a(B,k){if(n){var F=B.deletions;F===null?(B.deletions=[k],B.flags|=16):F.push(k)}}function s(B,k){if(!n)return null;for(;k!==null;)a(B,k),k=k.sibling;return null}function u(B){for(var k=new Map;B!==null;)B.key!==null?k.set(B.key,B):k.set(B.index,B),B=B.sibling;return k}function f(B,k){return B=Si(B,k),B.index=0,B.sibling=null,B}function d(B,k,F){return B.index=F,n?(F=B.alternate,F!==null?(F=F.index,F<k?(B.flags|=67108866,k):F):(B.flags|=67108866,k)):(B.flags|=1048576,k)}function y(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function C(B,k,F,ne){return k===null||k.tag!==6?(k=cf(F,B.mode,ne),k.return=B,k):(k=f(k,F),k.return=B,k)}function I(B,k,F,ne){var Ne=F.type;return Ne===X?J(B,k,F.props.children,ne,F.key):k!==null&&(k.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===Se&&ja(Ne)===k.type)?(k=f(k,F.props),js(k,F),k.return=B,k):(k=wu(F.type,F.key,F.props,null,B.mode,ne),js(k,F),k.return=B,k)}function z(B,k,F,ne){return k===null||k.tag!==4||k.stateNode.containerInfo!==F.containerInfo||k.stateNode.implementation!==F.implementation?(k=ff(F,B.mode,ne),k.return=B,k):(k=f(k,F.children||[]),k.return=B,k)}function J(B,k,F,ne,Ne){return k===null||k.tag!==7?(k=Pa(F,B.mode,ne,Ne),k.return=B,k):(k=f(k,F),k.return=B,k)}function ae(B,k,F){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=cf(""+k,B.mode,F),k.return=B,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case S:return F=wu(k.type,k.key,k.props,null,B.mode,F),js(F,k),F.return=B,F;case w:return k=ff(k,B.mode,F),k.return=B,k;case Se:return k=ja(k),ae(B,k,F)}if(ie(k)||q(k))return k=Pa(k,B.mode,F,null),k.return=B,k;if(typeof k.then=="function")return ae(B,zu(k),F);if(k.$$typeof===j)return ae(B,Pu(B,k),F);ju(B,k)}return null}function Y(B,k,F,ne){var Ne=k!==null?k.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Ne!==null?null:C(B,k,""+F,ne);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case S:return F.key===Ne?I(B,k,F,ne):null;case w:return F.key===Ne?z(B,k,F,ne):null;case Se:return F=ja(F),Y(B,k,F,ne)}if(ie(F)||q(F))return Ne!==null?null:J(B,k,F,ne,null);if(typeof F.then=="function")return Y(B,k,zu(F),ne);if(F.$$typeof===j)return Y(B,k,Pu(B,F),ne);ju(B,F)}return null}function Q(B,k,F,ne,Ne){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return B=B.get(F)||null,C(k,B,""+ne,Ne);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case S:return B=B.get(ne.key===null?F:ne.key)||null,I(k,B,ne,Ne);case w:return B=B.get(ne.key===null?F:ne.key)||null,z(k,B,ne,Ne);case Se:return ne=ja(ne),Q(B,k,F,ne,Ne)}if(ie(ne)||q(ne))return B=B.get(F)||null,J(k,B,ne,Ne,null);if(typeof ne.then=="function")return Q(B,k,F,zu(ne),Ne);if(ne.$$typeof===j)return Q(B,k,F,Pu(k,ne),Ne);ju(k,ne)}return null}function be(B,k,F,ne){for(var Ne=null,Ze=null,Ce=k,He=k=0,We=null;Ce!==null&&He<F.length;He++){Ce.index>He?(We=Ce,Ce=null):We=Ce.sibling;var Je=Y(B,Ce,F[He],ne);if(Je===null){Ce===null&&(Ce=We);break}n&&Ce&&Je.alternate===null&&a(B,Ce),k=d(Je,k,He),Ze===null?Ne=Je:Ze.sibling=Je,Ze=Je,Ce=We}if(He===F.length)return s(B,Ce),$e&&Ci(B,He),Ne;if(Ce===null){for(;He<F.length;He++)Ce=ae(B,F[He],ne),Ce!==null&&(k=d(Ce,k,He),Ze===null?Ne=Ce:Ze.sibling=Ce,Ze=Ce);return $e&&Ci(B,He),Ne}for(Ce=u(Ce);He<F.length;He++)We=Q(Ce,B,He,F[He],ne),We!==null&&(n&&We.alternate!==null&&Ce.delete(We.key===null?He:We.key),k=d(We,k,He),Ze===null?Ne=We:Ze.sibling=We,Ze=We);return n&&Ce.forEach(function(Ea){return a(B,Ea)}),$e&&Ci(B,He),Ne}function De(B,k,F,ne){if(F==null)throw Error(r(151));for(var Ne=null,Ze=null,Ce=k,He=k=0,We=null,Je=F.next();Ce!==null&&!Je.done;He++,Je=F.next()){Ce.index>He?(We=Ce,Ce=null):We=Ce.sibling;var Ea=Y(B,Ce,Je.value,ne);if(Ea===null){Ce===null&&(Ce=We);break}n&&Ce&&Ea.alternate===null&&a(B,Ce),k=d(Ea,k,He),Ze===null?Ne=Ea:Ze.sibling=Ea,Ze=Ea,Ce=We}if(Je.done)return s(B,Ce),$e&&Ci(B,He),Ne;if(Ce===null){for(;!Je.done;He++,Je=F.next())Je=ae(B,Je.value,ne),Je!==null&&(k=d(Je,k,He),Ze===null?Ne=Je:Ze.sibling=Je,Ze=Je);return $e&&Ci(B,He),Ne}for(Ce=u(Ce);!Je.done;He++,Je=F.next())Je=Q(Ce,B,He,Je.value,ne),Je!==null&&(n&&Je.alternate!==null&&Ce.delete(Je.key===null?He:Je.key),k=d(Je,k,He),Ze===null?Ne=Je:Ze.sibling=Je,Ze=Je);return n&&Ce.forEach(function(EA){return a(B,EA)}),$e&&Ci(B,He),Ne}function ot(B,k,F,ne){if(typeof F=="object"&&F!==null&&F.type===X&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case S:e:{for(var Ne=F.key;k!==null;){if(k.key===Ne){if(Ne=F.type,Ne===X){if(k.tag===7){s(B,k.sibling),ne=f(k,F.props.children),ne.return=B,B=ne;break e}}else if(k.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===Se&&ja(Ne)===k.type){s(B,k.sibling),ne=f(k,F.props),js(ne,F),ne.return=B,B=ne;break e}s(B,k);break}else a(B,k);k=k.sibling}F.type===X?(ne=Pa(F.props.children,B.mode,ne,F.key),ne.return=B,B=ne):(ne=wu(F.type,F.key,F.props,null,B.mode,ne),js(ne,F),ne.return=B,B=ne)}return y(B);case w:e:{for(Ne=F.key;k!==null;){if(k.key===Ne)if(k.tag===4&&k.stateNode.containerInfo===F.containerInfo&&k.stateNode.implementation===F.implementation){s(B,k.sibling),ne=f(k,F.children||[]),ne.return=B,B=ne;break e}else{s(B,k);break}else a(B,k);k=k.sibling}ne=ff(F,B.mode,ne),ne.return=B,B=ne}return y(B);case Se:return F=ja(F),ot(B,k,F,ne)}if(ie(F))return be(B,k,F,ne);if(q(F)){if(Ne=q(F),typeof Ne!="function")throw Error(r(150));return F=Ne.call(F),De(B,k,F,ne)}if(typeof F.then=="function")return ot(B,k,zu(F),ne);if(F.$$typeof===j)return ot(B,k,Pu(B,F),ne);ju(B,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,k!==null&&k.tag===6?(s(B,k.sibling),ne=f(k,F),ne.return=B,B=ne):(s(B,k),ne=cf(F,B.mode,ne),ne.return=B,B=ne),y(B)):s(B,k)}return function(B,k,F,ne){try{zs=0;var Ne=ot(B,k,F,ne);return Lr=null,Ne}catch(Ce){if(Ce===Ir||Ce===Hu)throw Ce;var Ze=On(29,Ce,null,B.mode);return Ze.lanes=ne,Ze.return=B,Ze}finally{}}}var qa=Op(!0),Dp=Op(!1),ea=!1;function Cf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Af(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ta(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function na(n,a,s){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var f=u.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a,a=ku(n),hp(n,null,s),a}return Lu(n,u,a,s),ku(n)}function Ys(n,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var u=a.lanes;u&=n.pendingLanes,s|=u,a.lanes=s,bm(n,s)}}function vf(n,a){var s=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=y:d=d.next=y,s=s.next}while(s!==null);d===null?f=d=a:d=d.next=a}else f=d=a;s={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:u.shared,callbacks:u.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=a:n.next=a,s.lastBaseUpdate=a}var xf=!1;function qs(){if(xf){var n=Dr;if(n!==null)throw n}}function Vs(n,a,s,u){xf=!1;var f=n.updateQueue;ea=!1;var d=f.firstBaseUpdate,y=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var I=C,z=I.next;I.next=null,y===null?d=z:y.next=z,y=I;var J=n.alternate;J!==null&&(J=J.updateQueue,C=J.lastBaseUpdate,C!==y&&(C===null?J.firstBaseUpdate=z:C.next=z,J.lastBaseUpdate=I))}if(d!==null){var ae=f.baseState;y=0,J=z=I=null,C=d;do{var Y=C.lane&-536870913,Q=Y!==C.lane;if(Q?(Ke&Y)===Y:(u&Y)===Y){Y!==0&&Y===Or&&(xf=!0),J!==null&&(J=J.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var be=n,De=C;Y=a;var ot=s;switch(De.tag){case 1:if(be=De.payload,typeof be=="function"){ae=be.call(ot,ae,Y);break e}ae=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=De.payload,Y=typeof be=="function"?be.call(ot,ae,Y):be,Y==null)break e;ae=T({},ae,Y);break e;case 2:ea=!0}}Y=C.callback,Y!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:C.tag,payload:C.payload,callback:C.callback,next:null},J===null?(z=J=Q,I=ae):J=J.next=Q,y|=Y;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;Q=C,C=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);J===null&&(I=ae),f.baseState=I,f.firstBaseUpdate=z,f.lastBaseUpdate=J,d===null&&(f.shared.lanes=0),la|=y,n.lanes=y,n.memoizedState=ae}}function Ip(n,a){if(typeof n!="function")throw Error(r(191,n));n.call(a)}function Lp(n,a){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)Ip(s[n],a)}var kr=L(null),Yu=L(0);function kp(n,a){n=wi,v(Yu,n),v(kr,a),wi=n|a.baseLanes}function Nf(){v(Yu,wi),v(kr,kr.current)}function Rf(){wi=Yu.current,W(kr),W(Yu)}var Dn=L(null),Vn=null;function ia(n){var a=n.alternate;v(Ot,Ot.current&1),v(Dn,n),Vn===null&&(a===null||kr.current!==null||a.memoizedState!==null)&&(Vn=n)}function Of(n){v(Ot,Ot.current),v(Dn,n),Vn===null&&(Vn=n)}function wp(n){n.tag===22?(v(Ot,Ot.current),v(Dn,n),Vn===null&&(Vn=n)):aa()}function aa(){v(Ot,Ot.current),v(Dn,Dn.current)}function In(n){W(Dn),Vn===n&&(Vn=null),W(Ot)}var Ot=L(0);function qu(n){for(var a=n;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Md(s)||Bd(s)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var xi=0,Be=null,lt=null,wt=null,Vu=!1,wr=!1,Va=!1,Gu=0,Gs=0,Mr=null,l3=0;function xt(){throw Error(r(321))}function Df(n,a){if(a===null)return!1;for(var s=0;s<a.length&&s<n.length;s++)if(!Rn(n[s],a[s]))return!1;return!0}function If(n,a,s,u,f,d){return xi=d,Be=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,P.H=n===null||n.memoizedState===null?Eg:Gf,Va=!1,d=s(u,f),Va=!1,wr&&(d=Bp(a,s,u,f)),Mp(n),d}function Mp(n){P.H=Ks;var a=lt!==null&&lt.next!==null;if(xi=0,wt=lt=Be=null,Vu=!1,Gs=0,Mr=null,a)throw Error(r(300));n===null||Mt||(n=n.dependencies,n!==null&&Bu(n)&&(Mt=!0))}function Bp(n,a,s,u){Be=n;var f=0;do{if(wr&&(Mr=null),Gs=0,wr=!1,25<=f)throw Error(r(301));if(f+=1,wt=lt=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}P.H=_g,d=a(s,u)}while(wr);return d}function u3(){var n=P.H,a=n.useState()[0];return a=typeof a.then=="function"?Xs(a):a,n=n.useState()[0],(lt!==null?lt.memoizedState:null)!==n&&(Be.flags|=1024),a}function Lf(){var n=Gu!==0;return Gu=0,n}function kf(n,a,s){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~s}function wf(n){if(Vu){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Vu=!1}xi=0,wt=lt=Be=null,wr=!1,Gs=Gu=0,Mr=null}function cn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Be.memoizedState=wt=n:wt=wt.next=n,wt}function Dt(){if(lt===null){var n=Be.alternate;n=n!==null?n.memoizedState:null}else n=lt.next;var a=wt===null?Be.memoizedState:wt.next;if(a!==null)wt=a,lt=n;else{if(n===null)throw Be.alternate===null?Error(r(467)):Error(r(310));lt=n,n={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},wt===null?Be.memoizedState=wt=n:wt=wt.next=n}return wt}function Xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xs(n){var a=Gs;return Gs+=1,Mr===null&&(Mr=[]),n=xp(Mr,n,a),a=Be,(wt===null?a.memoizedState:wt.next)===null&&(a=a.alternate,P.H=a===null||a.memoizedState===null?Eg:Gf),n}function Qu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Xs(n);if(n.$$typeof===j)return Jt(n)}throw Error(r(438,String(n)))}function Mf(n){var a=null,s=Be.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var u=Be.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=Xu(),Be.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(n),u=0;u<n;u++)s[u]=xe;return a.index++,s}function Ni(n,a){return typeof a=="function"?a(n):a}function Ku(n){var a=Dt();return Bf(a,lt,n)}function Bf(n,a,s){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var f=n.baseQueue,d=u.pending;if(d!==null){if(f!==null){var y=f.next;f.next=d.next,d.next=y}a.baseQueue=f=d,u.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{a=f.next;var C=y=null,I=null,z=a,J=!1;do{var ae=z.lane&-536870913;if(ae!==z.lane?(Ke&ae)===ae:(xi&ae)===ae){var Y=z.revertLane;if(Y===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),ae===Or&&(J=!0);else if((xi&Y)===Y){z=z.next,Y===Or&&(J=!0);continue}else ae={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(C=I=ae,y=d):I=I.next=ae,Be.lanes|=Y,la|=Y;ae=z.action,Va&&s(d,ae),d=z.hasEagerState?z.eagerState:s(d,ae)}else Y={lane:ae,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(C=I=Y,y=d):I=I.next=Y,Be.lanes|=ae,la|=ae;z=z.next}while(z!==null&&z!==a);if(I===null?y=d:I.next=C,!Rn(d,n.memoizedState)&&(Mt=!0,J&&(s=Dr,s!==null)))throw s;n.memoizedState=d,n.baseState=y,n.baseQueue=I,u.lastRenderedState=d}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Pf(n){var a=Dt(),s=a.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=n;var u=s.dispatch,f=s.pending,d=a.memoizedState;if(f!==null){s.pending=null;var y=f=f.next;do d=n(d,y.action),y=y.next;while(y!==f);Rn(d,a.memoizedState)||(Mt=!0),a.memoizedState=d,a.baseQueue===null&&(a.baseState=d),s.lastRenderedState=d}return[d,u]}function Pp(n,a,s){var u=Be,f=Dt(),d=$e;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=a();var y=!Rn((lt||f).memoizedState,s);if(y&&(f.memoizedState=s,Mt=!0),f=f.queue,Ff(Fp.bind(null,u,f,n),[n]),f.getSnapshot!==a||y||wt!==null&&wt.memoizedState.tag&1){if(u.flags|=2048,Br(9,{destroy:void 0},Hp.bind(null,u,f,s,a),null),ft===null)throw Error(r(349));d||(xi&127)!==0||Up(u,a,s)}return s}function Up(n,a,s){n.flags|=16384,n={getSnapshot:a,value:s},a=Be.updateQueue,a===null?(a=Xu(),Be.updateQueue=a,a.stores=[n]):(s=a.stores,s===null?a.stores=[n]:s.push(n))}function Hp(n,a,s,u){a.value=s,a.getSnapshot=u,zp(a)&&jp(n)}function Fp(n,a,s){return s(function(){zp(a)&&jp(n)})}function zp(n){var a=n.getSnapshot;n=n.value;try{var s=a();return!Rn(n,s)}catch{return!0}}function jp(n){var a=Ba(n,2);a!==null&&_n(a,n,2)}function Uf(n){var a=cn();if(typeof n=="function"){var s=n;if(n=s(),Va){fn(!0);try{s()}finally{fn(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:n},a}function Yp(n,a,s,u){return n.baseState=s,Bf(n,lt,typeof u=="function"?u:Ni)}function o3(n,a,s,u,f){if(Zu(n))throw Error(r(485));if(n=a.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};P.T!==null?s(!0):d.isTransition=!1,u(d),s=a.pending,s===null?(d.next=a.pending=d,qp(a,d)):(d.next=s.next,a.pending=s.next=d)}}function qp(n,a){var s=a.action,u=a.payload,f=n.state;if(a.isTransition){var d=P.T,y={};P.T=y;try{var C=s(f,u),I=P.S;I!==null&&I(y,C),Vp(n,a,C)}catch(z){Hf(n,a,z)}finally{d!==null&&y.types!==null&&(d.types=y.types),P.T=d}}else try{d=s(f,u),Vp(n,a,d)}catch(z){Hf(n,a,z)}}function Vp(n,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){Gp(n,a,u)},function(u){return Hf(n,a,u)}):Gp(n,a,s)}function Gp(n,a,s){a.status="fulfilled",a.value=s,Xp(a),n.state=s,a=n.pending,a!==null&&(s=a.next,s===a?n.pending=null:(s=s.next,a.next=s,qp(n,s)))}function Hf(n,a,s){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=s,Xp(a),a=a.next;while(a!==u)}n.action=null}function Xp(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function Qp(n,a){return a}function Kp(n,a){if($e){var s=ft.formState;if(s!==null){e:{var u=Be;if($e){if(Tt){t:{for(var f=Tt,d=qn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Gn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Tt=Gn(f.nextSibling),u=f.data==="F!";break e}}Zi(u)}u=!1}u&&(a=s[0])}}return s=cn(),s.memoizedState=s.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qp,lastRenderedState:a},s.queue=u,s=mg.bind(null,Be,u),u.dispatch=s,u=Uf(!1),d=Vf.bind(null,Be,!1,u.queue),u=cn(),f={state:a,dispatch:null,action:n,pending:null},u.queue=f,s=o3.bind(null,Be,f,d,s),f.dispatch=s,u.memoizedState=n,[a,s,!1]}function Wp(n){var a=Dt();return $p(a,lt,n)}function $p(n,a,s){if(a=Bf(n,a,Qp)[0],n=Ku(Ni)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Xs(a)}catch(y){throw y===Ir?Hu:y}else u=a;a=Dt();var f=a.queue,d=f.dispatch;return s!==a.memoizedState&&(Be.flags|=2048,Br(9,{destroy:void 0},c3.bind(null,f,s),null)),[u,d,n]}function c3(n,a){n.action=a}function Zp(n){var a=Dt(),s=lt;if(s!==null)return $p(a,s,n);Dt(),a=a.memoizedState,s=Dt();var u=s.queue.dispatch;return s.memoizedState=n,[a,u,!1]}function Br(n,a,s,u){return n={tag:n,create:s,deps:u,inst:a,next:null},a=Be.updateQueue,a===null&&(a=Xu(),Be.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=n.next=n:(u=s.next,s.next=n,n.next=u,a.lastEffect=n),n}function Jp(){return Dt().memoizedState}function Wu(n,a,s,u){var f=cn();Be.flags|=n,f.memoizedState=Br(1|a,{destroy:void 0},s,u===void 0?null:u)}function $u(n,a,s,u){var f=Dt();u=u===void 0?null:u;var d=f.memoizedState.inst;lt!==null&&u!==null&&Df(u,lt.memoizedState.deps)?f.memoizedState=Br(a,d,s,u):(Be.flags|=n,f.memoizedState=Br(1|a,d,s,u))}function eg(n,a){Wu(8390656,8,n,a)}function Ff(n,a){$u(2048,8,n,a)}function f3(n){Be.flags|=4;var a=Be.updateQueue;if(a===null)a=Xu(),Be.updateQueue=a,a.events=[n];else{var s=a.events;s===null?a.events=[n]:s.push(n)}}function tg(n){var a=Dt().memoizedState;return f3({ref:a,nextImpl:n}),function(){if((et&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function ng(n,a){return $u(4,2,n,a)}function ig(n,a){return $u(4,4,n,a)}function ag(n,a){if(typeof a=="function"){n=n();var s=a(n);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function rg(n,a,s){s=s!=null?s.concat([n]):null,$u(4,4,ag.bind(null,a,n),s)}function zf(){}function sg(n,a){var s=Dt();a=a===void 0?null:a;var u=s.memoizedState;return a!==null&&Df(a,u[1])?u[0]:(s.memoizedState=[n,a],n)}function lg(n,a){var s=Dt();a=a===void 0?null:a;var u=s.memoizedState;if(a!==null&&Df(a,u[1]))return u[0];if(u=n(),Va){fn(!0);try{n()}finally{fn(!1)}}return s.memoizedState=[u,a],u}function jf(n,a,s){return s===void 0||(xi&1073741824)!==0&&(Ke&261930)===0?n.memoizedState=a:(n.memoizedState=s,n=u1(),Be.lanes|=n,la|=n,s)}function ug(n,a,s,u){return Rn(s,a)?s:kr.current!==null?(n=jf(n,s,u),Rn(n,a)||(Mt=!0),n):(xi&42)===0||(xi&1073741824)!==0&&(Ke&261930)===0?(Mt=!0,n.memoizedState=s):(n=u1(),Be.lanes|=n,la|=n,a)}function og(n,a,s,u,f){var d=Z.p;Z.p=d!==0&&8>d?d:8;var y=P.T,C={};P.T=C,Vf(n,!1,a,s);try{var I=f(),z=P.S;if(z!==null&&z(C,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var J=s3(I,u);Qs(n,a,J,wn(n))}else Qs(n,a,u,wn(n))}catch(ae){Qs(n,a,{then:function(){},status:"rejected",reason:ae},wn())}finally{Z.p=d,y!==null&&C.types!==null&&(y.types=C.types),P.T=y}}function d3(){}function Yf(n,a,s,u){if(n.tag!==5)throw Error(r(476));var f=cg(n).queue;og(n,f,a,Te,s===null?d3:function(){return fg(n),s(u)})}function cg(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:Te},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:s},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function fg(n){var a=cg(n);a.next===null&&(a=n.alternate.memoizedState),Qs(n,a.next.queue,{},wn())}function qf(){return Jt(fl)}function dg(){return Dt().memoizedState}function hg(){return Dt().memoizedState}function h3(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var s=wn();n=ta(s);var u=na(a,n,s);u!==null&&(_n(u,a,s),Ys(u,a,s)),a={cache:yf()},n.payload=a;return}a=a.return}}function m3(n,a,s){var u=wn();s={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Zu(n)?pg(a,s):(s=uf(n,a,s,u),s!==null&&(_n(s,n,u),gg(s,a,u)))}function mg(n,a,s){var u=wn();Qs(n,a,s,u)}function Qs(n,a,s,u){var f={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Zu(n))pg(a,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=a.lastRenderedReducer,d!==null))try{var y=a.lastRenderedState,C=d(y,s);if(f.hasEagerState=!0,f.eagerState=C,Rn(C,y))return Lu(n,a,f,0),ft===null&&Iu(),!1}catch{}finally{}if(s=uf(n,a,f,u),s!==null)return _n(s,n,u),gg(s,a,u),!0}return!1}function Vf(n,a,s,u){if(u={lane:2,revertLane:Cd(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Zu(n)){if(a)throw Error(r(479))}else a=uf(n,s,u,2),a!==null&&_n(a,n,2)}function Zu(n){var a=n.alternate;return n===Be||a!==null&&a===Be}function pg(n,a){wr=Vu=!0;var s=n.pending;s===null?a.next=a:(a.next=s.next,s.next=a),n.pending=a}function gg(n,a,s){if((s&4194048)!==0){var u=a.lanes;u&=n.pendingLanes,s|=u,a.lanes=s,bm(n,s)}}var Ks={readContext:Jt,use:Qu,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};Ks.useEffectEvent=xt;var Eg={readContext:Jt,use:Qu,useCallback:function(n,a){return cn().memoizedState=[n,a===void 0?null:a],n},useContext:Jt,useEffect:eg,useImperativeHandle:function(n,a,s){s=s!=null?s.concat([n]):null,Wu(4194308,4,ag.bind(null,a,n),s)},useLayoutEffect:function(n,a){return Wu(4194308,4,n,a)},useInsertionEffect:function(n,a){Wu(4,2,n,a)},useMemo:function(n,a){var s=cn();a=a===void 0?null:a;var u=n();if(Va){fn(!0);try{n()}finally{fn(!1)}}return s.memoizedState=[u,a],u},useReducer:function(n,a,s){var u=cn();if(s!==void 0){var f=s(a);if(Va){fn(!0);try{s(a)}finally{fn(!1)}}}else f=a;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=m3.bind(null,Be,n),[u.memoizedState,n]},useRef:function(n){var a=cn();return n={current:n},a.memoizedState=n},useState:function(n){n=Uf(n);var a=n.queue,s=mg.bind(null,Be,a);return a.dispatch=s,[n.memoizedState,s]},useDebugValue:zf,useDeferredValue:function(n,a){var s=cn();return jf(s,n,a)},useTransition:function(){var n=Uf(!1);return n=og.bind(null,Be,n.queue,!0,!1),cn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,s){var u=Be,f=cn();if($e){if(s===void 0)throw Error(r(407));s=s()}else{if(s=a(),ft===null)throw Error(r(349));(Ke&127)!==0||Up(u,a,s)}f.memoizedState=s;var d={value:s,getSnapshot:a};return f.queue=d,eg(Fp.bind(null,u,d,n),[n]),u.flags|=2048,Br(9,{destroy:void 0},Hp.bind(null,u,d,s,a),null),s},useId:function(){var n=cn(),a=ft.identifierPrefix;if($e){var s=ui,u=li;s=(u&~(1<<32-ct(u)-1)).toString(32)+s,a="_"+a+"R_"+s,s=Gu++,0<s&&(a+="H"+s.toString(32)),a+="_"}else s=l3++,a="_"+a+"r_"+s.toString(32)+"_";return n.memoizedState=a},useHostTransitionStatus:qf,useFormState:Kp,useActionState:Kp,useOptimistic:function(n){var a=cn();a.memoizedState=a.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=Vf.bind(null,Be,!0,s),s.dispatch=a,[n,a]},useMemoCache:Mf,useCacheRefresh:function(){return cn().memoizedState=h3.bind(null,Be)},useEffectEvent:function(n){var a=cn(),s={impl:n};return a.memoizedState=s,function(){if((et&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Gf={readContext:Jt,use:Qu,useCallback:sg,useContext:Jt,useEffect:Ff,useImperativeHandle:rg,useInsertionEffect:ng,useLayoutEffect:ig,useMemo:lg,useReducer:Ku,useRef:Jp,useState:function(){return Ku(Ni)},useDebugValue:zf,useDeferredValue:function(n,a){var s=Dt();return ug(s,lt.memoizedState,n,a)},useTransition:function(){var n=Ku(Ni)[0],a=Dt().memoizedState;return[typeof n=="boolean"?n:Xs(n),a]},useSyncExternalStore:Pp,useId:dg,useHostTransitionStatus:qf,useFormState:Wp,useActionState:Wp,useOptimistic:function(n,a){var s=Dt();return Yp(s,lt,n,a)},useMemoCache:Mf,useCacheRefresh:hg};Gf.useEffectEvent=tg;var _g={readContext:Jt,use:Qu,useCallback:sg,useContext:Jt,useEffect:Ff,useImperativeHandle:rg,useInsertionEffect:ng,useLayoutEffect:ig,useMemo:lg,useReducer:Pf,useRef:Jp,useState:function(){return Pf(Ni)},useDebugValue:zf,useDeferredValue:function(n,a){var s=Dt();return lt===null?jf(s,n,a):ug(s,lt.memoizedState,n,a)},useTransition:function(){var n=Pf(Ni)[0],a=Dt().memoizedState;return[typeof n=="boolean"?n:Xs(n),a]},useSyncExternalStore:Pp,useId:dg,useHostTransitionStatus:qf,useFormState:Zp,useActionState:Zp,useOptimistic:function(n,a){var s=Dt();return lt!==null?Yp(s,lt,n,a):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:Mf,useCacheRefresh:hg};_g.useEffectEvent=tg;function Xf(n,a,s,u){a=n.memoizedState,s=s(u,a),s=s==null?a:T({},a,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var Qf={enqueueSetState:function(n,a,s){n=n._reactInternals;var u=wn(),f=ta(u);f.payload=a,s!=null&&(f.callback=s),a=na(n,f,u),a!==null&&(_n(a,n,u),Ys(a,n,u))},enqueueReplaceState:function(n,a,s){n=n._reactInternals;var u=wn(),f=ta(u);f.tag=1,f.payload=a,s!=null&&(f.callback=s),a=na(n,f,u),a!==null&&(_n(a,n,u),Ys(a,n,u))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var s=wn(),u=ta(s);u.tag=2,a!=null&&(u.callback=a),a=na(n,u,s),a!==null&&(_n(a,n,s),Ys(a,n,s))}};function yg(n,a,s,u,f,d,y){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,d,y):a.prototype&&a.prototype.isPureReactComponent?!Ms(s,u)||!Ms(f,d):!0}function Tg(n,a,s,u){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,u),a.state!==n&&Qf.enqueueReplaceState(a,a.state,null)}function Ga(n,a){var s=a;if("ref"in a){s={};for(var u in a)u!=="ref"&&(s[u]=a[u])}if(n=n.defaultProps){s===a&&(s=T({},s));for(var f in n)s[f]===void 0&&(s[f]=n[f])}return s}function bg(n){Du(n)}function Sg(n){console.error(n)}function Cg(n){Du(n)}function Ju(n,a){try{var s=n.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function Ag(n,a,s){try{var u=n.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Kf(n,a,s){return s=ta(s),s.tag=3,s.payload={element:null},s.callback=function(){Ju(n,a)},s}function vg(n){return n=ta(n),n.tag=3,n}function xg(n,a,s,u){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=u.value;n.payload=function(){return f(d)},n.callback=function(){Ag(a,s,u)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(n.callback=function(){Ag(a,s,u),typeof f!="function"&&(ua===null?ua=new Set([this]):ua.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function p3(n,a,s,u,f){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=s.alternate,a!==null&&Rr(a,s,f,!0),s=Dn.current,s!==null){switch(s.tag){case 31:case 13:return Vn===null?fo():s.alternate===null&&Nt===0&&(Nt=3),s.flags&=-257,s.flags|=65536,s.lanes=f,u===Fu?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([u]):a.add(u),Td(n,u,f)),!1;case 22:return s.flags|=65536,u===Fu?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([u]):s.add(u)),Td(n,u,f)),!1}throw Error(r(435,s.tag))}return Td(n,u,f),fo(),!1}if($e)return a=Dn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,u!==mf&&(n=Error(r(422),{cause:u}),Us(zn(n,s)))):(u!==mf&&(a=Error(r(423),{cause:u}),Us(zn(a,s))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=zn(u,s),f=Kf(n.stateNode,u,f),vf(n,f),Nt!==4&&(Nt=2)),!1;var d=Error(r(520),{cause:u});if(d=zn(d,s),il===null?il=[d]:il.push(d),Nt!==4&&(Nt=2),a===null)return!0;u=zn(u,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,n=f&-f,s.lanes|=n,n=Kf(s.stateNode,u,n),vf(s,n),!1;case 1:if(a=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ua===null||!ua.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=vg(f),xg(f,n,s,u),vf(s,f),!1}s=s.return}while(s!==null);return!1}var Wf=Error(r(461)),Mt=!1;function en(n,a,s,u){a.child=n===null?Dp(a,null,s,u):qa(a,n.child,s,u)}function Ng(n,a,s,u,f){s=s.render;var d=a.ref;if("ref"in u){var y={};for(var C in u)C!=="ref"&&(y[C]=u[C])}else y=u;return Fa(a),u=If(n,a,s,y,d,f),C=Lf(),n!==null&&!Mt?(kf(n,a,f),Ri(n,a,f)):($e&&C&&df(a),a.flags|=1,en(n,a,u,f),a.child)}function Rg(n,a,s,u,f){if(n===null){var d=s.type;return typeof d=="function"&&!of(d)&&d.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=d,Og(n,a,d,u,f)):(n=wu(s.type,null,u,a,a.mode,f),n.ref=a.ref,n.return=a,a.child=n)}if(d=n.child,!ad(n,f)){var y=d.memoizedProps;if(s=s.compare,s=s!==null?s:Ms,s(y,u)&&n.ref===a.ref)return Ri(n,a,f)}return a.flags|=1,n=Si(d,u),n.ref=a.ref,n.return=a,a.child=n}function Og(n,a,s,u,f){if(n!==null){var d=n.memoizedProps;if(Ms(d,u)&&n.ref===a.ref)if(Mt=!1,a.pendingProps=u=d,ad(n,f))(n.flags&131072)!==0&&(Mt=!0);else return a.lanes=n.lanes,Ri(n,a,f)}return $f(n,a,s,u,f)}function Dg(n,a,s,u){var f=u.children,d=n!==null?n.memoizedState:null;if(n===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,n!==null){for(u=a.child=n.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~d}else u=0,a.child=null;return Ig(n,a,d,s,u)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&Uu(a,d!==null?d.cachePool:null),d!==null?kp(a,d):Nf(),wp(a);else return u=a.lanes=536870912,Ig(n,a,d!==null?d.baseLanes|s:s,s,u)}else d!==null?(Uu(a,d.cachePool),kp(a,d),aa(),a.memoizedState=null):(n!==null&&Uu(a,null),Nf(),aa());return en(n,a,f,s),a.child}function Ws(n,a){return n!==null&&n.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Ig(n,a,s,u,f){var d=bf();return d=d===null?null:{parent:kt._currentValue,pool:d},a.memoizedState={baseLanes:s,cachePool:d},n!==null&&Uu(a,null),Nf(),wp(a),n!==null&&Rr(n,a,u,!0),a.childLanes=f,null}function eo(n,a){return a=no({mode:a.mode,children:a.children},n.mode),a.ref=n.ref,n.child=a,a.return=n,a}function Lg(n,a,s){return qa(a,n.child,null,s),n=eo(a,a.pendingProps),n.flags|=2,In(a),a.memoizedState=null,n}function g3(n,a,s){var u=a.pendingProps,f=(a.flags&128)!==0;if(a.flags&=-129,n===null){if($e){if(u.mode==="hidden")return n=eo(a,u),a.lanes=536870912,Ws(null,n);if(Of(a),(n=Tt)?(n=q1(n,qn),n=n!==null&&n.data==="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:Wi!==null?{id:li,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},s=pp(n),s.return=a,a.child=s,Zt=a,Tt=null)):n=null,n===null)throw Zi(a);return a.lanes=536870912,null}return eo(a,u)}var d=n.memoizedState;if(d!==null){var y=d.dehydrated;if(Of(a),f)if(a.flags&256)a.flags&=-257,a=Lg(n,a,s);else if(a.memoizedState!==null)a.child=n.child,a.flags|=128,a=null;else throw Error(r(558));else if(Mt||Rr(n,a,s,!1),f=(s&n.childLanes)!==0,Mt||f){if(u=ft,u!==null&&(y=Sm(u,s),y!==0&&y!==d.retryLane))throw d.retryLane=y,Ba(n,y),_n(u,n,y),Wf;fo(),a=Lg(n,a,s)}else n=d.treeContext,Tt=Gn(y.nextSibling),Zt=a,$e=!0,$i=null,qn=!1,n!==null&&_p(a,n),a=eo(a,u),a.flags|=4096;return a}return n=Si(n.child,{mode:u.mode,children:u.children}),n.ref=a.ref,a.child=n,n.return=a,n}function to(n,a){var s=a.ref;if(s===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(n===null||n.ref!==s)&&(a.flags|=4194816)}}function $f(n,a,s,u,f){return Fa(a),s=If(n,a,s,u,void 0,f),u=Lf(),n!==null&&!Mt?(kf(n,a,f),Ri(n,a,f)):($e&&u&&df(a),a.flags|=1,en(n,a,s,f),a.child)}function kg(n,a,s,u,f,d){return Fa(a),a.updateQueue=null,s=Bp(a,u,s,f),Mp(n),u=Lf(),n!==null&&!Mt?(kf(n,a,d),Ri(n,a,d)):($e&&u&&df(a),a.flags|=1,en(n,a,s,d),a.child)}function wg(n,a,s,u,f){if(Fa(a),a.stateNode===null){var d=Ar,y=s.contextType;typeof y=="object"&&y!==null&&(d=Jt(y)),d=new s(u,d),a.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qf,a.stateNode=d,d._reactInternals=a,d=a.stateNode,d.props=u,d.state=a.memoizedState,d.refs={},Cf(a),y=s.contextType,d.context=typeof y=="object"&&y!==null?Jt(y):Ar,d.state=a.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Xf(a,s,y,u),d.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Qf.enqueueReplaceState(d,d.state,null),Vs(a,u,d,f),qs(),d.state=a.memoizedState),typeof d.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(n===null){d=a.stateNode;var C=a.memoizedProps,I=Ga(s,C);d.props=I;var z=d.context,J=s.contextType;y=Ar,typeof J=="object"&&J!==null&&(y=Jt(J));var ae=s.getDerivedStateFromProps;J=typeof ae=="function"||typeof d.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(C||z!==y)&&Tg(a,d,u,y),ea=!1;var Y=a.memoizedState;d.state=Y,Vs(a,u,d,f),qs(),z=a.memoizedState,C||Y!==z||ea?(typeof ae=="function"&&(Xf(a,s,ae,u),z=a.memoizedState),(I=ea||yg(a,s,I,u,Y,z,y))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(a.flags|=4194308)):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=z),d.props=u,d.state=z,d.context=y,u=I):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{d=a.stateNode,Af(n,a),y=a.memoizedProps,J=Ga(s,y),d.props=J,ae=a.pendingProps,Y=d.context,z=s.contextType,I=Ar,typeof z=="object"&&z!==null&&(I=Jt(z)),C=s.getDerivedStateFromProps,(z=typeof C=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==ae||Y!==I)&&Tg(a,d,u,I),ea=!1,Y=a.memoizedState,d.state=Y,Vs(a,u,d,f),qs();var Q=a.memoizedState;y!==ae||Y!==Q||ea||n!==null&&n.dependencies!==null&&Bu(n.dependencies)?(typeof C=="function"&&(Xf(a,s,C,u),Q=a.memoizedState),(J=ea||yg(a,s,J,u,Y,Q,I)||n!==null&&n.dependencies!==null&&Bu(n.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(u,Q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(u,Q,I)),typeof d.componentDidUpdate=="function"&&(a.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===n.memoizedProps&&Y===n.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&Y===n.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=Q),d.props=u,d.state=Q,d.context=I,u=J):(typeof d.componentDidUpdate!="function"||y===n.memoizedProps&&Y===n.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&Y===n.memoizedState||(a.flags|=1024),u=!1)}return d=u,to(n,a),u=(a.flags&128)!==0,d||u?(d=a.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:d.render(),a.flags|=1,n!==null&&u?(a.child=qa(a,n.child,null,f),a.child=qa(a,null,s,f)):en(n,a,s,f),a.memoizedState=d.state,n=a.child):n=Ri(n,a,f),n}function Mg(n,a,s,u){return Ua(),a.flags|=256,en(n,a,s,u),a.child}var Zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jf(n){return{baseLanes:n,cachePool:Ap()}}function ed(n,a,s){return n=n!==null?n.childLanes&~s:0,a&&(n|=kn),n}function Bg(n,a,s){var u=a.pendingProps,f=!1,d=(a.flags&128)!==0,y;if((y=d)||(y=n!==null&&n.memoizedState===null?!1:(Ot.current&2)!==0),y&&(f=!0,a.flags&=-129),y=(a.flags&32)!==0,a.flags&=-33,n===null){if($e){if(f?ia(a):aa(),(n=Tt)?(n=q1(n,qn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:Wi!==null?{id:li,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},s=pp(n),s.return=a,a.child=s,Zt=a,Tt=null)):n=null,n===null)throw Zi(a);return Bd(n)?a.lanes=32:a.lanes=536870912,null}var C=u.children;return u=u.fallback,f?(aa(),f=a.mode,C=no({mode:"hidden",children:C},f),u=Pa(u,f,s,null),C.return=a,u.return=a,C.sibling=u,a.child=C,u=a.child,u.memoizedState=Jf(s),u.childLanes=ed(n,y,s),a.memoizedState=Zf,Ws(null,u)):(ia(a),td(a,C))}var I=n.memoizedState;if(I!==null&&(C=I.dehydrated,C!==null)){if(d)a.flags&256?(ia(a),a.flags&=-257,a=nd(n,a,s)):a.memoizedState!==null?(aa(),a.child=n.child,a.flags|=128,a=null):(aa(),C=u.fallback,f=a.mode,u=no({mode:"visible",children:u.children},f),C=Pa(C,f,s,null),C.flags|=2,u.return=a,C.return=a,u.sibling=C,a.child=u,qa(a,n.child,null,s),u=a.child,u.memoizedState=Jf(s),u.childLanes=ed(n,y,s),a.memoizedState=Zf,a=Ws(null,u));else if(ia(a),Bd(C)){if(y=C.nextSibling&&C.nextSibling.dataset,y)var z=y.dgst;y=z,u=Error(r(419)),u.stack="",u.digest=y,Us({value:u,source:null,stack:null}),a=nd(n,a,s)}else if(Mt||Rr(n,a,s,!1),y=(s&n.childLanes)!==0,Mt||y){if(y=ft,y!==null&&(u=Sm(y,s),u!==0&&u!==I.retryLane))throw I.retryLane=u,Ba(n,u),_n(y,n,u),Wf;Md(C)||fo(),a=nd(n,a,s)}else Md(C)?(a.flags|=192,a.child=n.child,a=null):(n=I.treeContext,Tt=Gn(C.nextSibling),Zt=a,$e=!0,$i=null,qn=!1,n!==null&&_p(a,n),a=td(a,u.children),a.flags|=4096);return a}return f?(aa(),C=u.fallback,f=a.mode,I=n.child,z=I.sibling,u=Si(I,{mode:"hidden",children:u.children}),u.subtreeFlags=I.subtreeFlags&65011712,z!==null?C=Si(z,C):(C=Pa(C,f,s,null),C.flags|=2),C.return=a,u.return=a,u.sibling=C,a.child=u,Ws(null,u),u=a.child,C=n.child.memoizedState,C===null?C=Jf(s):(f=C.cachePool,f!==null?(I=kt._currentValue,f=f.parent!==I?{parent:I,pool:I}:f):f=Ap(),C={baseLanes:C.baseLanes|s,cachePool:f}),u.memoizedState=C,u.childLanes=ed(n,y,s),a.memoizedState=Zf,Ws(n.child,u)):(ia(a),s=n.child,n=s.sibling,s=Si(s,{mode:"visible",children:u.children}),s.return=a,s.sibling=null,n!==null&&(y=a.deletions,y===null?(a.deletions=[n],a.flags|=16):y.push(n)),a.child=s,a.memoizedState=null,s)}function td(n,a){return a=no({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function no(n,a){return n=On(22,n,null,a),n.lanes=0,n}function nd(n,a,s){return qa(a,n.child,null,s),n=td(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function Pg(n,a,s){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a),Ef(n.return,a,s)}function id(n,a,s,u,f,d){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:f,treeForkCount:d}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=s,y.tailMode=f,y.treeForkCount=d)}function Ug(n,a,s){var u=a.pendingProps,f=u.revealOrder,d=u.tail;u=u.children;var y=Ot.current,C=(y&2)!==0;if(C?(y=y&1|2,a.flags|=128):y&=1,v(Ot,y),en(n,a,u,s),u=$e?Ps:0,!C&&n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Pg(n,s,a);else if(n.tag===19)Pg(n,s,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(s=a.child,f=null;s!==null;)n=s.alternate,n!==null&&qu(n)===null&&(f=s),s=s.sibling;s=f,s===null?(f=a.child,a.child=null):(f=s.sibling,s.sibling=null),id(a,!1,f,s,d,u);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=a.child,a.child=null;f!==null;){if(n=f.alternate,n!==null&&qu(n)===null){a.child=f;break}n=f.sibling,f.sibling=s,s=f,f=n}id(a,!0,s,null,d,u);break;case"together":id(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function Ri(n,a,s){if(n!==null&&(a.dependencies=n.dependencies),la|=a.lanes,(s&a.childLanes)===0)if(n!==null){if(Rr(n,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(r(153));if(a.child!==null){for(n=a.child,s=Si(n,n.pendingProps),a.child=s,s.return=a;n.sibling!==null;)n=n.sibling,s=s.sibling=Si(n,n.pendingProps),s.return=a;s.sibling=null}return a.child}function ad(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&Bu(n)))}function E3(n,a,s){switch(a.tag){case 3:te(a,a.stateNode.containerInfo),Ji(a,kt,n.memoizedState.cache),Ua();break;case 27:case 5:qe(a);break;case 4:te(a,a.stateNode.containerInfo);break;case 10:Ji(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Of(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(ia(a),a.flags|=128,null):(s&a.child.childLanes)!==0?Bg(n,a,s):(ia(a),n=Ri(n,a,s),n!==null?n.sibling:null);ia(a);break;case 19:var f=(n.flags&128)!==0;if(u=(s&a.childLanes)!==0,u||(Rr(n,a,s,!1),u=(s&a.childLanes)!==0),f){if(u)return Ug(n,a,s);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),v(Ot,Ot.current),u)break;return null;case 22:return a.lanes=0,Dg(n,a,s,a.pendingProps);case 24:Ji(a,kt,n.memoizedState.cache)}return Ri(n,a,s)}function Hg(n,a,s){if(n!==null)if(n.memoizedProps!==a.pendingProps)Mt=!0;else{if(!ad(n,s)&&(a.flags&128)===0)return Mt=!1,E3(n,a,s);Mt=(n.flags&131072)!==0}else Mt=!1,$e&&(a.flags&1048576)!==0&&Ep(a,Ps,a.index);switch(a.lanes=0,a.tag){case 16:e:{var u=a.pendingProps;if(n=ja(a.elementType),a.type=n,typeof n=="function")of(n)?(u=Ga(n,u),a.tag=1,a=wg(null,a,n,u,s)):(a.tag=0,a=$f(null,a,n,u,s));else{if(n!=null){var f=n.$$typeof;if(f===ye){a.tag=11,a=Ng(null,a,n,u,s);break e}else if(f===fe){a.tag=14,a=Rg(null,a,n,u,s);break e}}throw a=se(n)||n,Error(r(306,a,""))}}return a;case 0:return $f(n,a,a.type,a.pendingProps,s);case 1:return u=a.type,f=Ga(u,a.pendingProps),wg(n,a,u,f,s);case 3:e:{if(te(a,a.stateNode.containerInfo),n===null)throw Error(r(387));u=a.pendingProps;var d=a.memoizedState;f=d.element,Af(n,a),Vs(a,u,null,s);var y=a.memoizedState;if(u=y.cache,Ji(a,kt,u),u!==d.cache&&_f(a,[kt],s,!0),qs(),u=y.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:y.cache},a.updateQueue.baseState=d,a.memoizedState=d,a.flags&256){a=Mg(n,a,u,s);break e}else if(u!==f){f=zn(Error(r(424)),a),Us(f),a=Mg(n,a,u,s);break e}else{switch(n=a.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Tt=Gn(n.firstChild),Zt=a,$e=!0,$i=null,qn=!0,s=Dp(a,null,u,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ua(),u===f){a=Ri(n,a,s);break e}en(n,a,u,s)}a=a.child}return a;case 26:return to(n,a),n===null?(s=W1(a.type,null,a.pendingProps,null))?a.memoizedState=s:$e||(s=a.type,n=a.pendingProps,u=yo(x.current).createElement(s),u[$t]=a,u[dn]=n,tn(u,s,n),qt(u),a.stateNode=u):a.memoizedState=W1(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return qe(a),n===null&&$e&&(u=a.stateNode=X1(a.type,a.pendingProps,x.current),Zt=a,qn=!0,f=Tt,da(a.type)?(Pd=f,Tt=Gn(u.firstChild)):Tt=f),en(n,a,a.pendingProps.children,s),to(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&$e&&((f=u=Tt)&&(u=X3(u,a.type,a.pendingProps,qn),u!==null?(a.stateNode=u,Zt=a,Tt=Gn(u.firstChild),qn=!1,f=!0):f=!1),f||Zi(a)),qe(a),f=a.type,d=a.pendingProps,y=n!==null?n.memoizedProps:null,u=d.children,Ld(f,d)?u=null:y!==null&&Ld(f,y)&&(a.flags|=32),a.memoizedState!==null&&(f=If(n,a,u3,null,null,s),fl._currentValue=f),to(n,a),en(n,a,u,s),a.child;case 6:return n===null&&$e&&((n=s=Tt)&&(s=Q3(s,a.pendingProps,qn),s!==null?(a.stateNode=s,Zt=a,Tt=null,n=!0):n=!1),n||Zi(a)),null;case 13:return Bg(n,a,s);case 4:return te(a,a.stateNode.containerInfo),u=a.pendingProps,n===null?a.child=qa(a,null,u,s):en(n,a,u,s),a.child;case 11:return Ng(n,a,a.type,a.pendingProps,s);case 7:return en(n,a,a.pendingProps,s),a.child;case 8:return en(n,a,a.pendingProps.children,s),a.child;case 12:return en(n,a,a.pendingProps.children,s),a.child;case 10:return u=a.pendingProps,Ji(a,a.type,u.value),en(n,a,u.children,s),a.child;case 9:return f=a.type._context,u=a.pendingProps.children,Fa(a),f=Jt(f),u=u(f),a.flags|=1,en(n,a,u,s),a.child;case 14:return Rg(n,a,a.type,a.pendingProps,s);case 15:return Og(n,a,a.type,a.pendingProps,s);case 19:return Ug(n,a,s);case 31:return g3(n,a,s);case 22:return Dg(n,a,s,a.pendingProps);case 24:return Fa(a),u=Jt(kt),n===null?(f=bf(),f===null&&(f=ft,d=yf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),a.memoizedState={parent:u,cache:f},Cf(a),Ji(a,kt,f)):((n.lanes&s)!==0&&(Af(n,a),Vs(a,null,null,s),qs()),f=n.memoizedState,d=a.memoizedState,f.parent!==u?(f={parent:u,cache:u},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),Ji(a,kt,u)):(u=d.cache,Ji(a,kt,u),u!==f.cache&&_f(a,[kt],s,!0))),en(n,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Oi(n){n.flags|=4}function rd(n,a,s,u,f){if((a=(n.mode&32)!==0)&&(a=!1),a){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(d1())n.flags|=8192;else throw Ya=Fu,Sf}else n.flags&=-16777217}function Fg(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!tE(a))if(d1())n.flags|=8192;else throw Ya=Fu,Sf}function io(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?ym():536870912,n.lanes|=a,Fr|=a)}function $s(n,a){if(!$e)switch(n.tailMode){case"hidden":a=n.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function bt(n){var a=n.alternate!==null&&n.alternate.child===n.child,s=0,u=0;if(a)for(var f=n.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=s,a}function _3(n,a,s){var u=a.pendingProps;switch(hf(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(a),null;case 1:return bt(a),null;case 3:return s=a.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),vi(kt),he(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(Nr(a)?Oi(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,pf())),bt(a),null;case 26:var f=a.type,d=a.memoizedState;return n===null?(Oi(a),d!==null?(bt(a),Fg(a,d)):(bt(a),rd(a,f,null,u,s))):d?d!==n.memoizedState?(Oi(a),bt(a),Fg(a,d)):(bt(a),a.flags&=-16777217):(n=n.memoizedProps,n!==u&&Oi(a),bt(a),rd(a,f,n,u,s)),null;case 27:if(Ue(a),s=x.current,f=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==u&&Oi(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return bt(a),null}n=ge.current,Nr(a)?yp(a):(n=X1(f,u,s),a.stateNode=n,Oi(a))}return bt(a),null;case 5:if(Ue(a),f=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==u&&Oi(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return bt(a),null}if(d=ge.current,Nr(a))yp(a);else{var y=yo(x.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof u.is=="string"?y.createElement("select",{is:u.is}):y.createElement("select"),u.multiple?d.multiple=!0:u.size&&(d.size=u.size);break;default:d=typeof u.is=="string"?y.createElement(f,{is:u.is}):y.createElement(f)}}d[$t]=a,d[dn]=u;e:for(y=a.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===a)break e;for(;y.sibling===null;){if(y.return===null||y.return===a)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}a.stateNode=d;e:switch(tn(d,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Oi(a)}}return bt(a),rd(a,a.type,n===null?null:n.memoizedProps,a.pendingProps,s),null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==u&&Oi(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(r(166));if(n=x.current,Nr(a)){if(n=a.stateNode,s=a.memoizedProps,u=null,f=Zt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[$t]=a,n=!!(n.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||B1(n.nodeValue,s)),n||Zi(a,!0)}else n=yo(n).createTextNode(u),n[$t]=a,a.stateNode=n}return bt(a),null;case 31:if(s=a.memoizedState,n===null||n.memoizedState!==null){if(u=Nr(a),s!==null){if(n===null){if(!u)throw Error(r(318));if(n=a.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[$t]=a}else Ua(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;bt(a),n=!1}else s=pf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=s),n=!0;if(!n)return a.flags&256?(In(a),a):(In(a),null);if((a.flags&128)!==0)throw Error(r(558))}return bt(a),null;case 13:if(u=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Nr(a),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[$t]=a}else Ua(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;bt(a),f=!1}else f=pf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(In(a),a):(In(a),null)}return In(a),(a.flags&128)!==0?(a.lanes=s,a):(s=u!==null,n=n!==null&&n.memoizedState!==null,s&&(u=a.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),d=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(d=u.memoizedState.cachePool.pool),d!==f&&(u.flags|=2048)),s!==n&&s&&(a.child.flags|=8192),io(a,a.updateQueue),bt(a),null);case 4:return he(),n===null&&Nd(a.stateNode.containerInfo),bt(a),null;case 10:return vi(a.type),bt(a),null;case 19:if(W(Ot),u=a.memoizedState,u===null)return bt(a),null;if(f=(a.flags&128)!==0,d=u.rendering,d===null)if(f)$s(u,!1);else{if(Nt!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(d=qu(n),d!==null){for(a.flags|=128,$s(u,!1),n=d.updateQueue,a.updateQueue=n,io(a,n),a.subtreeFlags=0,n=s,s=a.child;s!==null;)mp(s,n),s=s.sibling;return v(Ot,Ot.current&1|2),$e&&Ci(a,u.treeForkCount),a.child}n=n.sibling}u.tail!==null&&ht()>uo&&(a.flags|=128,f=!0,$s(u,!1),a.lanes=4194304)}else{if(!f)if(n=qu(d),n!==null){if(a.flags|=128,f=!0,n=n.updateQueue,a.updateQueue=n,io(a,n),$s(u,!0),u.tail===null&&u.tailMode==="hidden"&&!d.alternate&&!$e)return bt(a),null}else 2*ht()-u.renderingStartTime>uo&&s!==536870912&&(a.flags|=128,f=!0,$s(u,!1),a.lanes=4194304);u.isBackwards?(d.sibling=a.child,a.child=d):(n=u.last,n!==null?n.sibling=d:a.child=d,u.last=d)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=ht(),n.sibling=null,s=Ot.current,v(Ot,f?s&1|2:s&1),$e&&Ci(a,u.treeForkCount),n):(bt(a),null);case 22:case 23:return In(a),Rf(),u=a.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(s&536870912)!==0&&(a.flags&128)===0&&(bt(a),a.subtreeFlags&6&&(a.flags|=8192)):bt(a),s=a.updateQueue,s!==null&&io(a,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==s&&(a.flags|=2048),n!==null&&W(za),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),vi(kt),bt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function y3(n,a){switch(hf(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return vi(kt),he(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return Ue(a),null;case 31:if(a.memoizedState!==null){if(In(a),a.alternate===null)throw Error(r(340));Ua()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 13:if(In(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Ua()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return W(Ot),null;case 4:return he(),null;case 10:return vi(a.type),null;case 22:case 23:return In(a),Rf(),n!==null&&W(za),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return vi(kt),null;case 25:return null;default:return null}}function zg(n,a){switch(hf(a),a.tag){case 3:vi(kt),he();break;case 26:case 27:case 5:Ue(a);break;case 4:he();break;case 31:a.memoizedState!==null&&In(a);break;case 13:In(a);break;case 19:W(Ot);break;case 10:vi(a.type);break;case 22:case 23:In(a),Rf(),n!==null&&W(za);break;case 24:vi(kt)}}function Zs(n,a){try{var s=a.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var f=u.next;s=f;do{if((s.tag&n)===n){u=void 0;var d=s.create,y=s.inst;u=d(),y.destroy=u}s=s.next}while(s!==f)}}catch(C){st(a,a.return,C)}}function ra(n,a,s){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var d=f.next;u=d;do{if((u.tag&n)===n){var y=u.inst,C=y.destroy;if(C!==void 0){y.destroy=void 0,f=a;var I=s,z=C;try{z()}catch(J){st(f,I,J)}}}u=u.next}while(u!==d)}}catch(J){st(a,a.return,J)}}function jg(n){var a=n.updateQueue;if(a!==null){var s=n.stateNode;try{Lp(a,s)}catch(u){st(n,n.return,u)}}}function Yg(n,a,s){s.props=Ga(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(u){st(n,a,u)}}function Js(n,a){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof s=="function"?n.refCleanup=s(u):s.current=u}}catch(f){st(n,a,f)}}function oi(n,a){var s=n.ref,u=n.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(f){st(n,a,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){st(n,a,f)}else s.current=null}function qg(n){var a=n.type,s=n.memoizedProps,u=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(f){st(n,n.return,f)}}function sd(n,a,s){try{var u=n.stateNode;z3(u,n.type,s,a),u[dn]=a}catch(f){st(n,n.return,f)}}function Vg(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&da(n.type)||n.tag===4}function ld(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Vg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&da(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ud(n,a,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(n),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=Ti));else if(u!==4&&(u===27&&da(n.type)&&(s=n.stateNode,a=null),n=n.child,n!==null))for(ud(n,a,s),n=n.sibling;n!==null;)ud(n,a,s),n=n.sibling}function ao(n,a,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?s.insertBefore(n,a):s.appendChild(n);else if(u!==4&&(u===27&&da(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(ao(n,a,s),n=n.sibling;n!==null;)ao(n,a,s),n=n.sibling}function Gg(n){var a=n.stateNode,s=n.memoizedProps;try{for(var u=n.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);tn(a,u,s),a[$t]=n,a[dn]=s}catch(d){st(n,n.return,d)}}var Di=!1,Bt=!1,od=!1,Xg=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function T3(n,a){if(n=n.containerInfo,Dd=xo,n=rp(n),tf(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var f=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var y=0,C=-1,I=-1,z=0,J=0,ae=n,Y=null;t:for(;;){for(var Q;ae!==s||f!==0&&ae.nodeType!==3||(C=y+f),ae!==d||u!==0&&ae.nodeType!==3||(I=y+u),ae.nodeType===3&&(y+=ae.nodeValue.length),(Q=ae.firstChild)!==null;)Y=ae,ae=Q;for(;;){if(ae===n)break t;if(Y===s&&++z===f&&(C=y),Y===d&&++J===u&&(I=y),(Q=ae.nextSibling)!==null)break;ae=Y,Y=ae.parentNode}ae=Q}s=C===-1||I===-1?null:{start:C,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Id={focusedElem:n,selectionRange:s},xo=!1,Vt=a;Vt!==null;)if(a=Vt,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,Vt=n;else for(;Vt!==null;){switch(a=Vt,d=a.alternate,n=a.flags,a.tag){case 0:if((n&4)!==0&&(n=a.updateQueue,n=n!==null?n.events:null,n!==null))for(s=0;s<n.length;s++)f=n[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,s=a,f=d.memoizedProps,d=d.memoizedState,u=s.stateNode;try{var be=Ga(s.type,f);n=u.getSnapshotBeforeUpdate(be,d),u.__reactInternalSnapshotBeforeUpdate=n}catch(De){st(s,s.return,De)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,s=n.nodeType,s===9)wd(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":wd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=a.sibling,n!==null){n.return=a.return,Vt=n;break}Vt=a.return}}function Qg(n,a,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:Li(n,s),u&4&&Zs(5,s);break;case 1:if(Li(n,s),u&4)if(n=s.stateNode,a===null)try{n.componentDidMount()}catch(y){st(s,s.return,y)}else{var f=Ga(s.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(f,a,n.__reactInternalSnapshotBeforeUpdate)}catch(y){st(s,s.return,y)}}u&64&&jg(s),u&512&&Js(s,s.return);break;case 3:if(Li(n,s),u&64&&(n=s.updateQueue,n!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{Lp(n,a)}catch(y){st(s,s.return,y)}}break;case 27:a===null&&u&4&&Gg(s);case 26:case 5:Li(n,s),a===null&&u&4&&qg(s),u&512&&Js(s,s.return);break;case 12:Li(n,s);break;case 31:Li(n,s),u&4&&$g(n,s);break;case 13:Li(n,s),u&4&&Zg(n,s),u&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=O3.bind(null,s),K3(n,s))));break;case 22:if(u=s.memoizedState!==null||Di,!u){a=a!==null&&a.memoizedState!==null||Bt,f=Di;var d=Bt;Di=u,(Bt=a)&&!d?ki(n,s,(s.subtreeFlags&8772)!==0):Li(n,s),Di=f,Bt=d}break;case 30:break;default:Li(n,s)}}function Kg(n){var a=n.alternate;a!==null&&(n.alternate=null,Kg(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&Uc(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var At=null,mn=!1;function Ii(n,a,s){for(s=s.child;s!==null;)Wg(n,a,s),s=s.sibling}function Wg(n,a,s){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(on,s)}catch{}switch(s.tag){case 26:Bt||oi(s,a),Ii(n,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Bt||oi(s,a);var u=At,f=mn;da(s.type)&&(At=s.stateNode,mn=!1),Ii(n,a,s),ul(s.stateNode),At=u,mn=f;break;case 5:Bt||oi(s,a);case 6:if(u=At,f=mn,At=null,Ii(n,a,s),At=u,mn=f,At!==null)if(mn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(s.stateNode)}catch(d){st(s,a,d)}else try{At.removeChild(s.stateNode)}catch(d){st(s,a,d)}break;case 18:At!==null&&(mn?(n=At,j1(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),Qr(n)):j1(At,s.stateNode));break;case 4:u=At,f=mn,At=s.stateNode.containerInfo,mn=!0,Ii(n,a,s),At=u,mn=f;break;case 0:case 11:case 14:case 15:ra(2,s,a),Bt||ra(4,s,a),Ii(n,a,s);break;case 1:Bt||(oi(s,a),u=s.stateNode,typeof u.componentWillUnmount=="function"&&Yg(s,a,u)),Ii(n,a,s);break;case 21:Ii(n,a,s);break;case 22:Bt=(u=Bt)||s.memoizedState!==null,Ii(n,a,s),Bt=u;break;default:Ii(n,a,s)}}function $g(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Qr(n)}catch(s){st(a,a.return,s)}}}function Zg(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Qr(n)}catch(s){st(a,a.return,s)}}function b3(n){switch(n.tag){case 31:case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new Xg),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new Xg),a;default:throw Error(r(435,n.tag))}}function ro(n,a){var s=b3(n);a.forEach(function(u){if(!s.has(u)){s.add(u);var f=D3.bind(null,n,u);u.then(f,f)}})}function pn(n,a){var s=a.deletions;if(s!==null)for(var u=0;u<s.length;u++){var f=s[u],d=n,y=a,C=y;e:for(;C!==null;){switch(C.tag){case 27:if(da(C.type)){At=C.stateNode,mn=!1;break e}break;case 5:At=C.stateNode,mn=!1;break e;case 3:case 4:At=C.stateNode.containerInfo,mn=!0;break e}C=C.return}if(At===null)throw Error(r(160));Wg(d,y,f),At=null,mn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Jg(a,n),a=a.sibling}var ei=null;function Jg(n,a){var s=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:pn(a,n),gn(n),u&4&&(ra(3,n,n.return),Zs(3,n),ra(5,n,n.return));break;case 1:pn(a,n),gn(n),u&512&&(Bt||s===null||oi(s,s.return)),u&64&&Di&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var f=ei;if(pn(a,n),gn(n),u&512&&(Bt||s===null||oi(s,s.return)),u&4){var d=s!==null?s.memoizedState:null;if(u=n.memoizedState,s===null)if(u===null)if(n.stateNode===null){e:{u=n.type,s=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":d=f.getElementsByTagName("title")[0],(!d||d[xs]||d[$t]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(u),f.head.insertBefore(d,f.querySelector("head > title"))),tn(d,u,s),d[$t]=n,qt(d),u=d;break e;case"link":var y=J1("link","href",f).get(u+(s.href||""));if(y){for(var C=0;C<y.length;C++)if(d=y[C],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(C,1);break t}}d=f.createElement(u),tn(d,u,s),f.head.appendChild(d);break;case"meta":if(y=J1("meta","content",f).get(u+(s.content||""))){for(C=0;C<y.length;C++)if(d=y[C],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(C,1);break t}}d=f.createElement(u),tn(d,u,s),f.head.appendChild(d);break;default:throw Error(r(468,u))}d[$t]=n,qt(d),u=d}n.stateNode=u}else eE(f,n.type,n.stateNode);else n.stateNode=Z1(f,u,n.memoizedProps);else d!==u?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,u===null?eE(f,n.type,n.stateNode):Z1(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&sd(n,n.memoizedProps,s.memoizedProps)}break;case 27:pn(a,n),gn(n),u&512&&(Bt||s===null||oi(s,s.return)),s!==null&&u&4&&sd(n,n.memoizedProps,s.memoizedProps);break;case 5:if(pn(a,n),gn(n),u&512&&(Bt||s===null||oi(s,s.return)),n.flags&32){f=n.stateNode;try{Er(f,"")}catch(be){st(n,n.return,be)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,sd(n,f,s!==null?s.memoizedProps:f)),u&1024&&(od=!0);break;case 6:if(pn(a,n),gn(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,s=n.stateNode;try{s.nodeValue=u}catch(be){st(n,n.return,be)}}break;case 3:if(So=null,f=ei,ei=To(a.containerInfo),pn(a,n),ei=f,gn(n),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Qr(a.containerInfo)}catch(be){st(n,n.return,be)}od&&(od=!1,e1(n));break;case 4:u=ei,ei=To(n.stateNode.containerInfo),pn(a,n),gn(n),ei=u;break;case 12:pn(a,n),gn(n);break;case 31:pn(a,n),gn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,ro(n,u)));break;case 13:pn(a,n),gn(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(lo=ht()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,ro(n,u)));break;case 22:f=n.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,z=Di,J=Bt;if(Di=z||f,Bt=J||I,pn(a,n),Bt=J,Di=z,gn(n),u&8192)e:for(a=n.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(s===null||I||Di||Bt||Xa(n)),s=null,a=n;;){if(a.tag===5||a.tag===26){if(s===null){I=s=a;try{if(d=I.stateNode,f)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{C=I.stateNode;var ae=I.memoizedProps.style,Y=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;C.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(be){st(I,I.return,be)}}}else if(a.tag===6){if(s===null){I=a;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(be){st(I,I.return,be)}}}else if(a.tag===18){if(s===null){I=a;try{var Q=I.stateNode;f?Y1(Q,!0):Y1(I.stateNode,!1)}catch(be){st(I,I.return,be)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=n.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,ro(n,s))));break;case 19:pn(a,n),gn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,ro(n,u)));break;case 30:break;case 21:break;default:pn(a,n),gn(n)}}function gn(n){var a=n.flags;if(a&2){try{for(var s,u=n.return;u!==null;){if(Vg(u)){s=u;break}u=u.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var f=s.stateNode,d=ld(n);ao(n,d,f);break;case 5:var y=s.stateNode;s.flags&32&&(Er(y,""),s.flags&=-33);var C=ld(n);ao(n,C,y);break;case 3:case 4:var I=s.stateNode.containerInfo,z=ld(n);ud(n,z,I);break;default:throw Error(r(161))}}catch(J){st(n,n.return,J)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function e1(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;e1(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function Li(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Qg(n,a.alternate,a),a=a.sibling}function Xa(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:ra(4,a,a.return),Xa(a);break;case 1:oi(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&Yg(a,a.return,s),Xa(a);break;case 27:ul(a.stateNode);case 26:case 5:oi(a,a.return),Xa(a);break;case 22:a.memoizedState===null&&Xa(a);break;case 30:Xa(a);break;default:Xa(a)}n=n.sibling}}function ki(n,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,f=n,d=a,y=d.flags;switch(d.tag){case 0:case 11:case 15:ki(f,d,s),Zs(4,d);break;case 1:if(ki(f,d,s),u=d,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){st(u,u.return,z)}if(u=d,f=u.updateQueue,f!==null){var C=u.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)Ip(I[f],C)}catch(z){st(u,u.return,z)}}s&&y&64&&jg(d),Js(d,d.return);break;case 27:Gg(d);case 26:case 5:ki(f,d,s),s&&u===null&&y&4&&qg(d),Js(d,d.return);break;case 12:ki(f,d,s);break;case 31:ki(f,d,s),s&&y&4&&$g(f,d);break;case 13:ki(f,d,s),s&&y&4&&Zg(f,d);break;case 22:d.memoizedState===null&&ki(f,d,s),Js(d,d.return);break;case 30:break;default:ki(f,d,s)}a=a.sibling}}function cd(n,a){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&Hs(s))}function fd(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Hs(n))}function ti(n,a,s,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)t1(n,a,s,u),a=a.sibling}function t1(n,a,s,u){var f=a.flags;switch(a.tag){case 0:case 11:case 15:ti(n,a,s,u),f&2048&&Zs(9,a);break;case 1:ti(n,a,s,u);break;case 3:ti(n,a,s,u),f&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Hs(n)));break;case 12:if(f&2048){ti(n,a,s,u),n=a.stateNode;try{var d=a.memoizedProps,y=d.id,C=d.onPostCommit;typeof C=="function"&&C(y,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){st(a,a.return,I)}}else ti(n,a,s,u);break;case 31:ti(n,a,s,u);break;case 13:ti(n,a,s,u);break;case 23:break;case 22:d=a.stateNode,y=a.alternate,a.memoizedState!==null?d._visibility&2?ti(n,a,s,u):el(n,a):d._visibility&2?ti(n,a,s,u):(d._visibility|=2,Pr(n,a,s,u,(a.subtreeFlags&10256)!==0||!1)),f&2048&&cd(y,a);break;case 24:ti(n,a,s,u),f&2048&&fd(a.alternate,a);break;default:ti(n,a,s,u)}}function Pr(n,a,s,u,f){for(f=f&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var d=n,y=a,C=s,I=u,z=y.flags;switch(y.tag){case 0:case 11:case 15:Pr(d,y,C,I,f),Zs(8,y);break;case 23:break;case 22:var J=y.stateNode;y.memoizedState!==null?J._visibility&2?Pr(d,y,C,I,f):el(d,y):(J._visibility|=2,Pr(d,y,C,I,f)),f&&z&2048&&cd(y.alternate,y);break;case 24:Pr(d,y,C,I,f),f&&z&2048&&fd(y.alternate,y);break;default:Pr(d,y,C,I,f)}a=a.sibling}}function el(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=n,u=a,f=u.flags;switch(u.tag){case 22:el(s,u),f&2048&&cd(u.alternate,u);break;case 24:el(s,u),f&2048&&fd(u.alternate,u);break;default:el(s,u)}a=a.sibling}}var tl=8192;function Ur(n,a,s){if(n.subtreeFlags&tl)for(n=n.child;n!==null;)n1(n,a,s),n=n.sibling}function n1(n,a,s){switch(n.tag){case 26:Ur(n,a,s),n.flags&tl&&n.memoizedState!==null&&lA(s,ei,n.memoizedState,n.memoizedProps);break;case 5:Ur(n,a,s);break;case 3:case 4:var u=ei;ei=To(n.stateNode.containerInfo),Ur(n,a,s),ei=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=tl,tl=16777216,Ur(n,a,s),tl=u):Ur(n,a,s));break;default:Ur(n,a,s)}}function i1(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function nl(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var u=a[s];Vt=u,r1(u,n)}i1(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)a1(n),n=n.sibling}function a1(n){switch(n.tag){case 0:case 11:case 15:nl(n),n.flags&2048&&ra(9,n,n.return);break;case 3:nl(n);break;case 12:nl(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,so(n)):nl(n);break;default:nl(n)}}function so(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var u=a[s];Vt=u,r1(u,n)}i1(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:ra(8,a,a.return),so(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,so(a));break;default:so(a)}n=n.sibling}}function r1(n,a){for(;Vt!==null;){var s=Vt;switch(s.tag){case 0:case 11:case 15:ra(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Hs(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,Vt=u;else e:for(s=n;Vt!==null;){u=Vt;var f=u.sibling,d=u.return;if(Kg(u),u===s){Vt=null;break e}if(f!==null){f.return=d,Vt=f;break e}Vt=d}}}var S3={getCacheForType:function(n){var a=Jt(kt),s=a.data.get(n);return s===void 0&&(s=n(),a.data.set(n,s)),s},cacheSignal:function(){return Jt(kt).controller.signal}},C3=typeof WeakMap=="function"?WeakMap:Map,et=0,ft=null,Ge=null,Ke=0,rt=0,Ln=null,sa=!1,Hr=!1,dd=!1,wi=0,Nt=0,la=0,Qa=0,hd=0,kn=0,Fr=0,il=null,En=null,md=!1,lo=0,s1=0,uo=1/0,oo=null,ua=null,zt=0,oa=null,zr=null,Mi=0,pd=0,gd=null,l1=null,al=0,Ed=null;function wn(){return(et&2)!==0&&Ke!==0?Ke&-Ke:P.T!==null?Cd():Cm()}function u1(){if(kn===0)if((Ke&536870912)===0||$e){var n=Eu;Eu<<=1,(Eu&3932160)===0&&(Eu=262144),kn=n}else kn=536870912;return n=Dn.current,n!==null&&(n.flags|=32),kn}function _n(n,a,s){(n===ft&&(rt===2||rt===9)||n.cancelPendingCommit!==null)&&(jr(n,0),ca(n,Ke,kn,!1)),vs(n,s),((et&2)===0||n!==ft)&&(n===ft&&((et&2)===0&&(Qa|=s),Nt===4&&ca(n,Ke,kn,!1)),ci(n))}function o1(n,a,s){if((et&6)!==0)throw Error(r(327));var u=!s&&(a&127)===0&&(a&n.expiredLanes)===0||As(n,a),f=u?x3(n,a):yd(n,a,!0),d=u;do{if(f===0){Hr&&!u&&ca(n,a,0,!1);break}else{if(s=n.current.alternate,d&&!A3(s)){f=yd(n,a,!1),d=!1;continue}if(f===2){if(d=a,n.errorRecoveryDisabledLanes&d)var y=0;else y=n.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){a=y;e:{var C=n;f=il;var I=C.current.memoizedState.isDehydrated;if(I&&(jr(C,y).flags|=256),y=yd(C,y,!1),y!==2){if(dd&&!I){C.errorRecoveryDisabledLanes|=d,Qa|=d,f=4;break e}d=En,En=f,d!==null&&(En===null?En=d:En.push.apply(En,d))}f=y}if(d=!1,f!==2)continue}}if(f===1){jr(n,0),ca(n,a,0,!0);break}e:{switch(u=n,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:ca(u,a,kn,!sa);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(f=lo+300-ht(),10<f)){if(ca(u,a,kn,!sa),yu(u,0,!0)!==0)break e;Mi=a,u.timeoutHandle=F1(c1.bind(null,u,s,En,oo,md,a,kn,Qa,Fr,sa,d,"Throttled",-0,0),f);break e}c1(u,s,En,oo,md,a,kn,Qa,Fr,sa,d,null,-0,0)}}break}while(!0);ci(n)}function c1(n,a,s,u,f,d,y,C,I,z,J,ae,Y,Q){if(n.timeoutHandle=-1,ae=a.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ti},n1(a,d,ae);var be=(d&62914560)===d?lo-ht():(d&4194048)===d?s1-ht():0;if(be=uA(ae,be),be!==null){Mi=d,n.cancelPendingCommit=be(_1.bind(null,n,a,d,s,u,f,y,C,I,J,ae,null,Y,Q)),ca(n,d,y,!z);return}}_1(n,a,d,s,u,f,y,C,I)}function A3(n){for(var a=n;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var f=s[u],d=f.getSnapshot;f=f.value;try{if(!Rn(d(),f))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ca(n,a,s,u){a&=~hd,a&=~Qa,n.suspendedLanes|=a,n.pingedLanes&=~a,u&&(n.warmLanes|=a),u=n.expirationTimes;for(var f=a;0<f;){var d=31-ct(f),y=1<<d;u[d]=-1,f&=~y}s!==0&&Tm(n,s,a)}function co(){return(et&6)===0?(rl(0),!1):!0}function _d(){if(Ge!==null){if(rt===0)var n=Ge.return;else n=Ge,Ai=Ha=null,wf(n),Lr=null,zs=0,n=Ge;for(;n!==null;)zg(n.alternate,n),n=n.return;Ge=null}}function jr(n,a){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,q3(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),Mi=0,_d(),ft=n,Ge=s=Si(n.current,null),Ke=a,rt=0,Ln=null,sa=!1,Hr=As(n,a),dd=!1,Fr=kn=hd=Qa=la=Nt=0,En=il=null,md=!1,(a&8)!==0&&(a|=a&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=a;0<u;){var f=31-ct(u),d=1<<f;a|=n[f],u&=~d}return wi=a,Iu(),s}function f1(n,a){Be=null,P.H=Ks,a===Ir||a===Hu?(a=Np(),rt=3):a===Sf?(a=Np(),rt=4):rt=a===Wf?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ln=a,Ge===null&&(Nt=1,Ju(n,zn(a,n.current)))}function d1(){var n=Dn.current;return n===null?!0:(Ke&4194048)===Ke?Vn===null:(Ke&62914560)===Ke||(Ke&536870912)!==0?n===Vn:!1}function h1(){var n=P.H;return P.H=Ks,n===null?Ks:n}function m1(){var n=P.A;return P.A=S3,n}function fo(){Nt=4,sa||(Ke&4194048)!==Ke&&Dn.current!==null||(Hr=!0),(la&134217727)===0&&(Qa&134217727)===0||ft===null||ca(ft,Ke,kn,!1)}function yd(n,a,s){var u=et;et|=2;var f=h1(),d=m1();(ft!==n||Ke!==a)&&(oo=null,jr(n,a)),a=!1;var y=Nt;e:do try{if(rt!==0&&Ge!==null){var C=Ge,I=Ln;switch(rt){case 8:_d(),y=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(a=!0);var z=rt;if(rt=0,Ln=null,Yr(n,C,I,z),s&&Hr){y=0;break e}break;default:z=rt,rt=0,Ln=null,Yr(n,C,I,z)}}v3(),y=Nt;break}catch(J){f1(n,J)}while(!0);return a&&n.shellSuspendCounter++,Ai=Ha=null,et=u,P.H=f,P.A=d,Ge===null&&(ft=null,Ke=0,Iu()),y}function v3(){for(;Ge!==null;)p1(Ge)}function x3(n,a){var s=et;et|=2;var u=h1(),f=m1();ft!==n||Ke!==a?(oo=null,uo=ht()+500,jr(n,a)):Hr=As(n,a);e:do try{if(rt!==0&&Ge!==null){a=Ge;var d=Ln;t:switch(rt){case 1:rt=0,Ln=null,Yr(n,a,d,1);break;case 2:case 9:if(vp(d)){rt=0,Ln=null,g1(a);break}a=function(){rt!==2&&rt!==9||ft!==n||(rt=7),ci(n)},d.then(a,a);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:vp(d)?(rt=0,Ln=null,g1(a)):(rt=0,Ln=null,Yr(n,a,d,7));break;case 5:var y=null;switch(Ge.tag){case 26:y=Ge.memoizedState;case 5:case 27:var C=Ge;if(y?tE(y):C.stateNode.complete){rt=0,Ln=null;var I=C.sibling;if(I!==null)Ge=I;else{var z=C.return;z!==null?(Ge=z,ho(z)):Ge=null}break t}}rt=0,Ln=null,Yr(n,a,d,5);break;case 6:rt=0,Ln=null,Yr(n,a,d,6);break;case 8:_d(),Nt=6;break e;default:throw Error(r(462))}}N3();break}catch(J){f1(n,J)}while(!0);return Ai=Ha=null,P.H=u,P.A=f,et=s,Ge!==null?0:(ft=null,Ke=0,Iu(),Nt)}function N3(){for(;Ge!==null&&!Re();)p1(Ge)}function p1(n){var a=Hg(n.alternate,n,wi);n.memoizedProps=n.pendingProps,a===null?ho(n):Ge=a}function g1(n){var a=n,s=a.alternate;switch(a.tag){case 15:case 0:a=kg(s,a,a.pendingProps,a.type,void 0,Ke);break;case 11:a=kg(s,a,a.pendingProps,a.type.render,a.ref,Ke);break;case 5:wf(a);default:zg(s,a),a=Ge=mp(a,wi),a=Hg(s,a,wi)}n.memoizedProps=n.pendingProps,a===null?ho(n):Ge=a}function Yr(n,a,s,u){Ai=Ha=null,wf(a),Lr=null,zs=0;var f=a.return;try{if(p3(n,f,a,s,Ke)){Nt=1,Ju(n,zn(s,n.current)),Ge=null;return}}catch(d){if(f!==null)throw Ge=f,d;Nt=1,Ju(n,zn(s,n.current)),Ge=null;return}a.flags&32768?($e||u===1?n=!0:Hr||(Ke&536870912)!==0?n=!1:(sa=n=!0,(u===2||u===9||u===3||u===6)&&(u=Dn.current,u!==null&&u.tag===13&&(u.flags|=16384))),E1(a,n)):ho(a)}function ho(n){var a=n;do{if((a.flags&32768)!==0){E1(a,sa);return}n=a.return;var s=_3(a.alternate,a,wi);if(s!==null){Ge=s;return}if(a=a.sibling,a!==null){Ge=a;return}Ge=a=n}while(a!==null);Nt===0&&(Nt=5)}function E1(n,a){do{var s=y3(n.alternate,n);if(s!==null){s.flags&=32767,Ge=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(n=n.sibling,n!==null)){Ge=n;return}Ge=n=s}while(n!==null);Nt=6,Ge=null}function _1(n,a,s,u,f,d,y,C,I){n.cancelPendingCommit=null;do mo();while(zt!==0);if((et&6)!==0)throw Error(r(327));if(a!==null){if(a===n.current)throw Error(r(177));if(d=a.lanes|a.childLanes,d|=lf,sC(n,s,d,y,C,I),n===ft&&(Ge=ft=null,Ke=0),zr=a,oa=n,Mi=s,pd=d,gd=f,l1=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,I3(Ie,function(){return C1(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=P.T,P.T=null,f=Z.p,Z.p=2,y=et,et|=4;try{T3(n,a,s)}finally{et=y,Z.p=f,P.T=u}}zt=1,y1(),T1(),b1()}}function y1(){if(zt===1){zt=0;var n=oa,a=zr,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=P.T,P.T=null;var u=Z.p;Z.p=2;var f=et;et|=4;try{Jg(a,n);var d=Id,y=rp(n.containerInfo),C=d.focusedElem,I=d.selectionRange;if(y!==C&&C&&C.ownerDocument&&ap(C.ownerDocument.documentElement,C)){if(I!==null&&tf(C)){var z=I.start,J=I.end;if(J===void 0&&(J=z),"selectionStart"in C)C.selectionStart=z,C.selectionEnd=Math.min(J,C.value.length);else{var ae=C.ownerDocument||document,Y=ae&&ae.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),be=C.textContent.length,De=Math.min(I.start,be),ot=I.end===void 0?De:Math.min(I.end,be);!Q.extend&&De>ot&&(y=ot,ot=De,De=y);var B=ip(C,De),k=ip(C,ot);if(B&&k&&(Q.rangeCount!==1||Q.anchorNode!==B.node||Q.anchorOffset!==B.offset||Q.focusNode!==k.node||Q.focusOffset!==k.offset)){var F=ae.createRange();F.setStart(B.node,B.offset),Q.removeAllRanges(),De>ot?(Q.addRange(F),Q.extend(k.node,k.offset)):(F.setEnd(k.node,k.offset),Q.addRange(F))}}}}for(ae=[],Q=C;Q=Q.parentNode;)Q.nodeType===1&&ae.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ae.length;C++){var ne=ae[C];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}xo=!!Dd,Id=Dd=null}finally{et=f,Z.p=u,P.T=s}}n.current=a,zt=2}}function T1(){if(zt===2){zt=0;var n=oa,a=zr,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=P.T,P.T=null;var u=Z.p;Z.p=2;var f=et;et|=4;try{Qg(n,a.alternate,a)}finally{et=f,Z.p=u,P.T=s}}zt=3}}function b1(){if(zt===4||zt===3){zt=0,it();var n=oa,a=zr,s=Mi,u=l1;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?zt=5:(zt=0,zr=oa=null,S1(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(ua=null),Bc(s),a=a.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(on,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=P.T,f=Z.p,Z.p=2,P.T=null;try{for(var d=n.onRecoverableError,y=0;y<u.length;y++){var C=u[y];d(C.value,{componentStack:C.stack})}}finally{P.T=a,Z.p=f}}(Mi&3)!==0&&mo(),ci(n),f=n.pendingLanes,(s&261930)!==0&&(f&42)!==0?n===Ed?al++:(al=0,Ed=n):al=0,rl(0)}}function S1(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,Hs(a)))}function mo(){return y1(),T1(),b1(),C1()}function C1(){if(zt!==5)return!1;var n=oa,a=pd;pd=0;var s=Bc(Mi),u=P.T,f=Z.p;try{Z.p=32>s?32:s,P.T=null,s=gd,gd=null;var d=oa,y=Mi;if(zt=0,zr=oa=null,Mi=0,(et&6)!==0)throw Error(r(331));var C=et;if(et|=4,a1(d.current),t1(d,d.current,y,s),et=C,rl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(on,d)}catch{}return!0}finally{Z.p=f,P.T=u,S1(n,a)}}function A1(n,a,s){a=zn(s,a),a=Kf(n.stateNode,a,2),n=na(n,a,2),n!==null&&(vs(n,2),ci(n))}function st(n,a,s){if(n.tag===3)A1(n,n,s);else for(;a!==null;){if(a.tag===3){A1(a,n,s);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ua===null||!ua.has(u))){n=zn(s,n),s=vg(2),u=na(a,s,2),u!==null&&(xg(s,u,a,n),vs(u,2),ci(u));break}}a=a.return}}function Td(n,a,s){var u=n.pingCache;if(u===null){u=n.pingCache=new C3;var f=new Set;u.set(a,f)}else f=u.get(a),f===void 0&&(f=new Set,u.set(a,f));f.has(s)||(dd=!0,f.add(s),n=R3.bind(null,n,a,s),a.then(n,n))}function R3(n,a,s){var u=n.pingCache;u!==null&&u.delete(a),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,ft===n&&(Ke&s)===s&&(Nt===4||Nt===3&&(Ke&62914560)===Ke&&300>ht()-lo?(et&2)===0&&jr(n,0):hd|=s,Fr===Ke&&(Fr=0)),ci(n)}function v1(n,a){a===0&&(a=ym()),n=Ba(n,a),n!==null&&(vs(n,a),ci(n))}function O3(n){var a=n.memoizedState,s=0;a!==null&&(s=a.retryLane),v1(n,s)}function D3(n,a){var s=0;switch(n.tag){case 31:case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(s=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(a),v1(n,s)}function I3(n,a){return M(n,a)}var po=null,qr=null,bd=!1,go=!1,Sd=!1,fa=0;function ci(n){n!==qr&&n.next===null&&(qr===null?po=qr=n:qr=qr.next=n),go=!0,bd||(bd=!0,k3())}function rl(n,a){if(!Sd&&go){Sd=!0;do for(var s=!1,u=po;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var d=0;else{var y=u.suspendedLanes,C=u.pingedLanes;d=(1<<31-ct(42|n)+1)-1,d&=f&~(y&~C),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,O1(u,d))}else d=Ke,d=yu(u,u===ft?d:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(d&3)===0||As(u,d)||(s=!0,O1(u,d));u=u.next}while(s);Sd=!1}}function L3(){x1()}function x1(){go=bd=!1;var n=0;fa!==0&&Y3()&&(n=fa);for(var a=ht(),s=null,u=po;u!==null;){var f=u.next,d=N1(u,a);d===0?(u.next=null,s===null?po=f:s.next=f,f===null&&(qr=s)):(s=u,(n!==0||(d&3)!==0)&&(go=!0)),u=f}zt!==0&&zt!==5||rl(n),fa!==0&&(fa=0)}function N1(n,a){for(var s=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var y=31-ct(d),C=1<<y,I=f[y];I===-1?((C&s)===0||(C&u)!==0)&&(f[y]=rC(C,a)):I<=a&&(n.expiredLanes|=C),d&=~C}if(a=ft,s=Ke,s=yu(n,n===a?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,s===0||n===a&&(rt===2||rt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Ee(u),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||As(n,s)){if(a=s&-s,a===n.callbackPriority)return a;switch(u!==null&&Ee(u),Bc(s)){case 2:case 8:s=me;break;case 32:s=Ie;break;case 268435456:s=at;break;default:s=Ie}return u=R1.bind(null,n),s=M(s,u),n.callbackPriority=a,n.callbackNode=s,a}return u!==null&&u!==null&&Ee(u),n.callbackPriority=2,n.callbackNode=null,2}function R1(n,a){if(zt!==0&&zt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(mo()&&n.callbackNode!==s)return null;var u=Ke;return u=yu(n,n===ft?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(o1(n,u,a),N1(n,ht()),n.callbackNode!=null&&n.callbackNode===s?R1.bind(null,n):null)}function O1(n,a){if(mo())return null;o1(n,a,!0)}function k3(){V3(function(){(et&6)!==0?M(ee,L3):x1()})}function Cd(){if(fa===0){var n=Or;n===0&&(n=gu,gu<<=1,(gu&261888)===0&&(gu=256)),fa=n}return fa}function D1(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Cu(""+n)}function I1(n,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,n.id&&s.setAttribute("form",n.id),a.parentNode.insertBefore(s,a),n=new FormData(n),s.parentNode.removeChild(s),n}function w3(n,a,s,u,f){if(a==="submit"&&s&&s.stateNode===f){var d=D1((f[dn]||null).action),y=u.submitter;y&&(a=(a=y[dn]||null)?D1(a.formAction):y.getAttribute("formAction"),a!==null&&(d=a,y=null));var C=new Nu("action","action",null,u,f);n.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(fa!==0){var I=y?I1(f,y):new FormData(f);Yf(s,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(C.preventDefault(),I=y?I1(f,y):new FormData(f),Yf(s,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var Ad=0;Ad<sf.length;Ad++){var vd=sf[Ad],M3=vd.toLowerCase(),B3=vd[0].toUpperCase()+vd.slice(1);Jn(M3,"on"+B3)}Jn(up,"onAnimationEnd"),Jn(op,"onAnimationIteration"),Jn(cp,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(ZC,"onTransitionRun"),Jn(JC,"onTransitionStart"),Jn(e3,"onTransitionCancel"),Jn(fp,"onTransitionEnd"),pr("onMouseEnter",["mouseout","mouseover"]),pr("onMouseLeave",["mouseout","mouseover"]),pr("onPointerEnter",["pointerout","pointerover"]),pr("onPointerLeave",["pointerout","pointerover"]),La("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),La("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),La("onBeforeInput",["compositionend","keypress","textInput","paste"]),La("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),La("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),La("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function L1(n,a){a=(a&4)!==0;for(var s=0;s<n.length;s++){var u=n[s],f=u.event;u=u.listeners;e:{var d=void 0;if(a)for(var y=u.length-1;0<=y;y--){var C=u[y],I=C.instance,z=C.currentTarget;if(C=C.listener,I!==d&&f.isPropagationStopped())break e;d=C,f.currentTarget=z;try{d(f)}catch(J){Du(J)}f.currentTarget=null,d=I}else for(y=0;y<u.length;y++){if(C=u[y],I=C.instance,z=C.currentTarget,C=C.listener,I!==d&&f.isPropagationStopped())break e;d=C,f.currentTarget=z;try{d(f)}catch(J){Du(J)}f.currentTarget=null,d=I}}}}function Xe(n,a){var s=a[Pc];s===void 0&&(s=a[Pc]=new Set);var u=n+"__bubble";s.has(u)||(k1(a,n,2,!1),s.add(u))}function xd(n,a,s){var u=0;a&&(u|=4),k1(s,n,u,a)}var Eo="_reactListening"+Math.random().toString(36).slice(2);function Nd(n){if(!n[Eo]){n[Eo]=!0,xm.forEach(function(s){s!=="selectionchange"&&(P3.has(s)||xd(s,!1,n),xd(s,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[Eo]||(a[Eo]=!0,xd("selectionchange",!1,a))}}function k1(n,a,s,u){switch(uE(a)){case 2:var f=fA;break;case 8:f=dA;break;default:f=jd}s=f.bind(null,a,s,n),f=void 0,!Gc||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(a,s,{capture:!0,passive:f}):n.addEventListener(a,s,!0):f!==void 0?n.addEventListener(a,s,{passive:f}):n.addEventListener(a,s,!1)}function Rd(n,a,s,u,f){var d=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var C=u.stateNode.containerInfo;if(C===f)break;if(y===4)for(y=u.return;y!==null;){var I=y.tag;if((I===3||I===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;C!==null;){if(y=dr(C),y===null)return;if(I=y.tag,I===5||I===6||I===26||I===27){u=d=y;continue e}C=C.parentNode}}u=u.return}Um(function(){var z=d,J=qc(s),ae=[];e:{var Y=dp.get(n);if(Y!==void 0){var Q=Nu,be=n;switch(n){case"keypress":if(vu(s)===0)break e;case"keydown":case"keyup":Q=DC;break;case"focusin":be="focus",Q=Wc;break;case"focusout":be="blur",Q=Wc;break;case"beforeblur":case"afterblur":Q=Wc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=zm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=_C;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=kC;break;case up:case op:case cp:Q=bC;break;case fp:Q=MC;break;case"scroll":case"scrollend":Q=gC;break;case"wheel":Q=PC;break;case"copy":case"cut":case"paste":Q=CC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ym;break;case"toggle":case"beforetoggle":Q=HC}var De=(a&4)!==0,ot=!De&&(n==="scroll"||n==="scrollend"),B=De?Y!==null?Y+"Capture":null:Y;De=[];for(var k=z,F;k!==null;){var ne=k;if(F=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||F===null||B===null||(ne=Rs(k,B),ne!=null&&De.push(ll(k,ne,F))),ot)break;k=k.return}0<De.length&&(Y=new Q(Y,be,null,s,J),ae.push({event:Y,listeners:De}))}}if((a&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",Y&&s!==Yc&&(be=s.relatedTarget||s.fromElement)&&(dr(be)||be[fr]))break e;if((Q||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(be=s.relatedTarget||s.toElement,Q=z,be=be?dr(be):null,be!==null&&(ot=o(be),De=be.tag,be!==ot||De!==5&&De!==27&&De!==6)&&(be=null)):(Q=null,be=z),Q!==be)){if(De=zm,ne="onMouseLeave",B="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(De=Ym,ne="onPointerLeave",B="onPointerEnter",k="pointer"),ot=Q==null?Y:Ns(Q),F=be==null?Y:Ns(be),Y=new De(ne,k+"leave",Q,s,J),Y.target=ot,Y.relatedTarget=F,ne=null,dr(J)===z&&(De=new De(B,k+"enter",be,s,J),De.target=F,De.relatedTarget=ot,ne=De),ot=ne,Q&&be)t:{for(De=U3,B=Q,k=be,F=0,ne=B;ne;ne=De(ne))F++;ne=0;for(var Ne=k;Ne;Ne=De(Ne))ne++;for(;0<F-ne;)B=De(B),F--;for(;0<ne-F;)k=De(k),ne--;for(;F--;){if(B===k||k!==null&&B===k.alternate){De=B;break t}B=De(B),k=De(k)}De=null}else De=null;Q!==null&&w1(ae,Y,Q,De,!1),be!==null&&ot!==null&&w1(ae,ot,be,De,!0)}}e:{if(Y=z?Ns(z):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var Ze=$m;else if(Km(Y))if(Zm)Ze=KC;else{Ze=XC;var Ce=GC}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?z&&jc(z.elementType)&&(Ze=$m):Ze=QC;if(Ze&&(Ze=Ze(n,z))){Wm(ae,Ze,s,J);break e}Ce&&Ce(n,Y,z),n==="focusout"&&z&&Y.type==="number"&&z.memoizedProps.value!=null&&zc(Y,"number",Y.value)}switch(Ce=z?Ns(z):window,n){case"focusin":(Km(Ce)||Ce.contentEditable==="true")&&(br=Ce,nf=z,Bs=null);break;case"focusout":Bs=nf=br=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,sp(ae,s,J);break;case"selectionchange":if($C)break;case"keydown":case"keyup":sp(ae,s,J)}var He;if(Zc)e:{switch(n){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Tr?Xm(n,s)&&(We="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(We="onCompositionStart");We&&(qm&&s.locale!=="ko"&&(Tr||We!=="onCompositionStart"?We==="onCompositionEnd"&&Tr&&(He=Hm()):(Ki=J,Xc="value"in Ki?Ki.value:Ki.textContent,Tr=!0)),Ce=_o(z,We),0<Ce.length&&(We=new jm(We,n,null,s,J),ae.push({event:We,listeners:Ce}),He?We.data=He:(He=Qm(s),He!==null&&(We.data=He)))),(He=zC?jC(n,s):YC(n,s))&&(We=_o(z,"onBeforeInput"),0<We.length&&(Ce=new jm("onBeforeInput","beforeinput",null,s,J),ae.push({event:Ce,listeners:We}),Ce.data=He)),w3(ae,n,z,s,J)}L1(ae,a)})}function ll(n,a,s){return{instance:n,listener:a,currentTarget:s}}function _o(n,a){for(var s=a+"Capture",u=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Rs(n,s),f!=null&&u.unshift(ll(n,f,d)),f=Rs(n,a),f!=null&&u.push(ll(n,f,d))),n.tag===3)return u;n=n.return}return[]}function U3(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function w1(n,a,s,u,f){for(var d=a._reactName,y=[];s!==null&&s!==u;){var C=s,I=C.alternate,z=C.stateNode;if(C=C.tag,I!==null&&I===u)break;C!==5&&C!==26&&C!==27||z===null||(I=z,f?(z=Rs(s,d),z!=null&&y.unshift(ll(s,z,I))):f||(z=Rs(s,d),z!=null&&y.push(ll(s,z,I)))),s=s.return}y.length!==0&&n.push({event:a,listeners:y})}var H3=/\r\n?/g,F3=/\u0000|\uFFFD/g;function M1(n){return(typeof n=="string"?n:""+n).replace(H3,`
`).replace(F3,"")}function B1(n,a){return a=M1(a),M1(n)===a}function ut(n,a,s,u,f,d){switch(s){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Er(n,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Er(n,""+u);break;case"className":bu(n,"class",u);break;case"tabIndex":bu(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":bu(n,s,u);break;case"style":Bm(n,u,d);break;case"data":if(a!=="object"){bu(n,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||s!=="href")){n.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=Cu(""+u),n.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(a!=="input"&&ut(n,a,"name",f.name,f,null),ut(n,a,"formEncType",f.formEncType,f,null),ut(n,a,"formMethod",f.formMethod,f,null),ut(n,a,"formTarget",f.formTarget,f,null)):(ut(n,a,"encType",f.encType,f,null),ut(n,a,"method",f.method,f,null),ut(n,a,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=Cu(""+u),n.setAttribute(s,u);break;case"onClick":u!=null&&(n.onclick=Ti);break;case"onScroll":u!=null&&Xe("scroll",n);break;case"onScrollEnd":u!=null&&Xe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(s=u.__html,s!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=s}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}s=Cu(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""+u):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":u===!0?n.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,u):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(s,u):n.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(s):n.setAttribute(s,u);break;case"popover":Xe("beforetoggle",n),Xe("toggle",n),Tu(n,"popover",u);break;case"xlinkActuate":yi(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":yi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":yi(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":yi(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":yi(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":yi(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":yi(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":yi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":yi(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Tu(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=mC.get(s)||s,Tu(n,s,u))}}function Od(n,a,s,u,f,d){switch(s){case"style":Bm(n,u,d);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(s=u.__html,s!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=s}}break;case"children":typeof u=="string"?Er(n,u):(typeof u=="number"||typeof u=="bigint")&&Er(n,""+u);break;case"onScroll":u!=null&&Xe("scroll",n);break;case"onScrollEnd":u!=null&&Xe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nm.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),a=s.slice(2,f?s.length-7:void 0),d=n[dn]||null,d=d!=null?d[s]:null,typeof d=="function"&&n.removeEventListener(a,d,f),typeof u=="function")){typeof d!="function"&&d!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(a,u,f);break e}s in n?n[s]=u:u===!0?n.setAttribute(s,""):Tu(n,s,u)}}}function tn(n,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",n),Xe("load",n);var u=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var y=s[d];if(y!=null)switch(d){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ut(n,a,d,y,s,null)}}f&&ut(n,a,"srcSet",s.srcSet,s,null),u&&ut(n,a,"src",s.src,s,null);return;case"input":Xe("invalid",n);var C=d=y=f=null,I=null,z=null;for(u in s)if(s.hasOwnProperty(u)){var J=s[u];if(J!=null)switch(u){case"name":f=J;break;case"type":y=J;break;case"checked":I=J;break;case"defaultChecked":z=J;break;case"value":d=J;break;case"defaultValue":C=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,a));break;default:ut(n,a,u,J,s,null)}}Lm(n,d,C,I,z,y,f,!1);return;case"select":Xe("invalid",n),u=y=d=null;for(f in s)if(s.hasOwnProperty(f)&&(C=s[f],C!=null))switch(f){case"value":d=C;break;case"defaultValue":y=C;break;case"multiple":u=C;default:ut(n,a,f,C,s,null)}a=d,s=y,n.multiple=!!u,a!=null?gr(n,!!u,a,!1):s!=null&&gr(n,!!u,s,!0);return;case"textarea":Xe("invalid",n),d=f=u=null;for(y in s)if(s.hasOwnProperty(y)&&(C=s[y],C!=null))switch(y){case"value":u=C;break;case"defaultValue":f=C;break;case"children":d=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:ut(n,a,y,C,s,null)}wm(n,u,f,d);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(u=s[I],u!=null))switch(I){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ut(n,a,I,u,s,null)}return;case"dialog":Xe("beforetoggle",n),Xe("toggle",n),Xe("cancel",n),Xe("close",n);break;case"iframe":case"object":Xe("load",n);break;case"video":case"audio":for(u=0;u<sl.length;u++)Xe(sl[u],n);break;case"image":Xe("error",n),Xe("load",n);break;case"details":Xe("toggle",n);break;case"embed":case"source":case"link":Xe("error",n),Xe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(u=s[z],u!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ut(n,a,z,u,s,null)}return;default:if(jc(a)){for(J in s)s.hasOwnProperty(J)&&(u=s[J],u!==void 0&&Od(n,a,J,u,s,void 0));return}}for(C in s)s.hasOwnProperty(C)&&(u=s[C],u!=null&&ut(n,a,C,u,s,null))}function z3(n,a,s,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,y=null,C=null,I=null,z=null,J=null;for(Q in s){var ae=s[Q];if(s.hasOwnProperty(Q)&&ae!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=ae;default:u.hasOwnProperty(Q)||ut(n,a,Q,null,u,ae)}}for(var Y in u){var Q=u[Y];if(ae=s[Y],u.hasOwnProperty(Y)&&(Q!=null||ae!=null))switch(Y){case"type":d=Q;break;case"name":f=Q;break;case"checked":z=Q;break;case"defaultChecked":J=Q;break;case"value":y=Q;break;case"defaultValue":C=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,a));break;default:Q!==ae&&ut(n,a,Y,Q,u,ae)}}Fc(n,y,C,I,z,J,d,f);return;case"select":Q=y=C=Y=null;for(d in s)if(I=s[d],s.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Q=I;default:u.hasOwnProperty(d)||ut(n,a,d,null,u,I)}for(f in u)if(d=u[f],I=s[f],u.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":Y=d;break;case"defaultValue":C=d;break;case"multiple":y=d;default:d!==I&&ut(n,a,f,d,u,I)}a=C,s=y,u=Q,Y!=null?gr(n,!!s,Y,!1):!!u!=!!s&&(a!=null?gr(n,!!s,a,!0):gr(n,!!s,s?[]:"",!1));return;case"textarea":Q=Y=null;for(C in s)if(f=s[C],s.hasOwnProperty(C)&&f!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ut(n,a,C,null,u,f)}for(y in u)if(f=u[y],d=s[y],u.hasOwnProperty(y)&&(f!=null||d!=null))switch(y){case"value":Y=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&ut(n,a,y,f,u,d)}km(n,Y,Q);return;case"option":for(var be in s)if(Y=s[be],s.hasOwnProperty(be)&&Y!=null&&!u.hasOwnProperty(be))switch(be){case"selected":n.selected=!1;break;default:ut(n,a,be,null,u,Y)}for(I in u)if(Y=u[I],Q=s[I],u.hasOwnProperty(I)&&Y!==Q&&(Y!=null||Q!=null))switch(I){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:ut(n,a,I,Y,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in s)Y=s[De],s.hasOwnProperty(De)&&Y!=null&&!u.hasOwnProperty(De)&&ut(n,a,De,null,u,Y);for(z in u)if(Y=u[z],Q=s[z],u.hasOwnProperty(z)&&Y!==Q&&(Y!=null||Q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,a));break;default:ut(n,a,z,Y,u,Q)}return;default:if(jc(a)){for(var ot in s)Y=s[ot],s.hasOwnProperty(ot)&&Y!==void 0&&!u.hasOwnProperty(ot)&&Od(n,a,ot,void 0,u,Y);for(J in u)Y=u[J],Q=s[J],!u.hasOwnProperty(J)||Y===Q||Y===void 0&&Q===void 0||Od(n,a,J,Y,u,Q);return}}for(var B in s)Y=s[B],s.hasOwnProperty(B)&&Y!=null&&!u.hasOwnProperty(B)&&ut(n,a,B,null,u,Y);for(ae in u)Y=u[ae],Q=s[ae],!u.hasOwnProperty(ae)||Y===Q||Y==null&&Q==null||ut(n,a,ae,Y,u,Q)}function P1(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function j3(){if(typeof performance.getEntriesByType=="function"){for(var n=0,a=0,s=performance.getEntriesByType("resource"),u=0;u<s.length;u++){var f=s[u],d=f.transferSize,y=f.initiatorType,C=f.duration;if(d&&C&&P1(y)){for(y=0,C=f.responseEnd,u+=1;u<s.length;u++){var I=s[u],z=I.startTime;if(z>C)break;var J=I.transferSize,ae=I.initiatorType;J&&P1(ae)&&(I=I.responseEnd,y+=J*(I<C?1:(C-z)/(I-z)))}if(--u,a+=8*(d+y)/(f.duration/1e3),n++,10<n)break}}if(0<n)return a/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Dd=null,Id=null;function yo(n){return n.nodeType===9?n:n.ownerDocument}function U1(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H1(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function Ld(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var kd=null;function Y3(){var n=window.event;return n&&n.type==="popstate"?n===kd?!1:(kd=n,!0):(kd=null,!1)}var F1=typeof setTimeout=="function"?setTimeout:void 0,q3=typeof clearTimeout=="function"?clearTimeout:void 0,z1=typeof Promise=="function"?Promise:void 0,V3=typeof queueMicrotask=="function"?queueMicrotask:typeof z1<"u"?function(n){return z1.resolve(null).then(n).catch(G3)}:F1;function G3(n){setTimeout(function(){throw n})}function da(n){return n==="head"}function j1(n,a){var s=a,u=0;do{var f=s.nextSibling;if(n.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(u===0){n.removeChild(f),Qr(a);return}u--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")u++;else if(s==="html")ul(n.ownerDocument.documentElement);else if(s==="head"){s=n.ownerDocument.head,ul(s);for(var d=s.firstChild;d;){var y=d.nextSibling,C=d.nodeName;d[xs]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=y}}else s==="body"&&ul(n.ownerDocument.body);s=f}while(s);Qr(a)}function Y1(n,a){var s=n;n=0;do{var u=s.nextSibling;if(s.nodeType===1?a?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(a?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(n===0)break;n--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||n++;s=u}while(s)}function wd(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":wd(s),Uc(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function X3(n,a,s,u){for(;n.nodeType===1;){var f=s;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[xs])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Gn(n.nextSibling),n===null)break}return null}function Q3(n,a,s){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Gn(n.nextSibling),n===null))return null;return n}function q1(n,a){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Gn(n.nextSibling),n===null))return null;return n}function Md(n){return n.data==="$?"||n.data==="$~"}function Bd(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function K3(n,a){var s=n.ownerDocument;if(n.data==="$~")n._reactRetry=a;else if(n.data!=="$?"||s.readyState!=="loading")a();else{var u=function(){a(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Gn(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return n}var Pd=null;function V1(n){n=n.nextSibling;for(var a=0;n;){if(n.nodeType===8){var s=n.data;if(s==="/$"||s==="/&"){if(a===0)return Gn(n.nextSibling);a--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||a++}n=n.nextSibling}return null}function G1(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(a===0)return n;a--}else s!=="/$"&&s!=="/&"||a++}n=n.previousSibling}return null}function X1(n,a,s){switch(a=yo(s),n){case"html":if(n=a.documentElement,!n)throw Error(r(452));return n;case"head":if(n=a.head,!n)throw Error(r(453));return n;case"body":if(n=a.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function ul(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);Uc(n)}var Xn=new Map,Q1=new Set;function To(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Bi=Z.d;Z.d={f:W3,r:$3,D:Z3,C:J3,L:eA,m:tA,X:iA,S:nA,M:aA};function W3(){var n=Bi.f(),a=co();return n||a}function $3(n){var a=hr(n);a!==null&&a.tag===5&&a.type==="form"?fg(a):Bi.r(n)}var Vr=typeof document>"u"?null:document;function K1(n,a,s){var u=Vr;if(u&&typeof a=="string"&&a){var f=Hn(a);f='link[rel="'+n+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Q1.has(f)||(Q1.add(f),n={rel:n,crossOrigin:s,href:a},u.querySelector(f)===null&&(a=u.createElement("link"),tn(a,"link",n),qt(a),u.head.appendChild(a)))}}function Z3(n){Bi.D(n),K1("dns-prefetch",n,null)}function J3(n,a){Bi.C(n,a),K1("preconnect",n,a)}function eA(n,a,s){Bi.L(n,a,s);var u=Vr;if(u&&n&&a){var f='link[rel="preload"][as="'+Hn(a)+'"]';a==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Hn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Hn(s.imageSizes)+'"]')):f+='[href="'+Hn(n)+'"]';var d=f;switch(a){case"style":d=Gr(n);break;case"script":d=Xr(n)}Xn.has(d)||(n=T({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:n,as:a},s),Xn.set(d,n),u.querySelector(f)!==null||a==="style"&&u.querySelector(ol(d))||a==="script"&&u.querySelector(cl(d))||(a=u.createElement("link"),tn(a,"link",n),qt(a),u.head.appendChild(a)))}}function tA(n,a){Bi.m(n,a);var s=Vr;if(s&&n){var u=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+Hn(u)+'"][href="'+Hn(n)+'"]',d=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Xr(n)}if(!Xn.has(d)&&(n=T({rel:"modulepreload",href:n},a),Xn.set(d,n),s.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(cl(d)))return}u=s.createElement("link"),tn(u,"link",n),qt(u),s.head.appendChild(u)}}}function nA(n,a,s){Bi.S(n,a,s);var u=Vr;if(u&&n){var f=mr(u).hoistableStyles,d=Gr(n);a=a||"default";var y=f.get(d);if(!y){var C={loading:0,preload:null};if(y=u.querySelector(ol(d)))C.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":a},s),(s=Xn.get(d))&&Ud(n,s);var I=y=u.createElement("link");qt(I),tn(I,"link",n),I._p=new Promise(function(z,J){I.onload=z,I.onerror=J}),I.addEventListener("load",function(){C.loading|=1}),I.addEventListener("error",function(){C.loading|=2}),C.loading|=4,bo(y,a,u)}y={type:"stylesheet",instance:y,count:1,state:C},f.set(d,y)}}}function iA(n,a){Bi.X(n,a);var s=Vr;if(s&&n){var u=mr(s).hoistableScripts,f=Xr(n),d=u.get(f);d||(d=s.querySelector(cl(f)),d||(n=T({src:n,async:!0},a),(a=Xn.get(f))&&Hd(n,a),d=s.createElement("script"),qt(d),tn(d,"link",n),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function aA(n,a){Bi.M(n,a);var s=Vr;if(s&&n){var u=mr(s).hoistableScripts,f=Xr(n),d=u.get(f);d||(d=s.querySelector(cl(f)),d||(n=T({src:n,async:!0,type:"module"},a),(a=Xn.get(f))&&Hd(n,a),d=s.createElement("script"),qt(d),tn(d,"link",n),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function W1(n,a,s,u){var f=(f=x.current)?To(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=Gr(s.href),s=mr(f).hoistableStyles,u=s.get(a),u||(u={type:"style",instance:null,count:0,state:null},s.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=Gr(s.href);var d=mr(f).hoistableStyles,y=d.get(n);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,y),(d=f.querySelector(ol(n)))&&!d._p&&(y.instance=d,y.state.loading=5),Xn.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Xn.set(n,s),d||rA(f,n,s,y.state))),a&&u===null)throw Error(r(528,""));return y}if(a&&u!==null)throw Error(r(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Xr(s),s=mr(f).hoistableScripts,u=s.get(a),u||(u={type:"script",instance:null,count:0,state:null},s.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Gr(n){return'href="'+Hn(n)+'"'}function ol(n){return'link[rel="stylesheet"]['+n+"]"}function $1(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function rA(n,a,s,u){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=n.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),tn(a,"link",s),qt(a),n.head.appendChild(a))}function Xr(n){return'[src="'+Hn(n)+'"]'}function cl(n){return"script[async]"+n}function Z1(n,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var u=n.querySelector('style[data-href~="'+Hn(s.href)+'"]');if(u)return a.instance=u,qt(u),u;var f=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),qt(u),tn(u,"style",f),bo(u,s.precedence,n),a.instance=u;case"stylesheet":f=Gr(s.href);var d=n.querySelector(ol(f));if(d)return a.state.loading|=4,a.instance=d,qt(d),d;u=$1(s),(f=Xn.get(f))&&Ud(u,f),d=(n.ownerDocument||n).createElement("link"),qt(d);var y=d;return y._p=new Promise(function(C,I){y.onload=C,y.onerror=I}),tn(d,"link",u),a.state.loading|=4,bo(d,s.precedence,n),a.instance=d;case"script":return d=Xr(s.src),(f=n.querySelector(cl(d)))?(a.instance=f,qt(f),f):(u=s,(f=Xn.get(d))&&(u=T({},s),Hd(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),qt(f),tn(f,"link",u),n.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,bo(u,s.precedence,n));return a.instance}function bo(n,a,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,d=f,y=0;y<u.length;y++){var C=u[y];if(C.dataset.precedence===a)d=C;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(n,a.firstChild))}function Ud(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function Hd(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var So=null;function J1(n,a,s){if(So===null){var u=new Map,f=So=new Map;f.set(s,u)}else f=So,u=f.get(s),u||(u=new Map,f.set(s,u));if(u.has(n))return u;for(u.set(n,null),s=s.getElementsByTagName(n),f=0;f<s.length;f++){var d=s[f];if(!(d[xs]||d[$t]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(a)||"";y=n+y;var C=u.get(y);C?C.push(d):u.set(y,[d])}}return u}function eE(n,a,s){n=n.ownerDocument||n,n.head.insertBefore(s,a==="title"?n.querySelector("head > title"):null)}function sA(n,a,s){if(s===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function tE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function lA(n,a,s,u){if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Gr(u.href),d=a.querySelector(ol(f));if(d){a=d._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(n.count++,n=Co.bind(n),a.then(n,n)),s.state.loading|=4,s.instance=d,qt(d);return}d=a.ownerDocument||a,u=$1(u),(f=Xn.get(f))&&Ud(u,f),d=d.createElement("link"),qt(d);var y=d;y._p=new Promise(function(C,I){y.onload=C,y.onerror=I}),tn(d,"link",u),s.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(n.count++,s=Co.bind(n),a.addEventListener("load",s),a.addEventListener("error",s))}}var Fd=0;function uA(n,a){return n.stylesheets&&n.count===0&&vo(n,n.stylesheets),0<n.count||0<n.imgCount?function(s){var u=setTimeout(function(){if(n.stylesheets&&vo(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+a);0<n.imgBytes&&Fd===0&&(Fd=62500*j3());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&vo(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>Fd?50:800)+a);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Co(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vo(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Ao=null;function vo(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Ao=new Map,a.forEach(oA,n),Ao=null,Co.call(n))}function oA(n,a){if(!(a.state.loading&4)){var s=Ao.get(n);if(s)var u=s.get(null);else{s=new Map,Ao.set(n,s);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var y=f[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),u=y)}u&&s.set(null,u)}f=a.instance,y=f.getAttribute("data-precedence"),d=s.get(y)||u,d===u&&s.set(null,f),s.set(y,f),this.count++,u=Co.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),a.state.loading|=4}}var fl={$$typeof:j,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function cA(n,a,s,u,f,d,y,C,I){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wc(0),this.hiddenUpdates=wc(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function nE(n,a,s,u,f,d,y,C,I,z,J,ae){return n=new cA(n,a,s,y,I,z,J,ae,C),a=1,d===!0&&(a|=24),d=On(3,null,null,a),n.current=d,d.stateNode=n,a=yf(),a.refCount++,n.pooledCache=a,a.refCount++,d.memoizedState={element:u,isDehydrated:s,cache:a},Cf(d),n}function iE(n){return n?(n=Ar,n):Ar}function aE(n,a,s,u,f,d){f=iE(f),u.context===null?u.context=f:u.pendingContext=f,u=ta(a),u.payload={element:s},d=d===void 0?null:d,d!==null&&(u.callback=d),s=na(n,u,a),s!==null&&(_n(s,n,a),Ys(s,n,a))}function rE(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<a?s:a}}function zd(n,a){rE(n,a),(n=n.alternate)&&rE(n,a)}function sE(n){if(n.tag===13||n.tag===31){var a=Ba(n,67108864);a!==null&&_n(a,n,67108864),zd(n,67108864)}}function lE(n){if(n.tag===13||n.tag===31){var a=wn();a=Mc(a);var s=Ba(n,a);s!==null&&_n(s,n,a),zd(n,a)}}var xo=!0;function fA(n,a,s,u){var f=P.T;P.T=null;var d=Z.p;try{Z.p=2,jd(n,a,s,u)}finally{Z.p=d,P.T=f}}function dA(n,a,s,u){var f=P.T;P.T=null;var d=Z.p;try{Z.p=8,jd(n,a,s,u)}finally{Z.p=d,P.T=f}}function jd(n,a,s,u){if(xo){var f=Yd(u);if(f===null)Rd(n,a,u,No,s),oE(n,u);else if(mA(f,n,a,s,u))u.stopPropagation();else if(oE(n,u),a&4&&-1<hA.indexOf(n)){for(;f!==null;){var d=hr(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=Ia(d.pendingLanes);if(y!==0){var C=d;for(C.pendingLanes|=2,C.entangledLanes|=2;y;){var I=1<<31-ct(y);C.entanglements[1]|=I,y&=~I}ci(d),(et&6)===0&&(uo=ht()+500,rl(0))}}break;case 31:case 13:C=Ba(d,2),C!==null&&_n(C,d,2),co(),zd(d,2)}if(d=Yd(u),d===null&&Rd(n,a,u,No,s),d===f)break;f=d}f!==null&&u.stopPropagation()}else Rd(n,a,u,null,s)}}function Yd(n){return n=qc(n),qd(n)}var No=null;function qd(n){if(No=null,n=dr(n),n!==null){var a=o(n);if(a===null)n=null;else{var s=a.tag;if(s===13){if(n=c(a),n!==null)return n;n=null}else if(s===31){if(n=h(a),n!==null)return n;n=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return No=n,null}function uE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mt()){case ee:return 2;case me:return 8;case Ie:case Ve:return 32;case at:return 268435456;default:return 32}default:return 32}}var Vd=!1,ha=null,ma=null,pa=null,dl=new Map,hl=new Map,ga=[],hA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oE(n,a){switch(n){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":dl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(a.pointerId)}}function ml(n,a,s,u,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:a,domEventName:s,eventSystemFlags:u,nativeEvent:d,targetContainers:[f]},a!==null&&(a=hr(a),a!==null&&sE(a)),n):(n.eventSystemFlags|=u,a=n.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),n)}function mA(n,a,s,u,f){switch(a){case"focusin":return ha=ml(ha,n,a,s,u,f),!0;case"dragenter":return ma=ml(ma,n,a,s,u,f),!0;case"mouseover":return pa=ml(pa,n,a,s,u,f),!0;case"pointerover":var d=f.pointerId;return dl.set(d,ml(dl.get(d)||null,n,a,s,u,f)),!0;case"gotpointercapture":return d=f.pointerId,hl.set(d,ml(hl.get(d)||null,n,a,s,u,f)),!0}return!1}function cE(n){var a=dr(n.target);if(a!==null){var s=o(a);if(s!==null){if(a=s.tag,a===13){if(a=c(s),a!==null){n.blockedOn=a,Am(n.priority,function(){lE(s)});return}}else if(a===31){if(a=h(s),a!==null){n.blockedOn=a,Am(n.priority,function(){lE(s)});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ro(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var s=Yd(n.nativeEvent);if(s===null){s=n.nativeEvent;var u=new s.constructor(s.type,s);Yc=u,s.target.dispatchEvent(u),Yc=null}else return a=hr(s),a!==null&&sE(a),n.blockedOn=s,!1;a.shift()}return!0}function fE(n,a,s){Ro(n)&&s.delete(a)}function pA(){Vd=!1,ha!==null&&Ro(ha)&&(ha=null),ma!==null&&Ro(ma)&&(ma=null),pa!==null&&Ro(pa)&&(pa=null),dl.forEach(fE),hl.forEach(fE)}function Oo(n,a){n.blockedOn===a&&(n.blockedOn=null,Vd||(Vd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,pA)))}var Do=null;function dE(n){Do!==n&&(Do=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Do===n&&(Do=null);for(var a=0;a<n.length;a+=3){var s=n[a],u=n[a+1],f=n[a+2];if(typeof u!="function"){if(qd(u||s)===null)continue;break}var d=hr(s);d!==null&&(n.splice(a,3),a-=3,Yf(d,{pending:!0,data:f,method:s.method,action:u},u,f))}}))}function Qr(n){function a(I){return Oo(I,n)}ha!==null&&Oo(ha,n),ma!==null&&Oo(ma,n),pa!==null&&Oo(pa,n),dl.forEach(a),hl.forEach(a);for(var s=0;s<ga.length;s++){var u=ga[s];u.blockedOn===n&&(u.blockedOn=null)}for(;0<ga.length&&(s=ga[0],s.blockedOn===null);)cE(s),s.blockedOn===null&&ga.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var f=s[u],d=s[u+1],y=f[dn]||null;if(typeof d=="function")y||dE(s);else if(y){var C=null;if(d&&d.hasAttribute("formAction")){if(f=d,y=d[dn]||null)C=y.formAction;else if(qd(f)!==null)continue}else C=y.action;typeof C=="function"?s[u+1]=C:(s.splice(u,3),u-=3),dE(s)}}}function hE(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return f=y})},focusReset:"manual",scroll:"manual"})}function a(){f!==null&&(f(),f=null),u||setTimeout(s,20)}function s(){if(!u&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(s,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),f!==null&&(f(),f=null)}}}function Gd(n){this._internalRoot=n}Io.prototype.render=Gd.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(r(409));var s=a.current,u=wn();aE(s,u,n,a,null,null)},Io.prototype.unmount=Gd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;aE(n.current,2,null,n,null,null),co(),a[fr]=null}};function Io(n){this._internalRoot=n}Io.prototype.unstable_scheduleHydration=function(n){if(n){var a=Cm();n={blockedOn:null,target:n,priority:a};for(var s=0;s<ga.length&&a!==0&&a<ga[s].priority;s++);ga.splice(s,0,n),s===0&&cE(n)}};var mE=t.version;if(mE!=="19.2.0")throw Error(r(527,mE,"19.2.0"));Z.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=g(a),n=n!==null?E(n):null,n=n===null?null:n.stateNode,n};var gA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lo.isDisabled&&Lo.supportsFiber)try{on=Lo.inject(gA),Ft=Lo}catch{}}return gl.createRoot=function(n,a){if(!l(n))throw Error(r(299));var s=!1,u="",f=bg,d=Sg,y=Cg;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=nE(n,1,!1,null,null,s,u,null,f,d,y,hE),n[fr]=a.current,Nd(n),new Gd(a)},gl.hydrateRoot=function(n,a,s){if(!l(n))throw Error(r(299));var u=!1,f="",d=bg,y=Sg,C=Cg,I=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),a=nE(n,1,!0,a,s??null,u,f,I,d,y,C,hE),a.context=iE(null),s=a.current,u=wn(),u=Mc(u),f=ta(u),f.callback=null,na(s,f,u),s=u,a.current.lanes=s,vs(a,s),ci(a),n[fr]=a.current,Nd(n),new Io(a)},gl.version="19.2.0",gl}var AE;function NA(){if(AE)return Kd.exports;AE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Kd.exports=xA(),Kd.exports}var RA=NA();const OA=mc(RA),jt=({children:e,onClick:t,type:i="default",style:r,as:l="button"})=>{const o={padding:"8px 14px",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",background:"#777a7cff",color:"white",display:"inline-block"},c={...o,background:"#d9534f"},h=i==="danger"?c:o,p=l;return _.jsx(p,{style:{...h,...r},onClick:t,children:e})},DA=()=>{};var vE={};const Ly={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const pe=function(e,t){if(!e)throw hs(t)},hs=function(e){return new Error("Firebase Database ("+Ly.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};const ky=function(e){const t=[];let i=0;for(let r=0;r<e.length;r++){let l=e.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(e.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},IA=function(e){const t=[];let i=0,r=0;for(;i<e.length;){const l=e[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const o=e[i++];t[r++]=String.fromCharCode((l&31)<<6|o&63)}else if(l>239&&l<365){const o=e[i++],c=e[i++],h=e[i++],p=((l&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const o=e[i++],c=e[i++];t[r++]=String.fromCharCode((l&15)<<12|(o&63)<<6|c&63)}}return t.join("")},f0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<e.length;l+=3){const o=e[l],c=l+1<e.length,h=c?e[l+1]:0,p=l+2<e.length,g=p?e[l+2]:0,E=o>>2,T=(o&3)<<4|h>>4;let b=(h&15)<<2|g>>6,S=g&63;p||(S=64,c||(b=64)),r.push(i[E],i[T],i[b],i[S])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ky(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):IA(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<e.length;){const o=i[e.charAt(l++)],h=l<e.length?i[e.charAt(l)]:0;++l;const g=l<e.length?i[e.charAt(l)]:64;++l;const T=l<e.length?i[e.charAt(l)]:64;if(++l,o==null||h==null||g==null||T==null)throw new LA;const b=o<<2|h>>4;if(r.push(b),g!==64){const S=h<<4&240|g>>2;if(r.push(S),T!==64){const w=g<<6&192|T;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class LA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wy=function(e){const t=ky(e);return f0.encodeByteArray(t,!0)},Go=function(e){return wy(e).replace(/\./g,"")},Nh=function(e){try{return f0.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function kA(e){return My(void 0,e)}function My(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!wA(i)||(e[i]=My(e[i],t[i]));return e}function wA(e){return e!=="__proto__"}function MA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const BA=()=>MA().__FIREBASE_DEFAULTS__,PA=()=>{if(typeof process>"u"||typeof vE>"u")return;const e=vE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},UA=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Nh(e[1]);return t&&JSON.parse(t)},By=()=>{try{return DA()||BA()||PA()||UA()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},HA=e=>By()?.emulatorHosts?.[e],FA=e=>{const t=HA(e);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},Py=()=>By()?.config;class pc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function d0(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zA(e){return(await fetch(e,{credentials:"include"})).ok}function jA(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Go(JSON.stringify(i)),Go(JSON.stringify(c)),""].join(".")}const Dl={};function YA(){const e={prod:[],emulator:[]};for(const t of Object.keys(Dl))Dl[t]?e.emulator.push(t):e.prod.push(t);return e}function qA(e){let t=document.getElementById(e),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),i=!0),{created:i,element:t}}let xE=!1;function VA(e,t){if(typeof window>"u"||typeof document>"u"||!d0(window.location.host)||Dl[e]===t||Dl[e]||xE)return;Dl[e]=t;function i(b){return`__firebase__banner__${b}`}const r="__firebase__banner",o=YA().prod.length>0;function c(){const b=document.getElementById(r);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,S){b.setAttribute("width","24"),b.setAttribute("id",S),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{xE=!0,c()},b}function E(b,S){b.setAttribute("id",S),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=qA(r),S=i("text"),w=document.getElementById(S)||document.createElement("span"),X=i("learnmore"),$=document.getElementById(X)||document.createElement("a"),G=i("preprendIcon"),de=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const j=b.element;h(j),E($,X);const ye=g();p(de,G),j.append(de,w,$,ye),document.body.appendChild(j)}o?(w.innerText="Preview backend disconnected.",de.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(de.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function GA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(GA())}function XA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QA(){return Ly.NODE_ADMIN===!0}function KA(){try{return typeof indexedDB=="object"}catch{return!1}}function WA(){return new Promise((e,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),e(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const $A="FirebaseError";class au extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=$A,Object.setPrototypeOf(this,au.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hy.prototype.create)}}class Hy{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,o=this.errors[t],c=o?ZA(o,r):"Error",h=`${this.serviceName}: ${c} (${l}).`;return new au(l,h,r)}}function ZA(e,t){return e.replace(JA,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const JA=/\{\$([^}]+)}/g;function ql(e){return JSON.parse(e)}function Kt(e){return JSON.stringify(e)}const Fy=function(e){let t={},i={},r={},l="";try{const o=e.split(".");t=ql(Nh(o[0])||""),i=ql(Nh(o[1])||""),l=o[2],r=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:r,signature:l}},ev=function(e){const t=Fy(e),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},tv=function(e){const t=Fy(e).claims;return typeof t=="object"&&t.admin===!0};function qi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ls(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function NE(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Xo(e,t,i){const r={};for(const l in e)Object.prototype.hasOwnProperty.call(e,l)&&(r[l]=t.call(i,e[l],l,e));return r}function Qo(e,t){if(e===t)return!0;const i=Object.keys(e),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const o=e[l],c=t[l];if(RE(o)&&RE(c)){if(!Qo(o,c))return!1}else if(o!==c)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function RE(e){return e!==null&&typeof e=="object"}function nv(e){const t=[];for(const[i,r]of Object.entries(e))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}class iv{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const r=this.W_;if(typeof t=="string")for(let T=0;T<16;T++)r[T]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let T=0;T<16;T++)r[T]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let T=16;T<80;T++){const b=r[T-3]^r[T-8]^r[T-14]^r[T-16];r[T]=(b<<1|b>>>31)&4294967295}let l=this.chain_[0],o=this.chain_[1],c=this.chain_[2],h=this.chain_[3],p=this.chain_[4],g,E;for(let T=0;T<80;T++){T<40?T<20?(g=h^o&(c^h),E=1518500249):(g=o^c^h,E=1859775393):T<60?(g=o&c|h&(o|c),E=2400959708):(g=o^c^h,E=3395469782);const b=(l<<5|l>>>27)+g+p+E+r[T]&4294967295;p=h,h=c,c=(o<<30|o>>>2)&4294967295,o=l,l=b}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const r=i-this.blockSize;let l=0;const o=this.buf_;let c=this.inbuf_;for(;l<i;){if(c===0)for(;l<=r;)this.compress_(t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<i;)if(o[c]=t.charCodeAt(l),++c,++l,c===this.blockSize){this.compress_(o),c=0;break}}else for(;l<i;)if(o[c]=t[l],++c,++l,c===this.blockSize){this.compress_(o),c=0;break}}this.inbuf_=c,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let l=0;l<5;l++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[l]>>o&255,++r;return t}}function h0(e,t){return`${e} failed: ${t} argument `}const av=function(e){const t=[];let i=0;for(let r=0;r<e.length;r++){let l=e.charCodeAt(r);if(l>=55296&&l<=56319){const o=l-55296;r++,pe(r<e.length,"Surrogate pair missing trail surrogate.");const c=e.charCodeAt(r)-56320;l=65536+(o<<10)+c}l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):l<65536?(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},gc=function(e){let t=0;for(let i=0;i<e.length;i++){const r=e.charCodeAt(i);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,i++):t+=3}return t};function ru(e){return e&&e._delegate?e._delegate:e}class Vl{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ka="[DEFAULT]";class rv{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new pc;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(lv(t))try{this.getOrInitializeService({instanceIdentifier:Ka})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const o=this.getOrInitializeService({instanceIdentifier:l});r.resolve(o)}catch{}}}}clearInstance(t=Ka){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ka){return this.instances.has(t)}getOptions(t=Ka){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&c.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const o=this.instances.get(r);return o&&t(o,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sv(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ka){return this.component?this.component.multipleInstances?t:Ka:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sv(e){return e===Ka?void 0:e}function lv(e){return e.instantiationMode==="EAGER"}class uv{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new rv(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Et;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Et||(Et={}));const ov={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},cv=Et.INFO,fv={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},dv=(e,t,...i)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),l=fv[t];if(l)console[l](`[${r}]  ${e.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class zy{constructor(t){this.name=t,this._logLevel=cv,this._logHandler=dv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Et))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ov[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...t),this._logHandler(this,Et.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...t),this._logHandler(this,Et.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...t),this._logHandler(this,Et.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...t),this._logHandler(this,Et.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...t),this._logHandler(this,Et.ERROR,...t)}}const hv=(e,t)=>t.some(i=>e instanceof i);let OE,DE;function mv(){return OE||(OE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pv(){return DE||(DE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jy=new WeakMap,Rh=new WeakMap,Yy=new WeakMap,Jd=new WeakMap,m0=new WeakMap;function gv(e){const t=new Promise((i,r)=>{const l=()=>{e.removeEventListener("success",o),e.removeEventListener("error",c)},o=()=>{i(Sa(e.result)),l()},c=()=>{r(e.error),l()};e.addEventListener("success",o),e.addEventListener("error",c)});return t.then(i=>{i instanceof IDBCursor&&jy.set(i,e)}).catch(()=>{}),m0.set(t,e),t}function Ev(e){if(Rh.has(e))return;const t=new Promise((i,r)=>{const l=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",c),e.removeEventListener("abort",c)},o=()=>{i(),l()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),l()};e.addEventListener("complete",o),e.addEventListener("error",c),e.addEventListener("abort",c)});Rh.set(e,t)}let Oh={get(e,t,i){if(e instanceof IDBTransaction){if(t==="done")return Rh.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Yy.get(e);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Sa(e[t])},set(e,t,i){return e[t]=i,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function _v(e){Oh=e(Oh)}function yv(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=e.call(eh(this),t,...i);return Yy.set(r,t.sort?t.sort():[t]),Sa(r)}:pv().includes(e)?function(...t){return e.apply(eh(this),t),Sa(jy.get(this))}:function(...t){return Sa(e.apply(eh(this),t))}}function Tv(e){return typeof e=="function"?yv(e):(e instanceof IDBTransaction&&Ev(e),hv(e,mv())?new Proxy(e,Oh):e)}function Sa(e){if(e instanceof IDBRequest)return gv(e);if(Jd.has(e))return Jd.get(e);const t=Tv(e);return t!==e&&(Jd.set(e,t),m0.set(t,e)),t}const eh=e=>m0.get(e);function bv(e,t,{blocked:i,upgrade:r,blocking:l,terminated:o}={}){const c=indexedDB.open(e,t),h=Sa(c);return r&&c.addEventListener("upgradeneeded",p=>{r(Sa(c.result),p.oldVersion,p.newVersion,Sa(c.transaction),p)}),i&&c.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),h.then(p=>{o&&p.addEventListener("close",()=>o()),l&&p.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const Sv=["get","getKey","getAll","getAllKeys","count"],Cv=["put","add","delete","clear"],th=new Map;function IE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(th.get(t))return th.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=Cv.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||Sv.includes(i)))return;const o=async function(c,...h){const p=this.transaction(c,l?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(h.shift())),(await Promise.all([g[i](...h),l&&p.done]))[0]};return th.set(t,o),o}_v(e=>({...e,get:(t,i,r)=>IE(t,i)||e.get(t,i,r),has:(t,i)=>!!IE(t,i)||e.has(t,i)}));class Av{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(vv(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function vv(e){return e.getComponent()?.type==="VERSION"}const Dh="@firebase/app",LE="0.14.6";const zi=new zy("@firebase/app"),xv="@firebase/app-compat",Nv="@firebase/analytics-compat",Rv="@firebase/analytics",Ov="@firebase/app-check-compat",Dv="@firebase/app-check",Iv="@firebase/auth",Lv="@firebase/auth-compat",kv="@firebase/database",wv="@firebase/data-connect",Mv="@firebase/database-compat",Bv="@firebase/functions",Pv="@firebase/functions-compat",Uv="@firebase/installations",Hv="@firebase/installations-compat",Fv="@firebase/messaging",zv="@firebase/messaging-compat",jv="@firebase/performance",Yv="@firebase/performance-compat",qv="@firebase/remote-config",Vv="@firebase/remote-config-compat",Gv="@firebase/storage",Xv="@firebase/storage-compat",Qv="@firebase/firestore",Kv="@firebase/ai",Wv="@firebase/firestore-compat",$v="firebase",Zv="12.6.0";const Ih="[DEFAULT]",Jv={[Dh]:"fire-core",[xv]:"fire-core-compat",[Rv]:"fire-analytics",[Nv]:"fire-analytics-compat",[Dv]:"fire-app-check",[Ov]:"fire-app-check-compat",[Iv]:"fire-auth",[Lv]:"fire-auth-compat",[kv]:"fire-rtdb",[wv]:"fire-data-connect",[Mv]:"fire-rtdb-compat",[Bv]:"fire-fn",[Pv]:"fire-fn-compat",[Uv]:"fire-iid",[Hv]:"fire-iid-compat",[Fv]:"fire-fcm",[zv]:"fire-fcm-compat",[jv]:"fire-perf",[Yv]:"fire-perf-compat",[qv]:"fire-rc",[Vv]:"fire-rc-compat",[Gv]:"fire-gcs",[Xv]:"fire-gcs-compat",[Qv]:"fire-fst",[Wv]:"fire-fst-compat",[Kv]:"fire-vertex","fire-js":"fire-js",[$v]:"fire-js-all"};const Gl=new Map,ex=new Map,Lh=new Map;function kE(e,t){try{e.container.addComponent(t)}catch(i){zi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,i)}}function Ko(e){const t=e.name;if(Lh.has(t))return zi.debug(`There were multiple attempts to register component ${t}.`),!1;Lh.set(t,e);for(const i of Gl.values())kE(i,e);for(const i of ex.values())kE(i,e);return!0}function tx(e,t){const i=e.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),e.container.getProvider(t)}function nx(e){return e==null?!1:e.settings!==void 0}const ix={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ca=new Hy("app","Firebase",ix);class ax{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ca.create("app-deleted",{appName:this._name})}}const rx=Zv;function qy(e,t={}){let i=e;typeof t!="object"&&(t={name:t});const r={name:Ih,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Ca.create("bad-app-name",{appName:String(l)});if(i||(i=Py()),!i)throw Ca.create("no-options");const o=Gl.get(l);if(o){if(Qo(i,o.options)&&Qo(r,o.config))return o;throw Ca.create("duplicate-app",{appName:l})}const c=new uv(l);for(const p of Lh.values())c.addComponent(p);const h=new ax(i,r,c);return Gl.set(l,h),h}function Vy(e=Ih){const t=Gl.get(e);if(!t&&e===Ih&&Py())return qy();if(!t)throw Ca.create("no-app",{appName:e});return t}function sx(){return Array.from(Gl.values())}function es(e,t,i){let r=Jv[e]??e;i&&(r+=`-${i}`);const l=r.match(/\s|\//),o=t.match(/\s|\//);if(l||o){const c=[`Unable to register library "${r}" with version "${t}":`];l&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zi.warn(c.join(" "));return}Ko(new Vl(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const lx="firebase-heartbeat-database",ux=1,Xl="firebase-heartbeat-store";let nh=null;function Gy(){return nh||(nh=bv(lx,ux,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Xl)}catch(i){console.warn(i)}}}}).catch(e=>{throw Ca.create("idb-open",{originalErrorMessage:e.message})})),nh}async function ox(e){try{const i=(await Gy()).transaction(Xl),r=await i.objectStore(Xl).get(Xy(e));return await i.done,r}catch(t){if(t instanceof au)zi.warn(t.message);else{const i=Ca.create("idb-get",{originalErrorMessage:t?.message});zi.warn(i.message)}}}async function wE(e,t){try{const r=(await Gy()).transaction(Xl,"readwrite");await r.objectStore(Xl).put(t,Xy(e)),await r.done}catch(i){if(i instanceof au)zi.warn(i.message);else{const r=Ca.create("idb-set",{originalErrorMessage:i?.message});zi.warn(r.message)}}}function Xy(e){return`${e.name}!${e.options.appId}`}const cx=1024,fx=30;class dx{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new mx(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ME();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>fx){const l=px(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){zi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ME(),{heartbeatsToSend:i,unsentEntries:r}=hx(this._heartbeatsCache.heartbeats),l=Go(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return zi.warn(t),""}}}function ME(){return new Date().toISOString().substring(0,10)}function hx(e,t=cx){const i=[];let r=e.slice();for(const l of e){const o=i.find(c=>c.agent===l.agent);if(o){if(o.dates.push(l.date),BE(i)>t){o.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),BE(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class mx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KA()?WA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ox(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return wE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return wE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function BE(e){return Go(JSON.stringify({version:2,heartbeats:e})).length}function px(e){if(e.length===0)return-1;let t=0,i=e[0].date;for(let r=1;r<e.length;r++)e[r].date<i&&(i=e[r].date,t=r);return t}function gx(e){Ko(new Vl("platform-logger",t=>new Av(t),"PRIVATE")),Ko(new Vl("heartbeat",t=>new dx(t),"PRIVATE")),es(Dh,LE,e),es(Dh,LE,"esm2020"),es("fire-js","")}gx("");var Ex="firebase",_x="12.6.0";es(Ex,_x,"app");var PE={};const UE="@firebase/database",HE="1.1.0";let Qy="";function yx(e){Qy=e}class Tx{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Kt(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:ql(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class bx{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return qi(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Ky=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Tx(t)}}catch{}return new bx},$a=Ky("localStorage"),Sx=Ky("sessionStorage");const ts=new zy("@firebase/database"),Cx=(function(){let e=1;return function(){return e++}})(),Wy=function(e){const t=av(e),i=new iv;i.update(t);const r=i.digest();return f0.encodeByteArray(r)},su=function(...e){let t="";for(let i=0;i<e.length;i++){const r=e[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=su.apply(null,r):typeof r=="object"?t+=Kt(r):t+=r,t+=" "}return t};let Il=null,FE=!0;const Ax=function(e,t){pe(!0,"Can't turn on custom loggers persistently."),ts.logLevel=Et.VERBOSE,Il=ts.log.bind(ts)},sn=function(...e){if(FE===!0&&(FE=!1,Il===null&&Sx.get("logging_enabled")===!0&&Ax()),Il){const t=su.apply(null,e);Il(t)}},lu=function(e){return function(...t){sn(e,...t)}},kh=function(...e){const t="FIREBASE INTERNAL ERROR: "+su(...e);ts.error(t)},ji=function(...e){const t=`FIREBASE FATAL ERROR: ${su(...e)}`;throw ts.error(t),new Error(t)},Cn=function(...e){const t="FIREBASE WARNING: "+su(...e);ts.warn(t)},vx=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Cn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},$y=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},xx=function(e){if(document.readyState==="complete")e();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},us="[MIN_NAME]",tr="[MAX_NAME]",ms=function(e,t){if(e===t)return 0;if(e===us||t===tr)return-1;if(t===us||e===tr)return 1;{const i=zE(e),r=zE(t);return i!==null?r!==null?i-r===0?e.length-t.length:i-r:-1:r!==null?1:e<t?-1:1}},Nx=function(e,t){return e===t?0:e<t?-1:1},El=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Kt(t))},p0=function(e){if(typeof e!="object"||e===null)return Kt(e);const t=[];for(const r in e)t.push(r);t.sort();let i="{";for(let r=0;r<t.length;r++)r!==0&&(i+=","),i+=Kt(t[r]),i+=":",i+=p0(e[t[r]]);return i+="}",i},Zy=function(e,t){const i=e.length;if(i<=t)return[e];const r=[];for(let l=0;l<i;l+=t)l+t>i?r.push(e.substring(l,i)):r.push(e.substring(l,l+t));return r};function vn(e,t){for(const i in e)e.hasOwnProperty(i)&&t(i,e[i])}const Jy=function(e){pe(!$y(e),"Invalid JSON number");const t=11,i=52,r=(1<<t-1)-1;let l,o,c,h,p;e===0?(o=0,c=0,l=1/e===-1/0?1:0):(l=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=h+r,c=Math.round(e*Math.pow(2,i-h)-Math.pow(2,i))):(o=0,c=Math.round(e/Math.pow(2,1-r-i))));const g=[];for(p=i;p;p-=1)g.push(c%2?1:0),c=Math.floor(c/2);for(p=t;p;p-=1)g.push(o%2?1:0),o=Math.floor(o/2);g.push(l?1:0),g.reverse();const E=g.join("");let T="";for(p=0;p<64;p+=8){let b=parseInt(E.substr(p,8),2).toString(16);b.length===1&&(b="0"+b),T=T+b}return T.toLowerCase()},Rx=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Ox=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Dx(e,t){let i="Unknown Error";e==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?i="Client doesn't have permission to access the desired data.":e==="unavailable"&&(i="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+i);return r.code=e.toUpperCase(),r}const Ix=new RegExp("^-?(0*)\\d{1,10}$"),Lx=-2147483648,kx=2147483647,zE=function(e){if(Ix.test(e)){const t=Number(e);if(t>=Lx&&t<=kx)return t}return null},ps=function(e){try{e()}catch(t){setTimeout(()=>{const i=t.stack||"";throw Cn("Exception was thrown by user callback.",i),t},Math.floor(0))}},wx=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ll=function(e,t){const i=setTimeout(e,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};class Mx{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,nx(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,r):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Cn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Bx{constructor(t,i,r){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(sn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,r):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Cn(t)}}class jo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}jo.OWNER="owner";const g0="5",eT="v",tT="s",nT="r",iT="f",aT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,rT="ls",sT="p",wh="ac",lT="websocket",uT="long_polling";class oT{constructor(t,i,r,l,o=!1,c="",h=!1,p=!1,g=null){this.secure=i,this.namespace=r,this.webSocketOnly=l,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this.emulatorOptions=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$a.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&$a.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function Px(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function cT(e,t,i){pe(typeof t=="string","typeof type must == string"),pe(typeof i=="object","typeof params must == object");let r;if(t===lT)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===uT)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Px(e)&&(i.ns=e.namespace);const l=[];return vn(i,(o,c)=>{l.push(o+"="+c)}),r+l.join("&")}class Ux{constructor(){this.counters_={}}incrementCounter(t,i=1){qi(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return kA(this.counters_)}}const ih={},ah={};function E0(e){const t=e.toString();return ih[t]||(ih[t]=new Ux),ih[t]}function Hx(e,t){const i=e.toString();return ah[i]||(ah[i]=t()),ah[i]}class Fx{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<r.length;++l)r[l]&&ps(()=>{this.onMessage_(r[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const jE="start",zx="close",jx="pLPCommand",Yx="pRTLPCB",fT="id",dT="pw",hT="ser",qx="cb",Vx="seg",Gx="ts",Xx="d",Qx="dframe",mT=1870,pT=30,Kx=mT-pT,Wx=25e3,$x=3e4;class Zr{constructor(t,i,r,l,o,c,h){this.connId=t,this.repoInfo=i,this.applicationId=r,this.appCheckToken=l,this.authToken=o,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=lu(t),this.stats_=E0(i),this.urlFn=p=>(this.appCheckToken&&(p[wh]=this.appCheckToken),cT(i,uT,p))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new Fx(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor($x)),xx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new _0((...o)=>{const[c,h,p,g,E]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===jE)this.id=h,this.password=p;else if(c===zx)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...o)=>{const[c,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[jE]="t",r[hT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[qx]=this.scriptTagHolder.uniqueCallbackIdentifier),r[eT]=g0,this.transportSessionId&&(r[tT]=this.transportSessionId),this.lastSessionId&&(r[rT]=this.lastSessionId),this.applicationId&&(r[sT]=this.applicationId),this.appCheckToken&&(r[wh]=this.appCheckToken),typeof location<"u"&&location.hostname&&aT.test(location.hostname)&&(r[nT]=iT);const l=this.urlFn(r);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Zr.forceAllow_=!0}static forceDisallow(){Zr.forceDisallow_=!0}static isAvailable(){return Zr.forceAllow_?!0:!Zr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Rx()&&!Ox()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=Kt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=wy(i),l=Zy(r,Kx);for(let o=0;o<l.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[o]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[Qx]="t",r[fT]=t,r[dT]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=Kt(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class _0{constructor(t,i,r,l){this.onDisconnect=r,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Cx(),window[jx+this.uniqueCallbackIdentifier]=t,window[Yx+this.uniqueCallbackIdentifier]=i,this.myIFrame=_0.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){sn("frame writing exception"),h.stack&&sn(h.stack),sn(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||sn("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[fT]=this.myID,t[dT]=this.myPW,t[hT]=this.currentSerial;let i=this.urlFn(t),r="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+pT+r.length<=mT;){const c=this.pendingSegs.shift();r=r+"&"+Vx+l+"="+c.seg+"&"+Gx+l+"="+c.ts+"&"+Xx+l+"="+c.d,l++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,r){this.pendingSegs.push({seg:t,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},l=setTimeout(r,Math.floor(Wx)),o=()=>{clearTimeout(l),r()};this.addTag(t,o)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const l=r.readyState;(!l||l==="loaded"||l==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{sn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}const Zx=16384,Jx=45e3;let Wo=null;typeof MozWebSocket<"u"?Wo=MozWebSocket:typeof WebSocket<"u"&&(Wo=WebSocket);class ni{constructor(t,i,r,l,o,c,h){this.connId=t,this.applicationId=r,this.appCheckToken=l,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=lu(this.connId),this.stats_=E0(i),this.connURL=ni.connectionURL_(i,c,h,l,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,l,o){const c={};return c[eT]=g0,typeof location<"u"&&location.hostname&&aT.test(location.hostname)&&(c[nT]=iT),i&&(c[tT]=i),r&&(c[rT]=r),l&&(c[wh]=l),o&&(c[sT]=o),cT(t,lT,c)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$a.set("previous_websocket_failure",!0);try{let r;QA(),this.mySock=new Wo(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const l=r.message||r.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const l=r.message||r.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){ni.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Wo!==null&&!ni.forceDisallow_}static previouslyFailed(){return $a.isInMemoryStorage||$a.get("previous_websocket_failure")===!0}markConnectionHealthy(){$a.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=ql(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(pe(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=Kt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Zy(i,Zx);r.length>1&&this.sendString_(String(r.length));for(let l=0;l<r.length;l++)this.sendString_(r[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Jx))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ni.responsesRequiredToBeHealthy=2;ni.healthyTimeout=3e4;class Ql{static get ALL_TRANSPORTS(){return[Zr,ni]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=ni&&ni.isAvailable();let r=i&&!ni.previouslyFailed();if(t.webSocketOnly&&(i||Cn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ni];else{const l=this.transports_=[];for(const o of Ql.ALL_TRANSPORTS)o&&o.isAvailable()&&l.push(o);Ql.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ql.globalTransportInitialized_=!1;const e6=6e4,t6=5e3,n6=10*1024,i6=100*1024,rh="t",YE="d",a6="s",qE="r",r6="e",VE="o",GE="a",XE="n",QE="p",s6="h";class l6{constructor(t,i,r,l,o,c,h,p,g,E){this.id=t,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=l,this.authToken_=o,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=lu("c:"+this.id+":"),this.transportManager_=new Ql(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=Ll(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>i6?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>n6?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(rh in t){const i=t[rh];i===GE?this.upgradeIfSecondaryHealthy_():i===qE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===VE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=El("t",t),r=El("d",t);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:QE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:GE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:XE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=El("t",t),r=El("d",t);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=El(rh,t);if(YE in t){const r=t[YE];if(i===s6){const l={...r};this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(i===XE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===a6?this.onConnectionShutdown_(r):i===qE?this.onReset_(r):i===r6?kh("Server Error: "+r):i===VE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):kh("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,r=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),g0!==r&&Cn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),Ll(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(e6))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ll(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(t6))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:QE,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($a.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class gT{put(t,i,r,l){}merge(t,i,r,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,r){}onDisconnectMerge(t,i,r){}onDisconnectCancel(t,i){}reportStats(t){}}class ET{constructor(t){this.allowedEvents_=t,this.listeners_={},pe(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let l=0;l<r.length;l++)r[l].callback.apply(r[l].context,i)}}on(t,i,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:r});const l=this.getInitialEvent(t);l&&i.apply(r,l)}off(t,i,r){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let o=0;o<l.length;o++)if(l[o].callback===i&&(!r||r===l[o].context)){l.splice(o,1);return}}validateEventType_(t){pe(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}class $o extends ET{static getInstance(){return new $o}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Uy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return pe(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const KE=32,WE=768;class dt{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let r=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[r]=this.pieces_[l],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function nt(){return new dt("")}function je(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Na(e){return e.pieces_.length-e.pieceNum_}function _t(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new dt(e.pieces_,t)}function _T(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function u6(e){let t="";for(let i=e.pieceNum_;i<e.pieces_.length;i++)e.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[i])));return t||"/"}function yT(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function TT(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let i=e.pieceNum_;i<e.pieces_.length-1;i++)t.push(e.pieces_[i]);return new dt(t,0)}function Yt(e,t){const i=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)i.push(e.pieces_[r]);if(t instanceof dt)for(let r=t.pieceNum_;r<t.pieces_.length;r++)i.push(t.pieces_[r]);else{const r=t.split("/");for(let l=0;l<r.length;l++)r[l].length>0&&i.push(r[l])}return new dt(i,0)}function Qe(e){return e.pieceNum_>=e.pieces_.length}function bn(e,t){const i=je(e),r=je(t);if(i===null)return t;if(i===r)return bn(_t(e),_t(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function y0(e,t){if(Na(e)!==Na(t))return!1;for(let i=e.pieceNum_,r=t.pieceNum_;i<=e.pieces_.length;i++,r++)if(e.pieces_[i]!==t.pieces_[r])return!1;return!0}function ii(e,t){let i=e.pieceNum_,r=t.pieceNum_;if(Na(e)>Na(t))return!1;for(;i<e.pieces_.length;){if(e.pieces_[i]!==t.pieces_[r])return!1;++i,++r}return!0}class o6{constructor(t,i){this.errorPrefix_=i,this.parts_=yT(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=gc(this.parts_[r]);bT(this)}}function c6(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=gc(t),bT(e)}function f6(e){const t=e.parts_.pop();e.byteLength_-=gc(t),e.parts_.length>0&&(e.byteLength_-=1)}function bT(e){if(e.byteLength_>WE)throw new Error(e.errorPrefix_+"has a key path longer than "+WE+" bytes ("+e.byteLength_+").");if(e.parts_.length>KE)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+KE+") or object contains a cycle "+Wa(e))}function Wa(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}class T0 extends ET{static getInstance(){return new T0}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return pe(t==="visible","Unknown event type: "+t),[this.visible_]}}const _l=1e3,d6=300*1e3,$E=30*1e3,h6=1.3,m6=3e4,p6="server_kill",ZE=3;class Fi extends gT{constructor(t,i,r,l,o,c,h,p){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=l,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=Fi.nextPersistentConnectionId_++,this.log_=lu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_l,this.maxReconnectDelay_=d6,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");T0.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&$o.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const l=++this.requestNumber_,o={r:l,a:t,b:i};this.log_(Kt(o)),pe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[l]=r)}get(t){this.initConnection_();const i=new pc,l={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?i.resolve(h):i.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),i.promise}listen(t,i,r,l){this.initConnection_();const o=t._queryIdentifier,c=t._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),pe(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),pe(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:i,query:t,tag:r};this.listens.get(c).set(o,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),l=i._queryIdentifier;this.log_("Listen on "+r+" for "+l);const o={p:r},c="q";t.tag&&(o.q=i._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest(c,o,h=>{const p=h.d,g=h.s;Fi.warnOnListenWarnings_(p,i),(this.listens.get(r)&&this.listens.get(r).get(l))===t&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(r,l),t.onComplete&&t.onComplete(g,p))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&qi(t,"w")){const r=ls(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const l='".indexOn": "'+i._queryParams.getIndex().toString()+'"',o=i._path.toString();Cn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||tv(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=$E)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=ev(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,l=>{const o=l.s,c=l.d||"error";this.authToken_===t&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),l=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+l),pe(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,l)&&this.connected_&&this.sendUnlisten_(r,l,t._queryObject,i)}sendUnlisten_(t,i,r,l){this.log_("Unlisten on "+t+" for "+i);const o={p:t},c="n";l&&(o.q=r,o.t=l),this.sendRequest(c,o)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,l){const o={p:i,d:r};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,c=>{l&&setTimeout(()=>{l(c.s,c.d)},Math.floor(0))})}put(t,i,r,l){this.putInternal("p",t,i,r,l)}merge(t,i,r,l){this.putInternal("m",t,i,r,l)}putInternal(t,i,r,l,o){this.initConnection_();const c={p:i,d:r};o!==void 0&&(c.h=o),this.outstandingPuts_.push({action:t,request:c,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,l=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,o=>{this.log_(i+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(o.s,o.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Kt(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):kh("Unrecognized action received from server: "+Kt(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){pe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_l,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=_l,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>m6&&(this.reconnectDelay_=_l),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*h6)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Fi.nextConnectionId_++,o=this.lastSessionId;let c=!1,h=null;const p=function(){h?h.close():(c=!0,r())},g=function(T){pe(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(T)};this.realtime_={close:p,sendRequest:g};const E=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[T,b]=await Promise.all([this.authTokenProvider_.getToken(E),this.appCheckTokenProvider_.getToken(E)]);c?sn("getToken() completed but was canceled"):(sn("getToken() completed. Creating connection."),this.authToken_=T&&T.accessToken,this.appCheckToken_=b&&b.token,h=new l6(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,r,S=>{Cn(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(p6)},o))}catch(T){this.log_("Failed to get token: "+T),c||(this.repoInfo_.nodeAdmin&&Cn(T),p())}}}interrupt(t){sn("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){sn("Resuming connection for reason: "+t),delete this.interruptReasons_[t],NE(this.interruptReasons_)&&(this.reconnectDelay_=_l,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;i?r=i.map(o=>p0(o)).join("$"):r="default";const l=this.removeListen_(t,r);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(t,i){const r=new dt(t).toString();let l;if(this.listens.has(r)){const o=this.listens.get(r);l=o.get(i),o.delete(i),o.size===0&&this.listens.delete(r)}else l=void 0;return l}onAuthRevoked_(t,i){sn("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ZE&&(this.reconnectDelay_=$E,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){sn("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ZE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+Qy.replace(/\./g,"-")]=1,Uy()?t["framework.cordova"]=1:XA()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=$o.getInstance().currentlyOnline();return NE(this.interruptReasons_)&&t}}Fi.nextPersistentConnectionId_=0;Fi.nextConnectionId_=0;class Ye{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new Ye(t,i)}}class Ec{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const r=new Ye(us,t),l=new Ye(us,i);return this.compare(r,l)!==0}minPost(){return Ye.MIN}}let ko;class ST extends Ec{static get __EMPTY_NODE(){return ko}static set __EMPTY_NODE(t){ko=t}compare(t,i){return ms(t.name,i.name)}isDefinedOn(t){throw hs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return Ye.MIN}maxPost(){return new Ye(tr,ko)}makePost(t,i){return pe(typeof t=="string","KeyIndex indexValue must always be a string."),new Ye(t,ko)}toString(){return".key"}}const ns=new ST;class wo{constructor(t,i,r,l,o=null){this.isReverse_=l,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(t=t,c=i?r(t.key,i):1,l&&(c*=-1),c<0)this.isReverse_?t=t.left:t=t.right;else if(c===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Qt{constructor(t,i,r,l,o){this.key=t,this.value=i,this.color=r??Qt.RED,this.left=l??Sn.EMPTY_NODE,this.right=o??Sn.EMPTY_NODE}copy(t,i,r,l,o){return new Qt(t??this.key,i??this.value,r??this.color,l??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const o=r(t,l.key);return o<0?l=l.copy(null,null,null,l.left.insert(t,i,r),null):o===0?l=l.copy(null,i,null,null,null):l=l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Sn.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,l;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(t,r.key)===0){if(r.right.isEmpty())return Sn.EMPTY_NODE;l=r.right.min_(),r=r.copy(l.key,l.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Qt.RED=!0;Qt.BLACK=!1;class g6{copy(t,i,r,l,o){return this}insert(t,i,r){return new Qt(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Sn{constructor(t,i=Sn.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new Sn(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,Qt.BLACK,null,null))}remove(t){return new Sn(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Qt.BLACK,null,null))}get(t){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(t,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(t){let i,r=this.root_,l=null;for(;!r.isEmpty();)if(i=this.comparator_(t,r.key),i===0){if(r.left.isEmpty())return l?l.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(l=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new wo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new wo(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new wo(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new wo(this.root_,null,this.comparator_,!0,t)}}Sn.EMPTY_NODE=new g6;function E6(e,t){return ms(e.name,t.name)}function b0(e,t){return ms(e,t)}let Mh;function _6(e){Mh=e}const CT=function(e){return typeof e=="number"?"number:"+Jy(e):"string:"+e},AT=function(e){if(e.isLeafNode()){const t=e.val();pe(typeof t=="string"||typeof t=="number"||typeof t=="object"&&qi(t,".sv"),"Priority must be a string or number.")}else pe(e===Mh||e.isEmpty(),"priority of unexpected type.");pe(e===Mh||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let JE;class Xt{static set __childrenNodeConstructor(t){JE=t}static get __childrenNodeConstructor(){return JE}constructor(t,i=Xt.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,pe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),AT(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Xt(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Xt.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Qe(t)?this:je(t)===".priority"?this.priorityNode_:Xt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:Xt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=je(t);return r===null?i:i.isEmpty()&&r!==".priority"?this:(pe(r!==".priority"||Na(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Xt.__childrenNodeConstructor.EMPTY_NODE.updateChild(_t(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+CT(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=Jy(this.value_):t+=this.value_,this.lazyHash_=Wy(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Xt.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Xt.__childrenNodeConstructor?-1:(pe(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,l=Xt.VALUE_TYPE_ORDER.indexOf(i),o=Xt.VALUE_TYPE_ORDER.indexOf(r);return pe(l>=0,"Unknown leaf type: "+i),pe(o>=0,"Unknown leaf type: "+r),l===o?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-l}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}Xt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let vT,xT;function y6(e){vT=e}function T6(e){xT=e}class b6 extends Ec{compare(t,i){const r=t.node.getPriority(),l=i.node.getPriority(),o=r.compareTo(l);return o===0?ms(t.name,i.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return Ye.MIN}maxPost(){return new Ye(tr,new Xt("[PRIORITY-POST]",xT))}makePost(t,i){const r=vT(t);return new Ye(i,new Xt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Rt=new b6;const S6=Math.log(2);class C6{constructor(t){const i=o=>parseInt(Math.log(o)/S6,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const l=r(this.count);this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Zo=function(e,t,i,r){e.sort(t);const l=function(p,g){const E=g-p;let T,b;if(E===0)return null;if(E===1)return T=e[p],b=i?i(T):T,new Qt(b,T.node,Qt.BLACK,null,null);{const S=parseInt(E/2,10)+p,w=l(p,S),X=l(S+1,g);return T=e[S],b=i?i(T):T,new Qt(b,T.node,Qt.BLACK,w,X)}},o=function(p){let g=null,E=null,T=e.length;const b=function(w,X){const $=T-w,G=T;T-=w;const de=l($+1,G),j=e[$],ye=i?i(j):j;S(new Qt(ye,j.node,X,null,de))},S=function(w){g?(g.left=w,g=w):(E=w,g=w)};for(let w=0;w<p.count;++w){const X=p.nextBitIsOne(),$=Math.pow(2,p.count-(w+1));X?b($,Qt.BLACK):(b($,Qt.BLACK),b($,Qt.RED))}return E},c=new C6(e.length),h=o(c);return new Sn(r||t,h)};let sh;const Kr={};class Hi{static get Default(){return pe(Kr&&Rt,"ChildrenNode.ts has not been loaded"),sh=sh||new Hi({".priority":Kr},{".priority":Rt}),sh}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=ls(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof Sn?i:null}hasIndex(t){return qi(this.indexSet_,t.toString())}addIndex(t,i){pe(t!==ns,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let l=!1;const o=i.getIterator(Ye.Wrap);let c=o.getNext();for(;c;)l=l||t.isDefinedOn(c.node),r.push(c),c=o.getNext();let h;l?h=Zo(r,t.getCompare()):h=Kr;const p=t.toString(),g={...this.indexSet_};g[p]=t;const E={...this.indexes_};return E[p]=h,new Hi(E,g)}addToIndexes(t,i){const r=Xo(this.indexes_,(l,o)=>{const c=ls(this.indexSet_,o);if(pe(c,"Missing index implementation for "+o),l===Kr)if(c.isDefinedOn(t.node)){const h=[],p=i.getIterator(Ye.Wrap);let g=p.getNext();for(;g;)g.name!==t.name&&h.push(g),g=p.getNext();return h.push(t),Zo(h,c.getCompare())}else return Kr;else{const h=i.get(t.name);let p=l;return h&&(p=p.remove(new Ye(t.name,h))),p.insert(t,t.node)}});return new Hi(r,this.indexSet_)}removeFromIndexes(t,i){const r=Xo(this.indexes_,l=>{if(l===Kr)return l;{const o=i.get(t.name);return o?l.remove(new Ye(t.name,o)):l}});return new Hi(r,this.indexSet_)}}let yl;class ke{static get EMPTY_NODE(){return yl||(yl=new ke(new Sn(b0),null,Hi.Default))}constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&AT(this.priorityNode_),this.children_.isEmpty()&&pe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||yl}updatePriority(t){return this.children_.isEmpty()?this:new ke(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?yl:i}}getChild(t){const i=je(t);return i===null?this:this.getImmediateChild(i).getChild(_t(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(pe(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const r=new Ye(t,i);let l,o;i.isEmpty()?(l=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(l=this.children_.insert(t,i),o=this.indexMap_.addToIndexes(r,this.children_));const c=l.isEmpty()?yl:this.priorityNode_;return new ke(l,c,o)}}updateChild(t,i){const r=je(t);if(r===null)return i;{pe(je(t)!==".priority"||Na(t)===1,".priority must be the last token in a path");const l=this.getImmediateChild(r).updateChild(_t(t),i);return this.updateImmediateChild(r,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,l=0,o=!0;if(this.forEachChild(Rt,(c,h)=>{i[c]=h.val(t),r++,o&&ke.INTEGER_REGEXP_.test(c)?l=Math.max(l,Number(c)):o=!1}),!t&&o&&l<2*r){const c=[];for(const h in i)c[h]=i[h];return c}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+CT(this.getPriority().val())+":"),this.forEachChild(Rt,(i,r)=>{const l=r.hash();l!==""&&(t+=":"+i+":"+l)}),this.lazyHash_=t===""?"":Wy(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const l=this.resolveIndex_(r);if(l){const o=l.getPredecessorKey(new Ye(t,i));return o?o.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Ye(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Ye(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(l=>i(l.name,l.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,l=>l);{const l=this.children_.getIteratorFrom(t.name,Ye.Wrap);let o=l.peek();for(;o!=null&&i.compare(o,t)<0;)l.getNext(),o=l.peek();return l}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,l=>l);{const l=this.children_.getReverseIteratorFrom(t.name,Ye.Wrap);let o=l.peek();for(;o!=null&&i.compare(o,t)>0;)l.getNext(),o=l.peek();return l}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===uu?-1:0}withIndex(t){if(t===ns||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new ke(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===ns||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(Rt),l=i.getIterator(Rt);let o=r.getNext(),c=l.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=r.getNext(),c=l.getNext()}return o===null&&c===null}else return!1;else return!1}}resolveIndex_(t){return t===ns?null:this.indexMap_.get(t.toString())}}ke.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class A6 extends ke{constructor(){super(new Sn(b0),ke.EMPTY_NODE,Hi.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ke.EMPTY_NODE}isEmpty(){return!1}}const uu=new A6;Object.defineProperties(Ye,{MIN:{value:new Ye(us,ke.EMPTY_NODE)},MAX:{value:new Ye(tr,uu)}});ST.__EMPTY_NODE=ke.EMPTY_NODE;Xt.__childrenNodeConstructor=ke;_6(uu);T6(uu);const v6=!0;function nn(e,t=null){if(e===null)return ke.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),pe(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const i=e;return new Xt(i,nn(t))}if(!(e instanceof Array)&&v6){const i=[];let r=!1;if(vn(e,(c,h)=>{if(c.substring(0,1)!=="."){const p=nn(h);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),i.push(new Ye(c,p)))}}),i.length===0)return ke.EMPTY_NODE;const o=Zo(i,E6,c=>c.name,b0);if(r){const c=Zo(i,Rt.getCompare());return new ke(o,nn(t),new Hi({".priority":c},{".priority":Rt}))}else return new ke(o,nn(t),Hi.Default)}else{let i=ke.EMPTY_NODE;return vn(e,(r,l)=>{if(qi(e,r)&&r.substring(0,1)!=="."){const o=nn(l);(o.isLeafNode()||!o.isEmpty())&&(i=i.updateImmediateChild(r,o))}}),i.updatePriority(nn(t))}}y6(nn);class x6 extends Ec{constructor(t){super(),this.indexPath_=t,pe(!Qe(t)&&je(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const r=this.extractChild(t.node),l=this.extractChild(i.node),o=r.compareTo(l);return o===0?ms(t.name,i.name):o}makePost(t,i){const r=nn(t),l=ke.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ye(i,l)}maxPost(){const t=ke.EMPTY_NODE.updateChild(this.indexPath_,uu);return new Ye(tr,t)}toString(){return yT(this.indexPath_,0).join("/")}}class N6 extends Ec{compare(t,i){const r=t.node.compareTo(i.node);return r===0?ms(t.name,i.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return Ye.MIN}maxPost(){return Ye.MAX}makePost(t,i){const r=nn(t);return new Ye(i,r)}toString(){return".value"}}const R6=new N6;function NT(e){return{type:"value",snapshotNode:e}}function os(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Kl(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Wl(e,t,i){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:i}}function O6(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}class S0{constructor(t){this.index_=t}updateChild(t,i,r,l,o,c){pe(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(i);return h.getChild(l).equals(r.getChild(l))&&h.isEmpty()===r.isEmpty()||(c!=null&&(r.isEmpty()?t.hasChild(i)?c.trackChildChange(Kl(i,h)):pe(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(os(i,r)):c.trackChildChange(Wl(i,r,h))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(i,r).withIndex(this.index_)}updateFullNode(t,i,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Rt,(l,o)=>{i.hasChild(l)||r.trackChildChange(Kl(l,o))}),i.isLeafNode()||i.forEachChild(Rt,(l,o)=>{if(t.hasChild(l)){const c=t.getImmediateChild(l);c.equals(o)||r.trackChildChange(Wl(l,o,c))}else r.trackChildChange(os(l,o))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?ke.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class $l{constructor(t){this.indexedFilter_=new S0(t.getIndex()),this.index_=t.getIndex(),this.startPost_=$l.getStartPost_(t),this.endPost_=$l.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&r}updateChild(t,i,r,l,o,c){return this.matches(new Ye(i,r))||(r=ke.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,r,l,o,c)}updateFullNode(t,i,r){i.isLeafNode()&&(i=ke.EMPTY_NODE);let l=i.withIndex(this.index_);l=l.updatePriority(ke.EMPTY_NODE);const o=this;return i.forEachChild(Rt,(c,h)=>{o.matches(new Ye(c,h))||(l=l.updateImmediateChild(c,ke.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,r)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}class D6{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=i=>{const r=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new $l(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,r,l,o,c){return this.rangedFilter_.matches(new Ye(i,r))||(r=ke.EMPTY_NODE),t.getImmediateChild(i).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,r,l,o,c):this.fullLimitUpdateChild_(t,i,r,o,c)}updateFullNode(t,i,r){let l;if(i.isLeafNode()||i.isEmpty())l=ke.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){l=ke.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const h=o.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{l=i.withIndex(this.index_),l=l.updatePriority(ke.EMPTY_NODE);let o;this.reverse_?o=l.getReverseIterator(this.index_):o=l.getIterator(this.index_);let c=0;for(;o.hasNext();){const h=o.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:l=l.updateImmediateChild(h.name,ke.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,r)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,r,l,o){let c;if(this.reverse_){const T=this.index_.getCompare();c=(b,S)=>T(S,b)}else c=this.index_.getCompare();const h=t;pe(h.numChildren()===this.limit_,"");const p=new Ye(i,r),g=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),E=this.rangedFilter_.matches(p);if(h.hasChild(i)){const T=h.getImmediateChild(i);let b=l.getChildAfterChild(this.index_,g,this.reverse_);for(;b!=null&&(b.name===i||h.hasChild(b.name));)b=l.getChildAfterChild(this.index_,b,this.reverse_);const S=b==null?1:c(b,p);if(E&&!r.isEmpty()&&S>=0)return o?.trackChildChange(Wl(i,r,T)),h.updateImmediateChild(i,r);{o?.trackChildChange(Kl(i,T));const X=h.updateImmediateChild(i,ke.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(o?.trackChildChange(os(b.name,b.node)),X.updateImmediateChild(b.name,b.node)):X}}else return r.isEmpty()?t:E&&c(g,p)>=0?(o!=null&&(o.trackChildChange(Kl(g.name,g.node)),o.trackChildChange(os(i,r))),h.updateImmediateChild(i,r).updateImmediateChild(g.name,ke.EMPTY_NODE)):t}}class C0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Rt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return pe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return pe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:us}hasEnd(){return this.endSet_}getIndexEndValue(){return pe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return pe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:tr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return pe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Rt}copy(){const t=new C0;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function I6(e){return e.loadsAllData()?new S0(e.getIndex()):e.hasLimit()?new D6(e):new $l(e)}function e_(e){const t={};if(e.isDefault())return t;let i;if(e.index_===Rt?i="$priority":e.index_===R6?i="$value":e.index_===ns?i="$key":(pe(e.index_ instanceof x6,"Unrecognized index type!"),i=e.index_.toString()),t.orderBy=Kt(i),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=Kt(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Kt(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Kt(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Kt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function t_(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let i=e.viewFrom_;i===""&&(e.isViewFromLeft()?i="l":i="r"),t.vf=i}return e.index_!==Rt&&(t.i=e.index_.toString()),t}class Jo extends gT{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(pe(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,r,l){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=l,this.log_=lu("p:rest:"),this.listens_={}}listen(t,i,r,l){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const c=Jo.getListenId_(t,r),h={};this.listens_[c]=h;const p=e_(t._queryParams);this.restRequest_(o+".json",p,(g,E)=>{let T=E;if(g===404&&(T=null,g=null),g===null&&this.onDataUpdate_(o,T,!1,r),ls(this.listens_,c)===h){let b;g?g===401?b="permission_denied":b="rest_error:"+g:b="ok",l(b,null)}})}unlisten(t,i){const r=Jo.getListenId_(t,i);delete this.listens_[r]}get(t){const i=e_(t._queryParams),r=t._path.toString(),l=new pc;return this.restRequest_(r+".json",i,(o,c)=>{let h=c;o===404&&(h=null,o=null),o===null?(this.onDataUpdate_(r,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(t){}restRequest_(t,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,o])=>{l&&l.accessToken&&(i.auth=l.accessToken),o&&o.token&&(i.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+nv(i);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=ql(h.responseText)}catch{Cn("Failed to parse JSON response for "+c+": "+h.responseText)}r(null,p)}else h.status!==401&&h.status!==404&&Cn("Got unsuccessful REST response for "+c+" Status: "+h.status),r(h.status);r=null}},h.open("GET",c,!0),h.send()})}}class L6{constructor(){this.rootNode_=ke.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}function ec(){return{value:null,children:new Map}}function RT(e,t,i){if(Qe(t))e.value=i,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,i);else{const r=je(t);e.children.has(r)||e.children.set(r,ec());const l=e.children.get(r);t=_t(t),RT(l,t,i)}}function Bh(e,t,i){e.value!==null?i(t,e.value):k6(e,(r,l)=>{const o=new dt(t.toString()+"/"+r);Bh(l,o,i)})}function k6(e,t){e.children.forEach((i,r)=>{t(r,i)})}class w6{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&vn(this.last_,(r,l)=>{i[r]=i[r]-l}),this.last_=t,i}}const n_=10*1e3,M6=30*1e3,B6=300*1e3;class P6{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new w6(t);const r=n_+(M6-n_)*Math.random();Ll(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),i={};let r=!1;vn(t,(l,o)=>{o>0&&qi(this.statsToReport_,l)&&(i[l]=o,r=!0)}),r&&this.server_.reportStats(i),Ll(this.reportStats_.bind(this),Math.floor(Math.random()*2*B6))}}var ai;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ai||(ai={}));function OT(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function A0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function v0(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class tc{constructor(t,i,r){this.path=t,this.affectedTree=i,this.revert=r,this.type=ai.ACK_USER_WRITE,this.source=OT()}operationForChild(t){if(Qe(this.path)){if(this.affectedTree.value!=null)return pe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new dt(t));return new tc(nt(),i,this.revert)}}else return pe(je(this.path)===t,"operationForChild called for unrelated child."),new tc(_t(this.path),this.affectedTree,this.revert)}}class Zl{constructor(t,i){this.source=t,this.path=i,this.type=ai.LISTEN_COMPLETE}operationForChild(t){return Qe(this.path)?new Zl(this.source,nt()):new Zl(this.source,_t(this.path))}}class nr{constructor(t,i,r){this.source=t,this.path=i,this.snap=r,this.type=ai.OVERWRITE}operationForChild(t){return Qe(this.path)?new nr(this.source,nt(),this.snap.getImmediateChild(t)):new nr(this.source,_t(this.path),this.snap)}}class Jl{constructor(t,i,r){this.source=t,this.path=i,this.children=r,this.type=ai.MERGE}operationForChild(t){if(Qe(this.path)){const i=this.children.subtree(new dt(t));return i.isEmpty()?null:i.value?new nr(this.source,nt(),i.value):new Jl(this.source,nt(),i)}else return pe(je(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Jl(this.source,_t(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ir{constructor(t,i,r){this.node_=t,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Qe(t))return this.isFullyInitialized()&&!this.filtered_;const i=je(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class U6{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function H6(e,t,i,r){const l=[],o=[];return t.forEach(c=>{c.type==="child_changed"&&e.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(O6(c.childName,c.snapshotNode))}),Tl(e,l,"child_removed",t,r,i),Tl(e,l,"child_added",t,r,i),Tl(e,l,"child_moved",o,r,i),Tl(e,l,"child_changed",t,r,i),Tl(e,l,"value",t,r,i),l}function Tl(e,t,i,r,l,o){const c=r.filter(h=>h.type===i);c.sort((h,p)=>z6(e,h,p)),c.forEach(h=>{const p=F6(e,h,o);l.forEach(g=>{g.respondsTo(h.type)&&t.push(g.createEvent(p,e.query_))})})}function F6(e,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function z6(e,t,i){if(t.childName==null||i.childName==null)throw hs("Should only compare child_ events.");const r=new Ye(t.childName,t.snapshotNode),l=new Ye(i.childName,i.snapshotNode);return e.index_.compare(r,l)}function _c(e,t){return{eventCache:e,serverCache:t}}function kl(e,t,i,r){return _c(new ir(t,i,r),e.serverCache)}function DT(e,t,i,r){return _c(e.eventCache,new ir(t,i,r))}function Ph(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ar(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let lh;const j6=()=>(lh||(lh=new Sn(Nx)),lh);class St{static fromObject(t){let i=new St(null);return vn(t,(r,l)=>{i=i.set(new dt(r),l)}),i}constructor(t,i=j6()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:nt(),value:this.value};if(Qe(t))return null;{const r=je(t),l=this.children.get(r);if(l!==null){const o=l.findRootMostMatchingPathAndValue(_t(t),i);return o!=null?{path:Yt(new dt(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Qe(t))return this;{const i=je(t),r=this.children.get(i);return r!==null?r.subtree(_t(t)):new St(null)}}set(t,i){if(Qe(t))return new St(i,this.children);{const r=je(t),o=(this.children.get(r)||new St(null)).set(_t(t),i),c=this.children.insert(r,o);return new St(this.value,c)}}remove(t){if(Qe(t))return this.children.isEmpty()?new St(null):new St(null,this.children);{const i=je(t),r=this.children.get(i);if(r){const l=r.remove(_t(t));let o;return l.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,l),this.value===null&&o.isEmpty()?new St(null):new St(this.value,o)}else return this}}get(t){if(Qe(t))return this.value;{const i=je(t),r=this.children.get(i);return r?r.get(_t(t)):null}}setTree(t,i){if(Qe(t))return i;{const r=je(t),o=(this.children.get(r)||new St(null)).setTree(_t(t),i);let c;return o.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,o),new St(this.value,c)}}fold(t){return this.fold_(nt(),t)}fold_(t,i){const r={};return this.children.inorderTraversal((l,o)=>{r[l]=o.fold_(Yt(t,l),i)}),i(t,this.value,r)}findOnPath(t,i){return this.findOnPath_(t,nt(),i)}findOnPath_(t,i,r){const l=this.value?r(i,this.value):!1;if(l)return l;if(Qe(t))return null;{const o=je(t),c=this.children.get(o);return c?c.findOnPath_(_t(t),Yt(i,o),r):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,nt(),i)}foreachOnPath_(t,i,r){if(Qe(t))return this;{this.value&&r(i,this.value);const l=je(t),o=this.children.get(l);return o?o.foreachOnPath_(_t(t),Yt(i,l),r):new St(null)}}foreach(t){this.foreach_(nt(),t)}foreach_(t,i){this.children.inorderTraversal((r,l)=>{l.foreach_(Yt(t,r),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,r)=>{r.value&&t(i,r.value)})}}class ri{constructor(t){this.writeTree_=t}static empty(){return new ri(new St(null))}}function wl(e,t,i){if(Qe(t))return new ri(new St(i));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const l=r.path;let o=r.value;const c=bn(l,t);return o=o.updateChild(c,i),new ri(e.writeTree_.set(l,o))}else{const l=new St(i),o=e.writeTree_.setTree(t,l);return new ri(o)}}}function i_(e,t,i){let r=e;return vn(i,(l,o)=>{r=wl(r,Yt(t,l),o)}),r}function a_(e,t){if(Qe(t))return ri.empty();{const i=e.writeTree_.setTree(t,new St(null));return new ri(i)}}function Uh(e,t){return rr(e,t)!=null}function rr(e,t){const i=e.writeTree_.findRootMostValueAndPath(t);return i!=null?e.writeTree_.get(i.path).getChild(bn(i.path,t)):null}function r_(e){const t=[],i=e.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Rt,(r,l)=>{t.push(new Ye(r,l))}):e.writeTree_.children.inorderTraversal((r,l)=>{l.value!=null&&t.push(new Ye(r,l.value))}),t}function Aa(e,t){if(Qe(t))return e;{const i=rr(e,t);return i!=null?new ri(new St(i)):new ri(e.writeTree_.subtree(t))}}function Hh(e){return e.writeTree_.isEmpty()}function cs(e,t){return IT(nt(),e.writeTree_,t)}function IT(e,t,i){if(t.value!=null)return i.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((l,o)=>{l===".priority"?(pe(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):i=IT(Yt(e,l),o,i)}),!i.getChild(e).isEmpty()&&r!==null&&(i=i.updateChild(Yt(e,".priority"),r)),i}}function x0(e,t){return MT(t,e)}function Y6(e,t,i,r,l){pe(r>e.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),e.allWrites.push({path:t,snap:i,writeId:r,visible:l}),l&&(e.visibleWrites=wl(e.visibleWrites,t,i)),e.lastWriteId=r}function q6(e,t){for(let i=0;i<e.allWrites.length;i++){const r=e.allWrites[i];if(r.writeId===t)return r}return null}function V6(e,t){const i=e.allWrites.findIndex(h=>h.writeId===t);pe(i>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[i];e.allWrites.splice(i,1);let l=r.visible,o=!1,c=e.allWrites.length-1;for(;l&&c>=0;){const h=e.allWrites[c];h.visible&&(c>=i&&G6(h,r.path)?l=!1:ii(r.path,h.path)&&(o=!0)),c--}if(l){if(o)return X6(e),!0;if(r.snap)e.visibleWrites=a_(e.visibleWrites,r.path);else{const h=r.children;vn(h,p=>{e.visibleWrites=a_(e.visibleWrites,Yt(r.path,p))})}return!0}else return!1}function G6(e,t){if(e.snap)return ii(e.path,t);for(const i in e.children)if(e.children.hasOwnProperty(i)&&ii(Yt(e.path,i),t))return!0;return!1}function X6(e){e.visibleWrites=LT(e.allWrites,Q6,nt()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function Q6(e){return e.visible}function LT(e,t,i){let r=ri.empty();for(let l=0;l<e.length;++l){const o=e[l];if(t(o)){const c=o.path;let h;if(o.snap)ii(i,c)?(h=bn(i,c),r=wl(r,h,o.snap)):ii(c,i)&&(h=bn(c,i),r=wl(r,nt(),o.snap.getChild(h)));else if(o.children){if(ii(i,c))h=bn(i,c),r=i_(r,h,o.children);else if(ii(c,i))if(h=bn(c,i),Qe(h))r=i_(r,nt(),o.children);else{const p=ls(o.children,je(h));if(p){const g=p.getChild(_t(h));r=wl(r,nt(),g)}}}else throw hs("WriteRecord should have .snap or .children")}}return r}function kT(e,t,i,r,l){if(!r&&!l){const o=rr(e.visibleWrites,t);if(o!=null)return o;{const c=Aa(e.visibleWrites,t);if(Hh(c))return i;if(i==null&&!Uh(c,nt()))return null;{const h=i||ke.EMPTY_NODE;return cs(c,h)}}}else{const o=Aa(e.visibleWrites,t);if(!l&&Hh(o))return i;if(!l&&i==null&&!Uh(o,nt()))return null;{const c=function(g){return(g.visible||l)&&(!r||!~r.indexOf(g.writeId))&&(ii(g.path,t)||ii(t,g.path))},h=LT(e.allWrites,c,t),p=i||ke.EMPTY_NODE;return cs(h,p)}}}function K6(e,t,i){let r=ke.EMPTY_NODE;const l=rr(e.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(Rt,(o,c)=>{r=r.updateImmediateChild(o,c)}),r;if(i){const o=Aa(e.visibleWrites,t);return i.forEachChild(Rt,(c,h)=>{const p=cs(Aa(o,new dt(c)),h);r=r.updateImmediateChild(c,p)}),r_(o).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}else{const o=Aa(e.visibleWrites,t);return r_(o).forEach(c=>{r=r.updateImmediateChild(c.name,c.node)}),r}}function W6(e,t,i,r,l){pe(r||l,"Either existingEventSnap or existingServerSnap must exist");const o=Yt(t,i);if(Uh(e.visibleWrites,o))return null;{const c=Aa(e.visibleWrites,o);return Hh(c)?l.getChild(i):cs(c,l.getChild(i))}}function $6(e,t,i,r){const l=Yt(t,i),o=rr(e.visibleWrites,l);if(o!=null)return o;if(r.isCompleteForChild(i)){const c=Aa(e.visibleWrites,l);return cs(c,r.getNode().getImmediateChild(i))}else return null}function Z6(e,t){return rr(e.visibleWrites,t)}function J6(e,t,i,r,l,o,c){let h;const p=Aa(e.visibleWrites,t),g=rr(p,nt());if(g!=null)h=g;else if(i!=null)h=cs(p,i);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const E=[],T=c.getCompare(),b=o?h.getReverseIteratorFrom(r,c):h.getIteratorFrom(r,c);let S=b.getNext();for(;S&&E.length<l;)T(S,r)!==0&&E.push(S),S=b.getNext();return E}else return[]}function eN(){return{visibleWrites:ri.empty(),allWrites:[],lastWriteId:-1}}function nc(e,t,i,r){return kT(e.writeTree,e.treePath,t,i,r)}function N0(e,t){return K6(e.writeTree,e.treePath,t)}function s_(e,t,i,r){return W6(e.writeTree,e.treePath,t,i,r)}function ic(e,t){return Z6(e.writeTree,Yt(e.treePath,t))}function tN(e,t,i,r,l,o){return J6(e.writeTree,e.treePath,t,i,r,l,o)}function R0(e,t,i){return $6(e.writeTree,e.treePath,t,i)}function wT(e,t){return MT(Yt(e.treePath,t),e.writeTree)}function MT(e,t){return{treePath:e,writeTree:t}}class nN{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,r=t.childName;pe(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),pe(r!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(r);if(l){const o=l.type;if(i==="child_added"&&o==="child_removed")this.changeMap.set(r,Wl(r,t.snapshotNode,l.snapshotNode));else if(i==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&o==="child_changed")this.changeMap.set(r,Kl(r,l.oldSnap));else if(i==="child_changed"&&o==="child_added")this.changeMap.set(r,os(r,t.snapshotNode));else if(i==="child_changed"&&o==="child_changed")this.changeMap.set(r,Wl(r,t.snapshotNode,l.oldSnap));else throw hs("Illegal combination of changes: "+t+" occurred after "+l)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}class iN{getCompleteChild(t){return null}getChildAfterChild(t,i,r){return null}}const BT=new iN;class O0{constructor(t,i,r=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new ir(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return R0(this.writes_,t,r)}}getChildAfterChild(t,i,r){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ar(this.viewCache_),o=tN(this.writes_,l,i,1,r,t);return o.length===0?null:o[0]}}function aN(e){return{filter:e}}function rN(e,t){pe(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),pe(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function sN(e,t,i,r,l){const o=new nN;let c,h;if(i.type===ai.OVERWRITE){const g=i;g.source.fromUser?c=Fh(e,t,g.path,g.snap,r,l,o):(pe(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered()&&!Qe(g.path),c=ac(e,t,g.path,g.snap,r,l,h,o))}else if(i.type===ai.MERGE){const g=i;g.source.fromUser?c=uN(e,t,g.path,g.children,r,l,o):(pe(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered(),c=zh(e,t,g.path,g.children,r,l,h,o))}else if(i.type===ai.ACK_USER_WRITE){const g=i;g.revert?c=fN(e,t,g.path,r,l,o):c=oN(e,t,g.path,g.affectedTree,r,l,o)}else if(i.type===ai.LISTEN_COMPLETE)c=cN(e,t,i.path,r,o);else throw hs("Unknown operation type: "+i.type);const p=o.getChanges();return lN(t,c,p),{viewCache:c,changes:p}}function lN(e,t,i){const r=t.eventCache;if(r.isFullyInitialized()){const l=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Ph(e);(i.length>0||!e.eventCache.isFullyInitialized()||l&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&i.push(NT(Ph(t)))}}function PT(e,t,i,r,l,o){const c=t.eventCache;if(ic(r,i)!=null)return t;{let h,p;if(Qe(i))if(pe(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=ar(t),E=g instanceof ke?g:ke.EMPTY_NODE,T=N0(r,E);h=e.filter.updateFullNode(t.eventCache.getNode(),T,o)}else{const g=nc(r,ar(t));h=e.filter.updateFullNode(t.eventCache.getNode(),g,o)}else{const g=je(i);if(g===".priority"){pe(Na(i)===1,"Can't have a priority with additional path components");const E=c.getNode();p=t.serverCache.getNode();const T=s_(r,i,E,p);T!=null?h=e.filter.updatePriority(E,T):h=c.getNode()}else{const E=_t(i);let T;if(c.isCompleteForChild(g)){p=t.serverCache.getNode();const b=s_(r,i,c.getNode(),p);b!=null?T=c.getNode().getImmediateChild(g).updateChild(E,b):T=c.getNode().getImmediateChild(g)}else T=R0(r,g,t.serverCache);T!=null?h=e.filter.updateChild(c.getNode(),g,T,E,l,o):h=c.getNode()}}return kl(t,h,c.isFullyInitialized()||Qe(i),e.filter.filtersNodes())}}function ac(e,t,i,r,l,o,c,h){const p=t.serverCache;let g;const E=c?e.filter:e.filter.getIndexedFilter();if(Qe(i))g=E.updateFullNode(p.getNode(),r,null);else if(E.filtersNodes()&&!p.isFiltered()){const S=p.getNode().updateChild(i,r);g=E.updateFullNode(p.getNode(),S,null)}else{const S=je(i);if(!p.isCompleteForPath(i)&&Na(i)>1)return t;const w=_t(i),$=p.getNode().getImmediateChild(S).updateChild(w,r);S===".priority"?g=E.updatePriority(p.getNode(),$):g=E.updateChild(p.getNode(),S,$,w,BT,null)}const T=DT(t,g,p.isFullyInitialized()||Qe(i),E.filtersNodes()),b=new O0(l,T,o);return PT(e,T,i,l,b,h)}function Fh(e,t,i,r,l,o,c){const h=t.eventCache;let p,g;const E=new O0(l,t,o);if(Qe(i))g=e.filter.updateFullNode(t.eventCache.getNode(),r,c),p=kl(t,g,!0,e.filter.filtersNodes());else{const T=je(i);if(T===".priority")g=e.filter.updatePriority(t.eventCache.getNode(),r),p=kl(t,g,h.isFullyInitialized(),h.isFiltered());else{const b=_t(i),S=h.getNode().getImmediateChild(T);let w;if(Qe(b))w=r;else{const X=E.getCompleteChild(T);X!=null?_T(b)===".priority"&&X.getChild(TT(b)).isEmpty()?w=X:w=X.updateChild(b,r):w=ke.EMPTY_NODE}if(S.equals(w))p=t;else{const X=e.filter.updateChild(h.getNode(),T,w,b,E,c);p=kl(t,X,h.isFullyInitialized(),e.filter.filtersNodes())}}}return p}function l_(e,t){return e.eventCache.isCompleteForChild(t)}function uN(e,t,i,r,l,o,c){let h=t;return r.foreach((p,g)=>{const E=Yt(i,p);l_(t,je(E))&&(h=Fh(e,h,E,g,l,o,c))}),r.foreach((p,g)=>{const E=Yt(i,p);l_(t,je(E))||(h=Fh(e,h,E,g,l,o,c))}),h}function u_(e,t,i){return i.foreach((r,l)=>{t=t.updateChild(r,l)}),t}function zh(e,t,i,r,l,o,c,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let p=t,g;Qe(i)?g=r:g=new St(null).setTree(i,r);const E=t.serverCache.getNode();return g.children.inorderTraversal((T,b)=>{if(E.hasChild(T)){const S=t.serverCache.getNode().getImmediateChild(T),w=u_(e,S,b);p=ac(e,p,new dt(T),w,l,o,c,h)}}),g.children.inorderTraversal((T,b)=>{const S=!t.serverCache.isCompleteForChild(T)&&b.value===null;if(!E.hasChild(T)&&!S){const w=t.serverCache.getNode().getImmediateChild(T),X=u_(e,w,b);p=ac(e,p,new dt(T),X,l,o,c,h)}}),p}function oN(e,t,i,r,l,o,c){if(ic(l,i)!=null)return t;const h=t.serverCache.isFiltered(),p=t.serverCache;if(r.value!=null){if(Qe(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return ac(e,t,i,p.getNode().getChild(i),l,o,h,c);if(Qe(i)){let g=new St(null);return p.getNode().forEachChild(ns,(E,T)=>{g=g.set(new dt(E),T)}),zh(e,t,i,g,l,o,h,c)}else return t}else{let g=new St(null);return r.foreach((E,T)=>{const b=Yt(i,E);p.isCompleteForPath(b)&&(g=g.set(E,p.getNode().getChild(b)))}),zh(e,t,i,g,l,o,h,c)}}function cN(e,t,i,r,l){const o=t.serverCache,c=DT(t,o.getNode(),o.isFullyInitialized()||Qe(i),o.isFiltered());return PT(e,c,i,r,BT,l)}function fN(e,t,i,r,l,o){let c;if(ic(r,i)!=null)return t;{const h=new O0(r,t,l),p=t.eventCache.getNode();let g;if(Qe(i)||je(i)===".priority"){let E;if(t.serverCache.isFullyInitialized())E=nc(r,ar(t));else{const T=t.serverCache.getNode();pe(T instanceof ke,"serverChildren would be complete if leaf node"),E=N0(r,T)}E=E,g=e.filter.updateFullNode(p,E,o)}else{const E=je(i);let T=R0(r,E,t.serverCache);T==null&&t.serverCache.isCompleteForChild(E)&&(T=p.getImmediateChild(E)),T!=null?g=e.filter.updateChild(p,E,T,_t(i),h,o):t.eventCache.getNode().hasChild(E)?g=e.filter.updateChild(p,E,ke.EMPTY_NODE,_t(i),h,o):g=p,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=nc(r,ar(t)),c.isLeafNode()&&(g=e.filter.updateFullNode(g,c,o)))}return c=t.serverCache.isFullyInitialized()||ic(r,nt())!=null,kl(t,g,c,e.filter.filtersNodes())}}class dN{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,l=new S0(r.getIndex()),o=I6(r);this.processor_=aN(o);const c=i.serverCache,h=i.eventCache,p=l.updateFullNode(ke.EMPTY_NODE,c.getNode(),null),g=o.updateFullNode(ke.EMPTY_NODE,h.getNode(),null),E=new ir(p,c.isFullyInitialized(),l.filtersNodes()),T=new ir(g,h.isFullyInitialized(),o.filtersNodes());this.viewCache_=_c(T,E),this.eventGenerator_=new U6(this.query_)}get query(){return this.query_}}function hN(e){return e.viewCache_.serverCache.getNode()}function mN(e,t){const i=ar(e.viewCache_);return i&&(e.query._queryParams.loadsAllData()||!Qe(t)&&!i.getImmediateChild(je(t)).isEmpty())?i.getChild(t):null}function o_(e){return e.eventRegistrations_.length===0}function pN(e,t){e.eventRegistrations_.push(t)}function c_(e,t,i){const r=[];if(i){pe(t==null,"A cancel should cancel all event registrations.");const l=e.query._path;e.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(i,l);c&&r.push(c)})}if(t){let l=[];for(let o=0;o<e.eventRegistrations_.length;++o){const c=e.eventRegistrations_[o];if(!c.matches(t))l.push(c);else if(t.hasAnyCallback()){l=l.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=l}else e.eventRegistrations_=[];return r}function f_(e,t,i,r){t.type===ai.MERGE&&t.source.queryId!==null&&(pe(ar(e.viewCache_),"We should always have a full cache before handling merges"),pe(Ph(e.viewCache_),"Missing event cache, even though we have a server cache"));const l=e.viewCache_,o=sN(e.processor_,l,t,i,r);return rN(e.processor_,o.viewCache),pe(o.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,UT(e,o.changes,o.viewCache.eventCache.getNode(),null)}function gN(e,t){const i=e.viewCache_.eventCache,r=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Rt,(o,c)=>{r.push(os(o,c))}),i.isFullyInitialized()&&r.push(NT(i.getNode())),UT(e,r,i.getNode(),t)}function UT(e,t,i,r){const l=r?[r]:e.eventRegistrations_;return H6(e.eventGenerator_,t,i,l)}let rc;class EN{constructor(){this.views=new Map}}function _N(e){pe(!rc,"__referenceConstructor has already been defined"),rc=e}function yN(){return pe(rc,"Reference.ts has not been loaded"),rc}function TN(e){return e.views.size===0}function D0(e,t,i,r){const l=t.source.queryId;if(l!==null){const o=e.views.get(l);return pe(o!=null,"SyncTree gave us an op for an invalid query."),f_(o,t,i,r)}else{let o=[];for(const c of e.views.values())o=o.concat(f_(c,t,i,r));return o}}function bN(e,t,i,r,l){const o=t._queryIdentifier,c=e.views.get(o);if(!c){let h=nc(i,l?r:null),p=!1;h?p=!0:r instanceof ke?(h=N0(i,r),p=!1):(h=ke.EMPTY_NODE,p=!1);const g=_c(new ir(h,p,!1),new ir(r,l,!1));return new dN(t,g)}return c}function SN(e,t,i,r,l,o){const c=bN(e,t,r,l,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,c),pN(c,i),gN(c,i)}function CN(e,t,i,r){const l=t._queryIdentifier,o=[];let c=[];const h=Ra(e);if(l==="default")for(const[p,g]of e.views.entries())c=c.concat(c_(g,i,r)),o_(g)&&(e.views.delete(p),g.query._queryParams.loadsAllData()||o.push(g.query));else{const p=e.views.get(l);p&&(c=c.concat(c_(p,i,r)),o_(p)&&(e.views.delete(l),p.query._queryParams.loadsAllData()||o.push(p.query)))}return h&&!Ra(e)&&o.push(new(yN())(t._repo,t._path)),{removed:o,events:c}}function HT(e){const t=[];for(const i of e.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function is(e,t){let i=null;for(const r of e.views.values())i=i||mN(r,t);return i}function FT(e,t){if(t._queryParams.loadsAllData())return yc(e);{const r=t._queryIdentifier;return e.views.get(r)}}function zT(e,t){return FT(e,t)!=null}function Ra(e){return yc(e)!=null}function yc(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let sc;function AN(e){pe(!sc,"__referenceConstructor has already been defined"),sc=e}function vN(){return pe(sc,"Reference.ts has not been loaded"),sc}let xN=1;class d_{constructor(t){this.listenProvider_=t,this.syncPointTree_=new St(null),this.pendingWriteTree_=eN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function jT(e,t,i,r,l){return Y6(e.pendingWriteTree_,t,i,r,l),l?ou(e,new nr(OT(),t,i)):[]}function Za(e,t,i=!1){const r=q6(e.pendingWriteTree_,t);if(V6(e.pendingWriteTree_,t)){let o=new St(null);return r.snap!=null?o=o.set(nt(),!0):vn(r.children,c=>{o=o.set(new dt(c),!0)}),ou(e,new tc(r.path,o,i))}else return[]}function Tc(e,t,i){return ou(e,new nr(A0(),t,i))}function NN(e,t,i){const r=St.fromObject(i);return ou(e,new Jl(A0(),t,r))}function RN(e,t){return ou(e,new Zl(A0(),t))}function ON(e,t,i){const r=L0(e,i);if(r){const l=k0(r),o=l.path,c=l.queryId,h=bn(o,t),p=new Zl(v0(c),h);return w0(e,o,p)}else return[]}function jh(e,t,i,r,l=!1){const o=t._path,c=e.syncPointTree_.get(o);let h=[];if(c&&(t._queryIdentifier==="default"||zT(c,t))){const p=CN(c,t,i,r);TN(c)&&(e.syncPointTree_=e.syncPointTree_.remove(o));const g=p.removed;if(h=p.events,!l){const E=g.findIndex(b=>b._queryParams.loadsAllData())!==-1,T=e.syncPointTree_.findOnPath(o,(b,S)=>Ra(S));if(E&&!T){const b=e.syncPointTree_.subtree(o);if(!b.isEmpty()){const S=LN(b);for(let w=0;w<S.length;++w){const X=S[w],$=X.query,G=VT(e,X);e.listenProvider_.startListening(Ml($),lc(e,$),G.hashFn,G.onComplete)}}}!T&&g.length>0&&!r&&(E?e.listenProvider_.stopListening(Ml(t),null):g.forEach(b=>{const S=e.queryToTagMap.get(bc(b));e.listenProvider_.stopListening(Ml(b),S)}))}kN(e,g)}return h}function DN(e,t,i,r){const l=L0(e,r);if(l!=null){const o=k0(l),c=o.path,h=o.queryId,p=bn(c,t),g=new nr(v0(h),p,i);return w0(e,c,g)}else return[]}function IN(e,t,i,r){const l=L0(e,r);if(l){const o=k0(l),c=o.path,h=o.queryId,p=bn(c,t),g=St.fromObject(i),E=new Jl(v0(h),p,g);return w0(e,c,E)}else return[]}function h_(e,t,i,r=!1){const l=t._path;let o=null,c=!1;e.syncPointTree_.foreachOnPath(l,(b,S)=>{const w=bn(b,l);o=o||is(S,w),c=c||Ra(S)});let h=e.syncPointTree_.get(l);h?(c=c||Ra(h),o=o||is(h,nt())):(h=new EN,e.syncPointTree_=e.syncPointTree_.set(l,h));let p;o!=null?p=!0:(p=!1,o=ke.EMPTY_NODE,e.syncPointTree_.subtree(l).foreachChild((S,w)=>{const X=is(w,nt());X&&(o=o.updateImmediateChild(S,X))}));const g=zT(h,t);if(!g&&!t._queryParams.loadsAllData()){const b=bc(t);pe(!e.queryToTagMap.has(b),"View does not exist, but we have a tag");const S=wN();e.queryToTagMap.set(b,S),e.tagToQueryMap.set(S,b)}const E=x0(e.pendingWriteTree_,l);let T=SN(h,t,i,E,o,p);if(!g&&!c&&!r){const b=FT(h,t);T=T.concat(MN(e,t,b))}return T}function I0(e,t,i){const l=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(c,h)=>{const p=bn(c,t),g=is(h,p);if(g)return g});return kT(l,t,o,i,!0)}function ou(e,t){return YT(t,e.syncPointTree_,null,x0(e.pendingWriteTree_,nt()))}function YT(e,t,i,r){if(Qe(e.path))return qT(e,t,i,r);{const l=t.get(nt());i==null&&l!=null&&(i=is(l,nt()));let o=[];const c=je(e.path),h=e.operationForChild(c),p=t.children.get(c);if(p&&h){const g=i?i.getImmediateChild(c):null,E=wT(r,c);o=o.concat(YT(h,p,g,E))}return l&&(o=o.concat(D0(l,e,r,i))),o}}function qT(e,t,i,r){const l=t.get(nt());i==null&&l!=null&&(i=is(l,nt()));let o=[];return t.children.inorderTraversal((c,h)=>{const p=i?i.getImmediateChild(c):null,g=wT(r,c),E=e.operationForChild(c);E&&(o=o.concat(qT(E,h,p,g)))}),l&&(o=o.concat(D0(l,e,r,i))),o}function VT(e,t){const i=t.query,r=lc(e,i);return{hashFn:()=>(hN(t)||ke.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return r?ON(e,i._path,r):RN(e,i._path);{const o=Dx(l,i);return jh(e,i,null,o)}}}}function lc(e,t){const i=bc(t);return e.queryToTagMap.get(i)}function bc(e){return e._path.toString()+"$"+e._queryIdentifier}function L0(e,t){return e.tagToQueryMap.get(t)}function k0(e){const t=e.indexOf("$");return pe(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new dt(e.substr(0,t))}}function w0(e,t,i){const r=e.syncPointTree_.get(t);pe(r,"Missing sync point for query tag that we're tracking");const l=x0(e.pendingWriteTree_,t);return D0(r,i,l,null)}function LN(e){return e.fold((t,i,r)=>{if(i&&Ra(i))return[yc(i)];{let l=[];return i&&(l=HT(i)),vn(r,(o,c)=>{l=l.concat(c)}),l}})}function Ml(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(vN())(e._repo,e._path):e}function kN(e,t){for(let i=0;i<t.length;++i){const r=t[i];if(!r._queryParams.loadsAllData()){const l=bc(r),o=e.queryToTagMap.get(l);e.queryToTagMap.delete(l),e.tagToQueryMap.delete(o)}}}function wN(){return xN++}function MN(e,t,i){const r=t._path,l=lc(e,t),o=VT(e,i),c=e.listenProvider_.startListening(Ml(t),l,o.hashFn,o.onComplete),h=e.syncPointTree_.subtree(r);if(l)pe(!Ra(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((g,E,T)=>{if(!Qe(g)&&E&&Ra(E))return[yc(E).query];{let b=[];return E&&(b=b.concat(HT(E).map(S=>S.query))),vn(T,(S,w)=>{b=b.concat(w)}),b}});for(let g=0;g<p.length;++g){const E=p[g];e.listenProvider_.stopListening(Ml(E),lc(e,E))}}return c}class M0{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new M0(i)}node(){return this.node_}}class B0{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=Yt(this.path_,t);return new B0(this.syncTree_,i)}node(){return I0(this.syncTree_,this.path_)}}const BN=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},m_=function(e,t,i){if(!e||typeof e!="object")return e;if(pe(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return PN(e[".sv"],t,i);if(typeof e[".sv"]=="object")return UN(e[".sv"],t);pe(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},PN=function(e,t,i){switch(e){case"timestamp":return i.timestamp;default:pe(!1,"Unexpected server value: "+e)}},UN=function(e,t,i){e.hasOwnProperty("increment")||pe(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&pe(!1,"Unexpected increment value: "+r);const l=t.node();if(pe(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return r;const c=l.getValue();return typeof c!="number"?r:c+r},HN=function(e,t,i,r){return P0(t,new B0(i,e),r)},GT=function(e,t,i){return P0(e,new M0(t),i)};function P0(e,t,i){const r=e.getPriority().val(),l=m_(r,t.getImmediateChild(".priority"),i);let o;if(e.isLeafNode()){const c=e,h=m_(c.getValue(),t,i);return h!==c.getValue()||l!==c.getPriority().val()?new Xt(h,nn(l)):e}else{const c=e;return o=c,l!==c.getPriority().val()&&(o=o.updatePriority(new Xt(l))),c.forEachChild(Rt,(h,p)=>{const g=P0(p,t.getImmediateChild(h),i);g!==p&&(o=o.updateImmediateChild(h,g))}),o}}class U0{constructor(t="",i=null,r={children:{},childCount:0}){this.name=t,this.parent=i,this.node=r}}function H0(e,t){let i=t instanceof dt?t:new dt(t),r=e,l=je(i);for(;l!==null;){const o=ls(r.node.children,l)||{children:{},childCount:0};r=new U0(l,r,o),i=_t(i),l=je(i)}return r}function gs(e){return e.node.value}function XT(e,t){e.node.value=t,Yh(e)}function QT(e){return e.node.childCount>0}function FN(e){return gs(e)===void 0&&!QT(e)}function Sc(e,t){vn(e.node.children,(i,r)=>{t(new U0(i,e,r))})}function KT(e,t,i,r){i&&t(e),Sc(e,l=>{KT(l,t,!0)})}function zN(e,t,i){let r=e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function cu(e){return new dt(e.parent===null?e.name:cu(e.parent)+"/"+e.name)}function Yh(e){e.parent!==null&&jN(e.parent,e.name,e)}function jN(e,t,i){const r=FN(i),l=qi(e.node.children,t);r&&l?(delete e.node.children[t],e.node.childCount--,Yh(e)):!r&&!l&&(e.node.children[t]=i.node,e.node.childCount++,Yh(e))}const YN=/[\[\].#$\/\u0000-\u001F\u007F]/,qN=/[\[\].#$\u0000-\u001F\u007F]/,uh=10*1024*1024,WT=function(e){return typeof e=="string"&&e.length!==0&&!YN.test(e)},$T=function(e){return typeof e=="string"&&e.length!==0&&!qN.test(e)},VN=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),$T(e)},GN=function(e,t,i,r){F0(h0(e,"value"),t,i)},F0=function(e,t,i){const r=i instanceof dt?new o6(i,e):i;if(t===void 0)throw new Error(e+"contains undefined "+Wa(r));if(typeof t=="function")throw new Error(e+"contains a function "+Wa(r)+" with contents = "+t.toString());if($y(t))throw new Error(e+"contains "+t.toString()+" "+Wa(r));if(typeof t=="string"&&t.length>uh/3&&gc(t)>uh)throw new Error(e+"contains a string greater than "+uh+" utf8 bytes "+Wa(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let l=!1,o=!1;if(vn(t,(c,h)=>{if(c===".value")l=!0;else if(c!==".priority"&&c!==".sv"&&(o=!0,!WT(c)))throw new Error(e+" contains an invalid key ("+c+") "+Wa(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);c6(r,c),F0(e,h,r),f6(r)}),l&&o)throw new Error(e+' contains ".value" child '+Wa(r)+" in addition to actual children.")}},ZT=function(e,t,i,r){if(!$T(i))throw new Error(h0(e,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},XN=function(e,t,i,r){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),ZT(e,t,i)},JT=function(e,t){if(je(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},QN=function(e,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!WT(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!VN(i))throw new Error(h0(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class KN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function z0(e,t){let i=null;for(let r=0;r<t.length;r++){const l=t[r],o=l.getPath();i!==null&&!y0(o,i.path)&&(e.eventLists_.push(i),i=null),i===null&&(i={events:[],path:o}),i.events.push(l)}i&&e.eventLists_.push(i)}function eb(e,t,i){z0(e,i),tb(e,r=>y0(r,t))}function Yi(e,t,i){z0(e,i),tb(e,r=>ii(r,t)||ii(t,r))}function tb(e,t){e.recursionDepth_++;let i=!0;for(let r=0;r<e.eventLists_.length;r++){const l=e.eventLists_[r];if(l){const o=l.path;t(o)?(WN(e.eventLists_[r]),e.eventLists_[r]=null):i=!1}}i&&(e.eventLists_=[]),e.recursionDepth_--}function WN(e){for(let t=0;t<e.events.length;t++){const i=e.events[t];if(i!==null){e.events[t]=null;const r=i.getEventRunner();Il&&sn("event: "+i.toString()),ps(r)}}}const $N="repo_interrupt",ZN=25;class JN{constructor(t,i,r,l){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new KN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ec(),this.transactionQueueTree_=new U0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function e4(e,t,i){if(e.stats_=E0(e.repoInfo_),e.forceRestClient_||wx())e.server_=new Jo(e.repoInfo_,(r,l,o,c)=>{p_(e,r,l,o,c)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>g_(e,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Kt(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Fi(e.repoInfo_,t,(r,l,o,c)=>{p_(e,r,l,o,c)},r=>{g_(e,r)},r=>{n4(e,r)},e.authTokenProvider_,e.appCheckProvider_,i),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=Hx(e.repoInfo_,()=>new P6(e.stats_,e.server_)),e.infoData_=new L6,e.infoSyncTree_=new d_({startListening:(r,l,o,c)=>{let h=[];const p=e.infoData_.getNode(r._path);return p.isEmpty()||(h=Tc(e.infoSyncTree_,r._path,p),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),Y0(e,"connected",!1),e.serverSyncTree_=new d_({startListening:(r,l,o,c)=>(e.server_.listen(r,o,l,(h,p)=>{const g=c(h,p);Yi(e.eventQueue_,r._path,g)}),[]),stopListening:(r,l)=>{e.server_.unlisten(r,l)}})}function t4(e){const i=e.infoData_.getNode(new dt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function j0(e){return BN({timestamp:t4(e)})}function p_(e,t,i,r,l){e.dataUpdateCount++;const o=new dt(t);i=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,i):i;let c=[];if(l)if(r){const p=Xo(i,g=>nn(g));c=IN(e.serverSyncTree_,o,p,l)}else{const p=nn(i);c=DN(e.serverSyncTree_,o,p,l)}else if(r){const p=Xo(i,g=>nn(g));c=NN(e.serverSyncTree_,o,p)}else{const p=nn(i);c=Tc(e.serverSyncTree_,o,p)}let h=o;c.length>0&&(h=Cc(e,o)),Yi(e.eventQueue_,h,c)}function g_(e,t){Y0(e,"connected",t),t===!1&&a4(e)}function n4(e,t){vn(t,(i,r)=>{Y0(e,i,r)})}function Y0(e,t,i){const r=new dt("/.info/"+t),l=nn(i);e.infoData_.updateSnapshot(r,l);const o=Tc(e.infoSyncTree_,r,l);Yi(e.eventQueue_,r,o)}function nb(e){return e.nextWriteId_++}function i4(e,t,i,r,l){q0(e,"set",{path:t.toString(),value:i,priority:r});const o=j0(e),c=nn(i,r),h=I0(e.serverSyncTree_,t),p=GT(c,h,o),g=nb(e),E=jT(e.serverSyncTree_,t,p,g,!0);z0(e.eventQueue_,E),e.server_.put(t.toString(),c.val(!0),(b,S)=>{const w=b==="ok";w||Cn("set at "+t+" failed: "+b);const X=Za(e.serverSyncTree_,g,!w);Yi(e.eventQueue_,t,X),l4(e,l,b,S)});const T=lb(e,t);Cc(e,T),Yi(e.eventQueue_,T,[])}function a4(e){q0(e,"onDisconnectEvents");const t=j0(e),i=ec();Bh(e.onDisconnect_,nt(),(l,o)=>{const c=HN(l,o,e.serverSyncTree_,t);RT(i,l,c)});let r=[];Bh(i,nt(),(l,o)=>{r=r.concat(Tc(e.serverSyncTree_,l,o));const c=lb(e,l);Cc(e,c)}),e.onDisconnect_=ec(),Yi(e.eventQueue_,nt(),r)}function r4(e,t,i){let r;je(t._path)===".info"?r=h_(e.infoSyncTree_,t,i):r=h_(e.serverSyncTree_,t,i),eb(e.eventQueue_,t._path,r)}function E_(e,t,i){let r;je(t._path)===".info"?r=jh(e.infoSyncTree_,t,i):r=jh(e.serverSyncTree_,t,i),eb(e.eventQueue_,t._path,r)}function s4(e){e.persistentConnection_&&e.persistentConnection_.interrupt($N)}function q0(e,...t){let i="";e.persistentConnection_&&(i=e.persistentConnection_.id+":"),sn(i,...t)}function l4(e,t,i,r){t&&ps(()=>{if(i==="ok")t(null);else{const l=(i||"error").toUpperCase();let o=l;r&&(o+=": "+r);const c=new Error(o);c.code=l,t(c)}})}function ib(e,t,i){return I0(e.serverSyncTree_,t,i)||ke.EMPTY_NODE}function V0(e,t=e.transactionQueueTree_){if(t||Ac(e,t),gs(t)){const i=rb(e,t);pe(i.length>0,"Sending zero length transaction queue"),i.every(l=>l.status===0)&&u4(e,cu(t),i)}else QT(t)&&Sc(t,i=>{V0(e,i)})}function u4(e,t,i){const r=i.map(g=>g.currentWriteId),l=ib(e,t,r);let o=l;const c=l.hash();for(let g=0;g<i.length;g++){const E=i[g];pe(E.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const T=bn(t,E.path);o=o.updateChild(T,E.currentOutputSnapshotRaw)}const h=o.val(!0),p=t;e.server_.put(p.toString(),h,g=>{q0(e,"transaction put response",{path:p.toString(),status:g});let E=[];if(g==="ok"){const T=[];for(let b=0;b<i.length;b++)i[b].status=2,E=E.concat(Za(e.serverSyncTree_,i[b].currentWriteId)),i[b].onComplete&&T.push(()=>i[b].onComplete(null,!0,i[b].currentOutputSnapshotResolved)),i[b].unwatcher();Ac(e,H0(e.transactionQueueTree_,t)),V0(e,e.transactionQueueTree_),Yi(e.eventQueue_,t,E);for(let b=0;b<T.length;b++)ps(T[b])}else{if(g==="datastale")for(let T=0;T<i.length;T++)i[T].status===3?i[T].status=4:i[T].status=0;else{Cn("transaction at "+p.toString()+" failed: "+g);for(let T=0;T<i.length;T++)i[T].status=4,i[T].abortReason=g}Cc(e,t)}},c)}function Cc(e,t){const i=ab(e,t),r=cu(i),l=rb(e,i);return o4(e,l,r),r}function o4(e,t,i){if(t.length===0)return;const r=[];let l=[];const c=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const p=t[h],g=bn(i,p.path);let E=!1,T;if(pe(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)E=!0,T=p.abortReason,l=l.concat(Za(e.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=ZN)E=!0,T="maxretry",l=l.concat(Za(e.serverSyncTree_,p.currentWriteId,!0));else{const b=ib(e,p.path,c);p.currentInputSnapshot=b;const S=t[h].update(b.val());if(S!==void 0){F0("transaction failed: Data returned ",S,p.path);let w=nn(S);typeof S=="object"&&S!=null&&qi(S,".priority")||(w=w.updatePriority(b.getPriority()));const $=p.currentWriteId,G=j0(e),de=GT(w,b,G);p.currentOutputSnapshotRaw=w,p.currentOutputSnapshotResolved=de,p.currentWriteId=nb(e),c.splice(c.indexOf($),1),l=l.concat(jT(e.serverSyncTree_,p.path,de,p.currentWriteId,p.applyLocally)),l=l.concat(Za(e.serverSyncTree_,$,!0))}else E=!0,T="nodata",l=l.concat(Za(e.serverSyncTree_,p.currentWriteId,!0))}Yi(e.eventQueue_,i,l),l=[],E&&(t[h].status=2,(function(b){setTimeout(b,Math.floor(0))})(t[h].unwatcher),t[h].onComplete&&(T==="nodata"?r.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):r.push(()=>t[h].onComplete(new Error(T),!1,null))))}Ac(e,e.transactionQueueTree_);for(let h=0;h<r.length;h++)ps(r[h]);V0(e,e.transactionQueueTree_)}function ab(e,t){let i,r=e.transactionQueueTree_;for(i=je(t);i!==null&&gs(r)===void 0;)r=H0(r,i),t=_t(t),i=je(t);return r}function rb(e,t){const i=[];return sb(e,t,i),i.sort((r,l)=>r.order-l.order),i}function sb(e,t,i){const r=gs(t);if(r)for(let l=0;l<r.length;l++)i.push(r[l]);Sc(t,l=>{sb(e,l,i)})}function Ac(e,t){const i=gs(t);if(i){let r=0;for(let l=0;l<i.length;l++)i[l].status!==2&&(i[r]=i[l],r++);i.length=r,XT(t,i.length>0?i:void 0)}Sc(t,r=>{Ac(e,r)})}function lb(e,t){const i=cu(ab(e,t)),r=H0(e.transactionQueueTree_,t);return zN(r,l=>{oh(e,l)}),oh(e,r),KT(r,l=>{oh(e,l)}),i}function oh(e,t){const i=gs(t);if(i){const r=[];let l=[],o=-1;for(let c=0;c<i.length;c++)i[c].status===3||(i[c].status===1?(pe(o===c-1,"All SENT items should be at beginning of queue."),o=c,i[c].status=3,i[c].abortReason="set"):(pe(i[c].status===0,"Unexpected transaction status in abort"),i[c].unwatcher(),l=l.concat(Za(e.serverSyncTree_,i[c].currentWriteId,!0)),i[c].onComplete&&r.push(i[c].onComplete.bind(null,new Error("set"),!1,null))));o===-1?XT(t,void 0):i.length=o+1,Yi(e.eventQueue_,cu(t),l);for(let c=0;c<r.length;c++)ps(r[c])}}function c4(e){let t="";const i=e.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let l=i[r];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}function f4(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const i of e.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Cn(`Invalid query segment '${i}' in query '${e}'`)}return t}const __=function(e,t){const i=d4(e),r=i.namespace;i.domain==="firebase.com"&&ji(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&ji("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||vx();const l=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new oT(i.host,i.secure,r,l,t,"",r!==i.subdomain),path:new dt(i.pathString)}},d4=function(e){let t="",i="",r="",l="",o="",c=!0,h="https",p=443;if(typeof e=="string"){let g=e.indexOf("//");g>=0&&(h=e.substring(0,g-1),e=e.substring(g+2));let E=e.indexOf("/");E===-1&&(E=e.length);let T=e.indexOf("?");T===-1&&(T=e.length),t=e.substring(0,Math.min(E,T)),E<T&&(l=c4(e.substring(E,T)));const b=f4(e.substring(Math.min(e.length,T)));g=t.indexOf(":"),g>=0?(c=h==="https"||h==="wss",p=parseInt(t.substring(g+1),10)):g=t.length;const S=t.slice(0,g);if(S.toLowerCase()==="localhost")i="localhost";else if(S.split(".").length<=2)i=S;else{const w=t.indexOf(".");r=t.substring(0,w).toLowerCase(),i=t.substring(w+1),o=r}"ns"in b&&(o=b.ns)}return{host:t,port:p,domain:i,subdomain:r,secure:c,scheme:h,pathString:l,namespace:o}};class h4{constructor(t,i,r,l){this.eventType=t,this.eventRegistration=i,this.snapshot=r,this.prevName=l}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Kt(this.snapshot.exportVal())}}class m4{constructor(t,i,r){this.eventRegistration=t,this.error=i,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class p4{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return pe(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class G0{constructor(t,i,r,l){this._repo=t,this._path=i,this._queryParams=r,this._orderByCalled=l}get key(){return Qe(this._path)?null:_T(this._path)}get ref(){return new Oa(this._repo,this._path)}get _queryIdentifier(){const t=t_(this._queryParams),i=p0(t);return i==="{}"?"default":i}get _queryObject(){return t_(this._queryParams)}isEqual(t){if(t=ru(t),!(t instanceof G0))return!1;const i=this._repo===t._repo,r=y0(this._path,t._path),l=this._queryIdentifier===t._queryIdentifier;return i&&r&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+u6(this._path)}}class Oa extends G0{constructor(t,i){super(t,i,new C0,!1)}get parent(){const t=TT(this._path);return t===null?null:new Oa(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class uc{constructor(t,i,r){this._node=t,this.ref=i,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new dt(t),r=qh(this.ref,t);return new uc(this._node.getChild(i),r,Rt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,l)=>t(new uc(l,qh(this.ref,r),Rt)))}hasChild(t){const i=new dt(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function va(e,t){return e=ru(e),e._checkNotDeleted("ref"),t!==void 0?qh(e._root,t):e._root}function qh(e,t){return e=ru(e),je(e._path)===null?XN("child","path",t):ZT("child","path",t),new Oa(e._repo,Yt(e._path,t))}function g4(e){return JT("remove",e._path),eu(e,null)}function eu(e,t){e=ru(e),JT("set",e._path),GN("set",t,e._path);const i=new pc;return i4(e._repo,e._path,t,null,i.wrapCallback(()=>{})),i.promise}class X0{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const r=i._queryParams.getIndex();return new h4("value",this,new uc(t.snapshotNode,new Oa(i._repo,i._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new m4(this,t,i):null}matches(t){return t instanceof X0?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function E4(e,t,i,r,l){let o;if(typeof r=="object"&&(o=void 0,l=r),typeof r=="function"&&(o=r),l&&l.onlyOnce){const p=i,g=(E,T)=>{E_(e._repo,e,h),p(E,T)};g.userCallback=i.userCallback,g.context=i.context,i=g}const c=new p4(i,o||void 0),h=new X0(c);return r4(e._repo,e,h),()=>E_(e._repo,e,h)}function Q0(e,t,i,r){return E4(e,"value",t,i,r)}_N(Oa);AN(Oa);const _4="FIREBASE_DATABASE_EMULATOR_HOST",Vh={};let y4=!1;function T4(e,t,i,r){const l=t.lastIndexOf(":"),o=t.substring(0,l),c=d0(o);e.repoInfo_=new oT(t,c,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,i),r&&(e.authTokenProvider_=r)}function b4(e,t,i,r,l){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||ji("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),sn("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let c=__(o,l),h=c.repoInfo,p;typeof process<"u"&&PE&&(p=PE[_4]),p?(o=`http://${p}?ns=${h.namespace}`,c=__(o,l),h=c.repoInfo):c.repoInfo.secure;const g=new Bx(e.name,e.options,t);QN("Invalid Firebase Database URL",c),Qe(c.path)||ji("Database URL must point to the root of a Firebase Database (not including a child path).");const E=C4(h,e,g,new Mx(e,i));return new A4(E,e)}function S4(e,t){const i=Vh[t];(!i||i[e.key]!==e)&&ji(`Database ${t}(${e.repoInfo_}) has already been deleted.`),s4(e),delete i[e.key]}function C4(e,t,i,r){let l=Vh[t.name];l||(l={},Vh[t.name]=l);let o=l[e.toURLString()];return o&&ji("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new JN(e,y4,i,r),l[e.toURLString()]=o,o}class A4{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(e4(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Oa(this._repo,nt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(S4(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&ji("Cannot call "+t+" on a deleted database.")}}function v4(e=Vy(),t){const i=tx(e,"database").getImmediate({identifier:t});if(!i._instanceStarted){const r=FA("database");r&&x4(i,...r)}return i}function x4(e,t,i,r={}){e=ru(e),e._checkNotDeleted("useEmulator");const l=`${t}:${i}`,o=e._repoInternal;if(e._instanceStarted){if(l===e._repoInternal.repoInfo_.host&&Qo(r,o.repoInfo_.emulatorOptions))return;ji("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&ji('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new jo(jo.OWNER);else if(r.mockUserToken){const h=typeof r.mockUserToken=="string"?r.mockUserToken:jA(r.mockUserToken,e.app.options.projectId);c=new jo(h)}d0(t)&&(zA(t),VA("Database",!0)),T4(o,l,r,c)}function N4(e){yx(rx),Ko(new Vl("database",(t,{instanceIdentifier:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return b4(r,l,o,i)},"PUBLIC").setMultipleInstances(!0)),es(UE,HE,e),es(UE,HE,"esm2020")}Fi.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Fi.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};N4();const R4={apiKey:"AIzaSyAJDqSAHJDvUrgW6clk3BaNqUz5Gq7E3hY",authDomain:"anansi-party-tracker.firebaseapp.com",databaseURL:"https://anansi-party-tracker-default-rtdb.firebaseio.com",projectId:"anansi-party-tracker",storageBucket:"anansi-party-tracker.firebasestorage.app",messagingSenderId:"627434109412",appId:"1:627434109412:web:f4f9676f30095aa8feaff1"},O4=sx().length===0?qy(R4):Vy(),xa=v4(O4),rn=[0,300,900,2700,6500,14e3,23e3,34e3,48e3,64e3,85e3,1e5,12e4,14e4,165e3,195e3,225e3,265e3,305e3,355e3];function D4(){const[e,t]=re.useState("XP"),[i,r]=re.useState(0),[l,o]=re.useState(1),[c,h]=re.useState(""),[p,g]=re.useState(""),[E,T]=re.useState([]),[b,S]=re.useState(1),[w,X]=re.useState([""]),[$,G]=re.useState(0),[de,j]=re.useState(""),ye=()=>{const R=["DRAGON","SWORD","MAGIC","QUEST","HERO","DUNGEON","WIZARD","ROGUE"],x=R[Math.floor(Math.random()*R.length)],U=Math.floor(Math.random()*9999).toString().padStart(4,"0");return`${x}-${U}`};re.useEffect(()=>{const R=JSON.parse(localStorage.getItem("partyData")||"{}");if(R.totalXP!==void 0&&r(R.totalXP),R.level!==void 0&&o(R.level),R.mode!==void 0&&t(R.mode),R.partyName!==void 0&&h(R.partyName),R.partyCode!==void 0&&g(R.partyCode),Array.isArray(R.characterNames)&&X(R.characterNames),R.numPlayers!==void 0?S(R.numPlayers):Array.isArray(R.characterNames)&&S(R.characterNames.length||1),!R.partyCode){const x=ye();g(x)}},[]);const Ae=()=>{try{const R=JSON.parse(localStorage.getItem("characterSheets_all")||"[]");if(Array.isArray(R)){const x=R.map(U=>({...U,party:U.party?.trim()||""}));T(x)}}catch(R){console.error("Error loading character sheets:",R)}};re.useEffect(()=>{Ae();const R=U=>{U.key==="characterSheets_all"&&Ae()};window.addEventListener("storage",R);const x=setInterval(()=>{Ae()},2e3);return()=>{window.removeEventListener("storage",R),clearInterval(x)}},[]),re.useEffect(()=>{if(!p)return;const R=va(xa,`parties/${p}`),x=Q0(R,U=>{const te=U.val();te&&(te.totalXP!==void 0&&r(te.totalXP),te.level!==void 0&&o(te.level),te.mode!==void 0&&t(te.mode),Array.isArray(te.characterNames)&&X(te.characterNames),te.numPlayers!==void 0&&S(te.numPlayers),te.partyName!==void 0&&h(te.partyName))});return()=>x()},[p]);const V=Array.from(new Set(E.map(R=>R.party).filter(Boolean))),fe=()=>p?`${window.location.origin+window.location.pathname.replace(/\/$/,"")}/pt-pv.html?code=${p}`:"",Se=R=>{if(!p)return;const x=va(xa,`parties/${p}`);eu(x,{...R,lastUpdated:Date.now()}).catch(U=>{console.error("Error saving to Firebase:",U)})};re.useEffect(()=>{if(!p)return;let R=1;for(let U=rn.length-1;U>=0;U--)if(i>=rn[U]){R=U+1;break}R!==l&&o(R);const x={totalXP:i,level:R,mode:e,characterNames:w,partyName:c,partyCode:p,numPlayers:b};localStorage.setItem("partyData",JSON.stringify(x)),Se(x),j(fe())},[i,e,JSON.stringify(w),c,p,b]);const ve=(R,x)=>{if(!(!c||c==="__custom"))try{const te=JSON.parse(localStorage.getItem("characterSheets_all")||"[]").map(he=>he.party===c?{...he,xp:R,level:x}:he);localStorage.setItem("characterSheets_all",JSON.stringify(te)),te.forEach(he=>{he.party===c&&he.filename&&localStorage.setItem(he.filename,JSON.stringify(he))}),T(te),window.dispatchEvent(new CustomEvent("characterSheetsUpdated"))}catch(U){console.error("Error updating character sheets:",U)}},xe=R=>{const x=Math.min(i+Math.floor(R/b),rn[19]);r(x);let U=1;for(let te=rn.length-1;te>=0;te--)if(x>=rn[te]){U=te+1;break}ve(x,U)},_e=R=>{const x=Math.max(i-Math.floor(R/b),0);r(x);let U=1;for(let te=rn.length-1;te>=0;te--)if(x>=rn[te]){U=te+1;break}ve(x,U)},q=R=>{const x=Math.max(0,Math.min(R,rn[19]));r(x);let U=1;for(let te=rn.length-1;te>=0;te--)if(x>=rn[te]){U=te+1;break}ve(x,U)},Le=()=>{if(l>=20)return;const R=rn[l],x=l+1;r(R),ve(R,x)},se=R=>{const x=Number(R.target.value);S(x),X(U=>{const te=[...U];for(;te.length<x;)te.push("");for(;te.length>x;)te.pop();return te})},ie=(R,x)=>{const U=[...w];U[R]=x,X(U)},P=R=>{if(h(R),R&&R!=="__custom"){const x=E.filter(te=>te.party===R),U=x.map(te=>te.name);if(X(U.length?U:[""]),S(U.length||1),x.length>0){const te=Math.max(...x.map(qe=>qe.level)),he=rn[Math.min(te-1,rn.length-1)]||0;r(he)}}},Z=()=>{const R=de||fe();(!window.playerViewWindow||window.playerViewWindow.closed)&&(window.playerViewWindow=window.open(R,"partyTrackerView"))},Te=()=>{const R=de||fe();navigator.clipboard.writeText(R).then(()=>{alert("Player View URL copied to clipboard!")}).catch(()=>{alert("Failed to copy URL.")})},Oe=()=>{const R=ye();g(R);const x={totalXP:0,level:1,mode:"XP",partyName:"",partyCode:R,characterNames:[""],numPlayers:1};localStorage.setItem("partyData",JSON.stringify(x));const U=va(xa,`parties/${R}`);eu(U,{...x,lastUpdated:Date.now()}).catch(te=>{console.error("Error creating party in Firebase:",te)}),t("XP"),r(0),o(1),h(""),S(1),X([""]),j(()=>`${window.location.origin+window.location.pathname.replace(/\/$/,"")}/pt-pv.html?code=${R}`)},O=()=>{if(confirm("Reset this party?")){const R={totalXP:0,level:1,mode:"XP",partyName:"",partyCode:p,characterNames:[""],numPlayers:1};localStorage.setItem("partyData",JSON.stringify(R)),Se(R),t("XP"),r(0),o(1),h(""),S(1),X([""])}},L=()=>{const R={totalXP:i,level:l,mode:e,partyName:c,partyCode:p,characterNames:w,numPlayers:b},x=new Blob([JSON.stringify(R,null,2)],{type:"application/json"}),U=URL.createObjectURL(x),te=document.createElement("a");te.href=U,te.download=`${c.replace(/\s+/g,"_")||"party"}_party.json`,te.click(),URL.revokeObjectURL(U)},W=R=>{const x=R.target.files?.[0];if(!x)return;const U=new FileReader;U.onload=te=>{try{const he=JSON.parse(te.target?.result);he.totalXP!==void 0&&q(he.totalXP),he.mode!==void 0&&t(he.mode),he.partyName&&h(he.partyName),he.partyCode&&g(he.partyCode),Array.isArray(he.characterNames)&&X(he.characterNames),he.numPlayers&&S(he.numPlayers)}catch{alert("Invalid JSON.")}},U.readAsText(x),R.target.value=""},v=Math.max(0,i-rn[l-1]),ge=l<20?rn[l]-rn[l-1]:0;return _.jsxs("div",{children:[_.jsx("h2",{children:"Party Tracker"}),_.jsxs("div",{style:{marginBottom:20},children:[_.jsx(jt,{onClick:Z,children:"Open Player View"}),_.jsx(jt,{onClick:Te,style:{marginLeft:10},children:"Copy Player View URL"}),_.jsx(jt,{onClick:Oe,style:{marginLeft:10},children:"Create New Party"}),_.jsx(jt,{onClick:Ae,style:{marginLeft:10},children:"Refresh Parties"})]}),_.jsxs("div",{style:{marginTop:20},children:[_.jsxs("label",{children:[_.jsx("input",{type:"radio",value:"XP",checked:e==="XP",onChange:()=>t("XP")})," XP Based"]}),_.jsxs("label",{style:{marginLeft:10},children:[_.jsx("input",{type:"radio",value:"Milestone",checked:e==="Milestone",onChange:()=>t("Milestone")})," Milestone"]})]}),e==="XP"?_.jsxs("div",{style:{marginTop:10},children:[_.jsx("input",{type:"number",placeholder:"XP amount",value:$,onChange:R=>G(Number(R.target.value))}),_.jsx(jt,{onClick:()=>xe($),style:{marginLeft:10},children:"Add XP"}),_.jsx(jt,{onClick:()=>_e($),style:{marginLeft:10},children:"Subtract XP"}),_.jsx(jt,{onClick:()=>q($),style:{marginLeft:10},children:"Set XP"})]}):_.jsx("div",{style:{marginTop:10},children:_.jsx(jt,{onClick:Le,children:"Level Up"})}),_.jsx("div",{style:{marginTop:20},children:e==="XP"?_.jsxs("p",{children:["Level ",l," | XP to next level: ",v," / ",ge]}):_.jsxs("p",{children:["Level ",l]})}),_.jsxs("div",{style:{margin:"20px 0"},children:[_.jsxs("label",{children:["Select Party:"," ",_.jsxs("select",{value:c,onChange:R=>P(R.target.value),children:[_.jsx("option",{value:"",children:"-- choose --"}),V.map(R=>_.jsx("option",{value:R,children:R},R)),_.jsx("option",{value:"__custom",children:"Custom..."})]})]}),(c==="__custom"||c&&!V.includes(c))&&_.jsx("div",{style:{marginTop:10},children:_.jsxs("label",{children:["Custom Name:"," ",_.jsx("input",{type:"text",placeholder:"Enter custom party name",value:c==="__custom"?"":c,onChange:R=>h(R.target.value)})]})})]}),_.jsxs("div",{style:{marginTop:20},children:[_.jsxs("label",{children:["Number of Players:"," ",_.jsx("select",{value:b,onChange:se,children:[...Array(20)].map((R,x)=>_.jsx("option",{value:x+1,children:x+1},x+1))})]}),_.jsx("div",{style:{marginTop:10},children:w.map((R,x)=>_.jsx("input",{type:"text",placeholder:`Player ${x+1} Name`,value:R,onChange:U=>ie(x,U.target.value),style:{fontSize:"1.1em",margin:5}},x))})]}),_.jsxs("div",{style:{marginTop:20},children:[_.jsx(jt,{onClick:O,type:"danger",children:"Reset Party"}),_.jsxs("div",{style:{marginTop:10},children:[_.jsx(jt,{onClick:L,style:{marginRight:10},children:"Export JSON"}),_.jsx(jt,{onClick:()=>document.getElementById("loadJsonInput")?.click(),children:"Load JSON"}),_.jsx("input",{id:"loadJsonInput",type:"file",accept:".json",style:{display:"none"},onChange:W})]})]})]})}function I4(){const e=["rainbow","red","green","blue","purple","orange","custom"],t=["black","white","gold","silver","red","blue","custom"],[i,r]=re.useState(""),[l,o]=re.useState("rainbow"),[c,h]=re.useState(!1),[p,g]=re.useState(""),[E,T]=re.useState(!0),[b,S]=re.useState(!0),[w,X]=re.useState(""),[$,G]=re.useState("black"),[de,j]=re.useState(!1),[ye,Ae]=re.useState("");re.useEffect(()=>{const se=()=>{try{const Z=JSON.parse(localStorage.getItem("partyData")||"{}").partyCode||"";console.log("Settings: Loaded party code:",Z),r(Z)}catch(P){console.error("Error loading party code:",P)}};se();const ie=setInterval(se,2e3);return()=>clearInterval(ie)},[]),re.useEffect(()=>{if(!i){console.log("Settings: No party code, skipping Firebase listener");return}console.log("Settings: Setting up Firebase listener for:",i);const se=va(xa,`parties/${i}/settings`),ie=Q0(se,P=>{const Z=P.val();if(console.log("Settings: Firebase data received:",Z),!Z){console.log("Settings: No data yet, using defaults");return}Z.xpBarColor&&(e.includes(Z.xpBarColor)?(o(Z.xpBarColor),h(!1)):(o("custom"),g(Z.xpBarColor),h(!0))),Z.fontColor&&(t.includes(Z.fontColor)?(G(Z.fontColor),j(!1)):(G("custom"),Ae(Z.fontColor),j(!0))),Z.backgroundImageUrl!==void 0&&X(Z.backgroundImageUrl),Z.showPartyTitle!==void 0&&T(Z.showPartyTitle),Z.showPartyCode!==void 0&&S(Z.showPartyCode)},P=>{console.error("Settings: Firebase error:",P)});return()=>ie()},[i]);const V=se=>{if(!i){console.warn("Settings: Cannot save, no party code");return}console.log("Settings: Saving to Firebase:",se);const ie=va(xa,`parties/${i}/settings`);eu(ie,se).catch(P=>{console.error("Error saving settings:",P)})},fe=se=>{const ie=se.target.value;ie==="custom"?(o("custom"),h(!0),p&&V({xpBarColor:p,fontColor:de?ye:$,backgroundImageUrl:w,showPartyTitle:E,showPartyCode:b})):(o(ie),h(!1),V({xpBarColor:ie,fontColor:de?ye:$,backgroundImageUrl:w,showPartyTitle:E,showPartyCode:b}))},Se=se=>{const ie=se.target.value;g(ie),/^#([0-9A-Fa-f]{6})$/.test(ie)&&V({xpBarColor:ie,fontColor:de?ye:$,backgroundImageUrl:w,showPartyTitle:E,showPartyCode:b})},ve=se=>{const ie=se.target.value;ie==="custom"?(G("custom"),j(!0),ye&&V({xpBarColor:c?p:l,fontColor:ye,backgroundImageUrl:w,showPartyTitle:E,showPartyCode:b})):(G(ie),j(!1),V({xpBarColor:c?p:l,fontColor:ie,backgroundImageUrl:w,showPartyTitle:E,showPartyCode:b}))},xe=se=>{const ie=se.target.value;Ae(ie),/^#([0-9A-Fa-f]{6})$/.test(ie)&&V({xpBarColor:c?p:l,fontColor:ie,backgroundImageUrl:w,showPartyTitle:E,showPartyCode:b})},_e=se=>{const ie=se.target.value;X(ie),V({xpBarColor:c?p:l,fontColor:de?ye:$,backgroundImageUrl:ie,showPartyTitle:E,showPartyCode:b})},q=()=>{const se=!E;T(se),V({xpBarColor:c?p:l,fontColor:de?ye:$,backgroundImageUrl:w,showPartyTitle:se,showPartyCode:b})},Le=()=>{const se=!b;S(se),V({xpBarColor:c?p:l,fontColor:de?ye:$,backgroundImageUrl:w,showPartyTitle:E,showPartyCode:se})};return i?_.jsxs("div",{style:{marginTop:"20px"},children:[_.jsx("h3",{children:"Settings"}),_.jsxs("p",{style:{fontSize:"0.9em",color:"#666",marginBottom:"15px"},children:["Settings sync in real time across all devices for party:"," ",_.jsx("strong",{children:i})]}),_.jsxs("div",{style:{marginBottom:"15px"},children:[_.jsxs("label",{children:["XP Bar Color:"," ",_.jsx("select",{value:c?"custom":l,onChange:fe,children:e.map(se=>_.jsx("option",{value:se,children:se.charAt(0).toUpperCase()+se.slice(1)},se))})]}),c&&_.jsx("input",{type:"text",placeholder:"#RRGGBB",value:p,onChange:Se,style:{marginLeft:"10px"}})]}),_.jsx("div",{style:{marginBottom:"15px"},children:_.jsxs("label",{children:["Background Image URL:"," ",_.jsx("input",{type:"text",placeholder:"https://example.com/image.jpg",value:w,onChange:_e,style:{width:"300px"}})]})}),_.jsxs("div",{style:{marginBottom:"15px"},children:[_.jsxs("label",{children:["Font Color:"," ",_.jsx("select",{value:de?"custom":$,onChange:ve,children:t.map(se=>_.jsx("option",{value:se,children:se.charAt(0).toUpperCase()+se.slice(1)},se))})]}),de&&_.jsx("input",{type:"text",placeholder:"#RRGGBB",value:ye,onChange:xe,style:{marginLeft:"10px"}})]}),_.jsx("div",{style:{marginTop:"10px"},children:_.jsxs("label",{children:[_.jsx("input",{type:"checkbox",checked:E,onChange:q}),"Show Party Tracker Title"]})}),_.jsx("div",{style:{marginTop:"10px"},children:_.jsxs("label",{children:[_.jsx("input",{type:"checkbox",checked:b,onChange:Le}),"Show Party Code"]})})]}):_.jsxs("div",{style:{marginTop:"20px"},children:[_.jsx("h3",{children:"Settings"}),_.jsx("p",{style:{color:"#666"},children:"Please create or load a party first to access settings."}),_.jsx("p",{style:{color:"#999",fontSize:"0.9em",marginTop:"10px"},children:'Tip: Create a party in the "Party Tracker" tab first, then come back here.'})]})}const ub="Matriarch Axe Beak",ob="Large",cb="Beast",fb=[],db="Unaligned",hb=13,mb=85,pb="10d10 + 30",gb=2,Eb=12,_b={walk:50,climb:null,fly:null,swim:null,burrow:null},yb={str:{score:17,mod:3,save:3},dex:{score:14,mod:2,save:4},con:{score:16,mod:3,save:3},int:{score:2,mod:-4,save:-4},wis:{score:12,mod:1,save:1},cha:{score:7,mod:-2,save:-2}},Tb={Perception:3},bb=[],Sb=[],Cb=[],Ab=["Passive Perception (13)"],vb=[],xb=3,Nb=700,Rb=[{name:"Keen Sight",desc:"The axe beak has advantage on Wisdom (Perception) checks that rely on sight."},{name:"Brood Guardian",desc:"While within 30 feet of one or more other axe beaks, the Matriarch has advantage on attack rolls against a creature that has damaged any of those allies since the end of her last turn."},{name:"Trampling Charge",desc:"If the Matriarch moves at least 20 feet straight toward a creature and then hits it with a Beak attack on the same turn, that target must succeed on a DC 13 Strength saving throw or be knocked prone. The Matriarch can make one Talon attack against that target as a bonus action."}],Ob=[{name:"Multiattack",desc:"The Matriarch makes two attacks: one with her Beak and one with her Talons."},{name:"Beak",desc:"*Melee Weapon Attack:* +5 to hit, reach 5 ft., one target. *Hit:* 10 (2d6 + 3) piercing damage."},{name:"Talons",desc:"*Melee Weapon Attack:* +5 to hit, reach 5 ft., one target. *Hit:* 9 (2d4 + 3) slashing damage."}],Db=[{name:"Rallying Cry (1/Day)",desc:"The Matriarch lets out a thunderous screech. Up to three other axe beaks of her choice within 60 feet that can hear her can immediately move up to half their speed without provoking opportunity attacks. Each gains advantage on the next attack roll it makes before the start of the Matriarchs next turn."}],Ib=[],Lb="",kb=[],wb="",L4={name:ub,size:ob,type:cb,tags:fb,alignment:db,armorClass:hb,hitPoints:mb,hitDice:pb,initiative:gb,initiativeAverage:Eb,speed:_b,abilities:yb,skills:Tb,resistances:bb,immunities:Sb,gear:Cb,senses:Ab,languages:vb,challengeRating:xb,lairXp:Nb,traits:Rb,actions:Ob,bonusActions:Db,reactions:Ib,legendarySubtitle:Lb,legendaryActions:kb,imageUrl:wb},K0=Object.freeze(Object.defineProperty({__proto__:null,abilities:yb,actions:Ob,alignment:db,armorClass:hb,bonusActions:Db,challengeRating:xb,default:L4,gear:Cb,hitDice:pb,hitPoints:mb,imageUrl:wb,immunities:Sb,initiative:gb,initiativeAverage:Eb,lairXp:Nb,languages:vb,legendaryActions:kb,legendarySubtitle:Lb,name:ub,reactions:Ib,resistances:bb,senses:Ab,size:ob,skills:Tb,speed:_b,tags:fb,traits:Rb,type:cb},Symbol.toStringTag,{value:"Module"})),Mb="Black Dragon - Adult",Bb="Huge",Pb="Dragon",Ub=["Chromatic"],Hb="Chaotic Evil",Fb=19,zb=195,jb="17d12 + 85",Yb=12,qb=22,Vb={walk:40,climb:null,fly:80,swim:40,burrow:null},Gb={str:{score:23,mod:6,save:6},dex:{score:14,mod:2,save:7},con:{score:21,mod:5,save:5},int:{score:14,mod:2,save:2},wis:{score:13,mod:1,save:6},cha:{score:19,mod:4,save:4}},Xb={Stealth:7,Perception:11},Qb=[],Kb=["Acid"],Wb=[],$b=["Blindsight (60ft.)","Darkvision (120 ft.)","Passive Perception (21)"],Zb=["Common","Draconic"],Jb=14,e2=13e3,t2=[{name:"Amphibious",desc:"The dragon can breathe air and water."},{name:"Legendary Resistance",desc:"If the dragon fails a saving throw, it can choose to succeed instead. *(3/Day or 4/Day in Lair)*"}],n2=[{name:"Multiattack",desc:"The dragon makes three *Rend* attacks. It can replace one attack with a use of Spellcasting to cast *Melf's Acid Arrow* (Level 3)."},{name:"Rend",desc:"*Melee Attack Roll:* +11, reach 10 ft. *Hit:* 13 (2d6 + 6) Slashing damage plus 4 (1d8) Acid damage."},{name:"Acid Breath *(Recharge 5-6)*",desc:"*Dexterity Saving Throw:* DC 18, each creature in a 60-foot-long, 5-foot-wide line. *Failure:* 54 (12d8) Acid damage. *Success:* Half damage."},{name:"Spellcasting",desc:`The dragon casts one of the following spells, requiring no Material components and using Charisma as the spellcasting ability (spell save DC 17, +9 to hit with spell attacks):

**At Will:** *Detect Magic*, *Fear*, *Melfs Acid Arrow* (level 3).

**1/Day Each:** *Speak with Dead*, *Vitriolic Sphere*`}],i2=[],a2=[],r2="Legendary Action Uses: 3 (4 in Lair). Immediately after another creature's turn, the dragon can expend a use to take one of the following actions. The dragon regains all expended uses at the start of each of its turns.",s2=[{name:"Cloud of Insects",desc:"*Dexterity Saving Throw:* DC 17, one creature the dragon can see within 120 feet. *Failure:* 22 (4d10) Poison damage, and the target has Disadvantage on saving throws to maintain Concentration until the end of its next turn. *Failure or Success:* The dragon cant take this action again until the start of its next turn."},{name:"Frightful Presence",desc:"The dragon uses Spellcasting to cast *Fear*. The dragon cant take this action again until the start of its next turn."},{name:"Pounce",desc:"The dragon can move up to half its speed, and it makes one *Rend* attack."}],l2="https://www.dndbeyond.com/avatars/thumbnails/47138/553/1000/1000/638741963688798487.png",k4={name:Mb,size:Bb,type:Pb,tags:Ub,alignment:Hb,armorClass:Fb,hitPoints:zb,hitDice:jb,initiative:Yb,initiativeAverage:qb,speed:Vb,abilities:Gb,skills:Xb,resistances:Qb,immunities:Kb,gear:Wb,senses:$b,languages:Zb,challengeRating:Jb,lairXp:e2,traits:t2,actions:n2,bonusActions:i2,reactions:a2,legendarySubtitle:r2,legendaryActions:s2,imageUrl:l2},W0=Object.freeze(Object.defineProperty({__proto__:null,abilities:Gb,actions:n2,alignment:Hb,armorClass:Fb,bonusActions:i2,challengeRating:Jb,default:k4,gear:Wb,hitDice:jb,hitPoints:zb,imageUrl:l2,immunities:Kb,initiative:Yb,initiativeAverage:qb,lairXp:e2,languages:Zb,legendaryActions:s2,legendarySubtitle:r2,name:Mb,reactions:a2,resistances:Qb,senses:$b,size:Bb,skills:Xb,speed:Vb,tags:Ub,traits:t2,type:Pb},Symbol.toStringTag,{value:"Module"})),u2="Goblin - Minion",o2="Small",c2="Fey",f2=["Goblinoid"],d2="Chaotic Neutral",h2=12,m2=7,p2={walk:30,climb:null,fly:null,swim:null,burrow:null},g2=2,E2={str:{score:8,mod:-1,save:-1},dex:{score:15,mod:2,save:2},con:{score:10,mod:0,save:0},int:{score:10,mod:0,save:0},wis:{score:8,mod:-1,save:-1},cha:{score:8,mod:-1,save:-1}},_2={Stealth:6,Perception:2},y2=[],T2=[],b2=["Daggers (3)"],S2=["Darkvision (60 ft.)","Passive Perception (9)"],C2=["Common","Goblin"],A2=.125,v2=[],x2=[{name:"Dagger",desc:"*Melee or Attack Roll:* +4, reach 5ft. or range 20/60ft. *Hit:* 4 (1d4 + 2). Piercing Damage."}],N2=[{name:"Nimble Escape",desc:"The goblin takes the *Disengage* or *Hide* action."}],R2=[],O2=[],D2="https://www.dndbeyond.com/avatars/thumbnails/47138/924/1000/1000/638741964201480855.png",w4={name:u2,size:o2,type:c2,tags:f2,alignment:d2,armorClass:h2,hitPoints:m2,speed:p2,initiative:g2,abilities:E2,skills:_2,resistances:y2,immunities:T2,gear:b2,senses:S2,languages:C2,challengeRating:A2,traits:v2,actions:x2,bonusActions:N2,reactions:R2,legendaryActions:O2,imageUrl:D2},$0=Object.freeze(Object.defineProperty({__proto__:null,abilities:E2,actions:x2,alignment:d2,armorClass:h2,bonusActions:N2,challengeRating:A2,default:w4,gear:b2,hitPoints:m2,imageUrl:D2,immunities:T2,initiative:g2,languages:C2,legendaryActions:O2,name:u2,reactions:R2,resistances:y2,senses:S2,size:o2,skills:_2,speed:p2,tags:f2,traits:v2,type:c2},Symbol.toStringTag,{value:"Module"}));function y_(e){const t=[],i=String(e||"");let r=i.indexOf(","),l=0,o=!1;for(;!o;){r===-1&&(r=i.length,o=!0);const c=i.slice(l,r).trim();(c||!o)&&t.push(c),l=r+1,r=i.indexOf(",",l)}return t}function I2(e,t){const i={};return(e[e.length-1]===""?[...e,""]:e).join((i.padRight?" ":"")+","+(i.padLeft===!1?"":" ")).trim()}const M4=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,B4=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,P4={};function T_(e,t){return(P4.jsx?B4:M4).test(e)}const U4=/[ \t\n\f\r]/g;function H4(e){return typeof e=="object"?e.type==="text"?b_(e.value):!1:b_(e)}function b_(e){return e.replace(U4,"")===""}let fu=class{constructor(t,i,r){this.normal=i,this.property=t,r&&(this.space=r)}};fu.prototype.normal={};fu.prototype.property={};fu.prototype.space=void 0;function L2(e,t){const i={},r={};for(const l of e)Object.assign(i,l.property),Object.assign(r,l.normal);return new fu(i,r,t)}function tu(e){return e.toLowerCase()}let xn=class{constructor(t,i){this.attribute=i,this.property=t}};xn.prototype.attribute="";xn.prototype.booleanish=!1;xn.prototype.boolean=!1;xn.prototype.commaOrSpaceSeparated=!1;xn.prototype.commaSeparated=!1;xn.prototype.defined=!1;xn.prototype.mustUseProperty=!1;xn.prototype.number=!1;xn.prototype.overloadedBoolean=!1;xn.prototype.property="";xn.prototype.spaceSeparated=!1;xn.prototype.space=void 0;let F4=0;const Fe=sr(),Pt=sr(),Gh=sr(),oe=sr(),pt=sr(),as=sr(),Mn=sr();function sr(){return 2**++F4}const Xh=Object.freeze(Object.defineProperty({__proto__:null,boolean:Fe,booleanish:Pt,commaOrSpaceSeparated:Mn,commaSeparated:as,number:oe,overloadedBoolean:Gh,spaceSeparated:pt},Symbol.toStringTag,{value:"Module"})),ch=Object.keys(Xh);let Z0=class extends xn{constructor(t,i,r,l){let o=-1;if(super(t,i),S_(this,"space",l),typeof r=="number")for(;++o<ch.length;){const c=ch[o];S_(this,ch[o],(r&Xh[c])===Xh[c])}}};Z0.prototype.defined=!0;function S_(e,t,i){i&&(e[t]=i)}function Es(e){const t={},i={};for(const[r,l]of Object.entries(e.properties)){const o=new Z0(r,e.transform(e.attributes||{},r),l,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,i[tu(r)]=r,i[tu(o.attribute)]=r}return new fu(t,i,e.space)}const k2=Es({properties:{ariaActiveDescendant:null,ariaAtomic:Pt,ariaAutoComplete:null,ariaBusy:Pt,ariaChecked:Pt,ariaColCount:oe,ariaColIndex:oe,ariaColSpan:oe,ariaControls:pt,ariaCurrent:null,ariaDescribedBy:pt,ariaDetails:null,ariaDisabled:Pt,ariaDropEffect:pt,ariaErrorMessage:null,ariaExpanded:Pt,ariaFlowTo:pt,ariaGrabbed:Pt,ariaHasPopup:null,ariaHidden:Pt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:pt,ariaLevel:oe,ariaLive:null,ariaModal:Pt,ariaMultiLine:Pt,ariaMultiSelectable:Pt,ariaOrientation:null,ariaOwns:pt,ariaPlaceholder:null,ariaPosInSet:oe,ariaPressed:Pt,ariaReadOnly:Pt,ariaRelevant:null,ariaRequired:Pt,ariaRoleDescription:pt,ariaRowCount:oe,ariaRowIndex:oe,ariaRowSpan:oe,ariaSelected:Pt,ariaSetSize:oe,ariaSort:null,ariaValueMax:oe,ariaValueMin:oe,ariaValueNow:oe,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function w2(e,t){return t in e?e[t]:t}function M2(e,t){return w2(e,t.toLowerCase())}const z4=Es({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:as,acceptCharset:pt,accessKey:pt,action:null,allow:null,allowFullScreen:Fe,allowPaymentRequest:Fe,allowUserMedia:Fe,alt:null,as:null,async:Fe,autoCapitalize:null,autoComplete:pt,autoFocus:Fe,autoPlay:Fe,blocking:pt,capture:null,charSet:null,checked:Fe,cite:null,className:pt,cols:oe,colSpan:null,content:null,contentEditable:Pt,controls:Fe,controlsList:pt,coords:oe|as,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Fe,defer:Fe,dir:null,dirName:null,disabled:Fe,download:Gh,draggable:Pt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Fe,formTarget:null,headers:pt,height:oe,hidden:Gh,high:oe,href:null,hrefLang:null,htmlFor:pt,httpEquiv:pt,id:null,imageSizes:null,imageSrcSet:null,inert:Fe,inputMode:null,integrity:null,is:null,isMap:Fe,itemId:null,itemProp:pt,itemRef:pt,itemScope:Fe,itemType:pt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Fe,low:oe,manifest:null,max:null,maxLength:oe,media:null,method:null,min:null,minLength:oe,multiple:Fe,muted:Fe,name:null,nonce:null,noModule:Fe,noValidate:Fe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Fe,optimum:oe,pattern:null,ping:pt,placeholder:null,playsInline:Fe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Fe,referrerPolicy:null,rel:pt,required:Fe,reversed:Fe,rows:oe,rowSpan:oe,sandbox:pt,scope:null,scoped:Fe,seamless:Fe,selected:Fe,shadowRootClonable:Fe,shadowRootDelegatesFocus:Fe,shadowRootMode:null,shape:null,size:oe,sizes:null,slot:null,span:oe,spellCheck:Pt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:oe,step:null,style:null,tabIndex:oe,target:null,title:null,translate:null,type:null,typeMustMatch:Fe,useMap:null,value:Pt,width:oe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:pt,axis:null,background:null,bgColor:null,border:oe,borderColor:null,bottomMargin:oe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Fe,declare:Fe,event:null,face:null,frame:null,frameBorder:null,hSpace:oe,leftMargin:oe,link:null,longDesc:null,lowSrc:null,marginHeight:oe,marginWidth:oe,noResize:Fe,noHref:Fe,noShade:Fe,noWrap:Fe,object:null,profile:null,prompt:null,rev:null,rightMargin:oe,rules:null,scheme:null,scrolling:Pt,standby:null,summary:null,text:null,topMargin:oe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:oe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Fe,disableRemotePlayback:Fe,prefix:null,property:null,results:oe,security:null,unselectable:null},space:"html",transform:M2}),j4=Es({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Mn,accentHeight:oe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:oe,amplitude:oe,arabicForm:null,ascent:oe,attributeName:null,attributeType:null,azimuth:oe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:oe,by:null,calcMode:null,capHeight:oe,className:pt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:oe,diffuseConstant:oe,direction:null,display:null,dur:null,divisor:oe,dominantBaseline:null,download:Fe,dx:null,dy:null,edgeMode:null,editable:null,elevation:oe,enableBackground:null,end:null,event:null,exponent:oe,externalResourcesRequired:null,fill:null,fillOpacity:oe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:as,g2:as,glyphName:as,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:oe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:oe,horizOriginX:oe,horizOriginY:oe,id:null,ideographic:oe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:oe,k:oe,k1:oe,k2:oe,k3:oe,k4:oe,kernelMatrix:Mn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:oe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:oe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:oe,overlineThickness:oe,paintOrder:null,panose1:null,path:null,pathLength:oe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:pt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:oe,pointsAtY:oe,pointsAtZ:oe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Mn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Mn,rev:Mn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Mn,requiredFeatures:Mn,requiredFonts:Mn,requiredFormats:Mn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:oe,specularExponent:oe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:oe,strikethroughThickness:oe,string:null,stroke:null,strokeDashArray:Mn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:oe,strokeOpacity:oe,strokeWidth:null,style:null,surfaceScale:oe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Mn,tabIndex:oe,tableValues:null,target:null,targetX:oe,targetY:oe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Mn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:oe,underlineThickness:oe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:oe,values:null,vAlphabetic:oe,vMathematical:oe,vectorEffect:null,vHanging:oe,vIdeographic:oe,version:null,vertAdvY:oe,vertOriginX:oe,vertOriginY:oe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:oe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:w2}),B2=Es({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),P2=Es({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:M2}),U2=Es({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Y4={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},q4=/[A-Z]/g,C_=/-[a-z]/g,V4=/^data[-\w.:]+$/i;function J0(e,t){const i=tu(t);let r=t,l=xn;if(i in e.normal)return e.property[e.normal[i]];if(i.length>4&&i.slice(0,4)==="data"&&V4.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(C_,X4);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!C_.test(o)){let c=o.replace(q4,G4);c.charAt(0)!=="-"&&(c="-"+c),t="data"+c}}l=Z0}return new l(r,t)}function G4(e){return"-"+e.toLowerCase()}function X4(e){return e.charAt(1).toUpperCase()}const vc=L2([k2,z4,B2,P2,U2],"html"),_s=L2([k2,j4,B2,P2,U2],"svg");function A_(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function H2(e){return e.join(" ").trim()}var Wr={},fh,v_;function Q4(){if(v_)return fh;v_=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,i=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,l=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,h=/^\s+|\s+$/g,p=`
`,g="/",E="*",T="",b="comment",S="declaration";function w($,G){if(typeof $!="string")throw new TypeError("First argument must be a string");if(!$)return[];G=G||{};var de=1,j=1;function ye(se){var ie=se.match(t);ie&&(de+=ie.length);var P=se.lastIndexOf(p);j=~P?se.length-P:j+se.length}function Ae(){var se={line:de,column:j};return function(ie){return ie.position=new V(se),ve(),ie}}function V(se){this.start=se,this.end={line:de,column:j},this.source=G.source}V.prototype.content=$;function fe(se){var ie=new Error(G.source+":"+de+":"+j+": "+se);if(ie.reason=se,ie.filename=G.source,ie.line=de,ie.column=j,ie.source=$,!G.silent)throw ie}function Se(se){var ie=se.exec($);if(ie){var P=ie[0];return ye(P),$=$.slice(P.length),ie}}function ve(){Se(i)}function xe(se){var ie;for(se=se||[];ie=_e();)ie!==!1&&se.push(ie);return se}function _e(){var se=Ae();if(!(g!=$.charAt(0)||E!=$.charAt(1))){for(var ie=2;T!=$.charAt(ie)&&(E!=$.charAt(ie)||g!=$.charAt(ie+1));)++ie;if(ie+=2,T===$.charAt(ie-1))return fe("End of comment missing");var P=$.slice(2,ie-2);return j+=2,ye(P),$=$.slice(ie),j+=2,se({type:b,comment:P})}}function q(){var se=Ae(),ie=Se(r);if(ie){if(_e(),!Se(l))return fe("property missing ':'");var P=Se(o),Z=se({type:S,property:X(ie[0].replace(e,T)),value:P?X(P[0].replace(e,T)):T});return Se(c),Z}}function Le(){var se=[];xe(se);for(var ie;ie=q();)ie!==!1&&(se.push(ie),xe(se));return se}return ve(),Le()}function X($){return $?$.replace(h,T):T}return fh=w,fh}var x_;function K4(){if(x_)return Wr;x_=1;var e=Wr&&Wr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.default=i;const t=e(Q4());function i(r,l){let o=null;if(!r||typeof r!="string")return o;const c=(0,t.default)(r),h=typeof l=="function";return c.forEach(p=>{if(p.type!=="declaration")return;const{property:g,value:E}=p;h?l(g,E,p):E&&(o=o||{},o[g]=E)}),o}return Wr}var bl={},N_;function W4(){if(N_)return bl;N_=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,i=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,l=/^-(ms)-/,o=function(g){return!g||i.test(g)||e.test(g)},c=function(g,E){return E.toUpperCase()},h=function(g,E){return"".concat(E,"-")},p=function(g,E){return E===void 0&&(E={}),o(g)?g:(g=g.toLowerCase(),E.reactCompat?g=g.replace(l,h):g=g.replace(r,h),g.replace(t,c))};return bl.camelCase=p,bl}var Sl,R_;function $4(){if(R_)return Sl;R_=1;var e=Sl&&Sl.__importDefault||function(l){return l&&l.__esModule?l:{default:l}},t=e(K4()),i=W4();function r(l,o){var c={};return!l||typeof l!="string"||(0,t.default)(l,function(h,p){h&&p&&(c[(0,i.camelCase)(h,o)]=p)}),c}return r.default=r,Sl=r,Sl}var Z4=$4();const J4=mc(Z4),xc=F2("end"),pi=F2("start");function F2(e){return t;function t(i){const r=i&&i.position&&i.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function eR(e){const t=pi(e),i=xc(e);if(t&&i)return{start:t,end:i}}function Bl(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?O_(e.position):"start"in e||"end"in e?O_(e):"line"in e||"column"in e?Qh(e):""}function Qh(e){return D_(e&&e.line)+":"+D_(e&&e.column)}function O_(e){return Qh(e&&e.start)+"-"+Qh(e&&e.end)}function D_(e){return e&&typeof e=="number"?e:1}class ln extends Error{constructor(t,i,r){super(),typeof i=="string"&&(r=i,i=void 0);let l="",o={},c=!1;if(i&&("line"in i&&"column"in i?o={place:i}:"start"in i&&"end"in i?o={place:i}:"type"in i?o={ancestors:[i],place:i.position}:o={...i}),typeof t=="string"?l=t:!o.cause&&t&&(c=!0,l=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const p=r.indexOf(":");p===-1?o.ruleId=r:(o.source=r.slice(0,p),o.ruleId=r.slice(p+1))}if(!o.place&&o.ancestors&&o.ancestors){const p=o.ancestors[o.ancestors.length-1];p&&(o.place=p.position)}const h=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file="",this.message=l,this.line=h?h.line:void 0,this.name=Bl(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=c&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ln.prototype.file="";ln.prototype.name="";ln.prototype.reason="";ln.prototype.message="";ln.prototype.stack="";ln.prototype.column=void 0;ln.prototype.line=void 0;ln.prototype.ancestors=void 0;ln.prototype.cause=void 0;ln.prototype.fatal=void 0;ln.prototype.place=void 0;ln.prototype.ruleId=void 0;ln.prototype.source=void 0;const em={}.hasOwnProperty,tR=new Map,nR=/[A-Z]/g,iR=new Set(["table","tbody","thead","tfoot","tr"]),aR=new Set(["td","th"]),z2="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function rR(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const i=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=hR(i,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=dR(i,t.jsx,t.jsxs)}const l={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:i,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?_s:vc,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=j2(l,e,void 0);return o&&typeof o!="string"?o:l.create(e,l.Fragment,{children:o||void 0},void 0)}function j2(e,t,i){if(t.type==="element")return sR(e,t,i);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return lR(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return oR(e,t,i);if(t.type==="mdxjsEsm")return uR(e,t);if(t.type==="root")return cR(e,t,i);if(t.type==="text")return fR(e,t)}function sR(e,t,i){const r=e.schema;let l=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(l=_s,e.schema=l),e.ancestors.push(t);const o=q2(e,t.tagName,!1),c=mR(e,t);let h=nm(e,t);return iR.has(t.tagName)&&(h=h.filter(function(p){return typeof p=="string"?!H4(p):!0})),Y2(e,c,o,t),tm(c,h),e.ancestors.pop(),e.schema=r,e.create(t,o,c,i)}function lR(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}nu(e,t.position)}function uR(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);nu(e,t.position)}function oR(e,t,i){const r=e.schema;let l=r;t.name==="svg"&&r.space==="html"&&(l=_s,e.schema=l),e.ancestors.push(t);const o=t.name===null?e.Fragment:q2(e,t.name,!0),c=pR(e,t),h=nm(e,t);return Y2(e,c,o,t),tm(c,h),e.ancestors.pop(),e.schema=r,e.create(t,o,c,i)}function cR(e,t,i){const r={};return tm(r,nm(e,t)),e.create(t,e.Fragment,r,i)}function fR(e,t){return t.value}function Y2(e,t,i,r){typeof i!="string"&&i!==e.Fragment&&e.passNode&&(t.node=r)}function tm(e,t){if(t.length>0){const i=t.length>1?t:t[0];i&&(e.children=i)}}function dR(e,t,i){return r;function r(l,o,c,h){const g=Array.isArray(c.children)?i:t;return h?g(o,c,h):g(o,c)}}function hR(e,t){return i;function i(r,l,o,c){const h=Array.isArray(o.children),p=pi(r);return t(l,o,c,h,{columnNumber:p?p.column-1:void 0,fileName:e,lineNumber:p?p.line:void 0},void 0)}}function mR(e,t){const i={};let r,l;for(l in t.properties)if(l!=="children"&&em.call(t.properties,l)){const o=gR(e,l,t.properties[l]);if(o){const[c,h]=o;e.tableCellAlignToStyle&&c==="align"&&typeof h=="string"&&aR.has(t.tagName)?r=h:i[c]=h}}if(r){const o=i.style||(i.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return i}function pR(e,t){const i={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const c=o.expression;c.type;const h=c.properties[0];h.type,Object.assign(i,e.evaluater.evaluateExpression(h.argument))}else nu(e,t.position);else{const l=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const h=r.value.data.estree.body[0];h.type,o=e.evaluater.evaluateExpression(h.expression)}else nu(e,t.position);else o=r.value===null?!0:r.value;i[l]=o}return i}function nm(e,t){const i=[];let r=-1;const l=e.passKeys?new Map:tR;for(;++r<t.children.length;){const o=t.children[r];let c;if(e.passKeys){const p=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(p){const g=l.get(p)||0;c=p+"-"+g,l.set(p,g+1)}}const h=j2(e,o,c);h!==void 0&&i.push(h)}return i}function gR(e,t,i){const r=J0(e.schema,t);if(!(i==null||typeof i=="number"&&Number.isNaN(i))){if(Array.isArray(i)&&(i=r.commaSeparated?I2(i):H2(i)),r.property==="style"){let l=typeof i=="object"?i:ER(e,String(i));return e.stylePropertyNameCase==="css"&&(l=_R(l)),["style",l]}return[e.elementAttributeNameCase==="react"&&r.space?Y4[r.property]||r.property:r.attribute,i]}}function ER(e,t){try{return J4(t,{reactCompat:!0})}catch(i){if(e.ignoreInvalidStyle)return{};const r=i,l=new ln("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=e.filePath||void 0,l.url=z2+"#cannot-parse-style-attribute",l}}function q2(e,t,i){let r;if(!i)r={type:"Literal",value:t};else if(t.includes(".")){const l=t.split(".");let o=-1,c;for(;++o<l.length;){const h=T_(l[o])?{type:"Identifier",name:l[o]}:{type:"Literal",value:l[o]};c=c?{type:"MemberExpression",object:c,property:h,computed:!!(o&&h.type==="Literal"),optional:!1}:h}r=c}else r=T_(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const l=r.value;return em.call(e.components,l)?e.components[l]:l}if(e.evaluater)return e.evaluater.evaluateExpression(r);nu(e)}function nu(e,t){const i=new ln("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=z2+"#cannot-handle-mdx-estrees-without-createevaluater",i}function _R(e){const t={};let i;for(i in e)em.call(e,i)&&(t[yR(i)]=e[i]);return t}function yR(e){let t=e.replace(nR,TR);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function TR(e){return"-"+e.toLowerCase()}const dh={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},bR={};function SR(e,t){const i=bR,r=typeof i.includeImageAlt=="boolean"?i.includeImageAlt:!0,l=typeof i.includeHtml=="boolean"?i.includeHtml:!0;return V2(e,r,l)}function V2(e,t,i){if(CR(e)){if("value"in e)return e.type==="html"&&!i?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return I_(e.children,t,i)}return Array.isArray(e)?I_(e,t,i):""}function I_(e,t,i){const r=[];let l=-1;for(;++l<e.length;)r[l]=V2(e[l],t,i);return r.join("")}function CR(e){return!!(e&&typeof e=="object")}const L_=document.createElement("i");function im(e){const t="&"+e+";";L_.innerHTML=t;const i=L_.textContent;return i.charCodeAt(i.length-1)===59&&e!=="semi"||i===t?!1:i}function mi(e,t,i,r){const l=e.length;let o=0,c;if(t<0?t=-t>l?0:l+t:t=t>l?l:t,i=i>0?i:0,r.length<1e4)c=Array.from(r),c.unshift(t,i),e.splice(...c);else for(i&&e.splice(t,i);o<r.length;)c=r.slice(o,o+1e4),c.unshift(t,0),e.splice(...c),o+=1e4,t+=1e4}function Qn(e,t){return e.length>0?(mi(e,e.length,0,t),e):t}const k_={}.hasOwnProperty;function AR(e){const t={};let i=-1;for(;++i<e.length;)vR(t,e[i]);return t}function vR(e,t){let i;for(i in t){const l=(k_.call(e,i)?e[i]:void 0)||(e[i]={}),o=t[i];let c;if(o)for(c in o){k_.call(l,c)||(l[c]=[]);const h=o[c];xR(l[c],Array.isArray(h)?h:h?[h]:[])}}}function xR(e,t){let i=-1;const r=[];for(;++i<t.length;)(t[i].add==="after"?e:r).push(t[i]);mi(e,0,0,r)}function G2(e,t){const i=Number.parseInt(e,t);return i<9||i===11||i>13&&i<32||i>126&&i<160||i>55295&&i<57344||i>64975&&i<65008||(i&65535)===65535||(i&65535)===65534||i>1114111?"":String.fromCodePoint(i)}function rs(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const hi=Da(/[A-Za-z]/),Pn=Da(/[\dA-Za-z]/),NR=Da(/[#-'*+\--9=?A-Z^-~]/);function Kh(e){return e!==null&&(e<32||e===127)}const Wh=Da(/\d/),RR=Da(/[\dA-Fa-f]/),OR=Da(/[!-/:-@[-`{-~]/);function we(e){return e!==null&&e<-2}function An(e){return e!==null&&(e<0||e===32)}function tt(e){return e===-2||e===-1||e===32}const DR=Da(new RegExp("\\p{P}|\\p{S}","u")),IR=Da(/\s/);function Da(e){return t;function t(i){return i!==null&&i>-1&&e.test(String.fromCharCode(i))}}function ys(e){const t=[];let i=-1,r=0,l=0;for(;++i<e.length;){const o=e.charCodeAt(i);let c="";if(o===37&&Pn(e.charCodeAt(i+1))&&Pn(e.charCodeAt(i+2)))l=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(c=String.fromCharCode(o));else if(o>55295&&o<57344){const h=e.charCodeAt(i+1);o<56320&&h>56319&&h<57344?(c=String.fromCharCode(o,h),l=1):c=""}else c=String.fromCharCode(o);c&&(t.push(e.slice(r,i),encodeURIComponent(c)),r=i+l+1,c=""),l&&(i+=l,l=0)}return t.join("")+e.slice(r)}function yt(e,t,i,r){const l=r?r-1:Number.POSITIVE_INFINITY;let o=0;return c;function c(p){return tt(p)?(e.enter(i),h(p)):t(p)}function h(p){return tt(p)&&o++<l?(e.consume(p),h):(e.exit(i),t(p))}}const LR={tokenize:kR};function kR(e){const t=e.attempt(this.parser.constructs.contentInitial,r,l);let i;return t;function r(h){if(h===null){e.consume(h);return}return e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),yt(e,t,"linePrefix")}function l(h){return e.enter("paragraph"),o(h)}function o(h){const p=e.enter("chunkText",{contentType:"text",previous:i});return i&&(i.next=p),i=p,c(h)}function c(h){if(h===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(h);return}return we(h)?(e.consume(h),e.exit("chunkText"),o):(e.consume(h),c)}}const wR={tokenize:MR},w_={tokenize:BR};function MR(e){const t=this,i=[];let r=0,l,o,c;return h;function h(j){if(r<i.length){const ye=i[r];return t.containerState=ye[1],e.attempt(ye[0].continuation,p,g)(j)}return g(j)}function p(j){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,l&&de();const ye=t.events.length;let Ae=ye,V;for(;Ae--;)if(t.events[Ae][0]==="exit"&&t.events[Ae][1].type==="chunkFlow"){V=t.events[Ae][1].end;break}G(r);let fe=ye;for(;fe<t.events.length;)t.events[fe][1].end={...V},fe++;return mi(t.events,Ae+1,0,t.events.slice(ye)),t.events.length=fe,g(j)}return h(j)}function g(j){if(r===i.length){if(!l)return b(j);if(l.currentConstruct&&l.currentConstruct.concrete)return w(j);t.interrupt=!!(l.currentConstruct&&!l._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(w_,E,T)(j)}function E(j){return l&&de(),G(r),b(j)}function T(j){return t.parser.lazy[t.now().line]=r!==i.length,c=t.now().offset,w(j)}function b(j){return t.containerState={},e.attempt(w_,S,w)(j)}function S(j){return r++,i.push([t.currentConstruct,t.containerState]),b(j)}function w(j){if(j===null){l&&de(),G(0),e.consume(j);return}return l=l||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:l,contentType:"flow",previous:o}),X(j)}function X(j){if(j===null){$(e.exit("chunkFlow"),!0),G(0),e.consume(j);return}return we(j)?(e.consume(j),$(e.exit("chunkFlow")),r=0,t.interrupt=void 0,h):(e.consume(j),X)}function $(j,ye){const Ae=t.sliceStream(j);if(ye&&Ae.push(null),j.previous=o,o&&(o.next=j),o=j,l.defineSkip(j.start),l.write(Ae),t.parser.lazy[j.start.line]){let V=l.events.length;for(;V--;)if(l.events[V][1].start.offset<c&&(!l.events[V][1].end||l.events[V][1].end.offset>c))return;const fe=t.events.length;let Se=fe,ve,xe;for(;Se--;)if(t.events[Se][0]==="exit"&&t.events[Se][1].type==="chunkFlow"){if(ve){xe=t.events[Se][1].end;break}ve=!0}for(G(r),V=fe;V<t.events.length;)t.events[V][1].end={...xe},V++;mi(t.events,Se+1,0,t.events.slice(fe)),t.events.length=V}}function G(j){let ye=i.length;for(;ye-- >j;){const Ae=i[ye];t.containerState=Ae[1],Ae[0].exit.call(t,e)}i.length=j}function de(){l.write([null]),o=void 0,l=void 0,t.containerState._closeFlow=void 0}}function BR(e,t,i){return yt(e,e.attempt(this.parser.constructs.document,t,i),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function M_(e){if(e===null||An(e)||IR(e))return 1;if(DR(e))return 2}function am(e,t,i){const r=[];let l=-1;for(;++l<e.length;){const o=e[l].resolveAll;o&&!r.includes(o)&&(t=o(t,i),r.push(o))}return t}const $h={name:"attention",resolveAll:PR,tokenize:UR};function PR(e,t){let i=-1,r,l,o,c,h,p,g,E;for(;++i<e.length;)if(e[i][0]==="enter"&&e[i][1].type==="attentionSequence"&&e[i][1]._close){for(r=i;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[i][1]).charCodeAt(0)){if((e[r][1]._close||e[i][1]._open)&&(e[i][1].end.offset-e[i][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[i][1].end.offset-e[i][1].start.offset)%3))continue;p=e[r][1].end.offset-e[r][1].start.offset>1&&e[i][1].end.offset-e[i][1].start.offset>1?2:1;const T={...e[r][1].end},b={...e[i][1].start};B_(T,-p),B_(b,p),c={type:p>1?"strongSequence":"emphasisSequence",start:T,end:{...e[r][1].end}},h={type:p>1?"strongSequence":"emphasisSequence",start:{...e[i][1].start},end:b},o={type:p>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[i][1].start}},l={type:p>1?"strong":"emphasis",start:{...c.start},end:{...h.end}},e[r][1].end={...c.start},e[i][1].start={...h.end},g=[],e[r][1].end.offset-e[r][1].start.offset&&(g=Qn(g,[["enter",e[r][1],t],["exit",e[r][1],t]])),g=Qn(g,[["enter",l,t],["enter",c,t],["exit",c,t],["enter",o,t]]),g=Qn(g,am(t.parser.constructs.insideSpan.null,e.slice(r+1,i),t)),g=Qn(g,[["exit",o,t],["enter",h,t],["exit",h,t],["exit",l,t]]),e[i][1].end.offset-e[i][1].start.offset?(E=2,g=Qn(g,[["enter",e[i][1],t],["exit",e[i][1],t]])):E=0,mi(e,r-1,i-r+3,g),i=r+g.length-E-2;break}}for(i=-1;++i<e.length;)e[i][1].type==="attentionSequence"&&(e[i][1].type="data");return e}function UR(e,t){const i=this.parser.constructs.attentionMarkers.null,r=this.previous,l=M_(r);let o;return c;function c(p){return o=p,e.enter("attentionSequence"),h(p)}function h(p){if(p===o)return e.consume(p),h;const g=e.exit("attentionSequence"),E=M_(p),T=!E||E===2&&l||i.includes(p),b=!l||l===2&&E||i.includes(r);return g._open=!!(o===42?T:T&&(l||!b)),g._close=!!(o===42?b:b&&(E||!T)),t(p)}}function B_(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const HR={name:"autolink",tokenize:FR};function FR(e,t,i){let r=0;return l;function l(S){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(S){return hi(S)?(e.consume(S),c):S===64?i(S):g(S)}function c(S){return S===43||S===45||S===46||Pn(S)?(r=1,h(S)):g(S)}function h(S){return S===58?(e.consume(S),r=0,p):(S===43||S===45||S===46||Pn(S))&&r++<32?(e.consume(S),h):(r=0,g(S))}function p(S){return S===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):S===null||S===32||S===60||Kh(S)?i(S):(e.consume(S),p)}function g(S){return S===64?(e.consume(S),E):NR(S)?(e.consume(S),g):i(S)}function E(S){return Pn(S)?T(S):i(S)}function T(S){return S===46?(e.consume(S),r=0,E):S===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):b(S)}function b(S){if((S===45||Pn(S))&&r++<63){const w=S===45?b:T;return e.consume(S),w}return i(S)}}const Nc={partial:!0,tokenize:zR};function zR(e,t,i){return r;function r(o){return tt(o)?yt(e,l,"linePrefix")(o):l(o)}function l(o){return o===null||we(o)?t(o):i(o)}}const X2={continuation:{tokenize:YR},exit:qR,name:"blockQuote",tokenize:jR};function jR(e,t,i){const r=this;return l;function l(c){if(c===62){const h=r.containerState;return h.open||(e.enter("blockQuote",{_container:!0}),h.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(c),e.exit("blockQuoteMarker"),o}return i(c)}function o(c){return tt(c)?(e.enter("blockQuotePrefixWhitespace"),e.consume(c),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(c))}}function YR(e,t,i){const r=this;return l;function l(c){return tt(c)?yt(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):o(c)}function o(c){return e.attempt(X2,t,i)(c)}}function qR(e){e.exit("blockQuote")}const Q2={name:"characterEscape",tokenize:VR};function VR(e,t,i){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),l}function l(o){return OR(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):i(o)}}const K2={name:"characterReference",tokenize:GR};function GR(e,t,i){const r=this;let l=0,o,c;return h;function h(T){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(T),e.exit("characterReferenceMarker"),p}function p(T){return T===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(T),e.exit("characterReferenceMarkerNumeric"),g):(e.enter("characterReferenceValue"),o=31,c=Pn,E(T))}function g(T){return T===88||T===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(T),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,c=RR,E):(e.enter("characterReferenceValue"),o=7,c=Wh,E(T))}function E(T){if(T===59&&l){const b=e.exit("characterReferenceValue");return c===Pn&&!im(r.sliceSerialize(b))?i(T):(e.enter("characterReferenceMarker"),e.consume(T),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return c(T)&&l++<o?(e.consume(T),E):i(T)}}const P_={partial:!0,tokenize:QR},U_={concrete:!0,name:"codeFenced",tokenize:XR};function XR(e,t,i){const r=this,l={partial:!0,tokenize:Ae};let o=0,c=0,h;return p;function p(V){return g(V)}function g(V){const fe=r.events[r.events.length-1];return o=fe&&fe[1].type==="linePrefix"?fe[2].sliceSerialize(fe[1],!0).length:0,h=V,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),E(V)}function E(V){return V===h?(c++,e.consume(V),E):c<3?i(V):(e.exit("codeFencedFenceSequence"),tt(V)?yt(e,T,"whitespace")(V):T(V))}function T(V){return V===null||we(V)?(e.exit("codeFencedFence"),r.interrupt?t(V):e.check(P_,X,ye)(V)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),b(V))}function b(V){return V===null||we(V)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),T(V)):tt(V)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),yt(e,S,"whitespace")(V)):V===96&&V===h?i(V):(e.consume(V),b)}function S(V){return V===null||we(V)?T(V):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(V))}function w(V){return V===null||we(V)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),T(V)):V===96&&V===h?i(V):(e.consume(V),w)}function X(V){return e.attempt(l,ye,$)(V)}function $(V){return e.enter("lineEnding"),e.consume(V),e.exit("lineEnding"),G}function G(V){return o>0&&tt(V)?yt(e,de,"linePrefix",o+1)(V):de(V)}function de(V){return V===null||we(V)?e.check(P_,X,ye)(V):(e.enter("codeFlowValue"),j(V))}function j(V){return V===null||we(V)?(e.exit("codeFlowValue"),de(V)):(e.consume(V),j)}function ye(V){return e.exit("codeFenced"),t(V)}function Ae(V,fe,Se){let ve=0;return xe;function xe(ie){return V.enter("lineEnding"),V.consume(ie),V.exit("lineEnding"),_e}function _e(ie){return V.enter("codeFencedFence"),tt(ie)?yt(V,q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ie):q(ie)}function q(ie){return ie===h?(V.enter("codeFencedFenceSequence"),Le(ie)):Se(ie)}function Le(ie){return ie===h?(ve++,V.consume(ie),Le):ve>=c?(V.exit("codeFencedFenceSequence"),tt(ie)?yt(V,se,"whitespace")(ie):se(ie)):Se(ie)}function se(ie){return ie===null||we(ie)?(V.exit("codeFencedFence"),fe(ie)):Se(ie)}}}function QR(e,t,i){const r=this;return l;function l(c){return c===null?i(c):(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),o)}function o(c){return r.parser.lazy[r.now().line]?i(c):t(c)}}const hh={name:"codeIndented",tokenize:WR},KR={partial:!0,tokenize:$R};function WR(e,t,i){const r=this;return l;function l(g){return e.enter("codeIndented"),yt(e,o,"linePrefix",5)(g)}function o(g){const E=r.events[r.events.length-1];return E&&E[1].type==="linePrefix"&&E[2].sliceSerialize(E[1],!0).length>=4?c(g):i(g)}function c(g){return g===null?p(g):we(g)?e.attempt(KR,c,p)(g):(e.enter("codeFlowValue"),h(g))}function h(g){return g===null||we(g)?(e.exit("codeFlowValue"),c(g)):(e.consume(g),h)}function p(g){return e.exit("codeIndented"),t(g)}}function $R(e,t,i){const r=this;return l;function l(c){return r.parser.lazy[r.now().line]?i(c):we(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),l):yt(e,o,"linePrefix",5)(c)}function o(c){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?t(c):we(c)?l(c):i(c)}}const ZR={name:"codeText",previous:eO,resolve:JR,tokenize:tO};function JR(e){let t=e.length-4,i=3,r,l;if((e[i][1].type==="lineEnding"||e[i][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=i;++r<t;)if(e[r][1].type==="codeTextData"){e[i][1].type="codeTextPadding",e[t][1].type="codeTextPadding",i+=2,t-=2;break}}for(r=i-1,t++;++r<=t;)l===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(l=r):(r===t||e[r][1].type==="lineEnding")&&(e[l][1].type="codeTextData",r!==l+2&&(e[l][1].end=e[r-1][1].end,e.splice(l+2,r-l-2),t-=r-l-2,r=l+2),l=void 0);return e}function eO(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tO(e,t,i){let r=0,l,o;return c;function c(T){return e.enter("codeText"),e.enter("codeTextSequence"),h(T)}function h(T){return T===96?(e.consume(T),r++,h):(e.exit("codeTextSequence"),p(T))}function p(T){return T===null?i(T):T===32?(e.enter("space"),e.consume(T),e.exit("space"),p):T===96?(o=e.enter("codeTextSequence"),l=0,E(T)):we(T)?(e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),p):(e.enter("codeTextData"),g(T))}function g(T){return T===null||T===32||T===96||we(T)?(e.exit("codeTextData"),p(T)):(e.consume(T),g)}function E(T){return T===96?(e.consume(T),l++,E):l===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(T)):(o.type="codeTextData",g(T))}}class nO{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,i){const r=i??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,i,r){const l=i||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-l,Number.POSITIVE_INFINITY);return r&&Cl(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Cl(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Cl(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const i=this.left.splice(t,Number.POSITIVE_INFINITY);Cl(this.right,i.reverse())}else{const i=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Cl(this.left,i.reverse())}}}function Cl(e,t){let i=0;if(t.length<1e4)e.push(...t);else for(;i<t.length;)e.push(...t.slice(i,i+1e4)),i+=1e4}function W2(e){const t={};let i=-1,r,l,o,c,h,p,g;const E=new nO(e);for(;++i<E.length;){for(;i in t;)i=t[i];if(r=E.get(i),i&&r[1].type==="chunkFlow"&&E.get(i-1)[1].type==="listItemPrefix"&&(p=r[1]._tokenizer.events,o=0,o<p.length&&p[o][1].type==="lineEndingBlank"&&(o+=2),o<p.length&&p[o][1].type==="content"))for(;++o<p.length&&p[o][1].type!=="content";)p[o][1].type==="chunkText"&&(p[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,iO(E,i)),i=t[i],g=!0);else if(r[1]._container){for(o=i,l=void 0;o--;)if(c=E.get(o),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(l&&(E.get(l)[1].type="lineEndingBlank"),c[1].type="lineEnding",l=o);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;l&&(r[1].end={...E.get(l)[1].start},h=E.slice(l,i),h.unshift(r),E.splice(l,i-l+1,h))}}return mi(e,0,Number.POSITIVE_INFINITY,E.slice(0)),!g}function iO(e,t){const i=e.get(t)[1],r=e.get(t)[2];let l=t-1;const o=[];let c=i._tokenizer;c||(c=r.parser[i.contentType](i.start),i._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const h=c.events,p=[],g={};let E,T,b=-1,S=i,w=0,X=0;const $=[X];for(;S;){for(;e.get(++l)[1]!==S;);o.push(l),S._tokenizer||(E=r.sliceStream(S),S.next||E.push(null),T&&c.defineSkip(S.start),S._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(E),S._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),T=S,S=S.next}for(S=i;++b<h.length;)h[b][0]==="exit"&&h[b-1][0]==="enter"&&h[b][1].type===h[b-1][1].type&&h[b][1].start.line!==h[b][1].end.line&&(X=b+1,$.push(X),S._tokenizer=void 0,S.previous=void 0,S=S.next);for(c.events=[],S?(S._tokenizer=void 0,S.previous=void 0):$.pop(),b=$.length;b--;){const G=h.slice($[b],$[b+1]),de=o.pop();p.push([de,de+G.length-1]),e.splice(de,2,G)}for(p.reverse(),b=-1;++b<p.length;)g[w+p[b][0]]=w+p[b][1],w+=p[b][1]-p[b][0]-1;return g}const aO={resolve:sO,tokenize:lO},rO={partial:!0,tokenize:uO};function sO(e){return W2(e),e}function lO(e,t){let i;return r;function r(h){return e.enter("content"),i=e.enter("chunkContent",{contentType:"content"}),l(h)}function l(h){return h===null?o(h):we(h)?e.check(rO,c,o)(h):(e.consume(h),l)}function o(h){return e.exit("chunkContent"),e.exit("content"),t(h)}function c(h){return e.consume(h),e.exit("chunkContent"),i.next=e.enter("chunkContent",{contentType:"content",previous:i}),i=i.next,l}}function uO(e,t,i){const r=this;return l;function l(c){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),yt(e,o,"linePrefix")}function o(c){if(c===null||we(c))return i(c);const h=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?t(c):e.interrupt(r.parser.constructs.flow,i,t)(c)}}function $2(e,t,i,r,l,o,c,h,p){const g=p||Number.POSITIVE_INFINITY;let E=0;return T;function T(G){return G===60?(e.enter(r),e.enter(l),e.enter(o),e.consume(G),e.exit(o),b):G===null||G===32||G===41||Kh(G)?i(G):(e.enter(r),e.enter(c),e.enter(h),e.enter("chunkString",{contentType:"string"}),X(G))}function b(G){return G===62?(e.enter(o),e.consume(G),e.exit(o),e.exit(l),e.exit(r),t):(e.enter(h),e.enter("chunkString",{contentType:"string"}),S(G))}function S(G){return G===62?(e.exit("chunkString"),e.exit(h),b(G)):G===null||G===60||we(G)?i(G):(e.consume(G),G===92?w:S)}function w(G){return G===60||G===62||G===92?(e.consume(G),S):S(G)}function X(G){return!E&&(G===null||G===41||An(G))?(e.exit("chunkString"),e.exit(h),e.exit(c),e.exit(r),t(G)):E<g&&G===40?(e.consume(G),E++,X):G===41?(e.consume(G),E--,X):G===null||G===32||G===40||Kh(G)?i(G):(e.consume(G),G===92?$:X)}function $(G){return G===40||G===41||G===92?(e.consume(G),X):X(G)}}function Z2(e,t,i,r,l,o){const c=this;let h=0,p;return g;function g(S){return e.enter(r),e.enter(l),e.consume(S),e.exit(l),e.enter(o),E}function E(S){return h>999||S===null||S===91||S===93&&!p||S===94&&!h&&"_hiddenFootnoteSupport"in c.parser.constructs?i(S):S===93?(e.exit(o),e.enter(l),e.consume(S),e.exit(l),e.exit(r),t):we(S)?(e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),E):(e.enter("chunkString",{contentType:"string"}),T(S))}function T(S){return S===null||S===91||S===93||we(S)||h++>999?(e.exit("chunkString"),E(S)):(e.consume(S),p||(p=!tt(S)),S===92?b:T)}function b(S){return S===91||S===92||S===93?(e.consume(S),h++,T):T(S)}}function J2(e,t,i,r,l,o){let c;return h;function h(b){return b===34||b===39||b===40?(e.enter(r),e.enter(l),e.consume(b),e.exit(l),c=b===40?41:b,p):i(b)}function p(b){return b===c?(e.enter(l),e.consume(b),e.exit(l),e.exit(r),t):(e.enter(o),g(b))}function g(b){return b===c?(e.exit(o),p(c)):b===null?i(b):we(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),yt(e,g,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),E(b))}function E(b){return b===c||b===null||we(b)?(e.exit("chunkString"),g(b)):(e.consume(b),b===92?T:E)}function T(b){return b===c||b===92?(e.consume(b),E):E(b)}}function Pl(e,t){let i;return r;function r(l){return we(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i=!0,r):tt(l)?yt(e,r,i?"linePrefix":"lineSuffix")(l):t(l)}}const oO={name:"definition",tokenize:fO},cO={partial:!0,tokenize:dO};function fO(e,t,i){const r=this;let l;return o;function o(S){return e.enter("definition"),c(S)}function c(S){return Z2.call(r,e,h,i,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function h(S){return l=rs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),S===58?(e.enter("definitionMarker"),e.consume(S),e.exit("definitionMarker"),p):i(S)}function p(S){return An(S)?Pl(e,g)(S):g(S)}function g(S){return $2(e,E,i,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(S)}function E(S){return e.attempt(cO,T,T)(S)}function T(S){return tt(S)?yt(e,b,"whitespace")(S):b(S)}function b(S){return S===null||we(S)?(e.exit("definition"),r.parser.defined.push(l),t(S)):i(S)}}function dO(e,t,i){return r;function r(h){return An(h)?Pl(e,l)(h):i(h)}function l(h){return J2(e,o,i,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function o(h){return tt(h)?yt(e,c,"whitespace")(h):c(h)}function c(h){return h===null||we(h)?t(h):i(h)}}const hO={name:"hardBreakEscape",tokenize:mO};function mO(e,t,i){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),l}function l(o){return we(o)?(e.exit("hardBreakEscape"),t(o)):i(o)}}const pO={name:"headingAtx",resolve:gO,tokenize:EO};function gO(e,t){let i=e.length-2,r=3,l,o;return e[r][1].type==="whitespace"&&(r+=2),i-2>r&&e[i][1].type==="whitespace"&&(i-=2),e[i][1].type==="atxHeadingSequence"&&(r===i-1||i-4>r&&e[i-2][1].type==="whitespace")&&(i-=r+1===i?2:4),i>r&&(l={type:"atxHeadingText",start:e[r][1].start,end:e[i][1].end},o={type:"chunkText",start:e[r][1].start,end:e[i][1].end,contentType:"text"},mi(e,r,i-r+1,[["enter",l,t],["enter",o,t],["exit",o,t],["exit",l,t]])),e}function EO(e,t,i){let r=0;return l;function l(E){return e.enter("atxHeading"),o(E)}function o(E){return e.enter("atxHeadingSequence"),c(E)}function c(E){return E===35&&r++<6?(e.consume(E),c):E===null||An(E)?(e.exit("atxHeadingSequence"),h(E)):i(E)}function h(E){return E===35?(e.enter("atxHeadingSequence"),p(E)):E===null||we(E)?(e.exit("atxHeading"),t(E)):tt(E)?yt(e,h,"whitespace")(E):(e.enter("atxHeadingText"),g(E))}function p(E){return E===35?(e.consume(E),p):(e.exit("atxHeadingSequence"),h(E))}function g(E){return E===null||E===35||An(E)?(e.exit("atxHeadingText"),h(E)):(e.consume(E),g)}}const _O=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],H_=["pre","script","style","textarea"],yO={concrete:!0,name:"htmlFlow",resolveTo:SO,tokenize:CO},TO={partial:!0,tokenize:vO},bO={partial:!0,tokenize:AO};function SO(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function CO(e,t,i){const r=this;let l,o,c,h,p;return g;function g(v){return E(v)}function E(v){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(v),T}function T(v){return v===33?(e.consume(v),b):v===47?(e.consume(v),o=!0,X):v===63?(e.consume(v),l=3,r.interrupt?t:O):hi(v)?(e.consume(v),c=String.fromCharCode(v),$):i(v)}function b(v){return v===45?(e.consume(v),l=2,S):v===91?(e.consume(v),l=5,h=0,w):hi(v)?(e.consume(v),l=4,r.interrupt?t:O):i(v)}function S(v){return v===45?(e.consume(v),r.interrupt?t:O):i(v)}function w(v){const ge="CDATA[";return v===ge.charCodeAt(h++)?(e.consume(v),h===ge.length?r.interrupt?t:q:w):i(v)}function X(v){return hi(v)?(e.consume(v),c=String.fromCharCode(v),$):i(v)}function $(v){if(v===null||v===47||v===62||An(v)){const ge=v===47,R=c.toLowerCase();return!ge&&!o&&H_.includes(R)?(l=1,r.interrupt?t(v):q(v)):_O.includes(c.toLowerCase())?(l=6,ge?(e.consume(v),G):r.interrupt?t(v):q(v)):(l=7,r.interrupt&&!r.parser.lazy[r.now().line]?i(v):o?de(v):j(v))}return v===45||Pn(v)?(e.consume(v),c+=String.fromCharCode(v),$):i(v)}function G(v){return v===62?(e.consume(v),r.interrupt?t:q):i(v)}function de(v){return tt(v)?(e.consume(v),de):xe(v)}function j(v){return v===47?(e.consume(v),xe):v===58||v===95||hi(v)?(e.consume(v),ye):tt(v)?(e.consume(v),j):xe(v)}function ye(v){return v===45||v===46||v===58||v===95||Pn(v)?(e.consume(v),ye):Ae(v)}function Ae(v){return v===61?(e.consume(v),V):tt(v)?(e.consume(v),Ae):j(v)}function V(v){return v===null||v===60||v===61||v===62||v===96?i(v):v===34||v===39?(e.consume(v),p=v,fe):tt(v)?(e.consume(v),V):Se(v)}function fe(v){return v===p?(e.consume(v),p=null,ve):v===null||we(v)?i(v):(e.consume(v),fe)}function Se(v){return v===null||v===34||v===39||v===47||v===60||v===61||v===62||v===96||An(v)?Ae(v):(e.consume(v),Se)}function ve(v){return v===47||v===62||tt(v)?j(v):i(v)}function xe(v){return v===62?(e.consume(v),_e):i(v)}function _e(v){return v===null||we(v)?q(v):tt(v)?(e.consume(v),_e):i(v)}function q(v){return v===45&&l===2?(e.consume(v),P):v===60&&l===1?(e.consume(v),Z):v===62&&l===4?(e.consume(v),L):v===63&&l===3?(e.consume(v),O):v===93&&l===5?(e.consume(v),Oe):we(v)&&(l===6||l===7)?(e.exit("htmlFlowData"),e.check(TO,W,Le)(v)):v===null||we(v)?(e.exit("htmlFlowData"),Le(v)):(e.consume(v),q)}function Le(v){return e.check(bO,se,W)(v)}function se(v){return e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),ie}function ie(v){return v===null||we(v)?Le(v):(e.enter("htmlFlowData"),q(v))}function P(v){return v===45?(e.consume(v),O):q(v)}function Z(v){return v===47?(e.consume(v),c="",Te):q(v)}function Te(v){if(v===62){const ge=c.toLowerCase();return H_.includes(ge)?(e.consume(v),L):q(v)}return hi(v)&&c.length<8?(e.consume(v),c+=String.fromCharCode(v),Te):q(v)}function Oe(v){return v===93?(e.consume(v),O):q(v)}function O(v){return v===62?(e.consume(v),L):v===45&&l===2?(e.consume(v),O):q(v)}function L(v){return v===null||we(v)?(e.exit("htmlFlowData"),W(v)):(e.consume(v),L)}function W(v){return e.exit("htmlFlow"),t(v)}}function AO(e,t,i){const r=this;return l;function l(c){return we(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),o):i(c)}function o(c){return r.parser.lazy[r.now().line]?i(c):t(c)}}function vO(e,t,i){return r;function r(l){return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),e.attempt(Nc,t,i)}}const xO={name:"htmlText",tokenize:NO};function NO(e,t,i){const r=this;let l,o,c;return h;function h(O){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(O),p}function p(O){return O===33?(e.consume(O),g):O===47?(e.consume(O),Ae):O===63?(e.consume(O),j):hi(O)?(e.consume(O),Se):i(O)}function g(O){return O===45?(e.consume(O),E):O===91?(e.consume(O),o=0,w):hi(O)?(e.consume(O),de):i(O)}function E(O){return O===45?(e.consume(O),S):i(O)}function T(O){return O===null?i(O):O===45?(e.consume(O),b):we(O)?(c=T,Z(O)):(e.consume(O),T)}function b(O){return O===45?(e.consume(O),S):T(O)}function S(O){return O===62?P(O):O===45?b(O):T(O)}function w(O){const L="CDATA[";return O===L.charCodeAt(o++)?(e.consume(O),o===L.length?X:w):i(O)}function X(O){return O===null?i(O):O===93?(e.consume(O),$):we(O)?(c=X,Z(O)):(e.consume(O),X)}function $(O){return O===93?(e.consume(O),G):X(O)}function G(O){return O===62?P(O):O===93?(e.consume(O),G):X(O)}function de(O){return O===null||O===62?P(O):we(O)?(c=de,Z(O)):(e.consume(O),de)}function j(O){return O===null?i(O):O===63?(e.consume(O),ye):we(O)?(c=j,Z(O)):(e.consume(O),j)}function ye(O){return O===62?P(O):j(O)}function Ae(O){return hi(O)?(e.consume(O),V):i(O)}function V(O){return O===45||Pn(O)?(e.consume(O),V):fe(O)}function fe(O){return we(O)?(c=fe,Z(O)):tt(O)?(e.consume(O),fe):P(O)}function Se(O){return O===45||Pn(O)?(e.consume(O),Se):O===47||O===62||An(O)?ve(O):i(O)}function ve(O){return O===47?(e.consume(O),P):O===58||O===95||hi(O)?(e.consume(O),xe):we(O)?(c=ve,Z(O)):tt(O)?(e.consume(O),ve):P(O)}function xe(O){return O===45||O===46||O===58||O===95||Pn(O)?(e.consume(O),xe):_e(O)}function _e(O){return O===61?(e.consume(O),q):we(O)?(c=_e,Z(O)):tt(O)?(e.consume(O),_e):ve(O)}function q(O){return O===null||O===60||O===61||O===62||O===96?i(O):O===34||O===39?(e.consume(O),l=O,Le):we(O)?(c=q,Z(O)):tt(O)?(e.consume(O),q):(e.consume(O),se)}function Le(O){return O===l?(e.consume(O),l=void 0,ie):O===null?i(O):we(O)?(c=Le,Z(O)):(e.consume(O),Le)}function se(O){return O===null||O===34||O===39||O===60||O===61||O===96?i(O):O===47||O===62||An(O)?ve(O):(e.consume(O),se)}function ie(O){return O===47||O===62||An(O)?ve(O):i(O)}function P(O){return O===62?(e.consume(O),e.exit("htmlTextData"),e.exit("htmlText"),t):i(O)}function Z(O){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),Te}function Te(O){return tt(O)?yt(e,Oe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):Oe(O)}function Oe(O){return e.enter("htmlTextData"),c(O)}}const rm={name:"labelEnd",resolveAll:IO,resolveTo:LO,tokenize:kO},RO={tokenize:wO},OO={tokenize:MO},DO={tokenize:BO};function IO(e){let t=-1;const i=[];for(;++t<e.length;){const r=e[t][1];if(i.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const l=r.type==="labelImage"?4:2;r.type="data",t+=l}}return e.length!==i.length&&mi(e,0,e.length,i),e}function LO(e,t){let i=e.length,r=0,l,o,c,h;for(;i--;)if(l=e[i][1],o){if(l.type==="link"||l.type==="labelLink"&&l._inactive)break;e[i][0]==="enter"&&l.type==="labelLink"&&(l._inactive=!0)}else if(c){if(e[i][0]==="enter"&&(l.type==="labelImage"||l.type==="labelLink")&&!l._balanced&&(o=i,l.type!=="labelLink")){r=2;break}}else l.type==="labelEnd"&&(c=i);const p={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},g={type:"label",start:{...e[o][1].start},end:{...e[c][1].end}},E={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[c-2][1].start}};return h=[["enter",p,t],["enter",g,t]],h=Qn(h,e.slice(o+1,o+r+3)),h=Qn(h,[["enter",E,t]]),h=Qn(h,am(t.parser.constructs.insideSpan.null,e.slice(o+r+4,c-3),t)),h=Qn(h,[["exit",E,t],e[c-2],e[c-1],["exit",g,t]]),h=Qn(h,e.slice(c+1)),h=Qn(h,[["exit",p,t]]),mi(e,o,e.length,h),e}function kO(e,t,i){const r=this;let l=r.events.length,o,c;for(;l--;)if((r.events[l][1].type==="labelImage"||r.events[l][1].type==="labelLink")&&!r.events[l][1]._balanced){o=r.events[l][1];break}return h;function h(b){return o?o._inactive?T(b):(c=r.parser.defined.includes(rs(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(b),e.exit("labelMarker"),e.exit("labelEnd"),p):i(b)}function p(b){return b===40?e.attempt(RO,E,c?E:T)(b):b===91?e.attempt(OO,E,c?g:T)(b):c?E(b):T(b)}function g(b){return e.attempt(DO,E,T)(b)}function E(b){return t(b)}function T(b){return o._balanced=!0,i(b)}}function wO(e,t,i){return r;function r(T){return e.enter("resource"),e.enter("resourceMarker"),e.consume(T),e.exit("resourceMarker"),l}function l(T){return An(T)?Pl(e,o)(T):o(T)}function o(T){return T===41?E(T):$2(e,c,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(T)}function c(T){return An(T)?Pl(e,p)(T):E(T)}function h(T){return i(T)}function p(T){return T===34||T===39||T===40?J2(e,g,i,"resourceTitle","resourceTitleMarker","resourceTitleString")(T):E(T)}function g(T){return An(T)?Pl(e,E)(T):E(T)}function E(T){return T===41?(e.enter("resourceMarker"),e.consume(T),e.exit("resourceMarker"),e.exit("resource"),t):i(T)}}function MO(e,t,i){const r=this;return l;function l(h){return Z2.call(r,e,o,c,"reference","referenceMarker","referenceString")(h)}function o(h){return r.parser.defined.includes(rs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(h):i(h)}function c(h){return i(h)}}function BO(e,t,i){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),l}function l(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):i(o)}}const PO={name:"labelStartImage",resolveAll:rm.resolveAll,tokenize:UO};function UO(e,t,i){const r=this;return l;function l(h){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(h),e.exit("labelImageMarker"),o}function o(h){return h===91?(e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelImage"),c):i(h)}function c(h){return h===94&&"_hiddenFootnoteSupport"in r.parser.constructs?i(h):t(h)}}const HO={name:"labelStartLink",resolveAll:rm.resolveAll,tokenize:FO};function FO(e,t,i){const r=this;return l;function l(c){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelLink"),o}function o(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?i(c):t(c)}}const mh={name:"lineEnding",tokenize:zO};function zO(e,t){return i;function i(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),yt(e,t,"linePrefix")}}const Yo={name:"thematicBreak",tokenize:jO};function jO(e,t,i){let r=0,l;return o;function o(g){return e.enter("thematicBreak"),c(g)}function c(g){return l=g,h(g)}function h(g){return g===l?(e.enter("thematicBreakSequence"),p(g)):r>=3&&(g===null||we(g))?(e.exit("thematicBreak"),t(g)):i(g)}function p(g){return g===l?(e.consume(g),r++,p):(e.exit("thematicBreakSequence"),tt(g)?yt(e,h,"whitespace")(g):h(g))}}const Tn={continuation:{tokenize:GO},exit:QO,name:"list",tokenize:VO},YO={partial:!0,tokenize:KO},qO={partial:!0,tokenize:XO};function VO(e,t,i){const r=this,l=r.events[r.events.length-1];let o=l&&l[1].type==="linePrefix"?l[2].sliceSerialize(l[1],!0).length:0,c=0;return h;function h(S){const w=r.containerState.type||(S===42||S===43||S===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||S===r.containerState.marker:Wh(S)){if(r.containerState.type||(r.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),S===42||S===45?e.check(Yo,i,g)(S):g(S);if(!r.interrupt||S===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),p(S)}return i(S)}function p(S){return Wh(S)&&++c<10?(e.consume(S),p):(!r.interrupt||c<2)&&(r.containerState.marker?S===r.containerState.marker:S===41||S===46)?(e.exit("listItemValue"),g(S)):i(S)}function g(S){return e.enter("listItemMarker"),e.consume(S),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||S,e.check(Nc,r.interrupt?i:E,e.attempt(YO,b,T))}function E(S){return r.containerState.initialBlankLine=!0,o++,b(S)}function T(S){return tt(S)?(e.enter("listItemPrefixWhitespace"),e.consume(S),e.exit("listItemPrefixWhitespace"),b):i(S)}function b(S){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(S)}}function GO(e,t,i){const r=this;return r.containerState._closeFlow=void 0,e.check(Nc,l,o);function l(h){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,yt(e,t,"listItemIndent",r.containerState.size+1)(h)}function o(h){return r.containerState.furtherBlankLines||!tt(h)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,c(h)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(qO,t,c)(h))}function c(h){return r.containerState._closeFlow=!0,r.interrupt=void 0,yt(e,e.attempt(Tn,t,i),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function XO(e,t,i){const r=this;return yt(e,l,"listItemIndent",r.containerState.size+1);function l(o){const c=r.events[r.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===r.containerState.size?t(o):i(o)}}function QO(e){e.exit(this.containerState.type)}function KO(e,t,i){const r=this;return yt(e,l,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function l(o){const c=r.events[r.events.length-1];return!tt(o)&&c&&c[1].type==="listItemPrefixWhitespace"?t(o):i(o)}}const F_={name:"setextUnderline",resolveTo:WO,tokenize:$O};function WO(e,t){let i=e.length,r,l,o;for(;i--;)if(e[i][0]==="enter"){if(e[i][1].type==="content"){r=i;break}e[i][1].type==="paragraph"&&(l=i)}else e[i][1].type==="content"&&e.splice(i,1),!o&&e[i][1].type==="definition"&&(o=i);const c={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[l][1].type="setextHeadingText",o?(e.splice(l,0,["enter",c,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=c,e.push(["exit",c,t]),e}function $O(e,t,i){const r=this;let l;return o;function o(g){let E=r.events.length,T;for(;E--;)if(r.events[E][1].type!=="lineEnding"&&r.events[E][1].type!=="linePrefix"&&r.events[E][1].type!=="content"){T=r.events[E][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||T)?(e.enter("setextHeadingLine"),l=g,c(g)):i(g)}function c(g){return e.enter("setextHeadingLineSequence"),h(g)}function h(g){return g===l?(e.consume(g),h):(e.exit("setextHeadingLineSequence"),tt(g)?yt(e,p,"lineSuffix")(g):p(g))}function p(g){return g===null||we(g)?(e.exit("setextHeadingLine"),t(g)):i(g)}}const ZO={tokenize:JO};function JO(e){const t=this,i=e.attempt(Nc,r,e.attempt(this.parser.constructs.flowInitial,l,yt(e,e.attempt(this.parser.constructs.flow,l,e.attempt(aO,l)),"linePrefix")));return i;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,i}function l(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,i}}const eD={resolveAll:tS()},tD=eS("string"),nD=eS("text");function eS(e){return{resolveAll:tS(e==="text"?iD:void 0),tokenize:t};function t(i){const r=this,l=this.parser.constructs[e],o=i.attempt(l,c,h);return c;function c(E){return g(E)?o(E):h(E)}function h(E){if(E===null){i.consume(E);return}return i.enter("data"),i.consume(E),p}function p(E){return g(E)?(i.exit("data"),o(E)):(i.consume(E),p)}function g(E){if(E===null)return!0;const T=l[E];let b=-1;if(T)for(;++b<T.length;){const S=T[b];if(!S.previous||S.previous.call(r,r.previous))return!0}return!1}}}function tS(e){return t;function t(i,r){let l=-1,o;for(;++l<=i.length;)o===void 0?i[l]&&i[l][1].type==="data"&&(o=l,l++):(!i[l]||i[l][1].type!=="data")&&(l!==o+2&&(i[o][1].end=i[l-1][1].end,i.splice(o+2,l-o-2),l=o+2),o=void 0);return e?e(i,r):i}}function iD(e,t){let i=0;for(;++i<=e.length;)if((i===e.length||e[i][1].type==="lineEnding")&&e[i-1][1].type==="data"){const r=e[i-1][1],l=t.sliceStream(r);let o=l.length,c=-1,h=0,p;for(;o--;){const g=l[o];if(typeof g=="string"){for(c=g.length;g.charCodeAt(c-1)===32;)h++,c--;if(c)break;c=-1}else if(g===-2)p=!0,h++;else if(g!==-1){o++;break}}if(t._contentTypeTextTrailing&&i===e.length&&(h=0),h){const g={type:i===e.length||p||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?c:r.start._bufferIndex+c,_index:r.start._index+o,line:r.end.line,column:r.end.column-h,offset:r.end.offset-h},end:{...r.end}};r.end={...g.start},r.start.offset===r.end.offset?Object.assign(r,g):(e.splice(i,0,["enter",g,t],["exit",g,t]),i+=2)}i++}return e}const aD={42:Tn,43:Tn,45:Tn,48:Tn,49:Tn,50:Tn,51:Tn,52:Tn,53:Tn,54:Tn,55:Tn,56:Tn,57:Tn,62:X2},rD={91:oO},sD={[-2]:hh,[-1]:hh,32:hh},lD={35:pO,42:Yo,45:[F_,Yo],60:yO,61:F_,95:Yo,96:U_,126:U_},uD={38:K2,92:Q2},oD={[-5]:mh,[-4]:mh,[-3]:mh,33:PO,38:K2,42:$h,60:[HR,xO],91:HO,92:[hO,Q2],93:rm,95:$h,96:ZR},cD={null:[$h,eD]},fD={null:[42,95]},dD={null:[]},hD=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:fD,contentInitial:rD,disable:dD,document:aD,flow:lD,flowInitial:sD,insideSpan:cD,string:uD,text:oD},Symbol.toStringTag,{value:"Module"}));function mD(e,t,i){let r={_bufferIndex:-1,_index:0,line:i&&i.line||1,column:i&&i.column||1,offset:i&&i.offset||0};const l={},o=[];let c=[],h=[];const p={attempt:fe(Ae),check:fe(V),consume:de,enter:j,exit:ye,interrupt:fe(V,{interrupt:!0})},g={code:null,containerState:{},defineSkip:X,events:[],now:w,parser:e,previous:null,sliceSerialize:b,sliceStream:S,write:T};let E=t.tokenize.call(g,p);return t.resolveAll&&o.push(t),g;function T(_e){return c=Qn(c,_e),$(),c[c.length-1]!==null?[]:(Se(t,0),g.events=am(o,g.events,g),g.events)}function b(_e,q){return gD(S(_e),q)}function S(_e){return pD(c,_e)}function w(){const{_bufferIndex:_e,_index:q,line:Le,column:se,offset:ie}=r;return{_bufferIndex:_e,_index:q,line:Le,column:se,offset:ie}}function X(_e){l[_e.line]=_e.column,xe()}function $(){let _e;for(;r._index<c.length;){const q=c[r._index];if(typeof q=="string")for(_e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===_e&&r._bufferIndex<q.length;)G(q.charCodeAt(r._bufferIndex));else G(q)}}function G(_e){E=E(_e)}function de(_e){we(_e)?(r.line++,r.column=1,r.offset+=_e===-3?2:1,xe()):_e!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===c[r._index].length&&(r._bufferIndex=-1,r._index++)),g.previous=_e}function j(_e,q){const Le=q||{};return Le.type=_e,Le.start=w(),g.events.push(["enter",Le,g]),h.push(Le),Le}function ye(_e){const q=h.pop();return q.end=w(),g.events.push(["exit",q,g]),q}function Ae(_e,q){Se(_e,q.from)}function V(_e,q){q.restore()}function fe(_e,q){return Le;function Le(se,ie,P){let Z,Te,Oe,O;return Array.isArray(se)?W(se):"tokenize"in se?W([se]):L(se);function L(x){return U;function U(te){const he=te!==null&&x[te],qe=te!==null&&x.null,Ue=[...Array.isArray(he)?he:he?[he]:[],...Array.isArray(qe)?qe:qe?[qe]:[]];return W(Ue)(te)}}function W(x){return Z=x,Te=0,x.length===0?P:v(x[Te])}function v(x){return U;function U(te){return O=ve(),Oe=x,x.partial||(g.currentConstruct=x),x.name&&g.parser.constructs.disable.null.includes(x.name)?R():x.tokenize.call(q?Object.assign(Object.create(g),q):g,p,ge,R)(te)}}function ge(x){return _e(Oe,O),ie}function R(x){return O.restore(),++Te<Z.length?v(Z[Te]):P}}}function Se(_e,q){_e.resolveAll&&!o.includes(_e)&&o.push(_e),_e.resolve&&mi(g.events,q,g.events.length-q,_e.resolve(g.events.slice(q),g)),_e.resolveTo&&(g.events=_e.resolveTo(g.events,g))}function ve(){const _e=w(),q=g.previous,Le=g.currentConstruct,se=g.events.length,ie=Array.from(h);return{from:se,restore:P};function P(){r=_e,g.previous=q,g.currentConstruct=Le,g.events.length=se,h=ie,xe()}}function xe(){r.line in l&&r.column<2&&(r.column=l[r.line],r.offset+=l[r.line]-1)}}function pD(e,t){const i=t.start._index,r=t.start._bufferIndex,l=t.end._index,o=t.end._bufferIndex;let c;if(i===l)c=[e[i].slice(r,o)];else{if(c=e.slice(i,l),r>-1){const h=c[0];typeof h=="string"?c[0]=h.slice(r):c.shift()}o>0&&c.push(e[l].slice(0,o))}return c}function gD(e,t){let i=-1;const r=[];let l;for(;++i<e.length;){const o=e[i];let c;if(typeof o=="string")c=o;else switch(o){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=t?" ":"	";break}case-1:{if(!t&&l)continue;c=" ";break}default:c=String.fromCharCode(o)}l=o===-2,r.push(c)}return r.join("")}function ED(e){const r={constructs:AR([hD,...(e||{}).extensions||[]]),content:l(LR),defined:[],document:l(wR),flow:l(ZO),lazy:{},string:l(tD),text:l(nD)};return r;function l(o){return c;function c(h){return mD(r,o,h)}}}function _D(e){for(;!W2(e););return e}const z_=/[\0\t\n\r]/g;function yD(){let e=1,t="",i=!0,r;return l;function l(o,c,h){const p=[];let g,E,T,b,S;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(c||void 0).decode(o)),T=0,t="",i&&(o.charCodeAt(0)===65279&&T++,i=void 0);T<o.length;){if(z_.lastIndex=T,g=z_.exec(o),b=g&&g.index!==void 0?g.index:o.length,S=o.charCodeAt(b),!g){t=o.slice(T);break}if(S===10&&T===b&&r)p.push(-3),r=void 0;else switch(r&&(p.push(-5),r=void 0),T<b&&(p.push(o.slice(T,b)),e+=b-T),S){case 0:{p.push(65533),e++;break}case 9:{for(E=Math.ceil(e/4)*4,p.push(-2);e++<E;)p.push(-1);break}case 10:{p.push(-4),e=1;break}default:r=!0,e=1}T=b+1}return h&&(r&&p.push(-5),t&&p.push(t),p.push(null)),p}}const TD=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function bD(e){return e.replace(TD,SD)}function SD(e,t,i){if(t)return t;if(i.charCodeAt(0)===35){const l=i.charCodeAt(1),o=l===120||l===88;return G2(i.slice(o?2:1),o?16:10)}return im(i)||e}const nS={}.hasOwnProperty;function CD(e,t,i){return typeof t!="string"&&(i=t,t=void 0),AD(i)(_D(ED(i).document().write(yD()(e,t,!0))))}function AD(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Ei),autolinkProtocol:ve,autolinkEmail:ve,atxHeading:o(Gi),blockQuote:o(qe),characterEscape:ve,characterReference:ve,codeFenced:o(Ue),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:o(Ue,c),codeText:o(Ct,c),codeTextData:ve,data:ve,codeFlowValue:ve,definition:o(Vi),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:o($n),hardBreakEscape:o(gi),hardBreakTrailing:o(gi),htmlFlow:o(or,c),htmlFlowData:ve,htmlText:o(or,c),htmlTextData:ve,image:o(cr),label:c,link:o(Ei),listItem:o(Ee),listItemValue:b,listOrdered:o(M,T),listUnordered:o(M),paragraph:o(Re),reference:v,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:o(Gi),strong:o(it),thematicBreak:o(mt)},exit:{atxHeading:p(),atxHeadingSequence:Ae,autolink:p(),autolinkEmail:he,autolinkProtocol:te,blockQuote:p(),characterEscapeValue:xe,characterReferenceMarkerHexadecimal:R,characterReferenceMarkerNumeric:R,characterReferenceValue:x,characterReference:U,codeFenced:p($),codeFencedFence:X,codeFencedFenceInfo:S,codeFencedFenceMeta:w,codeFlowValue:xe,codeIndented:p(G),codeText:p(ie),codeTextData:xe,data:xe,definition:p(),definitionDestinationString:ye,definitionLabelString:de,definitionTitleString:j,emphasis:p(),hardBreakEscape:p(q),hardBreakTrailing:p(q),htmlFlow:p(Le),htmlFlowData:xe,htmlText:p(se),htmlTextData:xe,image:p(Z),label:Oe,labelText:Te,lineEnding:_e,link:p(P),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:ge,resourceDestinationString:O,resourceTitleString:L,resource:W,setextHeading:p(Se),setextHeadingLineSequence:fe,setextHeadingText:V,strong:p(),thematicBreak:p()}};iS(t,(e||{}).mdastExtensions||[]);const i={};return r;function r(ee){let me={type:"root",children:[]};const Ie={stack:[me],tokenStack:[],config:t,enter:h,exit:g,buffer:c,resume:E,data:i},Ve=[];let at=-1;for(;++at<ee.length;)if(ee[at][1].type==="listOrdered"||ee[at][1].type==="listUnordered")if(ee[at][0]==="enter")Ve.push(at);else{const Nn=Ve.pop();at=l(ee,Nn,at)}for(at=-1;++at<ee.length;){const Nn=t[ee[at][0]];nS.call(Nn,ee[at][1].type)&&Nn[ee[at][1].type].call(Object.assign({sliceSerialize:ee[at][2].sliceSerialize},Ie),ee[at][1])}if(Ie.tokenStack.length>0){const Nn=Ie.tokenStack[Ie.tokenStack.length-1];(Nn[1]||j_).call(Ie,void 0,Nn[0])}for(me.position={start:_a(ee.length>0?ee[0][1].start:{line:1,column:1,offset:0}),end:_a(ee.length>0?ee[ee.length-2][1].end:{line:1,column:1,offset:0})},at=-1;++at<t.transforms.length;)me=t.transforms[at](me)||me;return me}function l(ee,me,Ie){let Ve=me-1,at=-1,Nn=!1,_i,on,Ft,fn;for(;++Ve<=Ie;){const ct=ee[Ve];switch(ct[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ct[0]==="enter"?at++:at--,fn=void 0;break}case"lineEndingBlank":{ct[0]==="enter"&&(_i&&!fn&&!at&&!Ft&&(Ft=Ve),fn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:fn=void 0}if(!at&&ct[0]==="enter"&&ct[1].type==="listItemPrefix"||at===-1&&ct[0]==="exit"&&(ct[1].type==="listUnordered"||ct[1].type==="listOrdered")){if(_i){let Xi=Ve;for(on=void 0;Xi--;){const Zn=ee[Xi];if(Zn[1].type==="lineEnding"||Zn[1].type==="lineEndingBlank"){if(Zn[0]==="exit")continue;on&&(ee[on][1].type="lineEndingBlank",Nn=!0),Zn[1].type="lineEnding",on=Xi}else if(!(Zn[1].type==="linePrefix"||Zn[1].type==="blockQuotePrefix"||Zn[1].type==="blockQuotePrefixWhitespace"||Zn[1].type==="blockQuoteMarker"||Zn[1].type==="listItemIndent"))break}Ft&&(!on||Ft<on)&&(_i._spread=!0),_i.end=Object.assign({},on?ee[on][1].start:ct[1].end),ee.splice(on||Ve,0,["exit",_i,ct[2]]),Ve++,Ie++}if(ct[1].type==="listItemPrefix"){const Xi={type:"listItem",_spread:!1,start:Object.assign({},ct[1].start),end:void 0};_i=Xi,ee.splice(Ve,0,["enter",Xi,ct[2]]),Ve++,Ie++,Ft=void 0,fn=!0}}}return ee[me][1]._spread=Nn,Ie}function o(ee,me){return Ie;function Ie(Ve){h.call(this,ee(Ve),Ve),me&&me.call(this,Ve)}}function c(){this.stack.push({type:"fragment",children:[]})}function h(ee,me,Ie){this.stack[this.stack.length-1].children.push(ee),this.stack.push(ee),this.tokenStack.push([me,Ie||void 0]),ee.position={start:_a(me.start),end:void 0}}function p(ee){return me;function me(Ie){ee&&ee.call(this,Ie),g.call(this,Ie)}}function g(ee,me){const Ie=this.stack.pop(),Ve=this.tokenStack.pop();if(Ve)Ve[0].type!==ee.type&&(me?me.call(this,ee,Ve[0]):(Ve[1]||j_).call(this,ee,Ve[0]));else throw new Error("Cannot close `"+ee.type+"` ("+Bl({start:ee.start,end:ee.end})+"): its not open");Ie.position.end=_a(ee.end)}function E(){return SR(this.stack.pop())}function T(){this.data.expectingFirstListItemValue=!0}function b(ee){if(this.data.expectingFirstListItemValue){const me=this.stack[this.stack.length-2];me.start=Number.parseInt(this.sliceSerialize(ee),10),this.data.expectingFirstListItemValue=void 0}}function S(){const ee=this.resume(),me=this.stack[this.stack.length-1];me.lang=ee}function w(){const ee=this.resume(),me=this.stack[this.stack.length-1];me.meta=ee}function X(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function $(){const ee=this.resume(),me=this.stack[this.stack.length-1];me.value=ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function G(){const ee=this.resume(),me=this.stack[this.stack.length-1];me.value=ee.replace(/(\r?\n|\r)$/g,"")}function de(ee){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=me,Ie.identifier=rs(this.sliceSerialize(ee)).toLowerCase()}function j(){const ee=this.resume(),me=this.stack[this.stack.length-1];me.title=ee}function ye(){const ee=this.resume(),me=this.stack[this.stack.length-1];me.url=ee}function Ae(ee){const me=this.stack[this.stack.length-1];if(!me.depth){const Ie=this.sliceSerialize(ee).length;me.depth=Ie}}function V(){this.data.setextHeadingSlurpLineEnding=!0}function fe(ee){const me=this.stack[this.stack.length-1];me.depth=this.sliceSerialize(ee).codePointAt(0)===61?1:2}function Se(){this.data.setextHeadingSlurpLineEnding=void 0}function ve(ee){const Ie=this.stack[this.stack.length-1].children;let Ve=Ie[Ie.length-1];(!Ve||Ve.type!=="text")&&(Ve=ht(),Ve.position={start:_a(ee.start),end:void 0},Ie.push(Ve)),this.stack.push(Ve)}function xe(ee){const me=this.stack.pop();me.value+=this.sliceSerialize(ee),me.position.end=_a(ee.end)}function _e(ee){const me=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ie=me.children[me.children.length-1];Ie.position.end=_a(ee.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(me.type)&&(ve.call(this,ee),xe.call(this,ee))}function q(){this.data.atHardBreak=!0}function Le(){const ee=this.resume(),me=this.stack[this.stack.length-1];me.value=ee}function se(){const ee=this.resume(),me=this.stack[this.stack.length-1];me.value=ee}function ie(){const ee=this.resume(),me=this.stack[this.stack.length-1];me.value=ee}function P(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const me=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=me,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function Z(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const me=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=me,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function Te(ee){const me=this.sliceSerialize(ee),Ie=this.stack[this.stack.length-2];Ie.label=bD(me),Ie.identifier=rs(me).toLowerCase()}function Oe(){const ee=this.stack[this.stack.length-1],me=this.resume(),Ie=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ie.type==="link"){const Ve=ee.children;Ie.children=Ve}else Ie.alt=me}function O(){const ee=this.resume(),me=this.stack[this.stack.length-1];me.url=ee}function L(){const ee=this.resume(),me=this.stack[this.stack.length-1];me.title=ee}function W(){this.data.inReference=void 0}function v(){this.data.referenceType="collapsed"}function ge(ee){const me=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=me,Ie.identifier=rs(this.sliceSerialize(ee)).toLowerCase(),this.data.referenceType="full"}function R(ee){this.data.characterReferenceType=ee.type}function x(ee){const me=this.sliceSerialize(ee),Ie=this.data.characterReferenceType;let Ve;Ie?(Ve=G2(me,Ie==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ve=im(me);const at=this.stack[this.stack.length-1];at.value+=Ve}function U(ee){const me=this.stack.pop();me.position.end=_a(ee.end)}function te(ee){xe.call(this,ee);const me=this.stack[this.stack.length-1];me.url=this.sliceSerialize(ee)}function he(ee){xe.call(this,ee);const me=this.stack[this.stack.length-1];me.url="mailto:"+this.sliceSerialize(ee)}function qe(){return{type:"blockquote",children:[]}}function Ue(){return{type:"code",lang:null,meta:null,value:""}}function Ct(){return{type:"inlineCode",value:""}}function Vi(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $n(){return{type:"emphasis",children:[]}}function Gi(){return{type:"heading",depth:0,children:[]}}function gi(){return{type:"break"}}function or(){return{type:"html",value:""}}function cr(){return{type:"image",title:null,url:"",alt:null}}function Ei(){return{type:"link",title:null,url:"",children:[]}}function M(ee){return{type:"list",ordered:ee.type==="listOrdered",start:null,spread:ee._spread,children:[]}}function Ee(ee){return{type:"listItem",spread:ee._spread,checked:null,children:[]}}function Re(){return{type:"paragraph",children:[]}}function it(){return{type:"strong",children:[]}}function ht(){return{type:"text",value:""}}function mt(){return{type:"thematicBreak"}}}function _a(e){return{line:e.line,column:e.column,offset:e.offset}}function iS(e,t){let i=-1;for(;++i<t.length;){const r=t[i];Array.isArray(r)?iS(e,r):vD(e,r)}}function vD(e,t){let i;for(i in t)if(nS.call(t,i))switch(i){case"canContainEols":{const r=t[i];r&&e[i].push(...r);break}case"transforms":{const r=t[i];r&&e[i].push(...r);break}case"enter":case"exit":{const r=t[i];r&&Object.assign(e[i],r);break}}}function j_(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Bl({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Bl({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Bl({start:t.start,end:t.end})+") is still open")}function xD(e){const t=this;t.parser=i;function i(r){return CD(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function ND(e,t){const i={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,i),e.applyData(t,i)}function RD(e,t){const i={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,i),[e.applyData(t,i),{type:"text",value:`
`}]}function OD(e,t){const i=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let l={type:"element",tagName:"code",properties:r,children:[{type:"text",value:i}]};return t.meta&&(l.data={meta:t.meta}),e.patch(t,l),l=e.applyData(t,l),l={type:"element",tagName:"pre",properties:{},children:[l]},e.patch(t,l),l}function DD(e,t){const i={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function ID(e,t){const i={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function LD(e,t){const i=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),l=ys(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let c,h=e.footnoteCounts.get(r);h===void 0?(h=0,e.footnoteOrder.push(r),c=e.footnoteOrder.length):c=o+1,h+=1,e.footnoteCounts.set(r,h);const p={type:"element",tagName:"a",properties:{href:"#"+i+"fn-"+l,id:i+"fnref-"+l+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};e.patch(t,p);const g={type:"element",tagName:"sup",properties:{},children:[p]};return e.patch(t,g),e.applyData(t,g)}function kD(e,t){const i={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function wD(e,t){if(e.options.allowDangerousHtml){const i={type:"raw",value:t.value};return e.patch(t,i),e.applyData(t,i)}}function aS(e,t){const i=t.referenceType;let r="]";if(i==="collapsed"?r+="[]":i==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const l=e.all(t),o=l[0];o&&o.type==="text"?o.value="["+o.value:l.unshift({type:"text",value:"["});const c=l[l.length-1];return c&&c.type==="text"?c.value+=r:l.push({type:"text",value:r}),l}function MD(e,t){const i=String(t.identifier).toUpperCase(),r=e.definitionById.get(i);if(!r)return aS(e,t);const l={src:ys(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(l.title=r.title);const o={type:"element",tagName:"img",properties:l,children:[]};return e.patch(t,o),e.applyData(t,o)}function BD(e,t){const i={src:ys(t.url)};t.alt!==null&&t.alt!==void 0&&(i.alt=t.alt),t.title!==null&&t.title!==void 0&&(i.title=t.title);const r={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,r),e.applyData(t,r)}function PD(e,t){const i={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,i);const r={type:"element",tagName:"code",properties:{},children:[i]};return e.patch(t,r),e.applyData(t,r)}function UD(e,t){const i=String(t.identifier).toUpperCase(),r=e.definitionById.get(i);if(!r)return aS(e,t);const l={href:ys(r.url||"")};r.title!==null&&r.title!==void 0&&(l.title=r.title);const o={type:"element",tagName:"a",properties:l,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function HD(e,t){const i={href:ys(t.url)};t.title!==null&&t.title!==void 0&&(i.title=t.title);const r={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function FD(e,t,i){const r=e.all(t),l=i?zD(i):rS(t),o={},c=[];if(typeof t.checked=="boolean"){const E=r[0];let T;E&&E.type==="element"&&E.tagName==="p"?T=E:(T={type:"element",tagName:"p",properties:{},children:[]},r.unshift(T)),T.children.length>0&&T.children.unshift({type:"text",value:" "}),T.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let h=-1;for(;++h<r.length;){const E=r[h];(l||h!==0||E.type!=="element"||E.tagName!=="p")&&c.push({type:"text",value:`
`}),E.type==="element"&&E.tagName==="p"&&!l?c.push(...E.children):c.push(E)}const p=r[r.length-1];p&&(l||p.type!=="element"||p.tagName!=="p")&&c.push({type:"text",value:`
`});const g={type:"element",tagName:"li",properties:o,children:c};return e.patch(t,g),e.applyData(t,g)}function zD(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const i=e.children;let r=-1;for(;!t&&++r<i.length;)t=rS(i[r])}return t}function rS(e){const t=e.spread;return t??e.children.length>1}function jD(e,t){const i={},r=e.all(t);let l=-1;for(typeof t.start=="number"&&t.start!==1&&(i.start=t.start);++l<r.length;){const c=r[l];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){i.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:i,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function YD(e,t){const i={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function qD(e,t){const i={type:"root",children:e.wrap(e.all(t))};return e.patch(t,i),e.applyData(t,i)}function VD(e,t){const i={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function GD(e,t){const i=e.all(t),r=i.shift(),l=[];if(r){const c={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],c),l.push(c)}if(i.length>0){const c={type:"element",tagName:"tbody",properties:{},children:e.wrap(i,!0)},h=pi(t.children[1]),p=xc(t.children[t.children.length-1]);h&&p&&(c.position={start:h,end:p}),l.push(c)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(l,!0)};return e.patch(t,o),e.applyData(t,o)}function XD(e,t,i){const r=i?i.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",c=i&&i.type==="table"?i.align:void 0,h=c?c.length:t.children.length;let p=-1;const g=[];for(;++p<h;){const T=t.children[p],b={},S=c?c[p]:void 0;S&&(b.align=S);let w={type:"element",tagName:o,properties:b,children:[]};T&&(w.children=e.all(T),e.patch(T,w),w=e.applyData(T,w)),g.push(w)}const E={type:"element",tagName:"tr",properties:{},children:e.wrap(g,!0)};return e.patch(t,E),e.applyData(t,E)}function QD(e,t){const i={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}const Y_=9,q_=32;function KD(e){const t=String(e),i=/\r?\n|\r/g;let r=i.exec(t),l=0;const o=[];for(;r;)o.push(V_(t.slice(l,r.index),l>0,!0),r[0]),l=r.index+r[0].length,r=i.exec(t);return o.push(V_(t.slice(l),l>0,!1)),o.join("")}function V_(e,t,i){let r=0,l=e.length;if(t){let o=e.codePointAt(r);for(;o===Y_||o===q_;)r++,o=e.codePointAt(r)}if(i){let o=e.codePointAt(l-1);for(;o===Y_||o===q_;)l--,o=e.codePointAt(l-1)}return l>r?e.slice(r,l):""}function WD(e,t){const i={type:"text",value:KD(String(t.value))};return e.patch(t,i),e.applyData(t,i)}function $D(e,t){const i={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,i),e.applyData(t,i)}const ZD={blockquote:ND,break:RD,code:OD,delete:DD,emphasis:ID,footnoteReference:LD,heading:kD,html:wD,imageReference:MD,image:BD,inlineCode:PD,linkReference:UD,link:HD,listItem:FD,list:jD,paragraph:YD,root:qD,strong:VD,table:GD,tableCell:QD,tableRow:XD,text:WD,thematicBreak:$D,toml:Mo,yaml:Mo,definition:Mo,footnoteDefinition:Mo};function Mo(){}const sS=-1,Rc=0,Ul=1,oc=2,sm=3,lm=4,um=5,om=6,lS=7,uS=8,G_=typeof self=="object"?self:globalThis,JD=(e,t)=>{const i=(l,o)=>(e.set(o,l),l),r=l=>{if(e.has(l))return e.get(l);const[o,c]=t[l];switch(o){case Rc:case sS:return i(c,l);case Ul:{const h=i([],l);for(const p of c)h.push(r(p));return h}case oc:{const h=i({},l);for(const[p,g]of c)h[r(p)]=r(g);return h}case sm:return i(new Date(c),l);case lm:{const{source:h,flags:p}=c;return i(new RegExp(h,p),l)}case um:{const h=i(new Map,l);for(const[p,g]of c)h.set(r(p),r(g));return h}case om:{const h=i(new Set,l);for(const p of c)h.add(r(p));return h}case lS:{const{name:h,message:p}=c;return i(new G_[h](p),l)}case uS:return i(BigInt(c),l);case"BigInt":return i(Object(BigInt(c)),l);case"ArrayBuffer":return i(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:h}=new Uint8Array(c);return i(new DataView(h),c)}}return i(new G_[o](c),l)};return r},X_=e=>JD(new Map,e)(0),$r="",{toString:eI}={},{keys:tI}=Object,Al=e=>{const t=typeof e;if(t!=="object"||!e)return[Rc,t];const i=eI.call(e).slice(8,-1);switch(i){case"Array":return[Ul,$r];case"Object":return[oc,$r];case"Date":return[sm,$r];case"RegExp":return[lm,$r];case"Map":return[um,$r];case"Set":return[om,$r];case"DataView":return[Ul,i]}return i.includes("Array")?[Ul,i]:i.includes("Error")?[lS,i]:[oc,i]},Bo=([e,t])=>e===Rc&&(t==="function"||t==="symbol"),nI=(e,t,i,r)=>{const l=(c,h)=>{const p=r.push(c)-1;return i.set(h,p),p},o=c=>{if(i.has(c))return i.get(c);let[h,p]=Al(c);switch(h){case Rc:{let E=c;switch(p){case"bigint":h=uS,E=c.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+p);E=null;break;case"undefined":return l([sS],c)}return l([h,E],c)}case Ul:{if(p){let b=c;return p==="DataView"?b=new Uint8Array(c.buffer):p==="ArrayBuffer"&&(b=new Uint8Array(c)),l([p,[...b]],c)}const E=[],T=l([h,E],c);for(const b of c)E.push(o(b));return T}case oc:{if(p)switch(p){case"BigInt":return l([p,c.toString()],c);case"Boolean":case"Number":case"String":return l([p,c.valueOf()],c)}if(t&&"toJSON"in c)return o(c.toJSON());const E=[],T=l([h,E],c);for(const b of tI(c))(e||!Bo(Al(c[b])))&&E.push([o(b),o(c[b])]);return T}case sm:return l([h,c.toISOString()],c);case lm:{const{source:E,flags:T}=c;return l([h,{source:E,flags:T}],c)}case um:{const E=[],T=l([h,E],c);for(const[b,S]of c)(e||!(Bo(Al(b))||Bo(Al(S))))&&E.push([o(b),o(S)]);return T}case om:{const E=[],T=l([h,E],c);for(const b of c)(e||!Bo(Al(b)))&&E.push(o(b));return T}}const{message:g}=c;return l([h,{name:p,message:g}],c)};return o},Q_=(e,{json:t,lossy:i}={})=>{const r=[];return nI(!(t||i),!!t,new Map,r)(e),r},fs=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?X_(Q_(e,t)):structuredClone(e):(e,t)=>X_(Q_(e,t));function iI(e,t){const i=[{type:"text",value:""}];return t>1&&i.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),i}function aI(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function rI(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=e.options.footnoteBackContent||iI,r=e.options.footnoteBackLabel||aI,l=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",c=e.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let p=-1;for(;++p<e.footnoteOrder.length;){const g=e.footnoteById.get(e.footnoteOrder[p]);if(!g)continue;const E=e.all(g),T=String(g.identifier).toUpperCase(),b=ys(T.toLowerCase());let S=0;const w=[],X=e.footnoteCounts.get(T);for(;X!==void 0&&++S<=X;){w.length>0&&w.push({type:"text",value:" "});let de=typeof i=="string"?i:i(p,S);typeof de=="string"&&(de={type:"text",value:de}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+b+(S>1?"-"+S:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(p,S),className:["data-footnote-backref"]},children:Array.isArray(de)?de:[de]})}const $=E[E.length-1];if($&&$.type==="element"&&$.tagName==="p"){const de=$.children[$.children.length-1];de&&de.type==="text"?de.value+=" ":$.children.push({type:"text",value:" "}),$.children.push(...w)}else E.push(...w);const G={type:"element",tagName:"li",properties:{id:t+"fn-"+b},children:e.wrap(E,!0)};e.patch(g,G),h.push(G)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...fs(c),id:"footnote-label"},children:[{type:"text",value:l}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(h,!0)},{type:"text",value:`
`}]}}const oS=(function(e){if(e==null)return oI;if(typeof e=="function")return Oc(e);if(typeof e=="object")return Array.isArray(e)?sI(e):lI(e);if(typeof e=="string")return uI(e);throw new Error("Expected function, string, or object as test")});function sI(e){const t=[];let i=-1;for(;++i<e.length;)t[i]=oS(e[i]);return Oc(r);function r(...l){let o=-1;for(;++o<t.length;)if(t[o].apply(this,l))return!0;return!1}}function lI(e){const t=e;return Oc(i);function i(r){const l=r;let o;for(o in e)if(l[o]!==t[o])return!1;return!0}}function uI(e){return Oc(t);function t(i){return i&&i.type===e}}function Oc(e){return t;function t(i,r,l){return!!(cI(i)&&e.call(this,i,typeof r=="number"?r:void 0,l||void 0))}}function oI(){return!0}function cI(e){return e!==null&&typeof e=="object"&&"type"in e}const cS=[],fI=!0,K_=!1,dI="skip";function hI(e,t,i,r){let l;typeof t=="function"&&typeof i!="function"?(r=i,i=t):l=t;const o=oS(l),c=r?-1:1;h(e,void 0,[])();function h(p,g,E){const T=p&&typeof p=="object"?p:{};if(typeof T.type=="string"){const S=typeof T.tagName=="string"?T.tagName:typeof T.name=="string"?T.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(p.type+(S?"<"+S+">":""))+")"})}return b;function b(){let S=cS,w,X,$;if((!t||o(p,g,E[E.length-1]||void 0))&&(S=mI(i(p,E)),S[0]===K_))return S;if("children"in p&&p.children){const G=p;if(G.children&&S[0]!==dI)for(X=(r?G.children.length:-1)+c,$=E.concat(G);X>-1&&X<G.children.length;){const de=G.children[X];if(w=h(de,X,$)(),w[0]===K_)return w;X=typeof w[1]=="number"?w[1]:X+c}}return S}}}function mI(e){return Array.isArray(e)?e:typeof e=="number"?[fI,e]:e==null?cS:[e]}function cm(e,t,i,r){let l,o,c;typeof t=="function"&&typeof i!="function"?(o=void 0,c=t,l=i):(o=t,c=i,l=r),hI(e,o,h,l);function h(p,g){const E=g[g.length-1],T=E?E.children.indexOf(p):void 0;return c(p,T,E)}}const Zh={}.hasOwnProperty,pI={};function gI(e,t){const i=t||pI,r=new Map,l=new Map,o=new Map,c={...ZD,...i.handlers},h={all:g,applyData:_I,definitionById:r,footnoteById:l,footnoteCounts:o,footnoteOrder:[],handlers:c,one:p,options:i,patch:EI,wrap:TI};return cm(e,function(E){if(E.type==="definition"||E.type==="footnoteDefinition"){const T=E.type==="definition"?r:l,b=String(E.identifier).toUpperCase();T.has(b)||T.set(b,E)}}),h;function p(E,T){const b=E.type,S=h.handlers[b];if(Zh.call(h.handlers,b)&&S)return S(h,E,T);if(h.options.passThrough&&h.options.passThrough.includes(b)){if("children"in E){const{children:X,...$}=E,G=fs($);return G.children=h.all(E),G}return fs(E)}return(h.options.unknownHandler||yI)(h,E,T)}function g(E){const T=[];if("children"in E){const b=E.children;let S=-1;for(;++S<b.length;){const w=h.one(b[S],E);if(w){if(S&&b[S-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=W_(w.value)),!Array.isArray(w)&&w.type==="element")){const X=w.children[0];X&&X.type==="text"&&(X.value=W_(X.value))}Array.isArray(w)?T.push(...w):T.push(w)}}}return T}}function EI(e,t){e.position&&(t.position=eR(e))}function _I(e,t){let i=t;if(e&&e.data){const r=e.data.hName,l=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(i.type==="element")i.tagName=r;else{const c="children"in i?i.children:[i];i={type:"element",tagName:r,properties:{},children:c}}i.type==="element"&&o&&Object.assign(i.properties,fs(o)),"children"in i&&i.children&&l!==null&&l!==void 0&&(i.children=l)}return i}function yI(e,t){const i=t.data||{},r="value"in t&&!(Zh.call(i,"hProperties")||Zh.call(i,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function TI(e,t){const i=[];let r=-1;for(t&&i.push({type:"text",value:`
`});++r<e.length;)r&&i.push({type:"text",value:`
`}),i.push(e[r]);return t&&e.length>0&&i.push({type:"text",value:`
`}),i}function W_(e){let t=0,i=e.charCodeAt(t);for(;i===9||i===32;)t++,i=e.charCodeAt(t);return e.slice(t)}function $_(e,t){const i=gI(e,t),r=i.one(e,void 0),l=rI(i),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return l&&o.children.push({type:"text",value:`
`},l),o}function bI(e,t){return e&&"run"in e?async function(i,r){const l=$_(i,{file:r,...t});await e.run(l,r)}:function(i,r){return $_(i,{file:r,...e||t})}}function Z_(e){if(e)throw e}var ph,J_;function SI(){if(J_)return ph;J_=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,i=Object.defineProperty,r=Object.getOwnPropertyDescriptor,l=function(g){return typeof Array.isArray=="function"?Array.isArray(g):t.call(g)==="[object Array]"},o=function(g){if(!g||t.call(g)!=="[object Object]")return!1;var E=e.call(g,"constructor"),T=g.constructor&&g.constructor.prototype&&e.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!E&&!T)return!1;var b;for(b in g);return typeof b>"u"||e.call(g,b)},c=function(g,E){i&&E.name==="__proto__"?i(g,E.name,{enumerable:!0,configurable:!0,value:E.newValue,writable:!0}):g[E.name]=E.newValue},h=function(g,E){if(E==="__proto__")if(e.call(g,E)){if(r)return r(g,E).value}else return;return g[E]};return ph=function p(){var g,E,T,b,S,w,X=arguments[0],$=1,G=arguments.length,de=!1;for(typeof X=="boolean"&&(de=X,X=arguments[1]||{},$=2),(X==null||typeof X!="object"&&typeof X!="function")&&(X={});$<G;++$)if(g=arguments[$],g!=null)for(E in g)T=h(X,E),b=h(g,E),X!==b&&(de&&b&&(o(b)||(S=l(b)))?(S?(S=!1,w=T&&l(T)?T:[]):w=T&&o(T)?T:{},c(X,{name:E,newValue:p(de,w,b)})):typeof b<"u"&&c(X,{name:E,newValue:b}));return X},ph}var CI=SI();const gh=mc(CI);function Jh(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function AI(){const e=[],t={run:i,use:r};return t;function i(...l){let o=-1;const c=l.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);h(null,...l);function h(p,...g){const E=e[++o];let T=-1;if(p){c(p);return}for(;++T<l.length;)(g[T]===null||g[T]===void 0)&&(g[T]=l[T]);l=g,E?vI(E,h)(...g):c(null,...g)}}function r(l){if(typeof l!="function")throw new TypeError("Expected `middelware` to be a function, not "+l);return e.push(l),t}}function vI(e,t){let i;return r;function r(...c){const h=e.length>c.length;let p;h&&c.push(l);try{p=e.apply(this,c)}catch(g){const E=g;if(h&&i)throw E;return l(E)}h||(p&&p.then&&typeof p.then=="function"?p.then(o,l):p instanceof Error?l(p):o(p))}function l(c,...h){i||(i=!0,t(c,...h))}function o(c){l(null,c)}}const fi={basename:xI,dirname:NI,extname:RI,join:OI,sep:"/"};function xI(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');du(e);let i=0,r=-1,l=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;l--;)if(e.codePointAt(l)===47){if(o){i=l+1;break}}else r<0&&(o=!0,r=l+1);return r<0?"":e.slice(i,r)}if(t===e)return"";let c=-1,h=t.length-1;for(;l--;)if(e.codePointAt(l)===47){if(o){i=l+1;break}}else c<0&&(o=!0,c=l+1),h>-1&&(e.codePointAt(l)===t.codePointAt(h--)?h<0&&(r=l):(h=-1,r=c));return i===r?r=c:r<0&&(r=e.length),e.slice(i,r)}function NI(e){if(du(e),e.length===0)return".";let t=-1,i=e.length,r;for(;--i;)if(e.codePointAt(i)===47){if(r){t=i;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function RI(e){du(e);let t=e.length,i=-1,r=0,l=-1,o=0,c;for(;t--;){const h=e.codePointAt(t);if(h===47){if(c){r=t+1;break}continue}i<0&&(c=!0,i=t+1),h===46?l<0?l=t:o!==1&&(o=1):l>-1&&(o=-1)}return l<0||i<0||o===0||o===1&&l===i-1&&l===r+1?"":e.slice(l,i)}function OI(...e){let t=-1,i;for(;++t<e.length;)du(e[t]),e[t]&&(i=i===void 0?e[t]:i+"/"+e[t]);return i===void 0?".":DI(i)}function DI(e){du(e);const t=e.codePointAt(0)===47;let i=II(e,!t);return i.length===0&&!t&&(i="."),i.length>0&&e.codePointAt(e.length-1)===47&&(i+="/"),t?"/"+i:i}function II(e,t){let i="",r=0,l=-1,o=0,c=-1,h,p;for(;++c<=e.length;){if(c<e.length)h=e.codePointAt(c);else{if(h===47)break;h=47}if(h===47){if(!(l===c-1||o===1))if(l!==c-1&&o===2){if(i.length<2||r!==2||i.codePointAt(i.length-1)!==46||i.codePointAt(i.length-2)!==46){if(i.length>2){if(p=i.lastIndexOf("/"),p!==i.length-1){p<0?(i="",r=0):(i=i.slice(0,p),r=i.length-1-i.lastIndexOf("/")),l=c,o=0;continue}}else if(i.length>0){i="",r=0,l=c,o=0;continue}}t&&(i=i.length>0?i+"/..":"..",r=2)}else i.length>0?i+="/"+e.slice(l+1,c):i=e.slice(l+1,c),r=c-l-1;l=c,o=0}else h===46&&o>-1?o++:o=-1}return i}function du(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const LI={cwd:kI};function kI(){return"/"}function e0(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function wI(e){if(typeof e=="string")e=new URL(e);else if(!e0(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return MI(e)}function MI(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let i=-1;for(;++i<t.length;)if(t.codePointAt(i)===37&&t.codePointAt(i+1)===50){const r=t.codePointAt(i+2);if(r===70||r===102){const l=new TypeError("File URL path must not include encoded / characters");throw l.code="ERR_INVALID_FILE_URL_PATH",l}}return decodeURIComponent(t)}const Eh=["history","path","basename","stem","extname","dirname"];class fS{constructor(t){let i;t?e0(t)?i={path:t}:typeof t=="string"||BI(t)?i={value:t}:i=t:i={},this.cwd="cwd"in i?"":LI.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Eh.length;){const o=Eh[r];o in i&&i[o]!==void 0&&i[o]!==null&&(this[o]=o==="history"?[...i[o]]:i[o])}let l;for(l in i)Eh.includes(l)||(this[l]=i[l])}get basename(){return typeof this.path=="string"?fi.basename(this.path):void 0}set basename(t){yh(t,"basename"),_h(t,"basename"),this.path=fi.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?fi.dirname(this.path):void 0}set dirname(t){ey(this.basename,"dirname"),this.path=fi.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?fi.extname(this.path):void 0}set extname(t){if(_h(t,"extname"),ey(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=fi.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){e0(t)&&(t=wI(t)),yh(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?fi.basename(this.path,this.extname):void 0}set stem(t){yh(t,"stem"),_h(t,"stem"),this.path=fi.join(this.dirname||"",t+(this.extname||""))}fail(t,i,r){const l=this.message(t,i,r);throw l.fatal=!0,l}info(t,i,r){const l=this.message(t,i,r);return l.fatal=void 0,l}message(t,i,r){const l=new ln(t,i,r);return this.path&&(l.name=this.path+":"+l.name,l.file=this.path),l.fatal=!1,this.messages.push(l),l}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function _h(e,t){if(e&&e.includes(fi.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+fi.sep+"`")}function yh(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function ey(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function BI(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const PI=(function(e){const r=this.constructor.prototype,l=r[e],o=function(){return l.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),UI={}.hasOwnProperty;class fm extends PI{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=AI()}copy(){const t=new fm;let i=-1;for(;++i<this.attachers.length;){const r=this.attachers[i];t.use(...r)}return t.data(gh(!0,{},this.namespace)),t}data(t,i){return typeof t=="string"?arguments.length===2?(Sh("data",this.frozen),this.namespace[t]=i,this):UI.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Sh("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[i,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const l=i.call(t,...r);typeof l=="function"&&this.transformers.use(l)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const i=Po(t),r=this.parser||this.Parser;return Th("parse",r),r(String(i),i)}process(t,i){const r=this;return this.freeze(),Th("process",this.parser||this.Parser),bh("process",this.compiler||this.Compiler),i?l(void 0,i):new Promise(l);function l(o,c){const h=Po(t),p=r.parse(h);r.run(p,h,function(E,T,b){if(E||!T||!b)return g(E);const S=T,w=r.stringify(S,b);zI(w)?b.value=w:b.result=w,g(E,b)});function g(E,T){E||!T?c(E):o?o(T):i(void 0,T)}}}processSync(t){let i=!1,r;return this.freeze(),Th("processSync",this.parser||this.Parser),bh("processSync",this.compiler||this.Compiler),this.process(t,l),ny("processSync","process",i),r;function l(o,c){i=!0,Z_(o),r=c}}run(t,i,r){ty(t),this.freeze();const l=this.transformers;return!r&&typeof i=="function"&&(r=i,i=void 0),r?o(void 0,r):new Promise(o);function o(c,h){const p=Po(i);l.run(t,p,g);function g(E,T,b){const S=T||t;E?h(E):c?c(S):r(void 0,S,b)}}}runSync(t,i){let r=!1,l;return this.run(t,i,o),ny("runSync","run",r),l;function o(c,h){Z_(c),l=h,r=!0}}stringify(t,i){this.freeze();const r=Po(i),l=this.compiler||this.Compiler;return bh("stringify",l),ty(t),l(t,r)}use(t,...i){const r=this.attachers,l=this.namespace;if(Sh("use",this.frozen),t!=null)if(typeof t=="function")p(t,i);else if(typeof t=="object")Array.isArray(t)?h(t):c(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(g){if(typeof g=="function")p(g,[]);else if(typeof g=="object")if(Array.isArray(g)){const[E,...T]=g;p(E,T)}else c(g);else throw new TypeError("Expected usable value, not `"+g+"`")}function c(g){if(!("plugins"in g)&&!("settings"in g))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(g.plugins),g.settings&&(l.settings=gh(!0,l.settings,g.settings))}function h(g){let E=-1;if(g!=null)if(Array.isArray(g))for(;++E<g.length;){const T=g[E];o(T)}else throw new TypeError("Expected a list of plugins, not `"+g+"`")}function p(g,E){let T=-1,b=-1;for(;++T<r.length;)if(r[T][0]===g){b=T;break}if(b===-1)r.push([g,...E]);else if(E.length>0){let[S,...w]=E;const X=r[b][1];Jh(X)&&Jh(S)&&(S=gh(!0,X,S)),r[b]=[g,S,...w]}}}}const HI=new fm().freeze();function Th(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function bh(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Sh(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ty(e){if(!Jh(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function ny(e,t,i){if(!i)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Po(e){return FI(e)?e:new fS(e)}function FI(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function zI(e){return typeof e=="string"||jI(e)}function jI(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const YI="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",iy=[],ay={allowDangerousHtml:!0},qI=/^(https?|ircs?|mailto|xmpp)$/i,VI=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function ry(e){const t=GI(e),i=XI(e);return QI(t.runSync(t.parse(i),i),e)}function GI(e){const t=e.rehypePlugins||iy,i=e.remarkPlugins||iy,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...ay}:ay;return HI().use(xD).use(i).use(bI,r).use(t)}function XI(e){const t=e.children||"",i=new fS;return typeof t=="string"&&(i.value=t),i}function QI(e,t){const i=t.allowedElements,r=t.allowElement,l=t.components,o=t.disallowedElements,c=t.skipHtml,h=t.unwrapDisallowed,p=t.urlTransform||KI;for(const E of VI)Object.hasOwn(t,E.from)&&(""+E.from+(E.to?"use `"+E.to+"` instead":"remove it")+YI+E.id,void 0);return cm(e,g),rR(e,{Fragment:_.Fragment,components:l,ignoreInvalidStyle:!0,jsx:_.jsx,jsxs:_.jsxs,passKeys:!0,passNode:!0});function g(E,T,b){if(E.type==="raw"&&b&&typeof T=="number")return c?b.children.splice(T,1):b.children[T]={type:"text",value:E.value},T;if(E.type==="element"){let S;for(S in dh)if(Object.hasOwn(dh,S)&&Object.hasOwn(E.properties,S)){const w=E.properties[S],X=dh[S];(X===null||X.includes(E.tagName))&&(E.properties[S]=p(String(w||""),S,E))}}if(E.type==="element"){let S=i?!i.includes(E.tagName):o?o.includes(E.tagName):!1;if(!S&&r&&typeof T=="number"&&(S=!r(E,T,b)),S&&b&&typeof T=="number")return h&&E.children?b.children.splice(T,1,...E.children):b.children.splice(T,1),T}}}function KI(e){const t=e.indexOf(":"),i=e.indexOf("?"),r=e.indexOf("#"),l=e.indexOf("/");return t===-1||l!==-1&&t>l||i!==-1&&t>i||r!==-1&&t>r||qI.test(e.slice(0,t))?e:""}const sy=/[#.]/g;function WI(e,t){const i=e||"",r={};let l=0,o,c;for(;l<i.length;){sy.lastIndex=l;const h=sy.exec(i),p=i.slice(l,h?h.index:i.length);p&&(o?o==="#"?r.id=p:Array.isArray(r.className)?r.className.push(p):r.className=[p]:c=p,l+=p.length),h&&(o=h[0],l++)}return{type:"element",tagName:c||t||"div",properties:r,children:[]}}function dS(e,t,i){const r=i?e5(i):void 0;function l(o,c,...h){let p;if(o==null){p={type:"root",children:[]};const g=c;h.unshift(g)}else{p=WI(o,t);const g=p.tagName.toLowerCase(),E=r?r.get(g):void 0;if(p.tagName=E||g,$I(c))h.unshift(c);else for(const[T,b]of Object.entries(c))ZI(e,p.properties,T,b)}for(const g of h)t0(p.children,g);return p.type==="element"&&p.tagName==="template"&&(p.content={type:"root",children:p.children},p.children=[]),p}return l}function $I(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,i=Object.keys(e);for(const r of i){const l=t[r];if(l&&typeof l=="object"){if(!Array.isArray(l))return!0;const o=l;for(const c of o)if(typeof c!="number"&&typeof c!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function ZI(e,t,i,r){const l=J0(e,i);let o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?l.spaceSeparated?o=A_(r):l.commaSeparated?o=y_(r):l.commaOrSpaceSeparated?o=A_(y_(r).join(" ")):o=ly(l,l.property,r):Array.isArray(r)?o=[...r]:o=l.property==="style"?JI(r):String(r);if(Array.isArray(o)){const c=[];for(const h of o)c.push(ly(l,l.property,h));o=c}l.property==="className"&&Array.isArray(t.className)&&(o=t.className.concat(o)),t[l.property]=o}}function t0(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const i of t)t0(e,i);else if(typeof t=="object"&&"type"in t)t.type==="root"?t0(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function ly(e,t,i){if(typeof i=="string"){if(e.number&&i&&!Number.isNaN(Number(i)))return Number(i);if((e.boolean||e.overloadedBoolean)&&(i===""||tu(i)===tu(t)))return!0}return i}function JI(e){const t=[];for(const[i,r]of Object.entries(e))t.push([i,r].join(": "));return t.join("; ")}function e5(e){const t=new Map;for(const i of e)t.set(i.toLowerCase(),i);return t}const t5=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],n5=dS(vc,"div"),i5=dS(_s,"g",t5);function a5(e){const t=String(e),i=[];return{toOffset:l,toPoint:r};function r(o){if(typeof o=="number"&&o>-1&&o<=t.length){let c=0;for(;;){let h=i[c];if(h===void 0){const p=uy(t,i[c-1]);h=p===-1?t.length+1:p+1,i[c]=h}if(h>o)return{line:c+1,column:o-(c>0?i[c-1]:0)+1,offset:o};c++}}}function l(o){if(o&&typeof o.line=="number"&&typeof o.column=="number"&&!Number.isNaN(o.line)&&!Number.isNaN(o.column)){for(;i.length<o.line;){const h=i[i.length-1],p=uy(t,h),g=p===-1?t.length+1:p+1;if(h===g)break;i.push(g)}const c=(o.line>1?i[o.line-2]:0)+o.column-1;if(c<i[o.line-1])return c}}}function uy(e,t){const i=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?i:i===-1||i+1===r?r:i<r?i:r}const Ja={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},hS={}.hasOwnProperty,r5=Object.prototype;function s5(e,t){const i=t||{};return dm({file:i.file||void 0,location:!1,schema:i.space==="svg"?_s:vc,verbose:i.verbose||!1},e)}function dm(e,t){let i;switch(t.nodeName){case"#comment":{const r=t;return i={type:"comment",value:r.data},qo(e,r,i),i}case"#document":case"#document-fragment":{const r=t,l="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(i={type:"root",children:mS(e,t.childNodes),data:{quirksMode:l}},e.file&&e.location){const o=String(e.file),c=a5(o),h=c.toPoint(0),p=c.toPoint(o.length);i.position={start:h,end:p}}return i}case"#documentType":{const r=t;return i={type:"doctype"},qo(e,r,i),i}case"#text":{const r=t;return i={type:"text",value:r.value},qo(e,r,i),i}default:return i=l5(e,t),i}}function mS(e,t){let i=-1;const r=[];for(;++i<t.length;){const l=dm(e,t[i]);r.push(l)}return r}function l5(e,t){const i=e.schema;e.schema=t.namespaceURI===Ja.svg?_s:vc;let r=-1;const l={};for(;++r<t.attrs.length;){const h=t.attrs[r],p=(h.prefix?h.prefix+":":"")+h.name;hS.call(r5,p)||(l[p]=h.value)}const c=(e.schema.space==="svg"?i5:n5)(t.tagName,l,mS(e,t.childNodes));if(qo(e,t,c),c.tagName==="template"){const h=t,p=h.sourceCodeLocation,g=p&&p.startTag&&Jr(p.startTag),E=p&&p.endTag&&Jr(p.endTag),T=dm(e,h.content);g&&E&&e.file&&(T.position={start:g.end,end:E.start}),c.content=T}return e.schema=i,c}function qo(e,t,i){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=u5(e,i,t.sourceCodeLocation);r&&(e.location=!0,i.position=r)}}function u5(e,t,i){const r=Jr(i);if(t.type==="element"){const l=t.children[t.children.length-1];if(r&&!i.endTag&&l&&l.position&&l.position.end&&(r.end=Object.assign({},l.position.end)),e.verbose){const o={};let c;if(i.attrs)for(c in i.attrs)hS.call(i.attrs,c)&&(o[J0(e.schema,c).property]=Jr(i.attrs[c]));i.startTag;const h=Jr(i.startTag),p=i.endTag?Jr(i.endTag):void 0,g={opening:h};p&&(g.closing=p),g.properties=o,t.data={position:g}}}return r}function Jr(e){const t=oy({line:e.startLine,column:e.startCol,offset:e.startOffset}),i=oy({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||i?{start:t,end:i}:void 0}function oy(e){return e.line&&e.column?e:void 0}class hu{constructor(t,i,r){this.property=t,this.normal=i,r&&(this.space=r)}}hu.prototype.property={};hu.prototype.normal={};hu.prototype.space=null;function pS(e,t){const i={},r={};let l=-1;for(;++l<e.length;)Object.assign(i,e[l].property),Object.assign(r,e[l].normal);return new hu(i,r,t)}function n0(e){return e.toLowerCase()}class Wn{constructor(t,i){this.property=t,this.attribute=i}}Wn.prototype.space=null;Wn.prototype.boolean=!1;Wn.prototype.booleanish=!1;Wn.prototype.overloadedBoolean=!1;Wn.prototype.number=!1;Wn.prototype.commaSeparated=!1;Wn.prototype.spaceSeparated=!1;Wn.prototype.commaOrSpaceSeparated=!1;Wn.prototype.mustUseProperty=!1;Wn.prototype.defined=!1;let o5=0;const Pe=lr(),Ut=lr(),gS=lr(),ce=lr(),gt=lr(),ss=lr(),Bn=lr();function lr(){return 2**++o5}const i0=Object.freeze(Object.defineProperty({__proto__:null,boolean:Pe,booleanish:Ut,commaOrSpaceSeparated:Bn,commaSeparated:ss,number:ce,overloadedBoolean:gS,spaceSeparated:gt},Symbol.toStringTag,{value:"Module"})),Ch=Object.keys(i0);class hm extends Wn{constructor(t,i,r,l){let o=-1;if(super(t,i),cy(this,"space",l),typeof r=="number")for(;++o<Ch.length;){const c=Ch[o];cy(this,Ch[o],(r&i0[c])===i0[c])}}}hm.prototype.defined=!0;function cy(e,t,i){i&&(e[t]=i)}const c5={}.hasOwnProperty;function Ts(e){const t={},i={};let r;for(r in e.properties)if(c5.call(e.properties,r)){const l=e.properties[r],o=new hm(r,e.transform(e.attributes||{},r),l,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,i[n0(r)]=r,i[n0(o.attribute)]=r}return new hu(t,i,e.space)}const ES=Ts({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),_S=Ts({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function yS(e,t){return t in e?e[t]:t}function TS(e,t){return yS(e,t.toLowerCase())}const bS=Ts({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:TS,properties:{xmlns:null,xmlnsXLink:null}}),SS=Ts({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Ut,ariaAutoComplete:null,ariaBusy:Ut,ariaChecked:Ut,ariaColCount:ce,ariaColIndex:ce,ariaColSpan:ce,ariaControls:gt,ariaCurrent:null,ariaDescribedBy:gt,ariaDetails:null,ariaDisabled:Ut,ariaDropEffect:gt,ariaErrorMessage:null,ariaExpanded:Ut,ariaFlowTo:gt,ariaGrabbed:Ut,ariaHasPopup:null,ariaHidden:Ut,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:gt,ariaLevel:ce,ariaLive:null,ariaModal:Ut,ariaMultiLine:Ut,ariaMultiSelectable:Ut,ariaOrientation:null,ariaOwns:gt,ariaPlaceholder:null,ariaPosInSet:ce,ariaPressed:Ut,ariaReadOnly:Ut,ariaRelevant:null,ariaRequired:Ut,ariaRoleDescription:gt,ariaRowCount:ce,ariaRowIndex:ce,ariaRowSpan:ce,ariaSelected:Ut,ariaSetSize:ce,ariaSort:null,ariaValueMax:ce,ariaValueMin:ce,ariaValueNow:ce,ariaValueText:null,role:null}}),f5=Ts({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:TS,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ss,acceptCharset:gt,accessKey:gt,action:null,allow:null,allowFullScreen:Pe,allowPaymentRequest:Pe,allowUserMedia:Pe,alt:null,as:null,async:Pe,autoCapitalize:null,autoComplete:gt,autoFocus:Pe,autoPlay:Pe,blocking:gt,capture:null,charSet:null,checked:Pe,cite:null,className:gt,cols:ce,colSpan:null,content:null,contentEditable:Ut,controls:Pe,controlsList:gt,coords:ce|ss,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Pe,defer:Pe,dir:null,dirName:null,disabled:Pe,download:gS,draggable:Ut,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Pe,formTarget:null,headers:gt,height:ce,hidden:Pe,high:ce,href:null,hrefLang:null,htmlFor:gt,httpEquiv:gt,id:null,imageSizes:null,imageSrcSet:null,inert:Pe,inputMode:null,integrity:null,is:null,isMap:Pe,itemId:null,itemProp:gt,itemRef:gt,itemScope:Pe,itemType:gt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Pe,low:ce,manifest:null,max:null,maxLength:ce,media:null,method:null,min:null,minLength:ce,multiple:Pe,muted:Pe,name:null,nonce:null,noModule:Pe,noValidate:Pe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Pe,optimum:ce,pattern:null,ping:gt,placeholder:null,playsInline:Pe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Pe,referrerPolicy:null,rel:gt,required:Pe,reversed:Pe,rows:ce,rowSpan:ce,sandbox:gt,scope:null,scoped:Pe,seamless:Pe,selected:Pe,shadowRootClonable:Pe,shadowRootDelegatesFocus:Pe,shadowRootMode:null,shape:null,size:ce,sizes:null,slot:null,span:ce,spellCheck:Ut,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ce,step:null,style:null,tabIndex:ce,target:null,title:null,translate:null,type:null,typeMustMatch:Pe,useMap:null,value:Ut,width:ce,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:gt,axis:null,background:null,bgColor:null,border:ce,borderColor:null,bottomMargin:ce,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Pe,declare:Pe,event:null,face:null,frame:null,frameBorder:null,hSpace:ce,leftMargin:ce,link:null,longDesc:null,lowSrc:null,marginHeight:ce,marginWidth:ce,noResize:Pe,noHref:Pe,noShade:Pe,noWrap:Pe,object:null,profile:null,prompt:null,rev:null,rightMargin:ce,rules:null,scheme:null,scrolling:Ut,standby:null,summary:null,text:null,topMargin:ce,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ce,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Pe,disableRemotePlayback:Pe,prefix:null,property:null,results:ce,security:null,unselectable:null}}),d5=Ts({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:yS,properties:{about:Bn,accentHeight:ce,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ce,amplitude:ce,arabicForm:null,ascent:ce,attributeName:null,attributeType:null,azimuth:ce,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ce,by:null,calcMode:null,capHeight:ce,className:gt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ce,diffuseConstant:ce,direction:null,display:null,dur:null,divisor:ce,dominantBaseline:null,download:Pe,dx:null,dy:null,edgeMode:null,editable:null,elevation:ce,enableBackground:null,end:null,event:null,exponent:ce,externalResourcesRequired:null,fill:null,fillOpacity:ce,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ss,g2:ss,glyphName:ss,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ce,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ce,horizOriginX:ce,horizOriginY:ce,id:null,ideographic:ce,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ce,k:ce,k1:ce,k2:ce,k3:ce,k4:ce,kernelMatrix:Bn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ce,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ce,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ce,overlineThickness:ce,paintOrder:null,panose1:null,path:null,pathLength:ce,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:gt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ce,pointsAtY:ce,pointsAtZ:ce,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Bn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Bn,rev:Bn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Bn,requiredFeatures:Bn,requiredFonts:Bn,requiredFormats:Bn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ce,specularExponent:ce,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ce,strikethroughThickness:ce,string:null,stroke:null,strokeDashArray:Bn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ce,strokeOpacity:ce,strokeWidth:null,style:null,surfaceScale:ce,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Bn,tabIndex:ce,tableValues:null,target:null,targetX:ce,targetY:ce,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Bn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ce,underlineThickness:ce,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ce,values:null,vAlphabetic:ce,vMathematical:ce,vectorEffect:null,vHanging:ce,vIdeographic:ce,version:null,vertAdvY:ce,vertOriginX:ce,vertOriginY:ce,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ce,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),h5=/^data[-\w.:]+$/i,fy=/-[a-z]/g,m5=/[A-Z]/g;function p5(e,t){const i=n0(t);let r=t,l=Wn;if(i in e.normal)return e.property[e.normal[i]];if(i.length>4&&i.slice(0,4)==="data"&&h5.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(fy,E5);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!fy.test(o)){let c=o.replace(m5,g5);c.charAt(0)!=="-"&&(c="-"+c),t="data"+c}}l=hm}return new l(r,t)}function g5(e){return"-"+e.toLowerCase()}function E5(e){return e.charAt(1).toUpperCase()}const _5=pS([_S,ES,bS,SS,f5],"html"),CS=pS([_S,ES,bS,SS,d5],"svg"),dy={}.hasOwnProperty;function AS(e,t){const i=t||{};function r(l,...o){let c=r.invalid;const h=r.handlers;if(l&&dy.call(l,e)){const p=String(l[e]);c=dy.call(h,p)?h[p]:r.unknown}if(c)return c.call(this,l,...o)}return r.handlers=i.handlers||{},r.invalid=i.invalid,r.unknown=i.unknown,r}const y5={},T5={}.hasOwnProperty,vS=AS("type",{handlers:{root:S5,element:N5,text:v5,comment:x5,doctype:A5}});function b5(e,t){const r=(t||y5).space;return vS(e,r==="svg"?CS:_5)}function S5(e,t){const i={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return i.childNodes=mm(e.children,i,t),bs(e,i),i}function C5(e,t){const i={nodeName:"#document-fragment",childNodes:[]};return i.childNodes=mm(e.children,i,t),bs(e,i),i}function A5(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return bs(e,t),t}function v5(e){const t={nodeName:"#text",value:e.value,parentNode:null};return bs(e,t),t}function x5(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return bs(e,t),t}function N5(e,t){const i=t;let r=i;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=CS);const l=[];let o;if(e.properties){for(o in e.properties)if(o!=="children"&&T5.call(e.properties,o)){const p=R5(r,o,e.properties[o]);p&&l.push(p)}}const c=r.space,h={nodeName:e.tagName,tagName:e.tagName,attrs:l,namespaceURI:Ja[c],childNodes:[],parentNode:null};return h.childNodes=mm(e.children,h,r),bs(e,h),e.tagName==="template"&&e.content&&(h.content=C5(e.content,r)),h}function R5(e,t,i){const r=p5(e,t);if(i===!1||i===null||i===void 0||typeof i=="number"&&Number.isNaN(i)||!i&&r.boolean)return;Array.isArray(i)&&(i=r.commaSeparated?I2(i):H2(i));const l={name:r.attribute,value:i===!0?"":String(i)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const o=l.name.indexOf(":");o<0?l.prefix="":(l.name=l.name.slice(o+1),l.prefix=r.attribute.slice(0,o)),l.namespace=Ja[r.space]}return l}function mm(e,t,i){let r=-1;const l=[];if(e)for(;++r<e.length;){const o=vS(e[r],i);o.parentNode=t,l.push(o)}return l}function bs(e,t){const i=e.position;i&&i.start&&i.end&&(i.start.offset,i.end.offset,t.sourceCodeLocation={startLine:i.start.line,startCol:i.start.column,startOffset:i.start.offset,endLine:i.end.line,endCol:i.end.column,endOffset:i.end.offset})}const O5=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],D5=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),vt="";var A;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(A||(A={}));const yn={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function xS(e){return e>=55296&&e<=57343}function I5(e){return e>=56320&&e<=57343}function L5(e,t){return(e-55296)*1024+9216+t}function NS(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function RS(e){return e>=64976&&e<=65007||D5.has(e)}var K;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(K||(K={}));const k5=65536;class w5{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=k5,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,i){const{line:r,col:l,offset:o}=this,c=l+i,h=o+i;return{code:t,startLine:r,endLine:r,startCol:c,endCol:c,startOffset:h,endOffset:h}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const i=this.html.charCodeAt(this.pos+1);if(I5(i))return this.pos++,this._addGap(),L5(t,i)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,A.EOF;return this._err(K.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,i){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=i}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,i){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(i)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const i=this.pos+t;if(i>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,A.EOF;const r=this.html.charCodeAt(i);return r===A.CARRIAGE_RETURN?A.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,A.EOF;let t=this.html.charCodeAt(this.pos);return t===A.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,A.LINE_FEED):t===A.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,xS(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===A.LINE_FEED||t===A.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){NS(t)?this._err(K.controlCharacterInInputStream):RS(t)&&this._err(K.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var ze;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(ze||(ze={}));function OS(e,t){for(let i=e.attrs.length-1;i>=0;i--)if(e.attrs[i].name===t)return e.attrs[i].value;return null}const M5=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),B5=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function P5(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=B5.get(e))!==null&&t!==void 0?t:e}var Wt;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Wt||(Wt={}));const U5=32;var ba;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(ba||(ba={}));function a0(e){return e>=Wt.ZERO&&e<=Wt.NINE}function H5(e){return e>=Wt.UPPER_A&&e<=Wt.UPPER_F||e>=Wt.LOWER_A&&e<=Wt.LOWER_F}function F5(e){return e>=Wt.UPPER_A&&e<=Wt.UPPER_Z||e>=Wt.LOWER_A&&e<=Wt.LOWER_Z||a0(e)}function z5(e){return e===Wt.EQUALS||F5(e)}var Gt;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Gt||(Gt={}));var Ui;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Ui||(Ui={}));class j5{constructor(t,i,r){this.decodeTree=t,this.emitCodePoint=i,this.errors=r,this.state=Gt.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Ui.Strict}startEntity(t){this.decodeMode=t,this.state=Gt.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,i){switch(this.state){case Gt.EntityStart:return t.charCodeAt(i)===Wt.NUM?(this.state=Gt.NumericStart,this.consumed+=1,this.stateNumericStart(t,i+1)):(this.state=Gt.NamedEntity,this.stateNamedEntity(t,i));case Gt.NumericStart:return this.stateNumericStart(t,i);case Gt.NumericDecimal:return this.stateNumericDecimal(t,i);case Gt.NumericHex:return this.stateNumericHex(t,i);case Gt.NamedEntity:return this.stateNamedEntity(t,i)}}stateNumericStart(t,i){return i>=t.length?-1:(t.charCodeAt(i)|U5)===Wt.LOWER_X?(this.state=Gt.NumericHex,this.consumed+=1,this.stateNumericHex(t,i+1)):(this.state=Gt.NumericDecimal,this.stateNumericDecimal(t,i))}addToNumericResult(t,i,r,l){if(i!==r){const o=r-i;this.result=this.result*Math.pow(l,o)+Number.parseInt(t.substr(i,o),l),this.consumed+=o}}stateNumericHex(t,i){const r=i;for(;i<t.length;){const l=t.charCodeAt(i);if(a0(l)||H5(l))i+=1;else return this.addToNumericResult(t,r,i,16),this.emitNumericEntity(l,3)}return this.addToNumericResult(t,r,i,16),-1}stateNumericDecimal(t,i){const r=i;for(;i<t.length;){const l=t.charCodeAt(i);if(a0(l))i+=1;else return this.addToNumericResult(t,r,i,10),this.emitNumericEntity(l,2)}return this.addToNumericResult(t,r,i,10),-1}emitNumericEntity(t,i){var r;if(this.consumed<=i)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Wt.SEMI)this.consumed+=1;else if(this.decodeMode===Ui.Strict)return 0;return this.emitCodePoint(P5(this.result),this.consumed),this.errors&&(t!==Wt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,i){const{decodeTree:r}=this;let l=r[this.treeIndex],o=(l&ba.VALUE_LENGTH)>>14;for(;i<t.length;i++,this.excess++){const c=t.charCodeAt(i);if(this.treeIndex=Y5(r,l,this.treeIndex+Math.max(1,o),c),this.treeIndex<0)return this.result===0||this.decodeMode===Ui.Attribute&&(o===0||z5(c))?0:this.emitNotTerminatedNamedEntity();if(l=r[this.treeIndex],o=(l&ba.VALUE_LENGTH)>>14,o!==0){if(c===Wt.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==Ui.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:i,decodeTree:r}=this,l=(r[i]&ba.VALUE_LENGTH)>>14;return this.emitNamedEntityData(i,l,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,i,r){const{decodeTree:l}=this;return this.emitCodePoint(i===1?l[t]&~ba.VALUE_LENGTH:l[t+1],r),i===3&&this.emitCodePoint(l[t+2],r),r}end(){var t;switch(this.state){case Gt.NamedEntity:return this.result!==0&&(this.decodeMode!==Ui.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Gt.NumericDecimal:return this.emitNumericEntity(0,2);case Gt.NumericHex:return this.emitNumericEntity(0,3);case Gt.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Gt.EntityStart:return 0}}}function Y5(e,t,i,r){const l=(t&ba.BRANCH_LENGTH)>>7,o=t&ba.JUMP_TABLE;if(l===0)return o!==0&&r===o?i:-1;if(o){const p=r-o;return p<0||p>=l?-1:e[i+p]-1}let c=i,h=c+l-1;for(;c<=h;){const p=c+h>>>1,g=e[p];if(g<r)c=p+1;else if(g>r)h=p-1;else return e[p+l]}return-1}var le;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(le||(le={}));var er;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(er||(er={}));var Kn;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Kn||(Kn={}));var H;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(H||(H={}));var m;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(m||(m={}));const q5=new Map([[H.A,m.A],[H.ADDRESS,m.ADDRESS],[H.ANNOTATION_XML,m.ANNOTATION_XML],[H.APPLET,m.APPLET],[H.AREA,m.AREA],[H.ARTICLE,m.ARTICLE],[H.ASIDE,m.ASIDE],[H.B,m.B],[H.BASE,m.BASE],[H.BASEFONT,m.BASEFONT],[H.BGSOUND,m.BGSOUND],[H.BIG,m.BIG],[H.BLOCKQUOTE,m.BLOCKQUOTE],[H.BODY,m.BODY],[H.BR,m.BR],[H.BUTTON,m.BUTTON],[H.CAPTION,m.CAPTION],[H.CENTER,m.CENTER],[H.CODE,m.CODE],[H.COL,m.COL],[H.COLGROUP,m.COLGROUP],[H.DD,m.DD],[H.DESC,m.DESC],[H.DETAILS,m.DETAILS],[H.DIALOG,m.DIALOG],[H.DIR,m.DIR],[H.DIV,m.DIV],[H.DL,m.DL],[H.DT,m.DT],[H.EM,m.EM],[H.EMBED,m.EMBED],[H.FIELDSET,m.FIELDSET],[H.FIGCAPTION,m.FIGCAPTION],[H.FIGURE,m.FIGURE],[H.FONT,m.FONT],[H.FOOTER,m.FOOTER],[H.FOREIGN_OBJECT,m.FOREIGN_OBJECT],[H.FORM,m.FORM],[H.FRAME,m.FRAME],[H.FRAMESET,m.FRAMESET],[H.H1,m.H1],[H.H2,m.H2],[H.H3,m.H3],[H.H4,m.H4],[H.H5,m.H5],[H.H6,m.H6],[H.HEAD,m.HEAD],[H.HEADER,m.HEADER],[H.HGROUP,m.HGROUP],[H.HR,m.HR],[H.HTML,m.HTML],[H.I,m.I],[H.IMG,m.IMG],[H.IMAGE,m.IMAGE],[H.INPUT,m.INPUT],[H.IFRAME,m.IFRAME],[H.KEYGEN,m.KEYGEN],[H.LABEL,m.LABEL],[H.LI,m.LI],[H.LINK,m.LINK],[H.LISTING,m.LISTING],[H.MAIN,m.MAIN],[H.MALIGNMARK,m.MALIGNMARK],[H.MARQUEE,m.MARQUEE],[H.MATH,m.MATH],[H.MENU,m.MENU],[H.META,m.META],[H.MGLYPH,m.MGLYPH],[H.MI,m.MI],[H.MO,m.MO],[H.MN,m.MN],[H.MS,m.MS],[H.MTEXT,m.MTEXT],[H.NAV,m.NAV],[H.NOBR,m.NOBR],[H.NOFRAMES,m.NOFRAMES],[H.NOEMBED,m.NOEMBED],[H.NOSCRIPT,m.NOSCRIPT],[H.OBJECT,m.OBJECT],[H.OL,m.OL],[H.OPTGROUP,m.OPTGROUP],[H.OPTION,m.OPTION],[H.P,m.P],[H.PARAM,m.PARAM],[H.PLAINTEXT,m.PLAINTEXT],[H.PRE,m.PRE],[H.RB,m.RB],[H.RP,m.RP],[H.RT,m.RT],[H.RTC,m.RTC],[H.RUBY,m.RUBY],[H.S,m.S],[H.SCRIPT,m.SCRIPT],[H.SEARCH,m.SEARCH],[H.SECTION,m.SECTION],[H.SELECT,m.SELECT],[H.SOURCE,m.SOURCE],[H.SMALL,m.SMALL],[H.SPAN,m.SPAN],[H.STRIKE,m.STRIKE],[H.STRONG,m.STRONG],[H.STYLE,m.STYLE],[H.SUB,m.SUB],[H.SUMMARY,m.SUMMARY],[H.SUP,m.SUP],[H.TABLE,m.TABLE],[H.TBODY,m.TBODY],[H.TEMPLATE,m.TEMPLATE],[H.TEXTAREA,m.TEXTAREA],[H.TFOOT,m.TFOOT],[H.TD,m.TD],[H.TH,m.TH],[H.THEAD,m.THEAD],[H.TITLE,m.TITLE],[H.TR,m.TR],[H.TRACK,m.TRACK],[H.TT,m.TT],[H.U,m.U],[H.UL,m.UL],[H.SVG,m.SVG],[H.VAR,m.VAR],[H.WBR,m.WBR],[H.XMP,m.XMP]]);function Ss(e){var t;return(t=q5.get(e))!==null&&t!==void 0?t:m.UNKNOWN}const ue=m,V5={[le.HTML]:new Set([ue.ADDRESS,ue.APPLET,ue.AREA,ue.ARTICLE,ue.ASIDE,ue.BASE,ue.BASEFONT,ue.BGSOUND,ue.BLOCKQUOTE,ue.BODY,ue.BR,ue.BUTTON,ue.CAPTION,ue.CENTER,ue.COL,ue.COLGROUP,ue.DD,ue.DETAILS,ue.DIR,ue.DIV,ue.DL,ue.DT,ue.EMBED,ue.FIELDSET,ue.FIGCAPTION,ue.FIGURE,ue.FOOTER,ue.FORM,ue.FRAME,ue.FRAMESET,ue.H1,ue.H2,ue.H3,ue.H4,ue.H5,ue.H6,ue.HEAD,ue.HEADER,ue.HGROUP,ue.HR,ue.HTML,ue.IFRAME,ue.IMG,ue.INPUT,ue.LI,ue.LINK,ue.LISTING,ue.MAIN,ue.MARQUEE,ue.MENU,ue.META,ue.NAV,ue.NOEMBED,ue.NOFRAMES,ue.NOSCRIPT,ue.OBJECT,ue.OL,ue.P,ue.PARAM,ue.PLAINTEXT,ue.PRE,ue.SCRIPT,ue.SECTION,ue.SELECT,ue.SOURCE,ue.STYLE,ue.SUMMARY,ue.TABLE,ue.TBODY,ue.TD,ue.TEMPLATE,ue.TEXTAREA,ue.TFOOT,ue.TH,ue.THEAD,ue.TITLE,ue.TR,ue.TRACK,ue.UL,ue.WBR,ue.XMP]),[le.MATHML]:new Set([ue.MI,ue.MO,ue.MN,ue.MS,ue.MTEXT,ue.ANNOTATION_XML]),[le.SVG]:new Set([ue.TITLE,ue.FOREIGN_OBJECT,ue.DESC]),[le.XLINK]:new Set,[le.XML]:new Set,[le.XMLNS]:new Set},r0=new Set([ue.H1,ue.H2,ue.H3,ue.H4,ue.H5,ue.H6]);H.STYLE,H.SCRIPT,H.XMP,H.IFRAME,H.NOEMBED,H.NOFRAMES,H.PLAINTEXT;var N;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(N||(N={}));const Lt={DATA:N.DATA,RCDATA:N.RCDATA,RAWTEXT:N.RAWTEXT,SCRIPT_DATA:N.SCRIPT_DATA,PLAINTEXT:N.PLAINTEXT,CDATA_SECTION:N.CDATA_SECTION};function G5(e){return e>=A.DIGIT_0&&e<=A.DIGIT_9}function Ol(e){return e>=A.LATIN_CAPITAL_A&&e<=A.LATIN_CAPITAL_Z}function X5(e){return e>=A.LATIN_SMALL_A&&e<=A.LATIN_SMALL_Z}function ya(e){return X5(e)||Ol(e)}function hy(e){return ya(e)||G5(e)}function Uo(e){return e+32}function DS(e){return e===A.SPACE||e===A.LINE_FEED||e===A.TABULATION||e===A.FORM_FEED}function my(e){return DS(e)||e===A.SOLIDUS||e===A.GREATER_THAN_SIGN}function Q5(e){return e===A.NULL?K.nullCharacterReference:e>1114111?K.characterReferenceOutsideUnicodeRange:xS(e)?K.surrogateCharacterReference:RS(e)?K.noncharacterCharacterReference:NS(e)||e===A.CARRIAGE_RETURN?K.controlCharacterReference:null}class K5{constructor(t,i){this.options=t,this.handler=i,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=N.DATA,this.returnState=N.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new w5(i),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new j5(M5,(r,l)=>{this.preprocessor.pos=this.entityStartPos+l-1,this._flushCodePointConsumedAsCharacterReference(r)},i.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(K.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(K.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const l=Q5(r);l&&this._err(l,1)}}:void 0)}_err(t,i=0){var r,l;(l=(r=this.handler).onParseError)===null||l===void 0||l.call(r,this.preprocessor.getError(t,i))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,i,r){this.active=!0,this.preprocessor.write(t,i),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let i=0;i<t;i++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,i){return this.preprocessor.startsWith(t,i)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:ze.START_TAG,tagName:"",tagID:m.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:ze.END_TAG,tagName:"",tagID:m.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:ze.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:ze.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,i){this.currentCharacterToken={type:t,chars:i,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,i;const r=this.currentToken;if(OS(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const l=(t=(i=r.location).attrs)!==null&&t!==void 0?t:i.attrs=Object.create(null);l[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(K.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Ss(t.tagName),t.type===ze.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(K.endTagWithAttributes),t.selfClosing&&this._err(K.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case ze.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case ze.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case ze.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:ze.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,i){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=i;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,i)}_emitCodePoint(t){const i=DS(t)?ze.WHITESPACE_CHARACTER:t===A.NULL?ze.NULL_CHARACTER:ze.CHARACTER;this._appendCharToCurrentCharacterToken(i,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(ze.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=N.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Ui.Attribute:Ui.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===N.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===N.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===N.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case N.DATA:{this._stateData(t);break}case N.RCDATA:{this._stateRcdata(t);break}case N.RAWTEXT:{this._stateRawtext(t);break}case N.SCRIPT_DATA:{this._stateScriptData(t);break}case N.PLAINTEXT:{this._statePlaintext(t);break}case N.TAG_OPEN:{this._stateTagOpen(t);break}case N.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case N.TAG_NAME:{this._stateTagName(t);break}case N.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case N.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case N.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case N.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case N.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case N.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case N.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case N.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case N.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case N.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case N.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case N.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case N.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case N.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case N.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case N.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case N.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case N.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case N.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case N.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case N.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case N.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case N.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case N.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case N.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case N.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case N.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case N.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case N.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case N.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case N.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case N.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case N.BOGUS_COMMENT:{this._stateBogusComment(t);break}case N.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case N.COMMENT_START:{this._stateCommentStart(t);break}case N.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case N.COMMENT:{this._stateComment(t);break}case N.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case N.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case N.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case N.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case N.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case N.COMMENT_END:{this._stateCommentEnd(t);break}case N.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case N.DOCTYPE:{this._stateDoctype(t);break}case N.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case N.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case N.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case N.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case N.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case N.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case N.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case N.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case N.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case N.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case N.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case N.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case N.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case N.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case N.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case N.CDATA_SECTION:{this._stateCdataSection(t);break}case N.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case N.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case N.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case N.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case A.LESS_THAN_SIGN:{this.state=N.TAG_OPEN;break}case A.AMPERSAND:{this._startCharacterReference();break}case A.NULL:{this._err(K.unexpectedNullCharacter),this._emitCodePoint(t);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case A.AMPERSAND:{this._startCharacterReference();break}case A.LESS_THAN_SIGN:{this.state=N.RCDATA_LESS_THAN_SIGN;break}case A.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(vt);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case A.LESS_THAN_SIGN:{this.state=N.RAWTEXT_LESS_THAN_SIGN;break}case A.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(vt);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_LESS_THAN_SIGN;break}case A.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(vt);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case A.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(vt);break}case A.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(ya(t))this._createStartTagToken(),this.state=N.TAG_NAME,this._stateTagName(t);else switch(t){case A.EXCLAMATION_MARK:{this.state=N.MARKUP_DECLARATION_OPEN;break}case A.SOLIDUS:{this.state=N.END_TAG_OPEN;break}case A.QUESTION_MARK:{this._err(K.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=N.BOGUS_COMMENT,this._stateBogusComment(t);break}case A.EOF:{this._err(K.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(K.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=N.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(ya(t))this._createEndTagToken(),this.state=N.TAG_NAME,this._stateTagName(t);else switch(t){case A.GREATER_THAN_SIGN:{this._err(K.missingEndTagName),this.state=N.DATA;break}case A.EOF:{this._err(K.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(K.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=N.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=N.BEFORE_ATTRIBUTE_NAME;break}case A.SOLIDUS:{this.state=N.SELF_CLOSING_START_TAG;break}case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentTagToken();break}case A.NULL:{this._err(K.unexpectedNullCharacter),i.tagName+=vt;break}case A.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:i.tagName+=String.fromCodePoint(Ol(t)?Uo(t):t)}}_stateRcdataLessThanSign(t){t===A.SOLIDUS?this.state=N.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=N.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){ya(t)?(this.state=N.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=N.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const i=this.currentToken;switch(i.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=N.BEFORE_ATTRIBUTE_NAME,!1;case A.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=N.SELF_CLOSING_START_TAG,!1;case A.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=N.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=N.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===A.SOLIDUS?this.state=N.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=N.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){ya(t)?(this.state=N.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=N.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=N.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case A.SOLIDUS:{this.state=N.SCRIPT_DATA_END_TAG_OPEN;break}case A.EXCLAMATION_MARK:{this.state=N.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=N.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){ya(t)?(this.state=N.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=N.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=N.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===A.HYPHEN_MINUS?(this.state=N.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=N.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===A.HYPHEN_MINUS?(this.state=N.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=N.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case A.HYPHEN_MINUS:{this.state=N.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case A.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(vt);break}case A.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case A.HYPHEN_MINUS:{this.state=N.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case A.NULL:{this._err(K.unexpectedNullCharacter),this.state=N.SCRIPT_DATA_ESCAPED,this._emitChars(vt);break}case A.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=N.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case A.HYPHEN_MINUS:{this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case A.GREATER_THAN_SIGN:{this.state=N.SCRIPT_DATA,this._emitChars(">");break}case A.NULL:{this._err(K.unexpectedNullCharacter),this.state=N.SCRIPT_DATA_ESCAPED,this._emitChars(vt);break}case A.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=N.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===A.SOLIDUS?this.state=N.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:ya(t)?(this._emitChars("<"),this.state=N.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=N.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){ya(t)?(this.state=N.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=N.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=N.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(yn.SCRIPT,!1)&&my(this.preprocessor.peek(yn.SCRIPT.length))){this._emitCodePoint(t);for(let i=0;i<yn.SCRIPT.length;i++)this._emitCodePoint(this._consume());this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=N.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case A.HYPHEN_MINUS:{this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case A.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(vt);break}case A.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case A.HYPHEN_MINUS:{this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case A.NULL:{this._err(K.unexpectedNullCharacter),this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(vt);break}case A.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case A.HYPHEN_MINUS:{this._emitChars("-");break}case A.LESS_THAN_SIGN:{this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case A.GREATER_THAN_SIGN:{this.state=N.SCRIPT_DATA,this._emitChars(">");break}case A.NULL:{this._err(K.unexpectedNullCharacter),this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(vt);break}case A.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===A.SOLIDUS?(this.state=N.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(yn.SCRIPT,!1)&&my(this.preprocessor.peek(yn.SCRIPT.length))){this._emitCodePoint(t);for(let i=0;i<yn.SCRIPT.length;i++)this._emitCodePoint(this._consume());this.state=N.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=N.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.SOLIDUS:case A.GREATER_THAN_SIGN:case A.EOF:{this.state=N.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case A.EQUALS_SIGN:{this._err(K.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=N.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=N.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:case A.SOLIDUS:case A.GREATER_THAN_SIGN:case A.EOF:{this._leaveAttrName(),this.state=N.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case A.EQUALS_SIGN:{this._leaveAttrName(),this.state=N.BEFORE_ATTRIBUTE_VALUE;break}case A.QUOTATION_MARK:case A.APOSTROPHE:case A.LESS_THAN_SIGN:{this._err(K.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case A.NULL:{this._err(K.unexpectedNullCharacter),this.currentAttr.name+=vt;break}default:this.currentAttr.name+=String.fromCodePoint(Ol(t)?Uo(t):t)}}_stateAfterAttributeName(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.SOLIDUS:{this.state=N.SELF_CLOSING_START_TAG;break}case A.EQUALS_SIGN:{this.state=N.BEFORE_ATTRIBUTE_VALUE;break}case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentTagToken();break}case A.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=N.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.QUOTATION_MARK:{this.state=N.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this.state=N.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(K.missingAttributeValue),this.state=N.DATA,this.emitCurrentTagToken();break}default:this.state=N.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case A.QUOTATION_MARK:{this.state=N.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case A.AMPERSAND:{this._startCharacterReference();break}case A.NULL:{this._err(K.unexpectedNullCharacter),this.currentAttr.value+=vt;break}case A.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case A.APOSTROPHE:{this.state=N.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case A.AMPERSAND:{this._startCharacterReference();break}case A.NULL:{this._err(K.unexpectedNullCharacter),this.currentAttr.value+=vt;break}case A.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this._leaveAttrValue(),this.state=N.BEFORE_ATTRIBUTE_NAME;break}case A.AMPERSAND:{this._startCharacterReference();break}case A.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=N.DATA,this.emitCurrentTagToken();break}case A.NULL:{this._err(K.unexpectedNullCharacter),this.currentAttr.value+=vt;break}case A.QUOTATION_MARK:case A.APOSTROPHE:case A.LESS_THAN_SIGN:case A.EQUALS_SIGN:case A.GRAVE_ACCENT:{this._err(K.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case A.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this._leaveAttrValue(),this.state=N.BEFORE_ATTRIBUTE_NAME;break}case A.SOLIDUS:{this._leaveAttrValue(),this.state=N.SELF_CLOSING_START_TAG;break}case A.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=N.DATA,this.emitCurrentTagToken();break}case A.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this._err(K.missingWhitespaceBetweenAttributes),this.state=N.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case A.GREATER_THAN_SIGN:{const i=this.currentToken;i.selfClosing=!0,this.state=N.DATA,this.emitCurrentTagToken();break}case A.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this._err(K.unexpectedSolidusInTag),this.state=N.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const i=this.currentToken;switch(t){case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentComment(i);break}case A.EOF:{this.emitCurrentComment(i),this._emitEOFToken();break}case A.NULL:{this._err(K.unexpectedNullCharacter),i.data+=vt;break}default:i.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(yn.DASH_DASH,!0)?(this._createCommentToken(yn.DASH_DASH.length+1),this.state=N.COMMENT_START):this._consumeSequenceIfMatch(yn.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(yn.DOCTYPE.length+1),this.state=N.DOCTYPE):this._consumeSequenceIfMatch(yn.CDATA_START,!0)?this.inForeignNode?this.state=N.CDATA_SECTION:(this._err(K.cdataInHtmlContent),this._createCommentToken(yn.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=N.BOGUS_COMMENT):this._ensureHibernation()||(this._err(K.incorrectlyOpenedComment),this._createCommentToken(2),this.state=N.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case A.HYPHEN_MINUS:{this.state=N.COMMENT_START_DASH;break}case A.GREATER_THAN_SIGN:{this._err(K.abruptClosingOfEmptyComment),this.state=N.DATA;const i=this.currentToken;this.emitCurrentComment(i);break}default:this.state=N.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const i=this.currentToken;switch(t){case A.HYPHEN_MINUS:{this.state=N.COMMENT_END;break}case A.GREATER_THAN_SIGN:{this._err(K.abruptClosingOfEmptyComment),this.state=N.DATA,this.emitCurrentComment(i);break}case A.EOF:{this._err(K.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+="-",this.state=N.COMMENT,this._stateComment(t)}}_stateComment(t){const i=this.currentToken;switch(t){case A.HYPHEN_MINUS:{this.state=N.COMMENT_END_DASH;break}case A.LESS_THAN_SIGN:{i.data+="<",this.state=N.COMMENT_LESS_THAN_SIGN;break}case A.NULL:{this._err(K.unexpectedNullCharacter),i.data+=vt;break}case A.EOF:{this._err(K.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const i=this.currentToken;switch(t){case A.EXCLAMATION_MARK:{i.data+="!",this.state=N.COMMENT_LESS_THAN_SIGN_BANG;break}case A.LESS_THAN_SIGN:{i.data+="<";break}default:this.state=N.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===A.HYPHEN_MINUS?this.state=N.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=N.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===A.HYPHEN_MINUS?this.state=N.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=N.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==A.GREATER_THAN_SIGN&&t!==A.EOF&&this._err(K.nestedComment),this.state=N.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const i=this.currentToken;switch(t){case A.HYPHEN_MINUS:{this.state=N.COMMENT_END;break}case A.EOF:{this._err(K.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+="-",this.state=N.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const i=this.currentToken;switch(t){case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentComment(i);break}case A.EXCLAMATION_MARK:{this.state=N.COMMENT_END_BANG;break}case A.HYPHEN_MINUS:{i.data+="-";break}case A.EOF:{this._err(K.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+="--",this.state=N.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const i=this.currentToken;switch(t){case A.HYPHEN_MINUS:{i.data+="--!",this.state=N.COMMENT_END_DASH;break}case A.GREATER_THAN_SIGN:{this._err(K.incorrectlyClosedComment),this.state=N.DATA,this.emitCurrentComment(i);break}case A.EOF:{this._err(K.eofInComment),this.emitCurrentComment(i),this._emitEOFToken();break}default:i.data+="--!",this.state=N.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=N.BEFORE_DOCTYPE_NAME;break}case A.GREATER_THAN_SIGN:{this.state=N.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case A.EOF:{this._err(K.eofInDoctype),this._createDoctypeToken(null);const i=this.currentToken;i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(K.missingWhitespaceBeforeDoctypeName),this.state=N.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Ol(t))this._createDoctypeToken(String.fromCharCode(Uo(t))),this.state=N.DOCTYPE_NAME;else switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.NULL:{this._err(K.unexpectedNullCharacter),this._createDoctypeToken(vt),this.state=N.DOCTYPE_NAME;break}case A.GREATER_THAN_SIGN:{this._err(K.missingDoctypeName),this._createDoctypeToken(null);const i=this.currentToken;i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=N.DATA;break}case A.EOF:{this._err(K.eofInDoctype),this._createDoctypeToken(null);const i=this.currentToken;i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=N.DOCTYPE_NAME}}_stateDoctypeName(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=N.AFTER_DOCTYPE_NAME;break}case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentDoctype(i);break}case A.NULL:{this._err(K.unexpectedNullCharacter),i.name+=vt;break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.name+=String.fromCodePoint(Ol(t)?Uo(t):t)}}_stateAfterDoctypeName(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentDoctype(i);break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(yn.PUBLIC,!1)?this.state=N.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(yn.SYSTEM,!1)?this.state=N.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(K.invalidCharacterSequenceAfterDoctypeName),i.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=N.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case A.QUOTATION_MARK:{this._err(K.missingWhitespaceAfterDoctypePublicKeyword),i.publicId="",this.state=N.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this._err(K.missingWhitespaceAfterDoctypePublicKeyword),i.publicId="",this.state=N.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(K.missingDoctypePublicIdentifier),i.forceQuirks=!0,this.state=N.DATA,this.emitCurrentDoctype(i);break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypePublicIdentifier),i.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.QUOTATION_MARK:{i.publicId="",this.state=N.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{i.publicId="",this.state=N.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(K.missingDoctypePublicIdentifier),i.forceQuirks=!0,this.state=N.DATA,this.emitCurrentDoctype(i);break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypePublicIdentifier),i.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const i=this.currentToken;switch(t){case A.QUOTATION_MARK:{this.state=N.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case A.NULL:{this._err(K.unexpectedNullCharacter),i.publicId+=vt;break}case A.GREATER_THAN_SIGN:{this._err(K.abruptDoctypePublicIdentifier),i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=N.DATA;break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const i=this.currentToken;switch(t){case A.APOSTROPHE:{this.state=N.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case A.NULL:{this._err(K.unexpectedNullCharacter),i.publicId+=vt;break}case A.GREATER_THAN_SIGN:{this._err(K.abruptDoctypePublicIdentifier),i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=N.DATA;break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=N.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case A.GREATER_THAN_SIGN:{this.state=N.DATA,this.emitCurrentDoctype(i);break}case A.QUOTATION_MARK:{this._err(K.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),i.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this._err(K.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),i.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.GREATER_THAN_SIGN:{this.emitCurrentDoctype(i),this.state=N.DATA;break}case A.QUOTATION_MARK:{i.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{i.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:{this.state=N.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case A.QUOTATION_MARK:{this._err(K.missingWhitespaceAfterDoctypeSystemKeyword),i.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{this._err(K.missingWhitespaceAfterDoctypeSystemKeyword),i.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(K.missingDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=N.DATA,this.emitCurrentDoctype(i);break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.QUOTATION_MARK:{i.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case A.APOSTROPHE:{i.systemId="",this.state=N.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case A.GREATER_THAN_SIGN:{this._err(K.missingDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=N.DATA,this.emitCurrentDoctype(i);break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypeSystemIdentifier),i.forceQuirks=!0,this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const i=this.currentToken;switch(t){case A.QUOTATION_MARK:{this.state=N.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case A.NULL:{this._err(K.unexpectedNullCharacter),i.systemId+=vt;break}case A.GREATER_THAN_SIGN:{this._err(K.abruptDoctypeSystemIdentifier),i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=N.DATA;break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const i=this.currentToken;switch(t){case A.APOSTROPHE:{this.state=N.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case A.NULL:{this._err(K.unexpectedNullCharacter),i.systemId+=vt;break}case A.GREATER_THAN_SIGN:{this._err(K.abruptDoctypeSystemIdentifier),i.forceQuirks=!0,this.emitCurrentDoctype(i),this.state=N.DATA;break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:i.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const i=this.currentToken;switch(t){case A.SPACE:case A.LINE_FEED:case A.TABULATION:case A.FORM_FEED:break;case A.GREATER_THAN_SIGN:{this.emitCurrentDoctype(i),this.state=N.DATA;break}case A.EOF:{this._err(K.eofInDoctype),i.forceQuirks=!0,this.emitCurrentDoctype(i),this._emitEOFToken();break}default:this._err(K.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=N.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const i=this.currentToken;switch(t){case A.GREATER_THAN_SIGN:{this.emitCurrentDoctype(i),this.state=N.DATA;break}case A.NULL:{this._err(K.unexpectedNullCharacter);break}case A.EOF:{this.emitCurrentDoctype(i),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case A.RIGHT_SQUARE_BRACKET:{this.state=N.CDATA_SECTION_BRACKET;break}case A.EOF:{this._err(K.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===A.RIGHT_SQUARE_BRACKET?this.state=N.CDATA_SECTION_END:(this._emitChars("]"),this.state=N.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case A.GREATER_THAN_SIGN:{this.state=N.DATA;break}case A.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=N.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(A.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&hy(this.preprocessor.peek(1))?N.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){hy(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===A.SEMICOLON&&this._err(K.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const IS=new Set([m.DD,m.DT,m.LI,m.OPTGROUP,m.OPTION,m.P,m.RB,m.RP,m.RT,m.RTC]),py=new Set([...IS,m.CAPTION,m.COLGROUP,m.TBODY,m.TD,m.TFOOT,m.TH,m.THEAD,m.TR]),cc=new Set([m.APPLET,m.CAPTION,m.HTML,m.MARQUEE,m.OBJECT,m.TABLE,m.TD,m.TEMPLATE,m.TH]),W5=new Set([...cc,m.OL,m.UL]),$5=new Set([...cc,m.BUTTON]),gy=new Set([m.ANNOTATION_XML,m.MI,m.MN,m.MO,m.MS,m.MTEXT]),Ey=new Set([m.DESC,m.FOREIGN_OBJECT,m.TITLE]),Z5=new Set([m.TR,m.TEMPLATE,m.HTML]),J5=new Set([m.TBODY,m.TFOOT,m.THEAD,m.TEMPLATE,m.HTML]),eL=new Set([m.TABLE,m.TEMPLATE,m.HTML]),tL=new Set([m.TD,m.TH]);class nL{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,i,r){this.treeAdapter=i,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=m.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===m.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===le.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,i){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=i,this.currentTagId=i,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,i,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,i){const r=this._indexOf(t);this.items[r]=i,r===this.stackTop&&(this.current=i)}insertAfter(t,i,r){const l=this._indexOf(t)+1;this.items.splice(l,0,i),this.tagIDs.splice(l,0,r),this.stackTop++,l===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,l===this.stackTop)}popUntilTagNamePopped(t){let i=this.stackTop+1;do i=this.tagIDs.lastIndexOf(t,i-1);while(i>0&&this.treeAdapter.getNamespaceURI(this.items[i])!==le.HTML);this.shortenToLength(Math.max(i,0))}shortenToLength(t){for(;this.stackTop>=t;){const i=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(i,this.stackTop<t)}}popUntilElementPopped(t){const i=this._indexOf(t);this.shortenToLength(Math.max(i,0))}popUntilPopped(t,i){const r=this._indexOfTagNames(t,i);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(r0,le.HTML)}popUntilTableCellPopped(){this.popUntilPopped(tL,le.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,i){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===i)return r;return-1}clearBackTo(t,i){const r=this._indexOfTagNames(t,i);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(eL,le.HTML)}clearBackToTableBodyContext(){this.clearBackTo(J5,le.HTML)}clearBackToTableRowContext(){this.clearBackTo(Z5,le.HTML)}remove(t){const i=this._indexOf(t);i>=0&&(i===this.stackTop?this.pop():(this.items.splice(i,1),this.tagIDs.splice(i,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===m.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const i=this._indexOf(t)-1;return i>=0?this.items[i]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===m.HTML}hasInDynamicScope(t,i){for(let r=this.stackTop;r>=0;r--){const l=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case le.HTML:{if(l===t)return!0;if(i.has(l))return!1;break}case le.SVG:{if(Ey.has(l))return!1;break}case le.MATHML:{if(gy.has(l))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,cc)}hasInListItemScope(t){return this.hasInDynamicScope(t,W5)}hasInButtonScope(t){return this.hasInDynamicScope(t,$5)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const i=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case le.HTML:{if(r0.has(i))return!0;if(cc.has(i))return!1;break}case le.SVG:{if(Ey.has(i))return!1;break}case le.MATHML:{if(gy.has(i))return!1;break}}}return!0}hasInTableScope(t){for(let i=this.stackTop;i>=0;i--)if(this.treeAdapter.getNamespaceURI(this.items[i])===le.HTML)switch(this.tagIDs[i]){case t:return!0;case m.TABLE:case m.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===le.HTML)switch(this.tagIDs[t]){case m.TBODY:case m.THEAD:case m.TFOOT:return!0;case m.TABLE:case m.HTML:return!1}return!0}hasInSelectScope(t){for(let i=this.stackTop;i>=0;i--)if(this.treeAdapter.getNamespaceURI(this.items[i])===le.HTML)switch(this.tagIDs[i]){case t:return!0;case m.OPTION:case m.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&IS.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&py.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&py.has(this.currentTagId);)this.pop()}}const Ah=3;var di;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(di||(di={}));const _y={type:di.Marker};class iL{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,i){const r=[],l=i.length,o=this.treeAdapter.getTagName(t),c=this.treeAdapter.getNamespaceURI(t);for(let h=0;h<this.entries.length;h++){const p=this.entries[h];if(p.type===di.Marker)break;const{element:g}=p;if(this.treeAdapter.getTagName(g)===o&&this.treeAdapter.getNamespaceURI(g)===c){const E=this.treeAdapter.getAttrList(g);E.length===l&&r.push({idx:h,attrs:E})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<Ah)return;const i=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,i);if(r.length<Ah)return;const l=new Map(i.map(c=>[c.name,c.value]));let o=0;for(let c=0;c<r.length;c++){const h=r[c];h.attrs.every(p=>l.get(p.name)===p.value)&&(o+=1,o>=Ah&&this.entries.splice(h.idx,1))}}insertMarker(){this.entries.unshift(_y)}pushElement(t,i){this._ensureNoahArkCondition(t),this.entries.unshift({type:di.Element,element:t,token:i})}insertElementAfterBookmark(t,i){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:di.Element,element:t,token:i})}removeEntry(t){const i=this.entries.indexOf(t);i!==-1&&this.entries.splice(i,1)}clearToLastMarker(){const t=this.entries.indexOf(_y);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const i=this.entries.find(r=>r.type===di.Marker||this.treeAdapter.getTagName(r.element)===t);return i&&i.type===di.Element?i:null}getElementEntry(t){return this.entries.find(i=>i.type===di.Element&&i.element===t)}}const Ta={createDocument(){return{nodeName:"#document",mode:Kn.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,i){return{nodeName:e,tagName:e,attrs:i,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,i){const r=e.childNodes.indexOf(i);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,i,r){const l=e.childNodes.find(o=>o.nodeName==="#documentType");if(l)l.name=t,l.publicId=i,l.systemId=r;else{const o={nodeName:"#documentType",name:t,publicId:i,systemId:r,parentNode:null};Ta.appendChild(e,o)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const i=e.childNodes[e.childNodes.length-1];if(Ta.isTextNode(i)){i.value+=t;return}}Ta.appendChild(e,Ta.createTextNode(t))},insertTextBefore(e,t,i){const r=e.childNodes[e.childNodes.indexOf(i)-1];r&&Ta.isTextNode(r)?r.value+=t:Ta.insertBefore(e,Ta.createTextNode(t),i)},adoptAttributes(e,t){const i=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)i.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},LS="html",aL="about:legacy-compat",rL="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",kS=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],sL=[...kS,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],lL=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),wS=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],uL=[...wS,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function yy(e,t){return t.some(i=>e.startsWith(i))}function oL(e){return e.name===LS&&e.publicId===null&&(e.systemId===null||e.systemId===aL)}function cL(e){if(e.name!==LS)return Kn.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===rL)return Kn.QUIRKS;let{publicId:i}=e;if(i!==null){if(i=i.toLowerCase(),lL.has(i))return Kn.QUIRKS;let r=t===null?sL:kS;if(yy(i,r))return Kn.QUIRKS;if(r=t===null?wS:uL,yy(i,r))return Kn.LIMITED_QUIRKS}return Kn.NO_QUIRKS}const Ty={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},fL="definitionurl",dL="definitionURL",hL=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),mL=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:le.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:le.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:le.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:le.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:le.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:le.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:le.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:le.XML}],["xml:space",{prefix:"xml",name:"space",namespace:le.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:le.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:le.XMLNS}]]),pL=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),gL=new Set([m.B,m.BIG,m.BLOCKQUOTE,m.BODY,m.BR,m.CENTER,m.CODE,m.DD,m.DIV,m.DL,m.DT,m.EM,m.EMBED,m.H1,m.H2,m.H3,m.H4,m.H5,m.H6,m.HEAD,m.HR,m.I,m.IMG,m.LI,m.LISTING,m.MENU,m.META,m.NOBR,m.OL,m.P,m.PRE,m.RUBY,m.S,m.SMALL,m.SPAN,m.STRONG,m.STRIKE,m.SUB,m.SUP,m.TABLE,m.TT,m.U,m.UL,m.VAR]);function EL(e){const t=e.tagID;return t===m.FONT&&e.attrs.some(({name:r})=>r===er.COLOR||r===er.SIZE||r===er.FACE)||gL.has(t)}function MS(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===fL){e.attrs[t].name=dL;break}}function BS(e){for(let t=0;t<e.attrs.length;t++){const i=hL.get(e.attrs[t].name);i!=null&&(e.attrs[t].name=i)}}function pm(e){for(let t=0;t<e.attrs.length;t++){const i=mL.get(e.attrs[t].name);i&&(e.attrs[t].prefix=i.prefix,e.attrs[t].name=i.name,e.attrs[t].namespace=i.namespace)}}function _L(e){const t=pL.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Ss(e.tagName))}function yL(e,t){return t===le.MATHML&&(e===m.MI||e===m.MO||e===m.MN||e===m.MS||e===m.MTEXT)}function TL(e,t,i){if(t===le.MATHML&&e===m.ANNOTATION_XML){for(let r=0;r<i.length;r++)if(i[r].name===er.ENCODING){const l=i[r].value.toLowerCase();return l===Ty.TEXT_HTML||l===Ty.APPLICATION_XML}}return t===le.SVG&&(e===m.FOREIGN_OBJECT||e===m.DESC||e===m.TITLE)}function bL(e,t,i,r){return(!r||r===le.HTML)&&TL(e,t,i)||(!r||r===le.MATHML)&&yL(e,t)}const SL="hidden",CL=8,AL=3;var D;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(D||(D={}));const vL={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},PS=new Set([m.TABLE,m.TBODY,m.TFOOT,m.THEAD,m.TR]),by={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Ta,onParseError:null};class Sy{constructor(t,i,r=null,l=null){this.fragmentContext=r,this.scriptHandler=l,this.currentToken=null,this.stopped=!1,this.insertionMode=D.INITIAL,this.originalInsertionMode=D.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...by,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=i??this.treeAdapter.createDocument(),this.tokenizer=new K5(this.options,this),this.activeFormattingElements=new iL(this.treeAdapter),this.fragmentContextID=r?Ss(this.treeAdapter.getTagName(r)):m.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new nL(this.document,this.treeAdapter,this)}static parse(t,i){const r=new this(i);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,i){const r={...by,...i};t??(t=r.treeAdapter.createElement(H.TEMPLATE,le.HTML,[]));const l=r.treeAdapter.createElement("documentmock",le.HTML,[]),o=new this(r,l,t);return o.fragmentContextID===m.TEMPLATE&&o.tmplInsertionModeStack.unshift(D.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),i=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,i),i}_err(t,i,r){var l;if(!this.onParseError)return;const o=(l=t.location)!==null&&l!==void 0?l:vL,c={code:i,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:r?o.startLine:o.endLine,endCol:r?o.startCol:o.endCol,endOffset:r?o.startOffset:o.endOffset};this.onParseError(c)}onItemPush(t,i,r){var l,o;(o=(l=this.treeAdapter).onItemPush)===null||o===void 0||o.call(l,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,i)}onItemPop(t,i){var r,l;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(l=(r=this.treeAdapter).onItemPop)===null||l===void 0||l.call(r,t,this.openElements.current),i){let o,c;this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,c=this.fragmentContextID):{current:o,currentTagId:c}=this.openElements,this._setContextModes(o,c)}}_setContextModes(t,i){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===le.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&i!==void 0&&!this._isIntegrationPoint(i,t)}_switchToTextParsing(t,i){this._insertElement(t,le.HTML),this.tokenizer.state=i,this.originalInsertionMode=this.insertionMode,this.insertionMode=D.TEXT}switchToPlaintextParsing(){this.insertionMode=D.TEXT,this.originalInsertionMode=D.IN_BODY,this.tokenizer.state=Lt.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===H.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==le.HTML))switch(this.fragmentContextID){case m.TITLE:case m.TEXTAREA:{this.tokenizer.state=Lt.RCDATA;break}case m.STYLE:case m.XMP:case m.IFRAME:case m.NOEMBED:case m.NOFRAMES:case m.NOSCRIPT:{this.tokenizer.state=Lt.RAWTEXT;break}case m.SCRIPT:{this.tokenizer.state=Lt.SCRIPT_DATA;break}case m.PLAINTEXT:{this.tokenizer.state=Lt.PLAINTEXT;break}}}_setDocumentType(t){const i=t.name||"",r=t.publicId||"",l=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,i,r,l),t.location){const c=this.treeAdapter.getChildNodes(this.document).find(h=>this.treeAdapter.isDocumentTypeNode(h));c&&this.treeAdapter.setNodeSourceCodeLocation(c,t.location)}}_attachElementToTree(t,i){if(this.options.sourceCodeLocationInfo){const r=i&&{...i,startTag:i};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,t)}}_appendElement(t,i){const r=this.treeAdapter.createElement(t.tagName,i,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,i){const r=this.treeAdapter.createElement(t.tagName,i,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,i){const r=this.treeAdapter.createElement(t,le.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,i)}_insertTemplate(t){const i=this.treeAdapter.createElement(t.tagName,le.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(i,r),this._attachElementToTree(i,t.location),this.openElements.push(i,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(H.HTML,le.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,m.HTML)}_appendCommentNode(t,i){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(i,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let i,r;if(this._shouldFosterParentOnInsertion()?({parent:i,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(i,t.chars,r):this.treeAdapter.insertText(i,t.chars)):(i=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(i,t.chars)),!t.location)return;const l=this.treeAdapter.getChildNodes(i),o=r?l.lastIndexOf(r):l.length,c=l[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(c)){const{endLine:p,endCol:g,endOffset:E}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(c,{endLine:p,endCol:g,endOffset:E})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(c,t.location)}_adoptNodes(t,i){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(i,r)}_setEndLocation(t,i){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&i.location){const r=i.location,l=this.treeAdapter.getTagName(t),o=i.type===ze.END_TAG&&l===i.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,o)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let i,r;return this.openElements.stackTop===0&&this.fragmentContext?(i=this.fragmentContext,r=this.fragmentContextID):{current:i,currentTagId:r}=this.openElements,t.tagID===m.SVG&&this.treeAdapter.getTagName(i)===H.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(i)===le.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===m.MGLYPH||t.tagID===m.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,i,le.HTML)}_processToken(t){switch(t.type){case ze.CHARACTER:{this.onCharacter(t);break}case ze.NULL_CHARACTER:{this.onNullCharacter(t);break}case ze.COMMENT:{this.onComment(t);break}case ze.DOCTYPE:{this.onDoctype(t);break}case ze.START_TAG:{this._processStartTag(t);break}case ze.END_TAG:{this.onEndTag(t);break}case ze.EOF:{this.onEof(t);break}case ze.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,i,r){const l=this.treeAdapter.getNamespaceURI(i),o=this.treeAdapter.getAttrList(i);return bL(t,l,o,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const i=this.activeFormattingElements.entries.findIndex(l=>l.type===di.Marker||this.openElements.contains(l.element)),r=i===-1?t-1:i-1;for(let l=r;l>=0;l--){const o=this.activeFormattingElements.entries[l];this._insertElement(o.token,this.treeAdapter.getNamespaceURI(o.element)),o.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=D.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(m.P),this.openElements.popUntilTagNamePopped(m.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case m.TR:{this.insertionMode=D.IN_ROW;return}case m.TBODY:case m.THEAD:case m.TFOOT:{this.insertionMode=D.IN_TABLE_BODY;return}case m.CAPTION:{this.insertionMode=D.IN_CAPTION;return}case m.COLGROUP:{this.insertionMode=D.IN_COLUMN_GROUP;return}case m.TABLE:{this.insertionMode=D.IN_TABLE;return}case m.BODY:{this.insertionMode=D.IN_BODY;return}case m.FRAMESET:{this.insertionMode=D.IN_FRAMESET;return}case m.SELECT:{this._resetInsertionModeForSelect(t);return}case m.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case m.HTML:{this.insertionMode=this.headElement?D.AFTER_HEAD:D.BEFORE_HEAD;return}case m.TD:case m.TH:{if(t>0){this.insertionMode=D.IN_CELL;return}break}case m.HEAD:{if(t>0){this.insertionMode=D.IN_HEAD;return}break}}this.insertionMode=D.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let i=t-1;i>0;i--){const r=this.openElements.tagIDs[i];if(r===m.TEMPLATE)break;if(r===m.TABLE){this.insertionMode=D.IN_SELECT_IN_TABLE;return}}this.insertionMode=D.IN_SELECT}_isElementCausesFosterParenting(t){return PS.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const i=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case m.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(i)===le.HTML)return{parent:this.treeAdapter.getTemplateContent(i),beforeElement:null};break}case m.TABLE:{const r=this.treeAdapter.getParentNode(i);return r?{parent:r,beforeElement:i}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const i=this._findFosterParentingLocation();i.beforeElement?this.treeAdapter.insertBefore(i.parent,t,i.beforeElement):this.treeAdapter.appendChild(i.parent,t)}_isSpecialElement(t,i){const r=this.treeAdapter.getNamespaceURI(t);return V5[r].has(i)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){tk(this,t);return}switch(this.insertionMode){case D.INITIAL:{vl(this,t);break}case D.BEFORE_HTML:{Hl(this,t);break}case D.BEFORE_HEAD:{Fl(this,t);break}case D.IN_HEAD:{zl(this,t);break}case D.IN_HEAD_NO_SCRIPT:{jl(this,t);break}case D.AFTER_HEAD:{Yl(this,t);break}case D.IN_BODY:case D.IN_CAPTION:case D.IN_CELL:case D.IN_TEMPLATE:{HS(this,t);break}case D.TEXT:case D.IN_SELECT:case D.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case D.IN_TABLE:case D.IN_TABLE_BODY:case D.IN_ROW:{vh(this,t);break}case D.IN_TABLE_TEXT:{VS(this,t);break}case D.IN_COLUMN_GROUP:{fc(this,t);break}case D.AFTER_BODY:{dc(this,t);break}case D.AFTER_AFTER_BODY:{Vo(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){ek(this,t);return}switch(this.insertionMode){case D.INITIAL:{vl(this,t);break}case D.BEFORE_HTML:{Hl(this,t);break}case D.BEFORE_HEAD:{Fl(this,t);break}case D.IN_HEAD:{zl(this,t);break}case D.IN_HEAD_NO_SCRIPT:{jl(this,t);break}case D.AFTER_HEAD:{Yl(this,t);break}case D.TEXT:{this._insertCharacters(t);break}case D.IN_TABLE:case D.IN_TABLE_BODY:case D.IN_ROW:{vh(this,t);break}case D.IN_COLUMN_GROUP:{fc(this,t);break}case D.AFTER_BODY:{dc(this,t);break}case D.AFTER_AFTER_BODY:{Vo(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){s0(this,t);return}switch(this.insertionMode){case D.INITIAL:case D.BEFORE_HTML:case D.BEFORE_HEAD:case D.IN_HEAD:case D.IN_HEAD_NO_SCRIPT:case D.AFTER_HEAD:case D.IN_BODY:case D.IN_TABLE:case D.IN_CAPTION:case D.IN_COLUMN_GROUP:case D.IN_TABLE_BODY:case D.IN_ROW:case D.IN_CELL:case D.IN_SELECT:case D.IN_SELECT_IN_TABLE:case D.IN_TEMPLATE:case D.IN_FRAMESET:case D.AFTER_FRAMESET:{s0(this,t);break}case D.IN_TABLE_TEXT:{xl(this,t);break}case D.AFTER_BODY:{LL(this,t);break}case D.AFTER_AFTER_BODY:case D.AFTER_AFTER_FRAMESET:{kL(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case D.INITIAL:{wL(this,t);break}case D.BEFORE_HEAD:case D.IN_HEAD:case D.IN_HEAD_NO_SCRIPT:case D.AFTER_HEAD:{this._err(t,K.misplacedDoctype);break}case D.IN_TABLE_TEXT:{xl(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,K.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?nk(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case D.INITIAL:{vl(this,t);break}case D.BEFORE_HTML:{ML(this,t);break}case D.BEFORE_HEAD:{PL(this,t);break}case D.IN_HEAD:{si(this,t);break}case D.IN_HEAD_NO_SCRIPT:{FL(this,t);break}case D.AFTER_HEAD:{jL(this,t);break}case D.IN_BODY:{un(this,t);break}case D.IN_TABLE:{ds(this,t);break}case D.IN_TABLE_TEXT:{xl(this,t);break}case D.IN_CAPTION:{U8(this,t);break}case D.IN_COLUMN_GROUP:{_m(this,t);break}case D.IN_TABLE_BODY:{Lc(this,t);break}case D.IN_ROW:{kc(this,t);break}case D.IN_CELL:{z8(this,t);break}case D.IN_SELECT:{QS(this,t);break}case D.IN_SELECT_IN_TABLE:{Y8(this,t);break}case D.IN_TEMPLATE:{V8(this,t);break}case D.AFTER_BODY:{X8(this,t);break}case D.IN_FRAMESET:{Q8(this,t);break}case D.AFTER_FRAMESET:{W8(this,t);break}case D.AFTER_AFTER_BODY:{Z8(this,t);break}case D.AFTER_AFTER_FRAMESET:{J8(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?ik(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case D.INITIAL:{vl(this,t);break}case D.BEFORE_HTML:{BL(this,t);break}case D.BEFORE_HEAD:{UL(this,t);break}case D.IN_HEAD:{HL(this,t);break}case D.IN_HEAD_NO_SCRIPT:{zL(this,t);break}case D.AFTER_HEAD:{YL(this,t);break}case D.IN_BODY:{Ic(this,t);break}case D.TEXT:{R8(this,t);break}case D.IN_TABLE:{iu(this,t);break}case D.IN_TABLE_TEXT:{xl(this,t);break}case D.IN_CAPTION:{H8(this,t);break}case D.IN_COLUMN_GROUP:{F8(this,t);break}case D.IN_TABLE_BODY:{l0(this,t);break}case D.IN_ROW:{XS(this,t);break}case D.IN_CELL:{j8(this,t);break}case D.IN_SELECT:{KS(this,t);break}case D.IN_SELECT_IN_TABLE:{q8(this,t);break}case D.IN_TEMPLATE:{G8(this,t);break}case D.AFTER_BODY:{$S(this,t);break}case D.IN_FRAMESET:{K8(this,t);break}case D.AFTER_FRAMESET:{$8(this,t);break}case D.AFTER_AFTER_BODY:{Vo(this,t);break}}}onEof(t){switch(this.insertionMode){case D.INITIAL:{vl(this,t);break}case D.BEFORE_HTML:{Hl(this,t);break}case D.BEFORE_HEAD:{Fl(this,t);break}case D.IN_HEAD:{zl(this,t);break}case D.IN_HEAD_NO_SCRIPT:{jl(this,t);break}case D.AFTER_HEAD:{Yl(this,t);break}case D.IN_BODY:case D.IN_TABLE:case D.IN_CAPTION:case D.IN_COLUMN_GROUP:case D.IN_TABLE_BODY:case D.IN_ROW:case D.IN_CELL:case D.IN_SELECT:case D.IN_SELECT_IN_TABLE:{YS(this,t);break}case D.TEXT:{O8(this,t);break}case D.IN_TABLE_TEXT:{xl(this,t);break}case D.IN_TEMPLATE:{WS(this,t);break}case D.AFTER_BODY:case D.IN_FRAMESET:case D.AFTER_FRAMESET:case D.AFTER_AFTER_BODY:case D.AFTER_AFTER_FRAMESET:{Em(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===A.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case D.IN_HEAD:case D.IN_HEAD_NO_SCRIPT:case D.AFTER_HEAD:case D.TEXT:case D.IN_COLUMN_GROUP:case D.IN_SELECT:case D.IN_SELECT_IN_TABLE:case D.IN_FRAMESET:case D.AFTER_FRAMESET:{this._insertCharacters(t);break}case D.IN_BODY:case D.IN_CAPTION:case D.IN_CELL:case D.IN_TEMPLATE:case D.AFTER_BODY:case D.AFTER_AFTER_BODY:case D.AFTER_AFTER_FRAMESET:{US(this,t);break}case D.IN_TABLE:case D.IN_TABLE_BODY:case D.IN_ROW:{vh(this,t);break}case D.IN_TABLE_TEXT:{qS(this,t);break}}}}function xL(e,t){let i=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return i?e.openElements.contains(i.element)?e.openElements.hasInScope(t.tagID)||(i=null):(e.activeFormattingElements.removeEntry(i),i=null):jS(e,t),i}function NL(e,t){let i=null,r=e.openElements.stackTop;for(;r>=0;r--){const l=e.openElements.items[r];if(l===t.element)break;e._isSpecialElement(l,e.openElements.tagIDs[r])&&(i=l)}return i||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),i}function RL(e,t,i){let r=t,l=e.openElements.getCommonAncestor(t);for(let o=0,c=l;c!==i;o++,c=l){l=e.openElements.getCommonAncestor(c);const h=e.activeFormattingElements.getElementEntry(c),p=h&&o>=AL;!h||p?(p&&e.activeFormattingElements.removeEntry(h),e.openElements.remove(c)):(c=OL(e,h),r===t&&(e.activeFormattingElements.bookmark=h),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(c,r),r=c)}return r}function OL(e,t){const i=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,i,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function DL(e,t,i){const r=e.treeAdapter.getTagName(t),l=Ss(r);if(e._isElementCausesFosterParenting(l))e._fosterParentElement(i);else{const o=e.treeAdapter.getNamespaceURI(t);l===m.TEMPLATE&&o===le.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,i)}}function IL(e,t,i){const r=e.treeAdapter.getNamespaceURI(i.element),{token:l}=i,o=e.treeAdapter.createElement(l.tagName,r,l.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,l),e.activeFormattingElements.removeEntry(i),e.openElements.remove(i.element),e.openElements.insertAfter(t,o,l.tagID)}function gm(e,t){for(let i=0;i<CL;i++){const r=xL(e,t);if(!r)break;const l=NL(e,r);if(!l)break;e.activeFormattingElements.bookmark=r;const o=RL(e,l,r.element),c=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(o),c&&DL(e,c,o),IL(e,l,r)}}function s0(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function LL(e,t){e._appendCommentNode(t,e.openElements.items[0])}function kL(e,t){e._appendCommentNode(t,e.document)}function Em(e,t){if(e.stopped=!0,t.location){const i=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=i;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],l=e.treeAdapter.getNodeSourceCodeLocation(r);if(l&&!l.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const o=e.openElements.items[1],c=e.treeAdapter.getNodeSourceCodeLocation(o);c&&!c.endTag&&e._setEndLocation(o,t)}}}}function wL(e,t){e._setDocumentType(t);const i=t.forceQuirks?Kn.QUIRKS:cL(t);oL(t)||e._err(t,K.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,i),e.insertionMode=D.BEFORE_HTML}function vl(e,t){e._err(t,K.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Kn.QUIRKS),e.insertionMode=D.BEFORE_HTML,e._processToken(t)}function ML(e,t){t.tagID===m.HTML?(e._insertElement(t,le.HTML),e.insertionMode=D.BEFORE_HEAD):Hl(e,t)}function BL(e,t){const i=t.tagID;(i===m.HTML||i===m.HEAD||i===m.BODY||i===m.BR)&&Hl(e,t)}function Hl(e,t){e._insertFakeRootElement(),e.insertionMode=D.BEFORE_HEAD,e._processToken(t)}function PL(e,t){switch(t.tagID){case m.HTML:{un(e,t);break}case m.HEAD:{e._insertElement(t,le.HTML),e.headElement=e.openElements.current,e.insertionMode=D.IN_HEAD;break}default:Fl(e,t)}}function UL(e,t){const i=t.tagID;i===m.HEAD||i===m.BODY||i===m.HTML||i===m.BR?Fl(e,t):e._err(t,K.endTagWithoutMatchingOpenElement)}function Fl(e,t){e._insertFakeElement(H.HEAD,m.HEAD),e.headElement=e.openElements.current,e.insertionMode=D.IN_HEAD,e._processToken(t)}function si(e,t){switch(t.tagID){case m.HTML:{un(e,t);break}case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:{e._appendElement(t,le.HTML),t.ackSelfClosing=!0;break}case m.TITLE:{e._switchToTextParsing(t,Lt.RCDATA);break}case m.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Lt.RAWTEXT):(e._insertElement(t,le.HTML),e.insertionMode=D.IN_HEAD_NO_SCRIPT);break}case m.NOFRAMES:case m.STYLE:{e._switchToTextParsing(t,Lt.RAWTEXT);break}case m.SCRIPT:{e._switchToTextParsing(t,Lt.SCRIPT_DATA);break}case m.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=D.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(D.IN_TEMPLATE);break}case m.HEAD:{e._err(t,K.misplacedStartTagForHeadElement);break}default:zl(e,t)}}function HL(e,t){switch(t.tagID){case m.HEAD:{e.openElements.pop(),e.insertionMode=D.AFTER_HEAD;break}case m.BODY:case m.BR:case m.HTML:{zl(e,t);break}case m.TEMPLATE:{ur(e,t);break}default:e._err(t,K.endTagWithoutMatchingOpenElement)}}function ur(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==m.TEMPLATE&&e._err(t,K.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(m.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,K.endTagWithoutMatchingOpenElement)}function zl(e,t){e.openElements.pop(),e.insertionMode=D.AFTER_HEAD,e._processToken(t)}function FL(e,t){switch(t.tagID){case m.HTML:{un(e,t);break}case m.BASEFONT:case m.BGSOUND:case m.HEAD:case m.LINK:case m.META:case m.NOFRAMES:case m.STYLE:{si(e,t);break}case m.NOSCRIPT:{e._err(t,K.nestedNoscriptInHead);break}default:jl(e,t)}}function zL(e,t){switch(t.tagID){case m.NOSCRIPT:{e.openElements.pop(),e.insertionMode=D.IN_HEAD;break}case m.BR:{jl(e,t);break}default:e._err(t,K.endTagWithoutMatchingOpenElement)}}function jl(e,t){const i=t.type===ze.EOF?K.openElementsLeftAfterEof:K.disallowedContentInNoscriptInHead;e._err(t,i),e.openElements.pop(),e.insertionMode=D.IN_HEAD,e._processToken(t)}function jL(e,t){switch(t.tagID){case m.HTML:{un(e,t);break}case m.BODY:{e._insertElement(t,le.HTML),e.framesetOk=!1,e.insertionMode=D.IN_BODY;break}case m.FRAMESET:{e._insertElement(t,le.HTML),e.insertionMode=D.IN_FRAMESET;break}case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:case m.NOFRAMES:case m.SCRIPT:case m.STYLE:case m.TEMPLATE:case m.TITLE:{e._err(t,K.abandonedHeadElementChild),e.openElements.push(e.headElement,m.HEAD),si(e,t),e.openElements.remove(e.headElement);break}case m.HEAD:{e._err(t,K.misplacedStartTagForHeadElement);break}default:Yl(e,t)}}function YL(e,t){switch(t.tagID){case m.BODY:case m.HTML:case m.BR:{Yl(e,t);break}case m.TEMPLATE:{ur(e,t);break}default:e._err(t,K.endTagWithoutMatchingOpenElement)}}function Yl(e,t){e._insertFakeElement(H.BODY,m.BODY),e.insertionMode=D.IN_BODY,Dc(e,t)}function Dc(e,t){switch(t.type){case ze.CHARACTER:{HS(e,t);break}case ze.WHITESPACE_CHARACTER:{US(e,t);break}case ze.COMMENT:{s0(e,t);break}case ze.START_TAG:{un(e,t);break}case ze.END_TAG:{Ic(e,t);break}case ze.EOF:{YS(e,t);break}}}function US(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function HS(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function qL(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function VL(e,t){const i=e.openElements.tryPeekProperlyNestedBodyElement();i&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(i,t.attrs))}function GL(e,t){const i=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&i&&(e.treeAdapter.detachNode(i),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,le.HTML),e.insertionMode=D.IN_FRAMESET)}function XL(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,le.HTML)}function QL(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&r0.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,le.HTML)}function KL(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,le.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function WL(e,t){const i=e.openElements.tmplCount>0;(!e.formElement||i)&&(e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,le.HTML),i||(e.formElement=e.openElements.current))}function $L(e,t){e.framesetOk=!1;const i=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const l=e.openElements.tagIDs[r];if(i===m.LI&&l===m.LI||(i===m.DD||i===m.DT)&&(l===m.DD||l===m.DT)){e.openElements.generateImpliedEndTagsWithExclusion(l),e.openElements.popUntilTagNamePopped(l);break}if(l!==m.ADDRESS&&l!==m.DIV&&l!==m.P&&e._isSpecialElement(e.openElements.items[r],l))break}e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,le.HTML)}function ZL(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,le.HTML),e.tokenizer.state=Lt.PLAINTEXT}function JL(e,t){e.openElements.hasInScope(m.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML),e.framesetOk=!1}function e8(e,t){const i=e.activeFormattingElements.getElementEntryInScopeWithTagName(H.A);i&&(gm(e,t),e.openElements.remove(i.element),e.activeFormattingElements.removeEntry(i)),e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function t8(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function n8(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(m.NOBR)&&(gm(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,le.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function i8(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function a8(e,t){e.treeAdapter.getDocumentMode(e.document)!==Kn.QUIRKS&&e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,le.HTML),e.framesetOk=!1,e.insertionMode=D.IN_TABLE}function FS(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,le.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function zS(e){const t=OS(e,er.TYPE);return t!=null&&t.toLowerCase()===SL}function r8(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,le.HTML),zS(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function s8(e,t){e._appendElement(t,le.HTML),t.ackSelfClosing=!0}function l8(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._appendElement(t,le.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function u8(e,t){t.tagName=H.IMG,t.tagID=m.IMG,FS(e,t)}function o8(e,t){e._insertElement(t,le.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Lt.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=D.TEXT}function c8(e,t){e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Lt.RAWTEXT)}function f8(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Lt.RAWTEXT)}function Cy(e,t){e._switchToTextParsing(t,Lt.RAWTEXT)}function d8(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===D.IN_TABLE||e.insertionMode===D.IN_CAPTION||e.insertionMode===D.IN_TABLE_BODY||e.insertionMode===D.IN_ROW||e.insertionMode===D.IN_CELL?D.IN_SELECT_IN_TABLE:D.IN_SELECT}function h8(e,t){e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML)}function m8(e,t){e.openElements.hasInScope(m.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,le.HTML)}function p8(e,t){e.openElements.hasInScope(m.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(m.RTC),e._insertElement(t,le.HTML)}function g8(e,t){e._reconstructActiveFormattingElements(),MS(t),pm(t),t.selfClosing?e._appendElement(t,le.MATHML):e._insertElement(t,le.MATHML),t.ackSelfClosing=!0}function E8(e,t){e._reconstructActiveFormattingElements(),BS(t),pm(t),t.selfClosing?e._appendElement(t,le.SVG):e._insertElement(t,le.SVG),t.ackSelfClosing=!0}function Ay(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML)}function un(e,t){switch(t.tagID){case m.I:case m.S:case m.B:case m.U:case m.EM:case m.TT:case m.BIG:case m.CODE:case m.FONT:case m.SMALL:case m.STRIKE:case m.STRONG:{t8(e,t);break}case m.A:{e8(e,t);break}case m.H1:case m.H2:case m.H3:case m.H4:case m.H5:case m.H6:{QL(e,t);break}case m.P:case m.DL:case m.OL:case m.UL:case m.DIV:case m.DIR:case m.NAV:case m.MAIN:case m.MENU:case m.ASIDE:case m.CENTER:case m.FIGURE:case m.FOOTER:case m.HEADER:case m.HGROUP:case m.DIALOG:case m.DETAILS:case m.ADDRESS:case m.ARTICLE:case m.SEARCH:case m.SECTION:case m.SUMMARY:case m.FIELDSET:case m.BLOCKQUOTE:case m.FIGCAPTION:{XL(e,t);break}case m.LI:case m.DD:case m.DT:{$L(e,t);break}case m.BR:case m.IMG:case m.WBR:case m.AREA:case m.EMBED:case m.KEYGEN:{FS(e,t);break}case m.HR:{l8(e,t);break}case m.RB:case m.RTC:{m8(e,t);break}case m.RT:case m.RP:{p8(e,t);break}case m.PRE:case m.LISTING:{KL(e,t);break}case m.XMP:{c8(e,t);break}case m.SVG:{E8(e,t);break}case m.HTML:{qL(e,t);break}case m.BASE:case m.LINK:case m.META:case m.STYLE:case m.TITLE:case m.SCRIPT:case m.BGSOUND:case m.BASEFONT:case m.TEMPLATE:{si(e,t);break}case m.BODY:{VL(e,t);break}case m.FORM:{WL(e,t);break}case m.NOBR:{n8(e,t);break}case m.MATH:{g8(e,t);break}case m.TABLE:{a8(e,t);break}case m.INPUT:{r8(e,t);break}case m.PARAM:case m.TRACK:case m.SOURCE:{s8(e,t);break}case m.IMAGE:{u8(e,t);break}case m.BUTTON:{JL(e,t);break}case m.APPLET:case m.OBJECT:case m.MARQUEE:{i8(e,t);break}case m.IFRAME:{f8(e,t);break}case m.SELECT:{d8(e,t);break}case m.OPTION:case m.OPTGROUP:{h8(e,t);break}case m.NOEMBED:case m.NOFRAMES:{Cy(e,t);break}case m.FRAMESET:{GL(e,t);break}case m.TEXTAREA:{o8(e,t);break}case m.NOSCRIPT:{e.options.scriptingEnabled?Cy(e,t):Ay(e,t);break}case m.PLAINTEXT:{ZL(e,t);break}case m.COL:case m.TH:case m.TD:case m.TR:case m.HEAD:case m.FRAME:case m.TBODY:case m.TFOOT:case m.THEAD:case m.CAPTION:case m.COLGROUP:break;default:Ay(e,t)}}function _8(e,t){if(e.openElements.hasInScope(m.BODY)&&(e.insertionMode=D.AFTER_BODY,e.options.sourceCodeLocationInfo)){const i=e.openElements.tryPeekProperlyNestedBodyElement();i&&e._setEndLocation(i,t)}}function y8(e,t){e.openElements.hasInScope(m.BODY)&&(e.insertionMode=D.AFTER_BODY,$S(e,t))}function T8(e,t){const i=t.tagID;e.openElements.hasInScope(i)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(i))}function b8(e){const t=e.openElements.tmplCount>0,{formElement:i}=e;t||(e.formElement=null),(i||t)&&e.openElements.hasInScope(m.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(m.FORM):i&&e.openElements.remove(i))}function S8(e){e.openElements.hasInButtonScope(m.P)||e._insertFakeElement(H.P,m.P),e._closePElement()}function C8(e){e.openElements.hasInListItemScope(m.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(m.LI),e.openElements.popUntilTagNamePopped(m.LI))}function A8(e,t){const i=t.tagID;e.openElements.hasInScope(i)&&(e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i))}function v8(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function x8(e,t){const i=t.tagID;e.openElements.hasInScope(i)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(i),e.activeFormattingElements.clearToLastMarker())}function N8(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(H.BR,m.BR),e.openElements.pop(),e.framesetOk=!1}function jS(e,t){const i=t.tagName,r=t.tagID;for(let l=e.openElements.stackTop;l>0;l--){const o=e.openElements.items[l],c=e.openElements.tagIDs[l];if(r===c&&(r!==m.UNKNOWN||e.treeAdapter.getTagName(o)===i)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=l&&e.openElements.shortenToLength(l);break}if(e._isSpecialElement(o,c))break}}function Ic(e,t){switch(t.tagID){case m.A:case m.B:case m.I:case m.S:case m.U:case m.EM:case m.TT:case m.BIG:case m.CODE:case m.FONT:case m.NOBR:case m.SMALL:case m.STRIKE:case m.STRONG:{gm(e,t);break}case m.P:{S8(e);break}case m.DL:case m.UL:case m.OL:case m.DIR:case m.DIV:case m.NAV:case m.PRE:case m.MAIN:case m.MENU:case m.ASIDE:case m.BUTTON:case m.CENTER:case m.FIGURE:case m.FOOTER:case m.HEADER:case m.HGROUP:case m.DIALOG:case m.ADDRESS:case m.ARTICLE:case m.DETAILS:case m.SEARCH:case m.SECTION:case m.SUMMARY:case m.LISTING:case m.FIELDSET:case m.BLOCKQUOTE:case m.FIGCAPTION:{T8(e,t);break}case m.LI:{C8(e);break}case m.DD:case m.DT:{A8(e,t);break}case m.H1:case m.H2:case m.H3:case m.H4:case m.H5:case m.H6:{v8(e);break}case m.BR:{N8(e);break}case m.BODY:{_8(e,t);break}case m.HTML:{y8(e,t);break}case m.FORM:{b8(e);break}case m.APPLET:case m.OBJECT:case m.MARQUEE:{x8(e,t);break}case m.TEMPLATE:{ur(e,t);break}default:jS(e,t)}}function YS(e,t){e.tmplInsertionModeStack.length>0?WS(e,t):Em(e,t)}function R8(e,t){var i;t.tagID===m.SCRIPT&&((i=e.scriptHandler)===null||i===void 0||i.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function O8(e,t){e._err(t,K.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function vh(e,t){if(e.openElements.currentTagId!==void 0&&PS.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=D.IN_TABLE_TEXT,t.type){case ze.CHARACTER:{VS(e,t);break}case ze.WHITESPACE_CHARACTER:{qS(e,t);break}}else mu(e,t)}function D8(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,le.HTML),e.insertionMode=D.IN_CAPTION}function I8(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,le.HTML),e.insertionMode=D.IN_COLUMN_GROUP}function L8(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(H.COLGROUP,m.COLGROUP),e.insertionMode=D.IN_COLUMN_GROUP,_m(e,t)}function k8(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,le.HTML),e.insertionMode=D.IN_TABLE_BODY}function w8(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(H.TBODY,m.TBODY),e.insertionMode=D.IN_TABLE_BODY,Lc(e,t)}function M8(e,t){e.openElements.hasInTableScope(m.TABLE)&&(e.openElements.popUntilTagNamePopped(m.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function B8(e,t){zS(t)?e._appendElement(t,le.HTML):mu(e,t),t.ackSelfClosing=!0}function P8(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,le.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function ds(e,t){switch(t.tagID){case m.TD:case m.TH:case m.TR:{w8(e,t);break}case m.STYLE:case m.SCRIPT:case m.TEMPLATE:{si(e,t);break}case m.COL:{L8(e,t);break}case m.FORM:{P8(e,t);break}case m.TABLE:{M8(e,t);break}case m.TBODY:case m.TFOOT:case m.THEAD:{k8(e,t);break}case m.INPUT:{B8(e,t);break}case m.CAPTION:{D8(e,t);break}case m.COLGROUP:{I8(e,t);break}default:mu(e,t)}}function iu(e,t){switch(t.tagID){case m.TABLE:{e.openElements.hasInTableScope(m.TABLE)&&(e.openElements.popUntilTagNamePopped(m.TABLE),e._resetInsertionMode());break}case m.TEMPLATE:{ur(e,t);break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TBODY:case m.TD:case m.TFOOT:case m.TH:case m.THEAD:case m.TR:break;default:mu(e,t)}}function mu(e,t){const i=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Dc(e,t),e.fosterParentingEnabled=i}function qS(e,t){e.pendingCharacterTokens.push(t)}function VS(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function xl(e,t){let i=0;if(e.hasNonWhitespacePendingCharacterToken)for(;i<e.pendingCharacterTokens.length;i++)mu(e,e.pendingCharacterTokens[i]);else for(;i<e.pendingCharacterTokens.length;i++)e._insertCharacters(e.pendingCharacterTokens[i]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const GS=new Set([m.CAPTION,m.COL,m.COLGROUP,m.TBODY,m.TD,m.TFOOT,m.TH,m.THEAD,m.TR]);function U8(e,t){const i=t.tagID;GS.has(i)?e.openElements.hasInTableScope(m.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=D.IN_TABLE,ds(e,t)):un(e,t)}function H8(e,t){const i=t.tagID;switch(i){case m.CAPTION:case m.TABLE:{e.openElements.hasInTableScope(m.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=D.IN_TABLE,i===m.TABLE&&iu(e,t));break}case m.BODY:case m.COL:case m.COLGROUP:case m.HTML:case m.TBODY:case m.TD:case m.TFOOT:case m.TH:case m.THEAD:case m.TR:break;default:Ic(e,t)}}function _m(e,t){switch(t.tagID){case m.HTML:{un(e,t);break}case m.COL:{e._appendElement(t,le.HTML),t.ackSelfClosing=!0;break}case m.TEMPLATE:{si(e,t);break}default:fc(e,t)}}function F8(e,t){switch(t.tagID){case m.COLGROUP:{e.openElements.currentTagId===m.COLGROUP&&(e.openElements.pop(),e.insertionMode=D.IN_TABLE);break}case m.TEMPLATE:{ur(e,t);break}case m.COL:break;default:fc(e,t)}}function fc(e,t){e.openElements.currentTagId===m.COLGROUP&&(e.openElements.pop(),e.insertionMode=D.IN_TABLE,e._processToken(t))}function Lc(e,t){switch(t.tagID){case m.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,le.HTML),e.insertionMode=D.IN_ROW;break}case m.TH:case m.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(H.TR,m.TR),e.insertionMode=D.IN_ROW,kc(e,t);break}case m.CAPTION:case m.COL:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=D.IN_TABLE,ds(e,t));break}default:ds(e,t)}}function l0(e,t){const i=t.tagID;switch(t.tagID){case m.TBODY:case m.TFOOT:case m.THEAD:{e.openElements.hasInTableScope(i)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=D.IN_TABLE);break}case m.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=D.IN_TABLE,iu(e,t));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TD:case m.TH:case m.TR:break;default:iu(e,t)}}function kc(e,t){switch(t.tagID){case m.TH:case m.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,le.HTML),e.insertionMode=D.IN_CELL,e.activeFormattingElements.insertMarker();break}case m.CAPTION:case m.COL:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:case m.TR:{e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=D.IN_TABLE_BODY,Lc(e,t));break}default:ds(e,t)}}function XS(e,t){switch(t.tagID){case m.TR:{e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=D.IN_TABLE_BODY);break}case m.TABLE:{e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=D.IN_TABLE_BODY,l0(e,t));break}case m.TBODY:case m.TFOOT:case m.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(m.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=D.IN_TABLE_BODY,l0(e,t));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TD:case m.TH:break;default:iu(e,t)}}function z8(e,t){const i=t.tagID;GS.has(i)?(e.openElements.hasInTableScope(m.TD)||e.openElements.hasInTableScope(m.TH))&&(e._closeTableCell(),kc(e,t)):un(e,t)}function j8(e,t){const i=t.tagID;switch(i){case m.TD:case m.TH:{e.openElements.hasInTableScope(i)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(i),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=D.IN_ROW);break}case m.TABLE:case m.TBODY:case m.TFOOT:case m.THEAD:case m.TR:{e.openElements.hasInTableScope(i)&&(e._closeTableCell(),XS(e,t));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:break;default:Ic(e,t)}}function QS(e,t){switch(t.tagID){case m.HTML:{un(e,t);break}case m.OPTION:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e._insertElement(t,le.HTML);break}case m.OPTGROUP:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e.openElements.currentTagId===m.OPTGROUP&&e.openElements.pop(),e._insertElement(t,le.HTML);break}case m.HR:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e.openElements.currentTagId===m.OPTGROUP&&e.openElements.pop(),e._appendElement(t,le.HTML),t.ackSelfClosing=!0;break}case m.INPUT:case m.KEYGEN:case m.TEXTAREA:case m.SELECT:{e.openElements.hasInSelectScope(m.SELECT)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),t.tagID!==m.SELECT&&e._processStartTag(t));break}case m.SCRIPT:case m.TEMPLATE:{si(e,t);break}}}function KS(e,t){switch(t.tagID){case m.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===m.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===m.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===m.OPTGROUP&&e.openElements.pop();break}case m.OPTION:{e.openElements.currentTagId===m.OPTION&&e.openElements.pop();break}case m.SELECT:{e.openElements.hasInSelectScope(m.SELECT)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode());break}case m.TEMPLATE:{ur(e,t);break}}}function Y8(e,t){const i=t.tagID;i===m.CAPTION||i===m.TABLE||i===m.TBODY||i===m.TFOOT||i===m.THEAD||i===m.TR||i===m.TD||i===m.TH?(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),e._processStartTag(t)):QS(e,t)}function q8(e,t){const i=t.tagID;i===m.CAPTION||i===m.TABLE||i===m.TBODY||i===m.TFOOT||i===m.THEAD||i===m.TR||i===m.TD||i===m.TH?e.openElements.hasInTableScope(i)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),e.onEndTag(t)):KS(e,t)}function V8(e,t){switch(t.tagID){case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:case m.NOFRAMES:case m.SCRIPT:case m.STYLE:case m.TEMPLATE:case m.TITLE:{si(e,t);break}case m.CAPTION:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:{e.tmplInsertionModeStack[0]=D.IN_TABLE,e.insertionMode=D.IN_TABLE,ds(e,t);break}case m.COL:{e.tmplInsertionModeStack[0]=D.IN_COLUMN_GROUP,e.insertionMode=D.IN_COLUMN_GROUP,_m(e,t);break}case m.TR:{e.tmplInsertionModeStack[0]=D.IN_TABLE_BODY,e.insertionMode=D.IN_TABLE_BODY,Lc(e,t);break}case m.TD:case m.TH:{e.tmplInsertionModeStack[0]=D.IN_ROW,e.insertionMode=D.IN_ROW,kc(e,t);break}default:e.tmplInsertionModeStack[0]=D.IN_BODY,e.insertionMode=D.IN_BODY,un(e,t)}}function G8(e,t){t.tagID===m.TEMPLATE&&ur(e,t)}function WS(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(m.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):Em(e,t)}function X8(e,t){t.tagID===m.HTML?un(e,t):dc(e,t)}function $S(e,t){var i;if(t.tagID===m.HTML){if(e.fragmentContext||(e.insertionMode=D.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===m.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((i=e.treeAdapter.getNodeSourceCodeLocation(r))===null||i===void 0)&&i.endTag)&&e._setEndLocation(r,t)}}else dc(e,t)}function dc(e,t){e.insertionMode=D.IN_BODY,Dc(e,t)}function Q8(e,t){switch(t.tagID){case m.HTML:{un(e,t);break}case m.FRAMESET:{e._insertElement(t,le.HTML);break}case m.FRAME:{e._appendElement(t,le.HTML),t.ackSelfClosing=!0;break}case m.NOFRAMES:{si(e,t);break}}}function K8(e,t){t.tagID===m.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==m.FRAMESET&&(e.insertionMode=D.AFTER_FRAMESET))}function W8(e,t){switch(t.tagID){case m.HTML:{un(e,t);break}case m.NOFRAMES:{si(e,t);break}}}function $8(e,t){t.tagID===m.HTML&&(e.insertionMode=D.AFTER_AFTER_FRAMESET)}function Z8(e,t){t.tagID===m.HTML?un(e,t):Vo(e,t)}function Vo(e,t){e.insertionMode=D.IN_BODY,Dc(e,t)}function J8(e,t){switch(t.tagID){case m.HTML:{un(e,t);break}case m.NOFRAMES:{si(e,t);break}}}function ek(e,t){t.chars=vt,e._insertCharacters(t)}function tk(e,t){e._insertCharacters(t),e.framesetOk=!1}function ZS(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==le.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function nk(e,t){if(EL(t))ZS(e),e._startTagOutsideForeignContent(t);else{const i=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(i);r===le.MATHML?MS(t):r===le.SVG&&(_L(t),BS(t)),pm(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function ik(e,t){if(t.tagID===m.P||t.tagID===m.BR){ZS(e),e._endTagOutsideForeignContent(t);return}for(let i=e.openElements.stackTop;i>0;i--){const r=e.openElements.items[i];if(e.treeAdapter.getNamespaceURI(r)===le.HTML){e._endTagOutsideForeignContent(t);break}const l=e.treeAdapter.getTagName(r);if(l.toLowerCase()===t.tagName){t.tagName=l,e.openElements.shortenToLength(i);break}}}H.AREA,H.BASE,H.BASEFONT,H.BGSOUND,H.BR,H.COL,H.EMBED,H.FRAME,H.HR,H.IMG,H.INPUT,H.KEYGEN,H.LINK,H.META,H.PARAM,H.SOURCE,H.TRACK,H.WBR;const ak=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,rk=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),vy={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function JS(e,t){const i=pk(e),r=AS("type",{handlers:{root:sk,element:lk,text:uk,comment:tC,doctype:ok,raw:fk},unknown:dk}),l={parser:i?new Sy(vy):Sy.getFragmentParser(void 0,vy),handle(h){r(h,l)},stitches:!1,options:t||{}};r(e,l),Cs(l,pi());const o=i?l.parser.document:l.parser.getFragment(),c=s5(o,{file:l.options.file});return l.stitches&&cm(c,"comment",function(h,p,g){const E=h;if(E.value.stitch&&g&&p!==void 0){const T=g.children;return T[p]=E.value.stitch,p}}),c.type==="root"&&c.children.length===1&&c.children[0].type===e.type?c.children[0]:c}function eC(e,t){let i=-1;if(e)for(;++i<e.length;)t.handle(e[i])}function sk(e,t){eC(e.children,t)}function lk(e,t){hk(e,t),eC(e.children,t),mk(e,t)}function uk(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const i={type:ze.CHARACTER,chars:e.value,location:pu(e)};Cs(t,pi(e)),t.parser.currentToken=i,t.parser._processToken(t.parser.currentToken)}function ok(e,t){const i={type:ze.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:pu(e)};Cs(t,pi(e)),t.parser.currentToken=i,t.parser._processToken(t.parser.currentToken)}function ck(e,t){t.stitches=!0;const i=gk(e);if("children"in e&&"children"in i){const r=JS({type:"root",children:e.children},t.options);i.children=r.children}tC({type:"comment",value:{stitch:i}},t)}function tC(e,t){const i=e.value,r={type:ze.COMMENT,data:i,location:pu(e)};Cs(t,pi(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function fk(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,nC(t,pi(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(ak,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const i=t.parser.tokenizer._consume();t.parser.tokenizer._callState(i)}}function dk(e,t){const i=e;if(t.options.passThrough&&t.options.passThrough.includes(i.type))ck(i,t);else{let r="";throw rk.has(i.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+i.type+"` node"+r)}}function Cs(e,t){nC(e,t);const i=e.parser.tokenizer.currentCharacterToken;i&&i.location&&(i.location.endLine=e.parser.tokenizer.preprocessor.line,i.location.endCol=e.parser.tokenizer.preprocessor.col+1,i.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=i,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Lt.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function nC(e,t){if(t&&t.offset!==void 0){const i={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=i}}function hk(e,t){const i=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Lt.PLAINTEXT)return;Cs(t,pi(e));const r=t.parser.openElements.current;let l="namespaceURI"in r?r.namespaceURI:Ja.html;l===Ja.html&&i==="svg"&&(l=Ja.svg);const o=b5({...e,children:[]},{space:l===Ja.svg?"svg":"html"}),c={type:ze.START_TAG,tagName:i,tagID:Ss(i),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in o?o.attrs:[],location:pu(e)};t.parser.currentToken=c,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=i}function mk(e,t){const i=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&O5.includes(i)||t.parser.tokenizer.state===Lt.PLAINTEXT)return;Cs(t,xc(e));const r={type:ze.END_TAG,tagName:i,tagID:Ss(i),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:pu(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),i===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Lt.RCDATA||t.parser.tokenizer.state===Lt.RAWTEXT||t.parser.tokenizer.state===Lt.SCRIPT_DATA)&&(t.parser.tokenizer.state=Lt.DATA)}function pk(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function pu(e){const t=pi(e)||{line:void 0,column:void 0,offset:void 0},i=xc(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:i.line,endCol:i.column,endOffset:i.offset}}function gk(e){return"children"in e?fs({...e,children:[]}):fs(e)}function Ek(e){return function(t,i){return JS(t,{...e,file:i})}}const _k=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yk=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),xy=e=>{const t=yk(e);return t.charAt(0).toUpperCase()+t.slice(1)},iC=(...e)=>e.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),Tk=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var bk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Sk=re.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:o,iconNode:c,...h},p)=>re.createElement("svg",{ref:p,...bk,width:t,height:t,stroke:e,strokeWidth:r?Number(i)*24/Number(t):i,className:iC("lucide",l),...!o&&!Tk(h)&&{"aria-hidden":"true"},...h},[...c.map(([g,E])=>re.createElement(g,E)),...Array.isArray(o)?o:[o]]));const Ht=(e,t)=>{const i=re.forwardRef(({className:r,...l},o)=>re.createElement(Sk,{ref:o,iconNode:t,className:iC(`lucide-${_k(xy(e))}`,`lucide-${e}`,r),...l}));return i.displayName=xy(e),i};const Ck=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Ak=Ht("book",Ck);const vk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xk=Ht("circle-alert",vk);const Nk=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Rk=Ht("eye-off",Nk);const Ok=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Dk=Ht("eye",Ok);const Ik=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Lk=Ht("folder-open",Ik);const kk=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],wk=Ht("pen",kk);const Mk=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Bk=Ht("play",Mk);const Pk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],u0=Ht("plus",Pk);const Uk=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Hk=Ht("refresh-cw",Uk);const Fk=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ny=Ht("rotate-ccw",Fk);const zk=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],jk=Ht("save",zk);const Yk=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],qk=Ht("scroll",Yk);const Vk=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gk=Ht("settings",Vk);const Xk=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Qk=Ht("shield",Xk);const Kk=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Wk=Ht("shopping-cart",Kk);const $k=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],Zk=Ht("skip-forward",$k);const Jk=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],ew=Ht("skull",Jk);const tw=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],nw=Ht("sword",tw);const iw=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ry=Ht("trash-2",iw);const aw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],o0=Ht("users",aw),rw="Move additional distance equal to your movement speed this turn.",sw="Your movement doesn't provoke Opportunity attacks for the rest of the turn.",lw="Until the start of your next turn, attack rolls against you have Disadvantage, and you make Dexterity saving throws with Advantage. You lose this benfit if you have the Incapacitated condition or if your Speed is 0.",uw="Help another creatures ability check or attack roll, or administer first aid.",ow="Make a Dexterity (Stealth) check.",cw="Make a Charisma (Deception, Intimidation, Performance, or Persuasion) or Wisdom (Animal Handling) check to alter a creatures attitude.",fw="Prepare to take an action in response to a trigger you define.",dw="Make a Wisdom (Insight, Medicine, Perception, or Survival) check.",hw="Make an Intelligence (Arcana, History, Investigation, Nature, or Religion) check",mw="Use a nonmagical object.",pw={Dash:rw,Disengage:sw,Dodge:lw,Help:uw,Hide:ow,Influence:cw,Ready:fw,Search:dw,Study:hw,Utilise:mw},Oy=pw,gw={0:10,.125:25,.25:50,.5:100,1:200,2:450,3:700,4:1100,5:1800,6:2300,7:2900,8:3900,9:5e3,10:5900,11:7200,12:8400,13:1e4,14:11500,15:13e3,16:15e3,17:18e3,18:2e4,19:22e3,20:25e3,21:33e3,22:41e3,23:5e4,24:62e3,25:75e3,26:9e4,27:105e3,28:12e4,29:135e3,30:155e3},Dy=e=>e!==void 0?e.toLocaleString():"N/A",Iy=e=>e>=0?`+${e}`:e.toString(),Ew=e=>({"0.125":"1/8","0.25":"1/4","0.5":"1/2"})[String(e)]??e?.toString()??"N/A";function hc(e){if(!e)return null;const t=Object.keys(Oy).map(l=>l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"));if(!t.length)return _.jsx(ry,{children:e});const i=new RegExp(`\\b(${t.join("|")})\\b`,"gi"),r=e.replace(i,l=>{const o=Oy[l];return o?`<span title="${o}" style="text-decoration:underline dotted;cursor:help;">${l}</span>`:l});return _.jsx(ry,{rehypePlugins:[Ek],components:{p:({...l})=>_.jsx("p",{style:{margin:"2px 0"},...l})},children:r})}const Ho=e=>e&&e.length?e.map((t,i)=>_.jsxs("div",{style:{marginBottom:4},children:[t.name&&_.jsx("div",{style:{fontWeight:"bold"},children:hc(t.name)}),_.jsx("div",{children:hc(t.desc)})]},i)):"None",_w=e=>{if(!e)return null;const t=["str","dex","con","int","wis","cha"];return _.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:4,marginTop:4},children:t.map(i=>{const r=e[i];return r?_.jsxs("div",{style:{border:"1px solid #999",borderRadius:4,padding:4,fontSize:"1em",textAlign:"center",background:"#f7f7f7"},children:[_.jsx("div",{style:{fontWeight:"bold"},children:i.toUpperCase()}),_.jsxs("div",{children:[r.score," (",Iy(r.mod),")"]}),_.jsxs("div",{children:["Save: ",Iy(r.save)]})]},i):null})})},Nl=({title:e,visible:t,toggle:i,children:r})=>_.jsxs("div",{style:{marginTop:4},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",cursor:"pointer",gap:4,fontWeight:"bold"},onClick:i,children:[_.jsx("span",{children:e}),t?_.jsx(Dk,{size:14}):_.jsx(Rk,{size:14})]}),_.jsx("div",{style:{height:1,backgroundColor:"#999",margin:"2px 0 2px"}}),t&&_.jsx("div",{children:r})]});function yw({monster:e}){const[t,i]=re.useState(!0),[r,l]=re.useState(!0),[o,c]=re.useState(!0),[h,p]=re.useState(!0),[g,E]=re.useState(!0),T=gw[e.challengeRating]??0,b=e.xp??T,S=Dy(b),w=Dy(e.lairXp),X=$=>$&&$.length?$.join(", "):"None";return _.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12,border:"2px solid #333",borderRadius:8,padding:8,width:"99%",fontSize:"0.75em",lineHeight:1.2,background:"#fff"},children:[e.image&&_.jsx("div",{style:{textAlign:"center",marginBottom:8},children:_.jsx("img",{src:e.image,alt:e.name,style:{maxWidth:"100%",height:"auto",borderRadius:4}})}),_.jsxs("div",{style:{display:"flex",gap:12,width:"100%"},children:[_.jsxs("div",{style:{flex:"1 1 0",display:"flex",flexDirection:"column",gap:4},children:[_.jsx("h2",{style:{margin:0,fontSize:"1.2em"},children:e.name}),_.jsxs("div",{style:{fontSize:"0.8em",opacity:.8},children:[e.size?`${e.size} `:"",e.type,e.tags?`  ${e.tags.join(", ")}`:"",e.alignment?`  ${e.alignment}`:""]}),_.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",marginTop:2},children:[_.jsxs("div",{children:[_.jsx("strong",{children:"AC:"})," ",e.armorClass??"N/A"]}),_.jsxs("div",{children:[_.jsx("strong",{children:"HP:"})," ",e.hitPoints??"N/A"," ",e.hitDice&&`(${e.hitDice})`]}),e.initiative!==void 0&&_.jsxs("div",{children:[_.jsx("strong",{children:"Init:"})," +",e.initiative,e.initiativeAverage!==void 0&&` (${e.initiativeAverage})`]})]}),_.jsxs("div",{style:{marginTop:2},children:[_.jsx("strong",{children:"CR:"})," ",Ew(e.challengeRating)," (",S,e.lairXp!==void 0&&` / ${w} in lair`,")"]}),e.speed&&_.jsxs("div",{style:{marginTop:2},children:[_.jsx("strong",{children:"Speed:"})," ",Object.entries(e.speed).filter(([,$])=>$!==null).map(([$,G])=>`${$} ${G} ft.`).join(", ")]}),_w(e.abilities),_.jsxs("div",{style:{marginTop:4},children:[e.skills&&_.jsxs("div",{children:[_.jsx("strong",{children:"Skills:"})," ",X(Object.entries(e.skills).map(([$,G])=>`${$} +${G}`))]}),e.senses&&_.jsxs("div",{children:[_.jsx("strong",{children:"Senses:"})," ",X(e.senses)]}),e.languages&&_.jsxs("div",{children:[_.jsx("strong",{children:"Languages:"})," ",X(e.languages)]}),e.immunities&&_.jsxs("div",{children:[_.jsx("strong",{children:"Immunities:"})," ",X(e.immunities)]})]}),e.traits?.length>0&&_.jsx(Nl,{title:"Traits",visible:t,toggle:()=>i(!t),children:Ho(e.traits)}),e.actions?.length>0&&_.jsx(Nl,{title:"Actions",visible:r,toggle:()=>l(!r),children:Ho(e.actions)})]}),_.jsxs("div",{style:{flex:"1 1 0",display:"flex",flexDirection:"column",gap:4},children:[e.bonusActions?.length>0&&_.jsx(Nl,{title:"Bonus Actions",visible:o,toggle:()=>c(!o),children:Ho(e.bonusActions)}),e.reactions?.length>0&&_.jsx(Nl,{title:"Reactions",visible:h,toggle:()=>p(!h),children:Ho(e.reactions)}),e.legendaryActions?.length>0&&_.jsxs(Nl,{title:"Legendary Actions",visible:g,toggle:()=>E(!g),children:[e.legendarySubtitle&&_.jsx("div",{style:{fontStyle:"italic",marginBottom:4},children:e.legendarySubtitle}),e.legendaryActions.map(($,G)=>_.jsxs("div",{style:{marginBottom:4},children:[$.name&&_.jsx("div",{style:{fontWeight:"bold"},children:hc($.name)}),_.jsx("div",{children:hc($.desc)})]},G))]})]})]})]})}function Tw(){const t=Object.values(Object.assign({"./StatBlocks/axebeak-matriarch.json":K0,"./StatBlocks/dragon-black-adult.json":W0,"./StatBlocks/goblin-minion.json":$0})).map(j=>j.default),[i,r]=re.useState(""),[l,o]=re.useState(null),[c,h]=re.useState("All"),[p,g]=re.useState("All"),[E,T]=re.useState("All"),[b,S]=re.useState("All"),[w,X]=re.useState(!1),$=re.useMemo(()=>t.filter(j=>{const ye=j.name.toLowerCase().includes(i.toLowerCase())||j.type.toLowerCase().includes(i.toLowerCase())||(j.alignment?.toLowerCase().includes(i.toLowerCase())??!1),Ae=c==="All"||j.size===c,V=p==="All"||j.challengeRating!==void 0&&j.challengeRating.toString()===p,fe=E==="All"||j.type===E,Se=b==="All"||j.alignment===b;return ye&&Ae&&V&&fe&&Se}),[i,c,p,E,b,t]),G=j=>Array.from(new Set(t.map(ye=>ye[j]).filter(Boolean))),de=Array.from(new Set(t.map(j=>j.challengeRating!==void 0?j.challengeRating.toString():null).filter(Boolean))).sort((j,ye)=>Number(j)-Number(ye));return _.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",gap:10,padding:10},children:[_.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:10,alignItems:"center",padding:"6px 10px",borderRadius:6,background:"#f5f5f5",border:"1px solid #ccc",width:"100%",boxSizing:"border-box"},children:[_.jsxs("select",{value:l?.name||"",onChange:j=>{const ye=t.find(Ae=>Ae.name===j.target.value);o(ye??null)},style:{padding:"6px 8px",borderRadius:4,minWidth:180},children:[_.jsx("option",{value:"",children:"Select Monster"}),$.map(j=>_.jsx("option",{value:j.name,children:j.name},j.name))]}),_.jsx("input",{type:"text",placeholder:"Search by name, type, alignment",value:i,onChange:j=>r(j.target.value),style:{padding:"6px 8px",borderRadius:4,flex:1,minWidth:200}}),_.jsx("button",{style:{padding:"6px 12px",borderRadius:4,cursor:"pointer"},onClick:()=>X(!w),children:w?"Hide Filters":"Show Filters"})]}),w&&_.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:10,padding:"6px 10px",borderRadius:6,background:"#fafafa",border:"1px solid #ddd"},children:[_.jsxs("select",{value:c,onChange:j=>h(j.target.value),children:[_.jsx("option",{value:"All",children:"All Sizes"}),G("size").map(j=>_.jsx("option",{value:j,children:j},j))]}),_.jsxs("select",{value:p,onChange:j=>g(j.target.value),children:[_.jsx("option",{value:"All",children:"All CRs"}),de.map(j=>_.jsx("option",{value:j??"",children:j},j??""))]}),_.jsxs("select",{value:E,onChange:j=>T(j.target.value),children:[_.jsx("option",{value:"All",children:"All Types"}),G("type").map(j=>_.jsx("option",{value:j,children:j},j))]}),_.jsxs("select",{value:b,onChange:j=>S(j.target.value),children:[_.jsx("option",{value:"All",children:"All Alignments"}),G("alignment").map(j=>_.jsx("option",{value:j,children:j},j))]})]}),_.jsx("div",{style:{display:"flex",flexDirection:"column",flex:1,gap:10,width:"100%"},children:l?_.jsxs(_.Fragment,{children:[_.jsx("div",{style:{flex:"1 1 auto",minWidth:0},children:_.jsx(yw,{monster:l})}),l.imageUrl&&_.jsx("div",{style:{textAlign:"center",marginTop:10},children:_.jsx("img",{src:l.imageUrl,alt:l.name,style:{maxWidth:"100%",height:"auto",borderRadius:4}})})]}):_.jsx("p",{children:"Select a monster from the dropdown above."})})]})}const Pi={saveCharacter:async(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},loadCharacter:async e=>{const t=localStorage.getItem(e);return t?JSON.parse(t):null},listCharacters:async()=>Object.keys(localStorage).filter(e=>e.endsWith(".json")),deleteCharacter:async e=>(localStorage.removeItem(e),!0)},Fo=[0,300,900,2700,6500,14e3,23e3,34e3,48e3,64e3,85e3,1e5,12e4,14e4,165e3,195e3,225e3,265e3,305e3,355e3];function bw(){const[e,t]=re.useState([]),[i,r]=re.useState(null),[l,o]=re.useState(!1),[c,h]=re.useState(!1),[p,g]=re.useState(""),[E,T]=re.useState("All"),[b,S]=re.useState("All"),[w,X]=re.useState("All"),$={name:"",playerName:"",species:"",class:"",party:"",level:1,currentHP:10,maxHP:10,ac:10,initiative:0,proficiency:2,stats:{str:10,dex:10,con:10,int:10,wis:10,cha:10},savingThrows:{str:0,dex:0,con:0,int:0,wis:0,cha:0},passives:{perception:10,investigation:10,insight:10},xp:0,imageUrl:""},G=x=>{for(let U=Fo.length-1;U>=0;U--)if(x>=Fo[U])return U+1;return 1},de=x=>{localStorage.setItem("characterSheets_all",JSON.stringify(x))},j=async()=>{try{const x=await Pi.listCharacters(),U=[];for(const te of x){const he=await Pi.loadCharacter(te);he&&U.push({...he,filename:te})}console.log("Reloaded characters:",U),t(U)}catch(x){console.error(x)}};re.useEffect(()=>{j();const x=()=>{console.log("Character update event received, reloading..."),setTimeout(()=>{j()},100)};window.addEventListener("characterSheetsUpdated",x);const U=te=>{te.key==="characterSheets_all"&&(console.log("Storage change detected, reloading characters..."),j())};return window.addEventListener("storage",U),()=>{window.removeEventListener("characterSheetsUpdated",x),window.removeEventListener("storage",U)}},[]),re.useEffect(()=>{de(e)},[e]);const ye=async()=>{const x=`Unnamed_${Date.now()}.json`,U={...$,filename:x};await Pi.saveCharacter(x,U),t(te=>[...te,U]),r(U.filename||null),o(!1)},Ae=async()=>{q&&(q.filename&&await Pi.deleteCharacter(q.filename),t(x=>x.filter(U=>U.filename!==q.filename)),r(null))},V=(x,U)=>{q&&t(te=>{const he=te.map(Ue=>Ue.filename===q.filename?{...Ue,[x]:U}:Ue),qe=he.find(Ue=>Ue.filename===q.filename);return q.filename&&qe&&Pi.saveCharacter(q.filename,qe),he})},fe=(x,U,te)=>{q&&t(he=>{const qe=he.map(Ct=>Ct.filename===q.filename?{...Ct,[x]:{...Ct[x],[U]:te}}:Ct),Ue=qe.find(Ct=>Ct.filename===q.filename);return q.filename&&Ue&&Pi.saveCharacter(q.filename,Ue),qe})},Se=x=>{q&&t(U=>{const te=U.map(qe=>{if(qe.filename!==q.filename)return qe;const Ue=Math.max(0,x);return{...qe,xp:Ue,level:G(Ue)}}),he=te.find(qe=>qe.filename===q.filename);return q.filename&&he&&Pi.saveCharacter(q.filename,he),te})},ve=x=>{if(!q)return;const U=Math.max(1,Math.min(x,Fo.length)),te=Fo[U-1];t(he=>{const qe=he.map(Ct=>Ct.filename===q.filename?{...Ct,level:U,xp:te}:Ct),Ue=qe.find(Ct=>Ct.filename===q.filename);return q.filename&&Ue&&Pi.saveCharacter(q.filename,Ue),qe})},xe=()=>{if(!q){alert("Please select a character first!");return}const x=new Blob([JSON.stringify(q,null,2)],{type:"application/json"}),U=URL.createObjectURL(x),te=document.createElement("a");te.href=U,te.download=`${q.name||"Unnamed"}.json`,te.click(),URL.revokeObjectURL(U)},_e=x=>{const U=x.target.files?.[0];if(!U)return;const te=new FileReader;te.onload=async he=>{try{const qe=JSON.parse(he.target?.result),Ue=`Imported_${Date.now()}.json`,Ct={...$,...qe,filename:Ue};await Pi.saveCharacter(Ue,Ct),t(Vi=>[...Vi,Ct]),r(Ct.filename||null),o(!1)}catch(qe){alert("Invalid JSON file."),console.error(qe)}},te.readAsText(U),x.target.value=""},q=e.find(x=>x.filename===i)||null,Le=x=>x>=0?`+${x}`:x.toString(),se=e.filter(x=>{const U=x.name.toLowerCase().includes(p.toLowerCase())||x.species.toLowerCase().includes(p.toLowerCase())||x.party.toLowerCase().includes(p.toLowerCase()),te=E==="All"||x.species===E,he=b==="All"||x.level.toString()===b,qe=w==="All"||x.party===w;return U&&te&&he&&qe}),ie={width:"100%",minWidth:200,maxWidth:600,margin:"0 auto",padding:20,border:"2px solid #333",borderRadius:8,background:"#fafafa",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},P={display:"flex",gap:10,flexWrap:"wrap",justifyContent:"center"},Z={flex:"1 1 45%",minWidth:120,textAlign:"center"},Te={flex:"1 1 30%",minWidth:80,textAlign:"center"},Oe={fontWeight:"bold"},O={padding:6,border:"1px solid #ccc",borderRadius:4,width:"100%"},L={padding:4,border:"1px solid #ccc",borderRadius:4,width:60,textAlign:"center"},W={fontWeight:"bold",fontSize:16,borderBottom:"1px solid #aaa",marginBottom:6,paddingBottom:4,textAlign:"center"},v={padding:"6px 12px",borderRadius:4,border:"1px solid #333",cursor:"pointer",background:"#f0f0f0",textAlign:"center",fontFamily:"inherit",fontSize:"inherit"},ge={...v,background:"#ff4d4f",color:"#fff",border:"1px solid #ff0000"},R={display:"flex",gap:10,justifyContent:"center",flexWrap:"nowrap"};return _.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",boxSizing:"border-box"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,padding:10,background:"#fafafa",borderBottom:"2px solid #333",flexWrap:"wrap"},children:[_.jsxs("select",{value:i||"",onChange:x=>r(x.target.value),style:{padding:6,borderRadius:4},children:[_.jsx("option",{value:"",children:"Select Character"}),se.map(x=>_.jsx("option",{value:x.filename,children:x.name||"Unnamed"},x.filename))]}),_.jsx("button",{style:v,onClick:()=>h(!c),children:c?"Hide Filters":"Show Filters"}),c&&_.jsxs(_.Fragment,{children:[_.jsx("input",{type:"text",placeholder:"Search",value:p,onChange:x=>g(x.target.value),style:{padding:6,borderRadius:4,border:"1px solid #ccc"}}),_.jsxs("select",{value:E,onChange:x=>T(x.target.value),style:{padding:6,borderRadius:4},children:[_.jsx("option",{value:"All",children:"All Species"}),Array.from(new Set(e.map(x=>x.species).filter(Boolean))).map(x=>_.jsx("option",{value:x,children:x},x))]}),_.jsxs("select",{value:b,onChange:x=>S(x.target.value),style:{padding:6,borderRadius:4},children:[_.jsx("option",{value:"All",children:"All Levels"}),Array.from(new Set(e.map(x=>x.level))).sort((x,U)=>x-U).map(x=>_.jsx("option",{value:x,children:x},x))]}),_.jsxs("select",{value:w,onChange:x=>X(x.target.value),style:{padding:6,borderRadius:4},children:[_.jsx("option",{value:"All",children:"All Parties"}),Array.from(new Set(e.map(x=>x.party).filter(Boolean))).map(x=>_.jsx("option",{value:x,children:x},x))]})]}),_.jsx("button",{onClick:ye,style:v,children:"Add"}),_.jsx("button",{onClick:xe,style:v,children:"Export"}),_.jsx("label",{htmlFor:"import-file",style:v,children:"Import"}),_.jsx("input",{id:"import-file",type:"file",accept:".json",style:{display:"none"},onChange:_e})]}),_.jsxs("div",{style:{display:"flex",flexGrow:1,overflow:"hidden"},children:[_.jsx("div",{style:{flex:1,padding:10,overflow:"auto",fontSize:"clamp(10px, 1.15vw, 16px)",lineHeight:1.15},children:_.jsxs("div",{style:ie,children:[!q&&_.jsx("h2",{children:"No character selected"}),q&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{style:{display:"flex",gap:20,justifyContent:"center",marginBottom:10},children:[_.jsx("button",{onClick:()=>o(!l),style:v,children:l?"Lock":"Edit"}),l&&_.jsx("button",{onClick:Ae,style:ge,children:"Delete"})]}),_.jsx("div",{style:{marginBottom:10,textAlign:"center"},children:l?_.jsx("input",{style:O,value:q.name,onChange:x=>V("name",x.target.value),placeholder:"Name"}):_.jsx("h2",{children:q.name})}),_.jsx("div",{style:{display:"flex",gap:10,marginBottom:6,textAlign:"center"},children:l?_.jsxs(_.Fragment,{children:[_.jsx("input",{style:{...O,flex:1},value:q.species,onChange:x=>V("species",x.target.value),placeholder:"Species"}),_.jsx("input",{style:{...O,flex:1},value:q.class,onChange:x=>V("class",x.target.value),placeholder:"Class"})]}):_.jsxs("div",{style:{fontStyle:"italic",width:"100%"},children:[q.species,", ",q.class]})}),_.jsx("div",{style:{display:"flex",gap:10,marginBottom:10,textAlign:"center"},children:l?_.jsxs(_.Fragment,{children:[_.jsx("input",{style:{...O,flex:1},value:q.party,onChange:x=>V("party",x.target.value),placeholder:"Party"}),_.jsx("input",{style:{...O,flex:1},value:q.playerName,onChange:x=>V("playerName",x.target.value),placeholder:"Player Name"})]}):_.jsxs("div",{style:{fontStyle:"italic",width:"100%"},children:[q.party,"  ",q.playerName]})}),_.jsx("div",{style:{marginBottom:10,textAlign:"center"},children:l?_.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:10,alignItems:"center"},children:[_.jsx("label",{style:{fontWeight:"bold"},children:"Level"}),_.jsx("input",{type:"number",style:L,value:q.level,onChange:x=>ve(Number(x.target.value))}),_.jsx("label",{style:{fontWeight:"bold"},children:"XP"}),_.jsx("input",{type:"number",style:{...L,fontStyle:"italic"},value:q.xp,onChange:x=>Se(Number(x.target.value))})]}):_.jsxs("div",{children:[_.jsxs("span",{style:{fontWeight:"bold"},children:["Level ",q.level]})," ","(",_.jsxs("span",{style:{fontStyle:"italic"},children:[q.xp.toLocaleString()," xp"]}),")"]})}),_.jsxs("div",{style:{marginBottom:10},children:[_.jsx("div",{style:W,children:"Stats Overview"}),_.jsxs("div",{style:P,children:[_.jsxs("div",{style:Z,children:[_.jsx("div",{style:Oe,children:"HP"}),l?_.jsxs("div",{style:{display:"flex",gap:6,justifyContent:"center"},children:[_.jsx("input",{type:"number",style:L,value:q.currentHP,onChange:x=>V("currentHP",Number(x.target.value))}),_.jsx("input",{type:"number",style:L,value:q.maxHP,onChange:x=>V("maxHP",Number(x.target.value))})]}):_.jsxs("div",{children:[q.currentHP,"/",q.maxHP]})]}),_.jsxs("div",{style:Z,children:[_.jsx("div",{style:Oe,children:"AC"}),l?_.jsx("input",{type:"number",style:L,value:q.ac,onChange:x=>V("ac",Number(x.target.value))}):_.jsx("div",{children:q.ac})]}),_.jsxs("div",{style:Z,children:[_.jsx("div",{style:Oe,children:"Initiative"}),l?_.jsx("input",{type:"number",style:L,value:q.initiative,onChange:x=>V("initiative",Number(x.target.value))}):_.jsx("div",{children:Le(q.initiative)})]}),_.jsxs("div",{style:Z,children:[_.jsx("div",{style:Oe,children:"Proficiency"}),l?_.jsx("input",{type:"number",style:L,value:q.proficiency,onChange:x=>V("proficiency",Number(x.target.value))}):_.jsx("div",{children:Le(q.proficiency)})]})]})]}),_.jsxs("div",{style:{marginBottom:10},children:[_.jsx("div",{style:W,children:"Stats"}),_.jsx("div",{style:P,children:["str","dex","con","int","wis","cha"].map(x=>_.jsxs("div",{style:Te,children:[_.jsx("div",{style:Oe,children:x.toUpperCase()}),l?_.jsx("input",{type:"number",style:L,value:q.stats[x],onChange:U=>fe("stats",x,Number(U.target.value))}):_.jsxs("div",{children:[q.stats[x]," (",Le(Math.floor((q.stats[x]-10)/2)),")"]})]},x))})]}),_.jsxs("div",{style:{marginBottom:10},children:[_.jsx("div",{style:W,children:"Saving Throws"}),_.jsx("div",{style:P,children:["str","dex","con","int","wis","cha"].map(x=>_.jsxs("div",{style:Te,children:[_.jsx("div",{style:Oe,children:x.toUpperCase()}),l?_.jsx("input",{type:"number",style:L,value:q.savingThrows[x],onChange:U=>fe("savingThrows",x,Number(U.target.value))}):_.jsx("div",{children:Le(q.savingThrows[x])})]},x))})]}),_.jsxs("div",{style:{marginBottom:10},children:[_.jsx("div",{style:W,children:"Passive Skills"}),_.jsx("div",{style:R,children:["perception","investigation","insight"].map(x=>_.jsxs("div",{style:Te,children:[_.jsx("div",{style:Oe,children:x.charAt(0).toUpperCase()+x.slice(1)}),l?_.jsx("input",{type:"number",style:L,value:q.passives[x],onChange:U=>fe("passives",x,Number(U.target.value))}):_.jsx("div",{children:q.passives[x]})]},x))})]})]})]})}),_.jsxs("div",{style:{width:300,padding:10,display:"flex",flexDirection:"column",alignItems:"center",flexShrink:0},children:[q?.imageUrl?_.jsx("img",{src:q.imageUrl,alt:`${q.name} portrait`,style:{maxWidth:"100%",maxHeight:"80vh",borderRadius:6,objectFit:"contain"}}):_.jsx("div",{style:{width:"100%",height:"80vh",borderRadius:6,background:"#ddd",display:"flex",justifyContent:"center",alignItems:"center",color:"#666",fontStyle:"italic"},children:"No Portrait"}),l&&_.jsx("input",{type:"text",placeholder:"Image URL",style:{marginTop:10,width:"100%",padding:6},value:q?.imageUrl||"",onChange:x=>V("imageUrl",x.target.value)})]})]})]})}const Sw={1:{low:50,moderate:75,high:150},2:{low:100,moderate:150,high:300},3:{low:150,moderate:225,high:450},4:{low:250,moderate:375,high:750},5:{low:500,moderate:750,high:1500},6:{low:600,moderate:900,high:1800},7:{low:750,moderate:1100,high:2200},8:{low:1e3,moderate:1500,high:3e3},9:{low:1250,moderate:1900,high:3800},10:{low:1500,moderate:2200,high:4400},11:{low:1800,moderate:2700,high:5400},12:{low:2100,moderate:3200,high:6400},13:{low:2500,moderate:3800,high:7600},14:{low:2900,moderate:4300,high:8600},15:{low:3300,moderate:4900,high:9800},16:{low:3750,moderate:5600,high:11200},17:{low:4500,moderate:6700,high:13400},18:{low:5e3,moderate:7500,high:15e3},19:{low:5500,moderate:8300,high:16600},20:{low:6250,moderate:9400,high:18800}},Rl={0:10,.125:25,.25:50,.5:100,1:200,2:450,3:700,4:1100,5:1800,6:2300,7:2900,8:3900,9:5e3,10:5900,11:7200,12:8400,13:1e4,14:11500,15:13e3,16:15e3,17:18e3,18:2e4,19:22e3,20:25e3,21:33e3,22:41e3,23:5e4,24:62e3,25:75e3,26:9e4,27:105e3,28:12e4,29:135e3,30:155e3},xh=e=>({"0.125":"1/8","0.25":"1/4","0.5":"1/2"})[String(e)]??e.toString();function Cw(){const t=Object.values(Object.assign({"../statBlockViewer/StatBlocks/axebeak-matriarch.json":K0,"../statBlockViewer/StatBlocks/dragon-black-adult.json":W0,"../statBlockViewer/StatBlocks/goblin-minion.json":$0})).map(R=>R.default),[i,r]=re.useState(1),[l,o]=re.useState(4),[c,h]=re.useState("moderate"),[p,g]=re.useState([]),[E,T]=re.useState(""),[b,S]=re.useState("All"),[w,X]=re.useState("All"),[$,G]=re.useState([]),[de,j]=re.useState(""),[ye,Ae]=re.useState(!1),[V,fe]=re.useState(!1),[Se,ve]=re.useState("");re.useEffect(()=>{const x=JSON.parse(localStorage.getItem("partyData")||"{}").partyCode||"";ve(x);const U=JSON.parse(localStorage.getItem("savedEncounters")||"[]");G(U)},[]),re.useEffect(()=>{if(!Se)return;const R=va(xa,`parties/${Se}/encounters`),x=Q0(R,U=>{const te=U.val();if(!te)return;const he=Object.values(te);G(he),localStorage.setItem("savedEncounters",JSON.stringify(he))});return()=>x()},[Se]);const xe=re.useMemo(()=>{const R=Sw[i];return R?{low:R.low*l,moderate:R.moderate*l,high:R.high*l}:{low:0,moderate:0,high:0}},[i,l]),_e=re.useMemo(()=>p.reduce((R,x)=>{const U=Rl[x.monster.challengeRating]||0;return R+U*x.count},0),[p]),q=re.useMemo(()=>_e===0||_e<xe.low?"trivial":_e<xe.moderate?"low":_e<xe.high?"moderate":"deadly",[_e,xe]),Le=re.useMemo(()=>t.filter(R=>{const x=R.name.toLowerCase().includes(E.toLowerCase())||R.type.toLowerCase().includes(E.toLowerCase()),U=b==="All"||R.challengeRating.toString()===b,te=w==="All"||R.type===w;return x&&U&&te}),[t,E,b,w]),se=Array.from(new Set(t.map(R=>R.challengeRating.toString()))).sort((R,x)=>Number(R)-Number(x)),ie=Array.from(new Set(t.map(R=>R.type))).sort(),P=R=>{const x=p.find(U=>U.monster.name===R.name);g(x?p.map(U=>U.monster.name===R.name?{...U,count:U.count+1}:U):[...p,{monster:R,count:1}])},Z=R=>{g(p.filter(x=>x.monster.name!==R))},Te=(R,x)=>{if(x<1){Z(R);return}g(p.map(U=>U.monster.name===R?{...U,count:x}:U))},Oe=()=>{g([])},O=R=>{switch(R){case"trivial":return"#90EE90";case"low":return"#FFD700";case"moderate":return"#FFA500";case"high":return"#FF6347";case"deadly":return"#8B0000";default:return"#ccc"}},L=()=>{const R={partyLevel:i,partySize:l,targetDifficulty:c,xpBudget:xe,totalXP:_e,currentDifficulty:q,monsters:p.map(he=>({name:he.monster.name,cr:he.monster.challengeRating,count:he.count,xpEach:Rl[he.monster.challengeRating]||0,totalXP:(Rl[he.monster.challengeRating]||0)*he.count}))},x=new Blob([JSON.stringify(R,null,2)],{type:"application/json"}),U=URL.createObjectURL(x),te=document.createElement("a");te.href=U,te.download=`encounter_lvl${i}_${q}.json`,te.click(),URL.revokeObjectURL(U)},W=()=>{if(!de.trim()){alert("Please enter a name for the encounter");return}if(p.length===0){alert("Cannot save an empty encounter");return}const R={id:Date.now().toString(),name:de.trim(),partyLevel:i,partySize:l,targetDifficulty:c,monsters:p.map(U=>({monsterName:U.monster.name,count:U.count})),totalXP:_e,difficulty:q,timestamp:Date.now()},x=[...$,R];if(G(x),localStorage.setItem("savedEncounters",JSON.stringify(x)),Se){const U=va(xa,`parties/${Se}/encounters/${R.id}`);eu(U,R).catch(te=>{console.error("Error saving to Firebase:",te)})}j(""),Ae(!1),alert(`Encounter "${R.name}" saved!`)},v=R=>{r(R.partyLevel),o(R.partySize),h(R.targetDifficulty);const x=[];R.monsters.forEach(U=>{const te=t.find(he=>he.name===U.monsterName);te&&x.push({monster:te,count:U.count})}),g(x),fe(!1),alert(`Encounter "${R.name}" loaded!`)},ge=R=>{if(!confirm("Delete this encounter?"))return;const x=$.filter(U=>U.id!==R);if(G(x),localStorage.setItem("savedEncounters",JSON.stringify(x)),Se){const U=va(xa,`parties/${Se}/encounters/${R}`);g4(U).catch(te=>{console.error("Error deleting from Firebase:",te)})}};return _.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:15,padding:20,height:"100%"},children:[_.jsx("h2",{style:{margin:0},children:"Encounter Builder (2024 DMG)"}),_.jsxs("div",{style:{display:"flex",gap:15,padding:15,background:"#f5f5f5",borderRadius:8,alignItems:"center",flexWrap:"wrap"},children:[_.jsxs("label",{children:["Party Level:"," ",_.jsx("select",{value:i,onChange:R=>r(Number(R.target.value)),children:Array.from({length:20},(R,x)=>x+1).map(R=>_.jsx("option",{value:R,children:R},R))})]}),_.jsxs("label",{children:["Party Size:"," ",_.jsx("select",{value:l,onChange:R=>o(Number(R.target.value)),children:Array.from({length:10},(R,x)=>x+1).map(R=>_.jsx("option",{value:R,children:R},R))})]}),_.jsxs("label",{children:["Target Difficulty:"," ",_.jsxs("select",{value:c,onChange:R=>h(R.target.value),children:[_.jsx("option",{value:"low",children:"Low"}),_.jsx("option",{value:"moderate",children:"Moderate"}),_.jsx("option",{value:"high",children:"High"})]})]})]}),_.jsxs("div",{style:{display:"flex",gap:10,padding:15,background:"#e8f5e9",borderRadius:8,border:"2px solid #4caf50"},children:[_.jsxs("div",{style:{flex:1},children:[_.jsx("strong",{children:"XP Budget (Low):"})," ",xe.low.toLocaleString()]}),_.jsxs("div",{style:{flex:1},children:[_.jsx("strong",{children:"XP Budget (Moderate):"})," ",xe.moderate.toLocaleString()]}),_.jsxs("div",{style:{flex:1},children:[_.jsx("strong",{children:"XP Budget (High):"})," ",xe.high.toLocaleString()]})]}),_.jsxs("div",{style:{padding:15,background:O(q),borderRadius:8,border:"2px solid #333",display:"flex",alignItems:"center",gap:10},children:[_.jsx(xk,{size:24}),_.jsxs("div",{children:[_.jsx("strong",{children:"Total XP:"})," ",_e.toLocaleString()," |"," ",_.jsx("strong",{children:"Difficulty:"})," ",q.toUpperCase()]}),_.jsxs("div",{style:{marginLeft:"auto"},children:[_.jsxs(jt,{onClick:()=>Ae(!0),children:[_.jsx(jk,{size:16,style:{marginRight:5}}),"Save Encounter"]}),_.jsxs(jt,{onClick:()=>fe(!0),style:{marginLeft:10},children:[_.jsx(Lk,{size:16,style:{marginRight:5}}),"Load Encounter"]}),_.jsx(jt,{onClick:Oe,type:"danger",style:{marginLeft:10},children:"Clear Encounter"}),_.jsx(jt,{onClick:L,style:{marginLeft:10},children:"Export JSON"})]})]}),_.jsxs("div",{style:{display:"flex",gap:15,flex:1,minHeight:0},children:[_.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:10,padding:15,background:"#fff",border:"1px solid #ccc",borderRadius:8,overflow:"hidden"},children:[_.jsx("h3",{style:{margin:0},children:"Available Monsters"}),_.jsx("input",{type:"text",placeholder:"Search monsters...",value:E,onChange:R=>T(R.target.value),style:{padding:8,borderRadius:4,border:"1px solid #ccc"}}),_.jsxs("div",{style:{display:"flex",gap:10},children:[_.jsxs("select",{value:b,onChange:R=>S(R.target.value),style:{flex:1},children:[_.jsx("option",{value:"All",children:"All CRs"}),se.map(R=>_.jsxs("option",{value:R,children:["CR ",xh(Number(R))]},R))]}),_.jsxs("select",{value:w,onChange:R=>X(R.target.value),style:{flex:1},children:[_.jsx("option",{value:"All",children:"All Types"}),ie.map(R=>_.jsx("option",{value:R,children:R},R))]})]}),_.jsx("div",{style:{flex:1,overflowY:"auto",border:"1px solid #ddd",borderRadius:4,padding:5},children:Le.map(R=>{const x=Rl[R.challengeRating]||0;return _.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 10px",borderBottom:"1px solid #eee",cursor:"pointer",transition:"background 0.2s"},onMouseEnter:U=>U.currentTarget.style.background="#f0f0f0",onMouseLeave:U=>U.currentTarget.style.background="transparent",onClick:()=>P(R),children:[_.jsxs("div",{children:[_.jsx("strong",{children:R.name}),_.jsxs("div",{style:{fontSize:"0.85em",color:"#666"},children:["CR ",xh(R.challengeRating),"  ",R.type,"  ",x.toLocaleString()," XP"]})]}),_.jsx(u0,{size:20,style:{color:"#4caf50"}})]},R.name)})})]}),_.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:10,padding:15,background:"#fff",border:"1px solid #ccc",borderRadius:8,overflow:"hidden"},children:[_.jsx("h3",{style:{margin:0},children:"Current Encounter"}),p.length===0?_.jsxs("div",{style:{textAlign:"center",color:"#999",marginTop:50},children:[_.jsx("p",{children:"No monsters added yet."}),_.jsx("p",{style:{fontSize:"0.9em"},children:"Click on monsters from the left to add them."})]}):_.jsx("div",{style:{flex:1,overflowY:"auto"},children:p.map(R=>{const x=Rl[R.monster.challengeRating]||0,U=x*R.count;return _.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,padding:10,borderBottom:"1px solid #eee",background:"#fafafa",borderRadius:4,marginBottom:5},children:[_.jsxs("div",{style:{flex:1},children:[_.jsx("strong",{children:R.monster.name}),_.jsxs("div",{style:{fontSize:"0.85em",color:"#666"},children:["CR ",xh(R.monster.challengeRating),"  ",R.monster.type]}),_.jsxs("div",{style:{fontSize:"0.85em",color:"#333"},children:[x.toLocaleString()," XP each  ",R.count," = ",U.toLocaleString()," XP"]})]}),_.jsx("input",{type:"number",value:R.count,min:1,onChange:te=>Te(R.monster.name,Number(te.target.value)),style:{width:60,padding:5,textAlign:"center"}}),_.jsx("button",{onClick:()=>Z(R.monster.name),style:{background:"transparent",border:"none",cursor:"pointer",color:"#dc2626"},children:_.jsx(Ry,{size:20})})]},R.monster.name)})})]})]}),ye&&_.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>Ae(!1),children:_.jsxs("div",{style:{background:"white",padding:30,borderRadius:8,minWidth:400,boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},onClick:R=>R.stopPropagation(),children:[_.jsx("h3",{style:{marginTop:0},children:"Save Encounter"}),_.jsxs("label",{style:{display:"block",marginBottom:15},children:["Encounter Name:",_.jsx("input",{type:"text",value:de,onChange:R=>j(R.target.value),placeholder:"e.g., Goblin Ambush",style:{width:"100%",padding:8,marginTop:5,borderRadius:4,border:"1px solid #ccc"},autoFocus:!0})]}),_.jsxs("div",{style:{display:"flex",gap:10,justifyContent:"flex-end"},children:[_.jsx(jt,{onClick:()=>Ae(!1),type:"danger",children:"Cancel"}),_.jsx(jt,{onClick:W,children:"Save"})]})]})}),V&&_.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>fe(!1),children:_.jsxs("div",{style:{background:"white",padding:30,borderRadius:8,minWidth:500,maxHeight:"80vh",overflow:"auto",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},onClick:R=>R.stopPropagation(),children:[_.jsx("h3",{style:{marginTop:0},children:"Load Saved Encounter"}),$.length===0?_.jsx("p",{style:{color:"#666",textAlign:"center",margin:"20px 0"},children:"No saved encounters yet."}):_.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:$.sort((R,x)=>x.timestamp-R.timestamp).map(R=>_.jsxs("div",{style:{padding:15,border:"1px solid #ddd",borderRadius:4,background:"#fafafa",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[_.jsxs("div",{style:{flex:1},children:[_.jsx("strong",{children:R.name}),_.jsxs("div",{style:{fontSize:"0.85em",color:"#666",marginTop:5},children:["Level ",R.partyLevel,"  ",R.partySize," players "," ",R.difficulty.toUpperCase()]}),_.jsxs("div",{style:{fontSize:"0.85em",color:"#666"},children:[R.monsters.length," monster type(s)  ",R.totalXP.toLocaleString()," XP"]}),_.jsx("div",{style:{fontSize:"0.75em",color:"#999",marginTop:3},children:new Date(R.timestamp).toLocaleString()})]}),_.jsxs("div",{style:{display:"flex",gap:10},children:[_.jsx(jt,{onClick:()=>v(R),children:"Load"}),_.jsx("button",{onClick:()=>ge(R.id),style:{background:"transparent",border:"none",cursor:"pointer",color:"#dc2626"},children:_.jsx(Ry,{size:20})})]})]},R.id))}),_.jsx("div",{style:{marginTop:20,textAlign:"right"},children:_.jsx(jt,{onClick:()=>fe(!1),children:"Close"})})]})})]})}const Aw=["Blinded","Charmed","Deafened","Frightened","Grappled","Incapacitated","Invisible","Paralyzed","Petrified","Poisoned","Prone","Restrained","Stunned","Unconscious"];function vw(){const[e,t]=re.useState([]),[i,r]=re.useState(1),[l,o]=re.useState(0),[c,h]=re.useState(!1),[p,g]=re.useState(()=>{const M=localStorage.getItem("combat_session");if(M)return M;const Ee=Math.random().toString(36).substring(2,8).toUpperCase();return localStorage.setItem("combat_session",Ee),Ee}),[E,T]=re.useState(""),[b,S]=re.useState(""),[w,X]=re.useState(!1),[$,G]=re.useState(!1),[de,j]=re.useState(!1),[ye,Ae]=re.useState(!1),[V,fe]=re.useState(""),[Se,ve]=re.useState(!1),[xe,_e]=re.useState({}),[q,Le]=re.useState(""),[se,ie]=re.useState(""),[P,Z]=re.useState([]),[Te,Oe]=re.useState([]);re.useEffect(()=>{const M=localStorage.getItem("combat_state");if(M){const Ee=JSON.parse(M);t(Ee.combatants||[]),r(Ee.round||1),o(Ee.currentIndex||0),h(Ee.combatStarted||!1)}},[]),re.useEffect(()=>{const M={combatants:e,round:i,currentIndex:l,combatStarted:c};localStorage.setItem("combat_state",JSON.stringify(M)),O(M)},[e,i,l,c,p]),re.useEffect(()=>{if(c&&e.length>0){const M=e[l];M&&M.type==="player"&&M.hp<=0&&M.deathSaves.successes<3&&M.deathSaves.failures<3&&!Se&&(Ae(!0),fe(""))}},[l,c,e,Se]),re.useEffect(()=>{try{const M=JSON.parse(localStorage.getItem("characterSheets_all")||"[]");Z(M);const Re=Object.values(Object.assign({"../statBlockViewer/StatBlocks/axebeak-matriarch.json":K0,"../statBlockViewer/StatBlocks/dragon-black-adult.json":W0,"../statBlockViewer/StatBlocks/goblin-minion.json":$0})).map(it=>it.default);Oe(Re)}catch(M){console.error("Error loading data:",M)}},[$,de]);const O=async M=>{try{(await fetch(`https://anansi-party-tracker-default-rtdb.firebaseio.com/combat/${p}/state.json`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)})).ok||console.error("Firebase sync failed")}catch(Ee){console.error("Firebase error:",Ee)}},L=()=>{if(confirm("Generate a new session code? This will disconnect current players.")){const M=Math.random().toString(36).substring(2,8).toUpperCase();localStorage.setItem("combat_session",M),g(M)}},W=()=>!c||e.length===0?e:[...e.slice(l),...e.slice(0,l)],v=M=>{const Ee={...M,id:`${Date.now()}-${Math.random()}`};t([...e,Ee])},ge=M=>{v({name:M.name,type:"player",initiative:0,initiativeBonus:M.initiative||0,hp:M.currentHP||M.maxHP,maxHp:M.maxHP,tempHp:0,ac:M.ac,conditions:[],visible:!0,deathSaves:{successes:0,failures:0},notes:""})},R=()=>{try{const M=JSON.parse(localStorage.getItem("characterSheets_all")||"[]"),Re=JSON.parse(localStorage.getItem("partyData")||"{}").partyName;if(!Re){alert("No party loaded in Party Tracker!");return}const it=M.filter(ht=>ht.party===Re);if(it.length===0){alert("No characters found for this party!");return}it.forEach(ge),alert(`Added ${it.length} party members!`)}catch(M){console.error("Error adding party:",M),alert("Failed to add party")}},x=(M,Ee,Re,it,ht,mt="monster")=>{for(let ee=0;ee<ht;ee++){const me=e.filter(Ie=>Ie.name.startsWith(M)).length+1;v({name:`${M} ${me}`,type:mt,initiative:0,initiativeBonus:it,hp:Ee,maxHp:Ee,tempHp:0,ac:Re,conditions:[],visible:mt==="ally",deathSaves:{successes:0,failures:0},notes:""})}},U=()=>{if(e.length===0){alert("Add combatants first!");return}const M={};e.forEach(Ee=>M[Ee.id]=0),_e(M),X(!0)},te=()=>{const Ee=[...e.map(Re=>({...Re,initiative:(xe[Re.id]||0)+Re.initiativeBonus}))].sort((Re,it)=>it.initiative!==Re.initiative?it.initiative-Re.initiative:it.initiativeBonus-Re.initiativeBonus);t(Ee),h(!0),o(0),r(1),X(!1),ve(!1)},he=()=>{const M=Number(V);if(!M||M<1||M>20){alert("Please enter a valid d20 roll (1-20)");return}const Ee=e[l],Re={...Ee.deathSaves};M===20?(Ue(Ee.id,{hp:1,deathSaves:{successes:0,failures:0}}),alert(`Natural 20! ${Ee.name} recovers 1 HP!`)):M===1?(Re.failures=Math.min(3,Re.failures+2),Ue(Ee.id,{deathSaves:Re}),Re.failures>=3?alert(`Natural 1! ${Ee.name} has DIED!`):alert(`Natural 1! 2 death save failures for ${Ee.name}.`)):M>=10?(Re.successes=Math.min(3,Re.successes+1),Ue(Ee.id,{deathSaves:Re}),Re.successes>=3&&alert(`${Ee.name} is stabilized at 0 HP!`)):(Re.failures=Math.min(3,Re.failures+1),Ue(Ee.id,{deathSaves:Re}),Re.failures>=3&&alert(`${Ee.name} has DIED!`)),Ae(!1),fe(""),ve(!0)},qe=()=>{let M=l+1;for(;M<e.length;){const Ee=e[M];if(!(Ee.type==="player"?Ee.hp<=0&&Ee.deathSaves.failures>=3:Ee.hp<=0))break;M++}if(M>=e.length)for(r(i+1),M=0;M<e.length;){const Ee=e[M];if(!(Ee.type==="player"?Ee.hp<=0&&Ee.deathSaves.failures>=3:Ee.hp<=0))break;M++}o(M),ve(!1)},Ue=(M,Ee)=>{t(e.map(Re=>{if(Re.id===M){const it={...Re,...Ee};return it.hp>0&&Re.hp<=0&&(it.deathSaves={successes:0,failures:0}),it}return Re}))},Ct=M=>{t(e.filter(Ee=>Ee.id!==M))},Vi=()=>{if(!E||!b)return;const M=e.find(ht=>ht.id===E);if(!M)return;let Ee=Number(b),Re=M.tempHp,it=M.hp;Re>0&&(Ee>=Re?(Ee-=Re,Re=0):(Re-=Ee,Ee=0)),Ee>0&&(it=Math.max(0,it-Ee)),M.type==="player"&&M.hp>0&&it<=0&&Ee>=M.maxHp&&alert(`WARNING: ${M.name} took massive damage! If damage exceeds max HP, they die instantly!`),Ue(E,{hp:it,tempHp:Re}),S("")},$n=()=>{if(!E||!b)return;const M=e.find(Ee=>Ee.id===E);M&&(Ue(E,{hp:Math.min(M.maxHp,M.hp+Number(b))}),S(""))},Gi=()=>{if(!E||!b)return;const M=e.find(Ee=>Ee.id===E);M&&(Ue(E,{tempHp:Math.max(M.tempHp,Number(b))}),S(""))},gi=()=>{confirm("Clear all combatants?")&&(t([]),r(1),o(0),h(!1))},or=()=>{const M=window.location.href.replace(/\/[^/]*$/,"/ct-pv.html")+`?code=${p}`;window.open(M,"_blank")},cr=(M,Ee)=>{Le(M),ie(Ee)},Ei=()=>{se.trim()&&Ue(q,{name:se.trim()}),Le(""),ie("")};return _.jsxs("div",{style:{padding:15,maxWidth:1400,margin:"0 auto"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:15},children:[_.jsx("h2",{style:{margin:0,fontSize:22},children:"Combat Tracker"}),_.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[_.jsxs("span",{style:{fontSize:13,color:"#666"},children:["Session: ",_.jsx("strong",{children:p})]}),_.jsx("button",{onClick:L,style:It,title:"Generate new session code",children:_.jsx(Hk,{size:14})}),_.jsxs("button",{onClick:or,style:It,children:[_.jsx(o0,{size:14})," Player View"]})]})]}),_.jsx("div",{style:{display:"flex",gap:8,marginBottom:15,flexWrap:"wrap",padding:12,background:"#f5f5f5",borderRadius:6,alignItems:"center"},children:c?_.jsxs(_.Fragment,{children:[_.jsxs("button",{onClick:qe,style:{...It,background:"#2196f3",color:"white"},children:[_.jsx(Zk,{size:14})," Next Turn"]}),_.jsxs("div",{style:{padding:"6px 12px",background:"#e3f2fd",borderRadius:4,fontWeight:"bold",fontSize:13},children:["Round ",i]}),_.jsx("div",{style:{width:1,height:30,background:"#ddd",margin:"0 5px"}}),_.jsxs("select",{value:E,onChange:M=>T(M.target.value),style:{padding:"5px 8px",fontSize:13,minWidth:140},children:[_.jsx("option",{value:"",children:"Select..."}),e.map(M=>_.jsx("option",{value:M.id,children:M.name},M.id))]}),_.jsx("input",{type:"number",placeholder:"Amount",value:b,onChange:M=>S(M.target.value),style:{width:70,padding:"5px 8px",fontSize:13}}),E&&_.jsxs(_.Fragment,{children:[_.jsx("button",{onClick:Vi,style:{...It,background:"#f44336",color:"white"},children:"Damage"}),_.jsx("button",{onClick:$n,style:{...It,background:"#4caf50",color:"white"},children:"Heal"}),_.jsx("button",{onClick:Gi,style:It,children:"Temp HP"}),_.jsxs("select",{value:"",onChange:M=>{if(M.target.value){const Ee=e.find(Re=>Re.id===E);Ee&&Ue(E,{conditions:[...Ee.conditions,M.target.value]})}},style:{padding:"5px 8px",fontSize:13},children:[_.jsx("option",{value:"",children:"Add Condition"}),Aw.filter(M=>{const Ee=e.find(Re=>Re.id===E);return Ee&&!Ee.conditions.includes(M)}).map(M=>_.jsx("option",{value:M,children:M},M))]}),e.find(M=>M.id===E)?.type==="monster"&&_.jsxs("label",{style:{display:"flex",alignItems:"center",gap:5,fontSize:13},children:[_.jsx("input",{type:"checkbox",checked:e.find(M=>M.id===E)?.visible,onChange:M=>Ue(E,{visible:M.target.checked})}),"Visible"]})]}),_.jsx("div",{style:{flex:1}}),_.jsx("button",{onClick:()=>h(!1),style:It,children:"End Combat"}),_.jsxs("button",{onClick:gi,style:{...It,background:"#f44336",color:"white"},children:[_.jsx(Ny,{size:14})," Clear"]})]}):_.jsxs(_.Fragment,{children:[_.jsxs("button",{onClick:()=>G(!0),style:It,children:[_.jsx(u0,{size:14})," Add Player"]}),_.jsxs("button",{onClick:R,style:It,children:[_.jsx(o0,{size:14})," Add Party"]}),_.jsxs("button",{onClick:()=>j(!0),style:It,children:[_.jsx(u0,{size:14})," Add Monster/Ally"]}),_.jsx("div",{style:{flex:1}}),_.jsxs("button",{onClick:U,style:{...It,background:"#4caf50",color:"white"},children:[_.jsx(Bk,{size:14})," Start Combat"]}),_.jsxs("button",{onClick:gi,style:{...It,background:"#f44336",color:"white"},children:[_.jsx(Ny,{size:14})," Clear"]})]})}),_.jsx("div",{children:e.length===0?_.jsx("div",{style:{textAlign:"center",padding:30,color:"#999"},children:_.jsx("p",{children:"No combatants yet. Add players and monsters to begin!"})}):W().map((M,Ee)=>{const Re=c&&Ee===0,it=M.hp<=0,ht=M.type==="player"&&it&&M.deathSaves.successes>=3;return _.jsxs("div",{style:{padding:12,marginBottom:8,border:Re?"3px solid #fbc02d":"1px solid #ddd",borderRadius:6,background:Re?"#fff9c4":"white",opacity:!M.visible&&M.type==="monster"?.6:1},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[_.jsx("div",{style:{display:"flex",alignItems:"center",gap:10,flex:1},children:q===M.id?_.jsx("input",{value:se,onChange:mt=>ie(mt.target.value),onBlur:Ei,onKeyDown:mt=>mt.key==="Enter"&&Ei(),autoFocus:!0,style:{fontSize:15,fontWeight:"bold",padding:"4px 8px",flex:1,maxWidth:300}}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[_.jsx("strong",{style:{fontSize:16},children:M.name}),M.type==="monster"&&_.jsx("button",{onClick:()=>cr(M.id,M.name),style:{background:"transparent",border:"none",cursor:"pointer",padding:2},children:_.jsx(wk,{size:12,color:"#666"})}),it&&!ht&&_.jsx(ew,{size:14}),ht&&_.jsx("span",{style:{fontSize:11,color:"#4caf50",fontWeight:"bold"},children:"STABLE"})]}),_.jsx("span",{style:{fontSize:11,color:"#666",background:M.type==="monster"?"#ffebee":M.type==="ally"?"#e8f5e9":"#e3f2fd",padding:"2px 8px",borderRadius:3},children:M.type==="player"?"Player":M.type==="ally"?"Ally":"Enemy"})]})}),_.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center",fontSize:13},children:[_.jsxs("div",{children:["HP: ",_.jsx("input",{type:"number",value:M.hp,onChange:mt=>Ue(M.id,{hp:Number(mt.target.value)}),style:{width:45,padding:3,fontSize:13}})," / ",M.maxHp]}),M.tempHp>0&&_.jsxs("div",{children:["Temp: ",M.tempHp]}),_.jsxs("div",{children:["AC: ",M.ac]}),!c&&_.jsxs(_.Fragment,{children:[M.type==="monster"&&_.jsxs("label",{style:{display:"flex",alignItems:"center",gap:5,fontSize:12},children:[_.jsx("input",{type:"checkbox",checked:M.visible,onChange:mt=>Ue(M.id,{visible:mt.target.checked})}),"Visible"]}),_.jsx("button",{onClick:()=>Ct(M.id),style:{background:"transparent",border:"none",cursor:"pointer",color:"#f44336",padding:4,fontSize:20},children:""})]})]})]}),M.conditions.length>0&&_.jsx("div",{style:{display:"flex",gap:5,flexWrap:"wrap",marginTop:8},children:M.conditions.map(mt=>_.jsxs("span",{onClick:()=>Ue(M.id,{conditions:M.conditions.filter(ee=>ee!==mt)}),style:{padding:"3px 8px",background:"#ff9800",color:"white",borderRadius:3,fontSize:11,cursor:"pointer"},children:[mt," "]},mt))}),it&&M.type==="player"&&_.jsx("div",{style:{marginTop:8,padding:8,background:"#ffebee",borderRadius:4,fontSize:12},children:_.jsxs("div",{style:{display:"flex",gap:15},children:[_.jsxs("div",{style:{flex:1},children:[_.jsx("div",{style:{marginBottom:4,fontWeight:500},children:"Successes:"}),_.jsx("div",{style:{display:"flex",gap:4},children:[1,2,3].map(mt=>_.jsx("div",{style:{width:24,height:24,borderRadius:"50%",border:"2px solid #ddd",background:mt<=M.deathSaves.successes?"#4caf50":"white"}},mt))})]}),_.jsxs("div",{style:{flex:1},children:[_.jsx("div",{style:{marginBottom:4,fontWeight:500},children:"Failures:"}),_.jsx("div",{style:{display:"flex",gap:4},children:[1,2,3].map(mt=>_.jsx("div",{style:{width:24,height:24,borderRadius:"50%",border:"2px solid #ddd",background:mt<=M.deathSaves.failures?"#f44336":"white"}},mt))})]})]})})]},M.id)})}),ye&&e[l]&&!Se&&_.jsx(zo,{onClose:()=>{},title:`Death Saving Throw - ${e[l].name}`,children:_.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[_.jsxs("p",{style:{fontSize:14,marginBottom:20,color:"#666"},children:["Roll a d20 for ",e[l].name,"'s death saving throw"]}),_.jsx("div",{style:{marginBottom:20},children:_.jsx("input",{type:"number",min:"1",max:"20",placeholder:"Roll d20",value:V,onChange:M=>fe(M.target.value),autoFocus:!0,onKeyDown:M=>M.key==="Enter"&&he(),style:{width:100,padding:12,fontSize:18,textAlign:"center",border:"2px solid #ddd",borderRadius:6}})}),_.jsxs("div",{style:{background:"#f5f5f5",padding:15,borderRadius:6,marginBottom:20,fontSize:13,textAlign:"left"},children:[_.jsx("div",{style:{fontWeight:"bold",marginBottom:8},children:"Death Save Rules:"}),_.jsxs("div",{style:{marginBottom:4},children:[" ",_.jsx("strong",{children:"10 or higher:"})," Success"]}),_.jsxs("div",{style:{marginBottom:4},children:[" ",_.jsx("strong",{children:"9 or lower:"})," Failure"]}),_.jsxs("div",{style:{marginBottom:4},children:[" ",_.jsx("strong",{children:"Natural 20:"})," Recover 1 HP"]}),_.jsxs("div",{style:{marginBottom:4},children:[" ",_.jsx("strong",{children:"Natural 1:"})," 2 Failures"]}),_.jsxs("div",{style:{marginTop:10,paddingTop:10,borderTop:"1px solid #ddd"},children:[_.jsx("strong",{children:"Current:"})," ",e[l].deathSaves.successes," successes, ",e[l].deathSaves.failures," failures"]})]}),_.jsx("button",{onClick:he,style:{...It,background:"#2196f3",color:"white",width:"100%",padding:"10px 15px",fontSize:14,justifyContent:"center"},children:"Process Roll"})]})}),w&&_.jsxs(zo,{onClose:()=>X(!1),title:"Roll Initiative",children:[e.map(M=>_.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:8,padding:8,border:"1px solid #ddd",borderRadius:4},children:[_.jsxs("div",{style:{flex:1},children:[_.jsx("strong",{style:{fontSize:14},children:M.name}),_.jsxs("div",{style:{fontSize:11,color:"#666"},children:["+",M.initiativeBonus," bonus"]})]}),_.jsx("input",{type:"number",placeholder:"d20",value:xe[M.id]||"",onChange:Ee=>_e({...xe,[M.id]:Number(Ee.target.value)}),style:{width:55,padding:5,textAlign:"center",fontSize:13}}),_.jsxs("span",{style:{width:35,fontSize:13},children:["= ",(xe[M.id]||0)+M.initiativeBonus]})]},M.id)),_.jsx("button",{onClick:te,style:{...It,background:"#4caf50",color:"white",width:"100%",marginTop:10},children:"Start Combat"})]}),$&&_.jsx(zo,{onClose:()=>G(!1),title:"Add Player",children:P.length===0?_.jsx("p",{style:{textAlign:"center",color:"#666",fontSize:13},children:"No character sheets found"}):P.map((M,Ee)=>_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:8,border:"1px solid #ddd",borderRadius:4,marginBottom:8},children:[_.jsxs("div",{children:[_.jsx("strong",{style:{fontSize:14},children:M.name}),_.jsxs("div",{style:{fontSize:11,color:"#666"},children:["HP: ",M.maxHP,"  AC: ",M.ac,"  Init: +",M.initiative||0]})]}),_.jsx("button",{onClick:()=>{ge(M),G(!1)},style:It,children:"Add"})]},Ee))}),de&&_.jsxs(zo,{onClose:()=>j(!1),title:"Add Monster or Ally",children:[_.jsxs("div",{style:{marginBottom:15},children:[_.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:14},children:"From Stat Blocks:"}),_.jsx("div",{style:{maxHeight:250,overflowY:"auto"},children:Te.map((M,Ee)=>_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:8,border:"1px solid #ddd",borderRadius:4,marginBottom:8},children:[_.jsxs("div",{children:[_.jsx("strong",{style:{fontSize:13},children:M.name}),_.jsxs("div",{style:{fontSize:11,color:"#666"},children:["HP: ",M.hitPoints,"  AC: ",M.armorClass]})]}),_.jsxs("div",{style:{display:"flex",gap:4},children:[_.jsx("button",{onClick:()=>x(M.name,M.hitPoints,M.armorClass,M.initiative||0,1,"monster"),style:{...It,fontSize:11,padding:"4px 8px"},children:"+1 Enemy"}),_.jsx("button",{onClick:()=>x(M.name,M.hitPoints,M.armorClass,M.initiative||0,1,"ally"),style:{...It,fontSize:11,padding:"4px 8px"},children:"+1 Ally"})]})]},Ee))})]}),_.jsx(xw,{onAdd:(M,Ee,Re,it,ht,mt)=>{x(M,Ee,Re,it,ht,mt),j(!1)}})]})]})}function zo({onClose:e,title:t,children:i}){return _.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:e,children:_.jsxs("div",{style:{background:"white",padding:20,borderRadius:8,minWidth:450,maxWidth:600,maxHeight:"80vh",overflow:"auto"},onClick:r=>r.stopPropagation(),children:[_.jsx("h3",{style:{marginTop:0,fontSize:16},children:t}),i,_.jsx("button",{onClick:e,style:{...It,marginTop:15},children:"Close"})]})})}function xw({onAdd:e}){const[t,i]=re.useState(""),[r,l]=re.useState(10),[o,c]=re.useState(10),[h,p]=re.useState(0),[g,E]=re.useState(1),T=b=>{t.trim()&&(e(t,r,o,h,g,b),i(""),l(10),c(10),p(0),E(1))};return _.jsxs("div",{style:{borderTop:"2px solid #ddd",paddingTop:15},children:[_.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:14},children:"Custom:"}),_.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[_.jsx("input",{value:t,onChange:b=>i(b.target.value),placeholder:"Name",style:{padding:6,fontSize:13}}),_.jsxs("div",{style:{display:"flex",gap:8},children:[_.jsx("input",{type:"number",value:r,onChange:b=>l(Number(b.target.value)),placeholder:"HP",style:{padding:6,flex:1,fontSize:13}}),_.jsx("input",{type:"number",value:o,onChange:b=>c(Number(b.target.value)),placeholder:"AC",style:{padding:6,flex:1,fontSize:13}}),_.jsx("input",{type:"number",value:h,onChange:b=>p(Number(b.target.value)),placeholder:"Init",style:{padding:6,flex:1,fontSize:13}}),_.jsx("input",{type:"number",value:g,onChange:b=>E(Number(b.target.value)),placeholder:"Count",style:{padding:6,width:55,fontSize:13}})]}),_.jsxs("div",{style:{display:"flex",gap:8},children:[_.jsx("button",{onClick:()=>T("monster"),style:{...It,flex:1},children:"Add as Enemy"}),_.jsx("button",{onClick:()=>T("ally"),style:{...It,flex:1},children:"Add as Ally"})]})]})]})}const It={display:"flex",alignItems:"center",gap:5,padding:"6px 12px",border:"1px solid #ddd",borderRadius:4,background:"white",cursor:"pointer",fontSize:13},Nw=({name:e,icon:t,active:i,onClick:r})=>_.jsxs("button",{onClick:r,style:{display:"flex",alignItems:"center",gap:6,cursor:"pointer",fontWeight:i?"bold":"normal",color:i?"#ffd700":"white",background:"transparent",border:"none",padding:"6px 10px",borderRadius:4,transition:"background-color 0.2s, color 0.3s",flexShrink:0},onMouseEnter:l=>l.currentTarget.style.backgroundColor="rgba(255,255,255,0.1)",onMouseLeave:l=>l.currentTarget.style.backgroundColor="transparent",children:[t,_.jsx("span",{children:e})]});function Rw(){const[e,t]=re.useState("Party Tracker"),[i,r]=re.useState(window.innerWidth);re.useEffect(()=>{const c=()=>r(window.innerWidth);return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const l=[{name:"Party Tracker",icon:_.jsx(o0,{size:20})},{name:"Combat Tracker",icon:_.jsx(nw,{size:20})},{name:"Encounter Builder",icon:_.jsx(qk,{size:20})},{name:"Character Sheets",icon:_.jsx(Ak,{size:20})},{name:"Stat Blocks",icon:_.jsx(Qk,{size:20})},{name:"Randomized Shops",icon:_.jsx(Wk,{size:20})},{name:"Settings",icon:_.jsx(Gk,{size:20})}],o={"Party Tracker":D4,"Combat Tracker":vw,"Encounter Builder":Cw,"Stat Blocks":Tw,"Character Sheets":bw,Settings:I4};return _.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",fontFamily:"sans-serif"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",width:i-30,maxWidth:"100%",padding:"10px 15px",backgroundColor:"#222",color:"white",gap:12,flexShrink:0},children:[_.jsx("h2",{style:{margin:0,fontSize:18,flexShrink:0},children:"Anansi - The DM Toolkit"}),_.jsx("div",{style:{display:"flex",gap:12,flexGrow:1,justifyContent:"flex-start",flexWrap:"wrap"},children:l.map(c=>_.jsx(Nw,{name:c.name,icon:c.icon,active:e===c.name,onClick:()=>t(c.name)},c.name))})]}),_.jsx("div",{style:{flex:1,display:"flex",width:i-40,overflow:"hidden",padding:20},children:_.jsx("div",{style:{flex:1,overflow:"auto",minWidth:0},children:Object.entries(o).map(([c,h])=>_.jsx("div",{style:{display:e===c?"block":"none",height:"100%"},children:_.jsx(h,{})},c))})})]})}const Ow=()=>_.jsx("div",{className:"App",children:_.jsx(Rw,{})});OA.createRoot(document.getElementById("root")).render(_.jsx(bA.StrictMode,{children:_.jsx(Ow,{})}));
